(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"00ac":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("03b2")),a=n(i("87e4")),o={components:{Wnavbar:r.default},data:function(){return{query:null,dp:null,searchData:{chapterPath:"",title:""}}},onLoad:function(t){this.searchData.chapterPath=t.chapterPath,this.searchData.title=t.title},created:function(){},methods:{initH5Video:function(){this.dp=new DPlayer({element:this.$refs.player,loop:!1,video:{pic:"",url:this.searchData.chapterPath,type:"customHls",customType:{customHls:function(t,e){var i=new a.default;i.loadSource(t.src),i.attachMedia(t)}}}}),document.querySelector("#dplayer").oncontextmenu=function(){return document.querySelector(".dplayer-menu").style.display="none",document.querySelector(".dplayer-mask").style.display="none",!1},this.dp.play()},videoErrorCallback:function(t){uni.showModal({content:t.target.errMsg,showCancel:!1})}},mounted:function(){}};e.default=o},"017f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={form:{model:function(){return{}},rules:function(){return{}},errorType:"message",borderBottom:!0,labelPosition:"left",labelWidth:45,labelAlign:"left",labelStyle:function(){return{}}}}},"01bb":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={badge:{isDot:!1,value:"",show:!0,max:999,type:"error",showZero:!1,bgColor:null,color:null,shape:"circle",numberType:"overflow",offset:function(){return[]},inverted:!1,absolute:!1}}},"020d":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniCard:i("ed92").default,"u-Image":i("84f6").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("uni-card",{attrs:{title:t.title,extra:"\u67e5\u770b\u66f4\u591a",_i:0}},[i("view",t._l(t._$s(2,"f",{forItems:t.data}),(function(e,n,r,a){return i("view",{key:t._$s(2,"f",{forIndex:r,key:t.selectType(e)}),staticClass:t._$s("2-"+a,"sc","itemBook"),attrs:{_i:"2-"+a},on:{click:function(i){return t.clickHomeItem(e)}}},[i("u--image",{attrs:{src:e.cover,radius:"10rpx",fade:!0,duration:"450",width:"110rpx",height:"170rpx",_i:"3-"+a}},[i("view",{slot:"error"})]),i("text",{staticClass:t._$s("5-"+a,"sc","uni-body"),attrs:{_i:"5-"+a}},[t._v(t._$s("5-"+a,"t0-0",t._s(e.title)))])],1)})),0)])},a=[]},"026b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={gap:{bgColor:"transparent",height:20,marginTop:0,marginBottom:0,customStyle:{}}}},"029f":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("489e")),a={name:"u-status-bar",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{}},computed:{style:function(){var t={};return t.height=uni.$u.addUnit(uni.$u.sys().statusBarHeight,"px"),t.backgroundColor=this.bgColor,uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}}};e.default=a},"0361":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={row:{gutter:0,justify:"start",align:"center"}}},"03b2":function(t,e,i){"use strict";i.r(e);var n=i("ca28"),r=i("2bb6");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"0d6abc6b",null,!1,n["a"],void 0);e["default"]=s.exports},"04b1":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(t&&!(0,r.default)(e))return(0,a.default)(t,e);return e};var r=n(i("2914")),a=n(i("7bc9"))},"0550":function(t,e,i){"use strict";i.r(e);var n=i("5099"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"062f":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={downScroll:i("23bf").default,uLoadingPage:i("17e1").default,"u-Image":i("84f6").default,uRow:i("f41f").default,uCol:i("9f7c").default,uTag:i("147f").default,uButton:i("86a5").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("downScroll",{ref:"downscroll",attrs:{_i:1},on:{downLoadFun:t.loadXHRFun}},[i("Wnavbar",{attrs:{title:"\u7ae0\u8282",_i:2}}),i("u-loading-page",{attrs:{loading:!t.chapterInfo,_i:3}}),i("view",{staticClass:t._$s(4,"sc","Chapter-class-box"),attrs:{_i:4}},[t._$s(5,"i",t.chapterInfo)?i("view",{staticClass:t._$s(5,"sc","cover-class"),attrs:{_i:5}},[i("h3",{staticClass:t._$s(6,"sc","title-class"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.routeData.name)))]),i("u--image",{attrs:{src:t.chapterInfo?t.chapterInfo.cover:"",radius:"10rpx",fade:!0,duration:"450",width:"220rpx",height:"340rpx",_i:7}},[i("view",{slot:"error"})]),i("view",{staticClass:t._$s(9,"sc","content-blurb"),attrs:{_i:9}},[i("u-row",{attrs:{customStyle:"margin-bottom: 10px",_i:10}},[i("u-col",{attrs:{span:"2",_i:11}},[i("view",{staticClass:t._$s(12,"sc","demo-layout bg-purple-light"),attrs:{_i:12}})]),i("u-col",{attrs:{span:"10",_i:13}},[i("view",{staticClass:t._$s(14,"sc","demo-layout bg-purple"),attrs:{_i:14}},[t._v(t._$s(14,"t0-0",t._s(t.chapterInfo?t.chapterInfo.author:"")))])])],1),i("u-row",{attrs:{customStyle:"margin-bottom: 10px",_i:15}},[i("u-col",{attrs:{span:"2",_i:16}},[i("view",{staticClass:t._$s(17,"sc","demo-layout bg-purple-light"),attrs:{_i:17}})]),i("u-col",{attrs:{span:"10",_i:18}},[i("view",{staticClass:t._$s(19,"sc","demo-layout bg-purple"),attrs:{_i:19}},[i("span",t._l(t._$s(21,"f",{forItems:t.chapterInfo?t.chapterInfo.typeList.split(","):[]}),(function(e,n,r,a){return i("u-tag",{key:t._$s(21,"f",{forIndex:r,key:n}),attrs:{text:e,plain:!0,size:"mini",type:"warning",_i:"21-"+a}})})),1)])])],1),i("u-row",{attrs:{customStyle:"margin-bottom: 10px",_i:22}},[i("u-col",{attrs:{span:"2",_i:23}},[i("view",{staticClass:t._$s(24,"sc","demo-layout bg-purple-light"),attrs:{_i:24}})]),i("u-col",{attrs:{span:"10",_i:25}},[i("view",{staticClass:t._$s(26,"sc","demo-layout bg-purple"),attrs:{_i:26}},[t._v(t._$s(26,"t0-0",t._s(t.chapterInfo?t.chapterInfo.descs:"")))])])],1)],1),i("view",{staticClass:t._$s(27,"sc","select-chapter-botton"),attrs:{_i:27}},[i("u-button",{attrs:{type:"primary",plain:!0,text:"\u9009\u62e9\u76ee\u5f55",_i:28},on:{click:t.clickShowfun}})],1)],1):t._e()]),i("nWpopup",{ref:"popup",attrs:{type:t.routeData.type,listData:t.chapterInfo?t.chapterInfo.chapterList:[],id:t._$s(29,"a-id",t.searchOption),name:t.routeData.name,_i:29}})],1)],1)},a=[]},"0676":function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports["default"]=t.exports},"0678":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{openType:String},methods:{onGetUserInfo:function(t){this.$emit("getuserinfo",t.detail)},onContact:function(t){this.$emit("contact",t.detail)},onGetPhoneNumber:function(t){this.$emit("getphonenumber",t.detail)},onError:function(t){this.$emit("error",t.detail)},onLaunchApp:function(t){this.$emit("launchapp",t.detail)},onOpenSetting:function(t){this.$emit("opensetting",t.detail)}}};e.default=n},"06b8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={noticeBar:{text:function(){return[]},direction:"row",step:!1,icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",speed:80,fontSize:14,duration:2e3,disableTouch:!0,url:"",linkType:"navigateTo"}}},"0739":function(t,e,i){"use strict";i.r(e);var n=i("fa26"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"083e":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),a=i("a436");function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l=function(t,e,i){var n={};return t.forEach((function(t){(0,a.isUndefined)(i[t])?(0,a.isUndefined)(e[t])||(n[t]=e[t]):n[t]=i[t]})),n};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.method||t.method||"GET",n={baseURL:t.baseURL||"",method:i,url:e.url||"",params:e.params||{},custom:s(s({},t.custom||{}),e.custom||{}),header:(0,a.deepMerge)(t.header||{},e.header||{})},r=["getTask","validateStatus"];if(n=s(s({},n),l(r,t,e)),"DOWNLOAD"===i)(0,a.isUndefined)(e.timeout)?(0,a.isUndefined)(t.timeout)||(n.timeout=t.timeout):n.timeout=e.timeout;else if("UPLOAD"===i){delete n.header["content-type"],delete n.header["Content-Type"];var o=["files","filePath","name","timeout","formData"];o.forEach((function(t){(0,a.isUndefined)(e[t])||(n[t]=e[t])})),(0,a.isUndefined)(n.timeout)&&!(0,a.isUndefined)(t.timeout)&&(n.timeout=t.timeout)}else{var u=["data","timeout","dataType","responseType","sslVerify","firstIpv4"];n=s(s({},n),l(u,t,e))}return n}},"0924":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("c973")),o=n(i("e350")),s={name:"u-grid-item",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],data:function(){return{parentData:{col:3,border:!0},classes:[]}},mounted:function(){this.init()},computed:{width:function(){return 100/Number(this.parentData.col)+"%"},itemStyle:function(){var t={background:this.bgColor,width:this.width};return uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}},methods:{init:function(){var t=this;uni.$on("$uGridItem",(function(){t.gridItemClasses()})),this.updateParentData(),uni.$emit("$uGridItem"),this.gridItemClasses()},updateParentData:function(){this.getParentData("u-grid")},clickHandler:function(){var t,e=this,i=this.name,n=null===(t=this.parent)||void 0===t?void 0:t.children;n&&null===this.name&&(i=n.findIndex((function(t){return t===e}))),this.parent&&this.parent.childClick(i),this.$emit("click",i)},getItemWidth:function(){var t=this;return(0,a.default)(r.default.mark((function e(){var i,n;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=0,!t.parent){e.next=6;break}return e.next=4,t.getParentWidth();case 4:n=e.sent,i=n/Number(t.parentData.col)+"px";case 6:t.width=i;case 7:case"end":return e.stop()}}),e)})))()},getParentWidth:function(){},gridItemClasses:function(){var t=this;if(this.parentData.border){var e=[];this.parent.children.map((function(i,n){if(t===i){var r=t.parent.children.length;(n+1)%t.parentData.col!==0&&n+1!==r&&e.push("u-border-right");var a=r%t.parentData.col===0?t.parentData.col:r%t.parentData.col;n<r-a&&e.push("u-border-bottom")}})),this.classes=e}}},beforeDestroy:function(){uni.$off("$uGridItem")}};e.default=s},"097c":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("5fb9")),a={name:"u-safe-bottom",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{safeAreaBottomHeight:0,isNvue:!1}},computed:{style:function(){return uni.$u.deepMerge({},uni.$u.addStyle(this.customStyle))}},mounted:function(){}};e.default=a},"0c0d":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uOverlay:i("af5d").default,uTransition:i("e176").default,uStatusBar:i("daa2").default,uIcon:i("be49").default,uSafeBottom:i("e1d4").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","u-popup"),attrs:{_i:0}},[t._$s(1,"i",t.overlay)?i("u-overlay",{attrs:{show:t.show,duration:t.overlayDuration,customStyle:t.overlayStyle,opacity:t.overlayOpacity,_i:1},on:{click:t.overlayClick}}):t._e(),i("u-transition",{attrs:{show:t.show,customStyle:t.transitionStyle,mode:t.position,duration:t.duration,_i:2},on:{afterEnter:t.afterEnter,click:t.clickHandler}},[i("view",{staticClass:t._$s(3,"sc","u-popup__content"),style:t._$s(3,"s",[t.contentStyle]),attrs:{_i:3},on:{click:function(e){return e.stopPropagation(),t.noop(e)}}},[t._$s(4,"i",t.safeAreaInsetTop)?i("u-status-bar",{attrs:{_i:4}}):t._e(),t._t("default",null,{_i:5}),t._$s(6,"i",t.closeable)?i("view",{staticClass:t._$s(6,"sc","u-popup__content__close"),class:t._$s(6,"c",["u-popup__content__close--"+t.closeIconPos]),attrs:{_i:6},on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[i("u-icon",{attrs:{name:"close",color:"#909399",size:"18",bold:!0,_i:7}})],1):t._e(),t._$s(8,"i",t.safeAreaInsetBottom)?i("u-safe-bottom",{attrs:{_i:8}}):t._e()],2)])],1)},a=[]},"0c1e":function(t,e,i){"use strict";i.r(e);var n=i("a66c"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"0c59":function(t,e,i){"use strict";i.r(e);var n=i("949a"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"0dc7":function(t,e,i){"use strict";i.r(e);var n=i("36d9"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"0de9":function(t,e,i){"use strict";function n(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function r(){return"string"===typeof __channelId__&&__channelId__}function a(t,e){switch(n(e)){case"Function":return"function() { [native code] }";default:return e}}function o(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];console[t].apply(console,i)}function s(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=e.shift();if(r())return e.push(e.pop().replace("at ","uni-app:///")),console[o].apply(console,e);var s=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,a)+"---END:JSON---"}catch(r){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var i=n(t).toUpperCase();t="NUMBER"===i||"BOOLEAN"===i?"---BEGIN:"+i+"---"+t+"---END:"+i+"---":String(t)}return t})),l="";if(s.length>1){var u=s.pop();l=s.join("---COMMA---"),0===u.indexOf(" at ")?l+=u:l+="---COMMA---"+u}else l=s[0];console[o](l)}i.r(e),i.d(e,"log",(function(){return o})),i.d(e,"default",(function(){return s}))},"0fb4":function(t,e,i){"use strict";i.r(e);var n=i("219d"),r=i("5565");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"4c1bd174",null,!1,n["a"],void 0);e["default"]=s.exports},"0fcf":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={gridItem:{name:null,bgColor:"transparent"}}},"0fd0":function(t,e,i){"use strict";i.r(e);var n=i("5faa"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"106f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={code:{seconds:60,startText:"\u83b7\u53d6\u9a8c\u8bc1\u7801",changeText:"X\u79d2\u91cd\u65b0\u83b7\u53d6",endText:"\u91cd\u65b0\u83b7\u53d6",keepRunning:!1,uniqueKey:""}}},"10e3":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={data:function(){return{title:"Hello"}},onLoad:function(){},methods:{}}},"111b":function(t,e,i){"use strict";i.r(e);var n=i("7d76"),r=i("7a51");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},"11b0":function(t,e){t.exports=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},"12a2":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={}},1300:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={statusBar:{bgColor:"transparent"}}},1366:function(t,e,i){"use strict";i.r(e);var n=i("7282"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"13b0":function(t,e,i){"use strict";i.r(e);var n=i("f20b"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"147f":function(t,e,i){"use strict";i.r(e);var n=i("6634"),r=i("a407");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"41bb1d57",null,!1,n["a"],void 0);e["default"]=s.exports},"14b1":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uIcon:i("be49").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.show)?i("view",{staticClass:t._$s(0,"sc","u-empty"),style:t._$s(0,"s",[t.emptyStyle]),attrs:{_i:0}},[t._$s(1,"i",!t.isSrc)?i("u-icon",{attrs:{name:"message"===t.mode?"chat":"empty-"+t.mode,size:t.iconSize,color:t.iconColor,"margin-top":"14",_i:1}}):i("image",{style:t._$s(2,"s",{width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)}),attrs:{src:t._$s(2,"a-src",t.icon),_i:2}}),i("text",{staticClass:t._$s(3,"sc","u-empty__text"),style:t._$s(3,"s",[t.textStyle]),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.text?t.text:t.icons[t.mode])))]),t._$s(4,"i",t.$slots.default||t.$slots.$default)?i("view",{staticClass:t._$s(4,"sc","u-empty__wrap"),attrs:{_i:4}},[t._t("default",null,{_i:5})],2):t._e()],1):t._e()},a=[]},"14c8":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","u-grid-item"),class:this._$s(0,"c",this.classes),style:this._$s(0,"s",[this.itemStyle]),attrs:{_i:0},on:{click:this.clickHandler}},[this._t("default",null,{_i:1})],2)},r=[]},"14f2":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={countTo:{startVal:0,endVal:0,duration:2e3,autoplay:!0,decimals:0,useEasing:!0,decimal:".",color:"#606266",fontSize:22,bold:!1,separator:""}}},1513:function(t,e,i){"use strict";var n=i("7037");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!e)return t;var i;if(r.isURLSearchParams(e))i=e.toString();else{var n=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e="".concat(e,"[]"):t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),n.push("".concat(o(e),"=").concat(o(t)))})))})),i=n.join("&")}if(i){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t};var r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var i=a(e);if(i&&i.has(t))return i.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=o?Object.getOwnPropertyDescriptor(t,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=t[s]}r.default=t,i&&i.set(t,r);return r}(i("a436"));function a(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(a=function(t){return t?i:e})(t)}function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}},1661:function(t,e,i){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var n=uni.requireGlobal();ArrayBuffer=n.ArrayBuffer,Int8Array=n.Int8Array,Uint8Array=n.Uint8Array,Uint8ClampedArray=n.Uint8ClampedArray,Int16Array=n.Int16Array,Uint16Array=n.Uint16Array,Int32Array=n.Int32Array,Uint32Array=n.Uint32Array,Float32Array=n.Float32Array,Float64Array=n.Float64Array,BigInt64Array=n.BigInt64Array,BigUint64Array=n.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/tabbar/tabbar-1/tabbar-1",(function(){return Vue.extend(i("e74f").default)})),__definePage("pages/tabbar/tabbar-2/tabbar-2",(function(){return Vue.extend(i("ad2d").default)})),__definePage("pages/tabbar/tabbar-3/tabbar-3",(function(){return Vue.extend(i("a3ca").default)})),__definePage("pages/tabbar/tabbar-4/tabbar-4",(function(){return Vue.extend(i("9ebd").default)})),__definePage("pages/tabbar/tabbar-5/tabbar-5",(function(){return Vue.extend(i("bef1").default)})),__definePage("pages/tabbar-3-detial/tabbar-3-release/tabbar-3-release",(function(){return Vue.extend(i("7dff").default)})),__definePage("pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video",(function(){return Vue.extend(i("111b").default)})),__definePage("pages/tabbar-3-detial/tabbar-3-qa/tabbar-3-qa",(function(){return Vue.extend(i("1ee2").default)})),__definePage("pageA/dataList/dataList",(function(){return Vue.extend(i("1b34").default)})),__definePage("pageB/BookContent/content",(function(){return Vue.extend(i("2bb5").default)})),__definePage("pageB/chapter/indexChapter",(function(){return Vue.extend(i("e29b").default)})),__definePage("pageB/comicContent/content",(function(){return Vue.extend(i("0fb4").default)})),__definePage("pageB/VideoContent/content",(function(){return Vue.extend(i("d0eb").default)}))},"16e1":function(t,e,i){"use strict";i.r(e);var n=i("0924"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"172b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={collapse:{value:null,accordion:!1,border:!0}}},"177d":function(t,e,i){"use strict";i.r(e);var n=i("8334"),r=i("6da9");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"ea8ffaa8",null,!1,n["a"],void 0);e["default"]=s.exports},"17e1":function(t,e,i){"use strict";i.r(e);var n=i("eb64"),r=i("7198");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"03bed71a",null,!1,n["a"],void 0);e["default"]=s.exports},"18e0":function(t,e,i){"use strict";i.r(e);var n=i("020d"),r=i("371d");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"e4826052",null,!1,n["a"],void 0);e["default"]=s.exports},"193d":function(t,e,i){"use strict";i.r(e);var n=i("ed8f"),r=i("2013");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},"19a5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={toast:{zIndex:10090,loading:!1,text:"",icon:"",type:"",loadingMode:"",show:"",overlay:!1,position:"center",params:function(){},duration:2e3,isTab:!1,url:"",callback:null,back:!1}}},"19a6":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={picker:{show:!1,showToolbar:!0,title:"",columns:function(){return[]},loading:!1,itemHeight:44,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u5b9a",cancelColor:"#909193",confirmColor:"#3c9cff",visibleItemCount:5,keyName:"text",closeOnClickOverlay:!1,defaultIndex:function(){return[]},immediateChange:!1}}},"19b8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{type:{type:String,default:uni.$u.props.text.type},show:{type:Boolean,default:uni.$u.props.text.show},text:{type:[String,Number],default:uni.$u.props.text.text},prefixIcon:{type:String,default:uni.$u.props.text.prefixIcon},suffixIcon:{type:String,default:uni.$u.props.text.suffixIcon},mode:{type:String,default:uni.$u.props.text.mode},href:{type:String,default:uni.$u.props.text.href},format:{type:[String,Function],default:uni.$u.props.text.format},call:{type:Boolean,default:uni.$u.props.text.call},openType:{type:String,default:uni.$u.props.text.openType},bold:{type:Boolean,default:uni.$u.props.text.bold},block:{type:Boolean,default:uni.$u.props.text.block},lines:{type:[String,Number],default:uni.$u.props.text.lines},color:{type:String,default:uni.$u.props.text.color},size:{type:[String,Number],default:uni.$u.props.text.size},iconStyle:{type:[Object,String],default:uni.$u.props.text.iconStyle},decoration:{type:String,default:uni.$u.props.text.decoration},margin:{type:[Object,String,Number],default:uni.$u.props.text.margin},lineHeight:{type:[String,Number],default:uni.$u.props.text.lineHeight},align:{type:String,default:uni.$u.props.text.align},wordWrap:{type:String,default:uni.$u.props.text.wordWrap}}};e.default=n},"1b34":function(t,e,i){"use strict";i.r(e);var n=i("86b8"),r=i("ce52");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"ce2f9f94",null,!1,n["a"],void 0);e["default"]=s.exports},"1ca7":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.option.src)?i("image",{staticClass:t._$s(0,"sc","mescroll-totop"),class:t._$s(0,"c",[t.isShow?"mescroll-totop-in":"mescroll-totop-out",{"mescroll-totop-safearea":t.option.safearea}]),style:t._$s(0,"s",{"z-index":t.option.zIndex,left:t.left,right:t.right,bottom:t.addUnit(t.option.bottom),width:t.addUnit(t.option.width),"border-radius":t.addUnit(t.option.radius)}),attrs:{src:t._$s(0,"a-src",t.option.src),_i:0},on:{click:t.toTopClick}}):t._e()},r=[]},"1cc7":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i){var n=i.config.validateStatus,r=i.statusCode;!r||n&&!n(r)?e(i):t(i)}},"1e5b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={calendar:{title:"\u65e5\u671f\u9009\u62e9",showTitle:!0,showSubtitle:!0,mode:"single",startText:"\u5f00\u59cb",endText:"\u7ed3\u675f",customList:function(){return[]},color:"#3c9cff",minDate:0,maxDate:0,defaultDate:null,maxCount:Number.MAX_SAFE_INTEGER,rowHeight:56,formatter:null,showLunar:!1,showMark:!0,confirmText:"\u786e\u5b9a",confirmDisabledText:"\u786e\u5b9a",show:!1,closeOnClickOverlay:!1,readonly:!1,showConfirm:!0,maxRange:Number.MAX_SAFE_INTEGER,rangePrompt:"",showRangePrompt:!0,allowSameDay:!1,round:0,monthNum:3}};e.default=n},"1e6c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={section:{title:"",subTitle:"\u66f4\u591a",right:!0,fontSize:15,bold:!0,color:"#303133",subColor:"#909399",showLine:!0,lineColor:"",arrow:!0}}},"1eda":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{ref:"u-col",staticClass:this._$s(0,"sc","u-col"),class:this._$s(0,"c",["u-col-"+this.span]),style:this._$s(0,"s",[this.colStyle]),attrs:{_i:0},on:{click:this.clickHandler}},[this._t("default",null,{_i:1})],2)},r=[]},"1ee2":function(t,e,i){"use strict";i.r(e);var n=i("919e"),r=i("345d");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},"1f81":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={datetimePicker:{show:!1,showToolbar:!0,value:"",title:"",mode:"datetime",maxDate:new Date((new Date).getFullYear()+10,0,1).getTime(),minDate:new Date((new Date).getFullYear()-10,0,1).getTime(),minHour:0,maxHour:23,minMinute:0,maxMinute:59,filter:null,formatter:null,loading:!1,itemHeight:44,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u8ba4",cancelColor:"#909193",confirmColor:"#3c9cff",visibleItemCount:5,closeOnClickOverlay:!1,defaultIndex:function(){return[]}}};e.default=n},"1fb5":function(t,e,i){"use strict";e.byteLength=function(t){var e=u(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){var e,i,n=u(t),o=n[0],s=n[1],l=new a(function(t,e,i){return 3*(e+i)/4-i}(0,o,s)),c=0,d=s>0?o-4:o;for(i=0;i<d;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===s&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,l[c++]=255&e);1===s&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,i=t.length,r=i%3,a=[],o=0,s=i-r;o<s;o+=16383)a.push(d(t,o,o+16383>s?s:o+16383));1===r?(e=t[i-1],a.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],a.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return a.join("")};for(var n=[],r=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");-1===i&&(i=e);var n=i===e?0:4-i%4;return[i,n]}function c(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function d(t,e,i){for(var n,r=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),r.push(c(n));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"1fd3":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("c973")),o=n(i("970b")),s=n(i("5bc3")),l=function(){function t(){(0,o.default)(this,t),this.config={type:"navigateTo",url:"",delta:1,params:{},animationType:"pop-in",animationDuration:300,intercept:!1},this.route=this.route.bind(this)}return(0,s.default)(t,[{key:"addRootPath",value:function(t){return"/"===t[0]?t:"/".concat(t)}},{key:"mixinParam",value:function(t,e){t=t&&this.addRootPath(t);var i="";return/.*\/.*\?.*=.*/.test(t)?(i=uni.$u.queryParams(e,!1),t+"&".concat(i)):(i=uni.$u.queryParams(e),t+i)}},{key:"route",value:function(){var t=(0,a.default)(r.default.mark((function t(){var e,i,n,a,o=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:{},i=o.length>1&&void 0!==o[1]?o[1]:{},n={},"string"===typeof e?(n.url=this.mixinParam(e,i),n.type="navigateTo"):(n=uni.$u.deepMerge(this.config,e),n.url=this.mixinParam(e.url,e.params)),n.url!==uni.$u.page()){t.next=6;break}return t.abrupt("return");case 6:if(i.intercept&&(this.config.intercept=i.intercept),n.params=i,n=uni.$u.deepMerge(this.config,n),"function"!==typeof uni.$u.routeIntercept){t.next=16;break}return t.next=12,new Promise((function(t,e){uni.$u.routeIntercept(n,t)}));case 12:a=t.sent,a&&this.openPage(n),t.next=17;break;case 16:this.openPage(n);case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"openPage",value:function(t){var e=t.url,i=(t.type,t.delta),n=t.animationType,r=t.animationDuration;"navigateTo"!=t.type&&"to"!=t.type||uni.navigateTo({url:e,animationType:n,animationDuration:r}),"redirectTo"!=t.type&&"redirect"!=t.type||uni.redirectTo({url:e}),"switchTab"!=t.type&&"tab"!=t.type||uni.switchTab({url:e}),"reLaunch"!=t.type&&"launch"!=t.type||uni.reLaunch({url:e}),"navigateBack"!=t.type&&"back"!=t.type||uni.navigateBack({delta:i})}}]),t}(),u=(new l).route;e.default=u},2013:function(t,e,i){"use strict";i.r(e);var n=i("6585"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"2013b":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","u-sticky"),style:t._$s(0,"s",[t.style]),attrs:{id:t._$s(0,"a-id",t.elId),_i:0}},[i("view",{staticClass:t._$s(1,"sc","u-sticky__content"),style:t._$s(1,"s",[t.stickyContent]),attrs:{_i:1}},[t._t("default",null,{_i:2})],2)])},r=[]},"215e":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","u-safe-bottom"),class:this._$s(0,"c",[!this.isNvue&&"u-safe-area-inset-bottom"]),style:this._$s(0,"s",[this.style]),attrs:{_i:0}})},r=[]},"219d":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uSticky:i("d096").default,uLoadingPage:i("17e1").default,uLoadmore:i("6c20").default,uRow:i("f41f").default,uCol:i("9f7c").default,uButton:i("86a5").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("u-sticky",{attrs:{customNavHeight:0,_i:1}},[i("Wnavbar",{attrs:{title:t.searchData.title,_i:2}})],1),i("u-loading-page",{attrs:{loading:!t.ComicVal,_i:3}}),t._$s(4,"i",t.ComicVal)?i("view",{staticClass:t._$s(4,"sc","video-box-class"),attrs:{_i:4}},[i("view",{},[i("scroll-view",{staticClass:t._$s(6,"sc","scroll-Y"),attrs:{_i:6},on:{scrolltoupper:t.upper}},[t._l(t._$s(7,"f",{forItems:t.onloadComicValImg}),(function(e,n,r,a){return i("image",{key:t._$s(7,"f",{forIndex:r,key:n}),attrs:{src:t._$s("7-"+a,"a-src",e),_i:"7-"+a},on:{load:t.getImg,error:t.errImg}})})),i("u-loadmore",{attrs:{status:t.loadingStatus?"loading":"nomore",loadingText:"\u7b49\u4e00\u7b49,\u672c\u7ae0\u8fd8\u5728\u52a0\u8f7d.",nomoreText:"\u6ca1\u6709\u66f4\u591a\u4e86,\u8bf7\u70b9\u51fb\u4e0b\u4e00\u7ae0.",_i:8}})],2)]),i("u-row",{attrs:{customStyle:"margin: 50rpx 0 50rpx 0",_i:9}},[i("u-col",{attrs:{span:"2",_i:10}}),i("u-col",{attrs:{span:"3",_i:11}},[i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(12,"v-show",t.upbotton.show),expression:"_$s(12,'v-show',upbotton.show)"}],attrs:{_i:12}},[i("u-button",{attrs:{type:"primary",size:"small",text:"\u4e0a\u4e00\u7ae0",_i:13},on:{click:function(e){return t.bottonClick(1)}}})],1)]),i("u-col",{attrs:{span:"2",_i:14}}),i("u-col",{attrs:{span:"3",_i:15}},[i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(16,"v-show",t.downbotton.show),expression:"_$s(16,'v-show',downbotton.show)"}],attrs:{_i:16}},[i("u-button",{attrs:{type:"primary",size:"small",text:"\u4e0b\u4e00\u7ae0",_i:17},on:{click:function(e){return t.bottonClick(2)}}})],1)]),i("u-col",{attrs:{span:"2",_i:18}})],1)],1):t._e()],1)},a=[]},"222a":function(t,e,i){"use strict";i.r(e);var n=i("ab13"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},2236:function(t,e,i){var n=i("5a43");t.exports=function(t){if(Array.isArray(t))return n(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},"228a":function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("177d")),a=n(i("741f")),o=n(i("9b5a")),s={name:"nwpopup",props:["type","listData","id","name"],data:function(){return{show:!1,list:{}}},components:{wlist:r.default,uniList:a.default,uniListItem:o.default},watch:{listData:{handler:function(t,e){var i=JSON.parse(JSON.stringify(t));"book"==this.type||"comic"==this.type||"video"==this.type?this.list=this.reloadbooklistData(i,100):this.list=i},deep:!0}},onLoad:function(t){},methods:{open:function(){this.show=!0},close:function(){this.show=!1},reloadbooklistData:function(e,i){var n={},r=1;while(e.length>i){var a=e.splice(0,i);n["".concat(r,"-").concat(r+99)]={},n["".concat(r,"-").concat(r+99)].val=a,n["".concat(r,"-").concat(r+99)].state="close",r+=100}var o=r+e.length-1;if(e.length<100&&e.length>0){var s=e.splice(0,e.length);n["".concat(r,"-").concat(o)]={},n["".concat(r,"-").concat(o)].val=s,n["".concat(r,"-").concat(o)].state="close"}return t("log",n," at components/Wpopup/nwpopup.nvue:96"),n},selectClickChapter:function(t){var e;"video"==this.type&&(e="/pageB/VideoContent/content?chapterPath=".concat(t.chapterPath,"&title=").concat(this.name)),"book"==this.type&&(e="/pageB/BookContent/content?chapterId=".concat(t.chapterId,"&title=").concat(t.title,"&id=").concat(this.id.fictionId)),"comic"==this.type&&(e="/pageB/comicContent/content?chapterId=".concat(t.chapterId,"&title=").concat(t.title,"&id=").concat(this.id.cartoonId)),uni.navigateTo({url:e})},opencollapse:function(e){t("log","open",e," at components/Wpopup/nwpopup.nvue:117")},closecollapse:function(t){},changecollapse:function(e){var i=this;t("log","change",e," at components/Wpopup/nwpopup.nvue:123"),e.forEach((function(t){Object.values(i.list)[t.name].state=t.status,"open"==t.status&&i.$nextTick((function(){i.$refs.collapseHeight[t.name].setContentAnimate()}))}))}},mounted:function(){}};e.default=s}).call(this,i("0de9")["default"])},"23bf":function(t,e,i){"use strict";i.r(e);var n=i("fac8"),r=i("82db");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"00bd4a52",null,!1,n["a"],void 0);e["default"]=s.exports},"23de":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b14c").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-searchbar"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-searchbar__box"),style:t._$s(1,"s",{borderRadius:t.radius+"px",backgroundColor:t.bgColor}),attrs:{_i:1},on:{click:t.searchClick}},[i("view",{staticClass:t._$s(2,"sc","uni-searchbar__box-icon-search"),attrs:{_i:2}},[t._t("searchIcon",[i("uni-icons",{attrs:{color:"#c0c4cc",size:"18",type:"search",_i:4}})],{_i:3})],2),t._$s(5,"i",t.show||t.searchVal)?i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:t._$s(5,"sc","uni-searchbar__box-search-input"),attrs:{focus:t._$s(5,"a-focus",t.showSync),disabled:t._$s(5,"a-disabled",t.readonly),placeholder:t._$s(5,"a-placeholder",t.placeholderText),maxlength:t._$s(5,"a-maxlength",t.maxlength),_i:5},domProps:{value:t._$s(5,"v-model",t.searchVal)},on:{confirm:t.confirm,blur:t.blur,focus:t.emitFocus,input:function(e){e.target.composing||(t.searchVal=e.target.value)}}}):i("text",{staticClass:t._$s(6,"sc","uni-searchbar__text-placeholder"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.placeholder)))]),t._$s(7,"i",t.show&&("always"===t.clearButton||"auto"===t.clearButton&&""!==t.searchVal)&&!t.readonly)?i("view",{staticClass:t._$s(7,"sc","uni-searchbar__box-icon-clear"),attrs:{_i:7},on:{click:t.clear}},[t._t("clearIcon",[i("uni-icons",{attrs:{color:"#c0c4cc",size:"20",type:"clear",_i:9}})],{_i:8})],2):t._e()]),t._$s(10,"i","always"===t.cancelButton||t.show&&"auto"===t.cancelButton)?i("text",{staticClass:t._$s(10,"sc","uni-searchbar__cancel"),attrs:{_i:10},on:{click:t.cancel}},[t._v(t._$s(10,"t0-0",t._s(t.cancelTextI18n)))]):t._e()])},a=[]},"246e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={noNetwork:{tips:"\u54ce\u5440\uff0c\u7f51\u7edc\u4fe1\u53f7\u4e22\u5931",zIndex:"",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABLKADAAQAAAABAAABLAAAAADYYILnAABAAElEQVR4Ae29CZhkV3kefNeq6m2W7tn3nl0aCbHIAgmQPGB+sLCNzSID9g9PYrAf57d/+4+DiW0cy8QBJ06c2In/PLFDHJ78+MGCGNsYgyxwIwktwEijAc1ohtmnZ+2Z7p5eq6vu9r/vuXWrq25VdVV1V3dXVX9Hmj73nv285963vvOd75yraeIEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQaD8E9PbrkvRopSMwMBBYRs+5O/yJS68cPnzYXel4tFP/jXbqjPRFEAiCQNe6Bw/6gdFn9Oy9Q90LLG2DgBBW2wyldIQIPPPCte2a5q3jtR+4ff/4wuBuXotrDwSEsNpjHKUXQODppy+udYJMEUEZgbd94DvnNwlA7YGAEFZ7jOOK78Xp06eTTkq7sxwQhmXuf/754VXl4iSstRAQwmqt8ZLWlkHg0UcD49qYfUjXfLtMtOZ7npExJu4iqZWLl7DWQUAIq3XGSlpaAYHD77q8xwuCOSUoXw8Sl0eMux977DGzQjES3AIICGG1wCBJEysj8PXnz230XXdr5RQFMYbRvWnv6w8UhMhliyGwYghr4Pjg3oEXL34ey9zyC9tiD2ml5h47dr1LN7S6CMjz/A3PvHh1Z6UyJby5EVgRhKUe7Kz/JU0LfvrJo5f+Y3MPibSuFgQGBgasYSd9l6GDsup0WS/T/9RTp9fXmU2SNwECdQ92E7S57iaMeJnPQLK6ixkDLfjlb7546RfrLkQyNBcC3dsP6oHWMd9G+V3JgwPHh7rnm1/yLQ8CbU9Y33zp0j+nZFUMb/DHmB7+SHGY3LUKAk8cObtD00xlHDrfNge+Z2ozU3c9dvx4Yr5lSL6lR6CtCWvg6OAPw9z538ZhhZRl6XrwhW8du1KX/iNejtwvPQIDR8+vSRqJ/obU7GupjdNdh2gW0ZDypJBFR6BtB2rg2OVtuub9JcmpHIpBoK1xfffLzx4f7C0XL2HNiYDp6bs9z23Ypn1fC1Y/9PCFDc3ZW2lVHIG2JKzTp4Ok7nv/G6Q054MIvda+bNb74pEgKGtwGAdL7pcfAa8vOKEZ2kyjWuLr7uDh+/qvN6o8KWdxEWhLwroyeek/g4zuqwU6kNrhyZcu/UktaSXN8iNwuL9/RuvVXtJ9PbPQ1vhmcP6t9+47u9ByJP/SIdB2hDVw9MJHQFYfrQdCph84evFX68kjaZcPAZJWwjMXRFpJ2zr91tfuvrh8vZCa54NA2xGWrunvmg8QWCJ/N4ir7fCYDxatkOeBB7an501agXbygVdvv9IK/ZQ2FiPQdi9osGbH+zRNf7y4m9Xu9Me7N9nv0HXdr5ZS4psHgXpJC9P/wDRTx0Vn1TxjWG9LGrbaUm/Fi5meSvcrkxf/Cg/ow9XqAUk91v3qHT97r6471dJKfHMi8Oyzgx1Z03t1YAQVT2MwgsC3u+yXHzi0faQ5eyGtqgWBtpOw2Ol9+/TM+sTOn8L08MtzgQCy+tOHXr3jA0JWc6HU/HF5Scssr4jXcYqfP6V/T8iq+ceyWgvbUsKKOn38eJAYyl56TAuCEr2WYei//9Crd/5GlFb81kdASVopSFrerKRlaoZj9HR+700H10+0fg+lB21NWBxe2lhNHsUpDZr27mi4dV379R9+za4/iO7Fbx8ECknLCPTsTDJ17O33bJpqnx6u7J60PWFxeAcCbMV56dJfQKf1bkMLfuGh1+76zMoe9vbuPUnLsb2DtmOe5HSxvXsrvWtLBEhaTx29+Ma27Jx0ShAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQaEsEVoQdVluO3BJ06ptHL34b1XRjp4Ch6Rq24+kmjG4Nwwg+9uA9u/73EjRBqhAEihAoe3xwUQq5WTYEzp0b3ZnV/Ncf6O/9AvY9wlh/6dy3X7ncN512Zw9BVLXjuAP4np44vnQtkZoEgVkEhLBmsWiKqwsXpjbPBOn3gRfenwnc+7GBe+zsjclvonFDS9nA9Iy/u3x9+vAP3735VPk4CRUEFhcBIazFxbfm0k9fHD7k+v4nQFaPQIrx8Gmyx/GJ0J/t7ez7mw0b9MmaC2pQQgh0/ZSm4g5TwueWWtqLt0HuVy4CQljLPPYnB0depTn+b3t+8B4t0AdBUv93h2H9xc6da0aXs2m+r1WQsLRnl7NdUvfKRkAIa5nG//r1oGtsZvjTgev/kqYHF/TA+AXoqv4npJemOEiQU1Eo2l+G0movBK1UBBPU7s9E1+ILAkuNgKwSLjXiqO/khVtvARH8dxDBRkMzPrF/V+9/BlG5y9CUqlXinHv9mRPXtvuus88L9H3JPv2zD2yXExCqAicJBIFWRwAvv3Xqwq0/Pnn+lv/K+ZvfPH3p9p5W75O0fxaBp793ce3AwIDMWmYhafiVgNtwSMsXeHp4eNXJC8Nf0PAdRCiuf/XgrnWUqsqotcvnl9DmRkCdweX4b9N7+m/ih+mbMraLM14yJVwcXItKpT1VRve+ArC3Qqn+3gM7132jKEGZm6tXg86J7OhDfuA/iHwPUpfUZSfu2L59tXxEoQxeyxkEgjKeOnLxHb4RqC+NY5H3+2953d4XlrNN7Vq3ENYij+yZwbG9jpt9GkBPQ5H9zgP9607OVeWp87cOQtn9zwJf+xDMNFfj+jryPqXpxj8c2Nn7P+SXey70lidu4IXzb0DNB4tr9751+HV7zxSHyd1CERDCWiiCc+QPjUCnsaqmZ62O5IN7N/VUNP48ee7mAZDTf4Tt049iUG4Guv4ZfNLos9UIbo7qJWoJEHjy+bP7fNsoOcnW0A0/aacef8PdG28sQTNWTBVCWIs01OfPj66BpfqTmq732UnjgT1bei+Vq4pTv7HM8Ceg2/o1qLQug7T+FaaM3IqTLZdewpoHgYEjV9fphvOj+OShWa5V+CxvZtpzv/LwG/aNl4uXsPoRwI+4uEYjAJ2GmdG8L0FK2mYa+tsrkdXZy+P7x2ZuHdW14P+BLdank9q6Qwd3rf+ckFWjR6Tx5Q2cP58K9Jm3VCIr1ogt48lO237r3//96YofeG18y9q7RFklXITxPXV+5DchKb3ZDMy37Nu5tuxG4R9cHH6b42QfAzlds+3EPXu2rfrBIjRFilwkBIIR7SHoJDurFU89ZOd680Gke6JaWomvjoBIWNUxqivFD87fej0e0n8Fwvr0/t1rnyqX+QfnRz7g+8FX8Rv8vL3auF/IqhxKzR2WCPxXqKeq3krDTdj2ierpJEUtCIgOqxaUakwzNBR0D09yiqePHOjveyOkpxLr9VMXb73V97S/h3nDXx7Y2fdPkAYbncW1IgIDxy5vM7LZt/hgrnLtxyaBrJNxv/72N+6tuNhSLp+EVUZACKsyNnXHvHL+1qcgNf2KbSXu2bt9dcmS9qlzo/fARgcmCtpzB3b1/Vg5QiuslLowENyDWDn8cSjl98PgdBviu03N+rl9/WufLEwr18uDwLdevLTF1YK3xnVZ2HI1bUxrT7z5zTuXdRP78qCyeLUKYTUI25OXbm4JPO00TBj+6I7+db8ZL3ZwMOiYdG4dA1lN9HWte2iuI2NAVPapC8O/CGPR34Ip/AZIbIMo7yX8G9QMbcS09P+2b1vf5XgdrXaPfiYns9oeLLEd8D1/B7Dp0E1jGP042pXQj7RKf546cmGzp+tv1TRf6YQD35/QO3seP3xow5IfC9QqmM23naJ0ny9ysXwgq98BWc0kVhv/Nhalbqe8kd/Fr8MOSEr3zEVWrwyO3I29hl+E9LUHGf+nAXI6sGPdd8uV2YphIKnE5IyL6bLxk7cn3bdkHHefrpvJAExMZ1uBZmqeNzXtfzUzk/m/ens7LjV7Px+8d9e1579/44l0duZtge+Np5zEEw8c2pBu9na3YvtEwmrAqNE8IZvNHsep5//yjl3r/0O8yFOXbv0QCO05gP0JGIL+fjw+uj91YeRh/Dp/PtCDM7Zpfmjvjt6Xo7hW9ycmJjaYduf7Hdf/8HTGfa3rG9rYxLSWnsloPg7fijZV8oFM2Ja2a9t6EJd7bCztvHP7us4rrdD/r3/7ct9I99jEI4cOiQ3dIg2YEFYDgOUJDFj1e8TqX7cT4kImXuQr5279A4DeBEX8ayvprU4N3rovcALot/TH13T0fXDTJn0qXk4r3k9OTm4y7a6PzjjORzOOvn1kbEqbnEprPhRzwAKzwFLHk05hv6Yd6N+o3R6beG50aPSdr3qV6IJKkVp5ITIlXOCYn4Yexr0w/DO6YXymHFlR0e5r7tsM3fxgJbI6fW1ivTeT+SsYmr54cFff+5Cu5X+hb94Merp6/J/PusGvTE6724eGJ7RpSFOkKPCUZvBPBccoHBet3Rwe13rX9tw/PjXzZ5hKvr8SfhWKkeA2REAIa4GD6p0feRdWBnvxjv2PckVhVfBf4A29uG/X2i+Ui2eYn8n8NryuDr3jPfWSFV5k44UT137eshIP2K7/64cObbheqZ6lCp+Ydt8TBO7vTM5od1+/NR4SFVhoLpKKt410lnE8LTMzo3V2dLznxLkhYgQ9obiVjEDln7mVjEodfYcpw+MAsftg/7qSDbAnb97sCSb0Yei2fqOcbovVqKNnNO8HmAE9Cv3Wp+uoWjt27HpXNqH9WTKR+kBHKqEFbvo5y3N/avfu4g23R45f3WGa1k9ZicTd0zPTf/f6O7f8dT311Jp2fHzmgJlI/N70jPPe4bEZ6Kg4qw0lqlrLiNKBiLWerpTW25PUbkPXZViW62ecHz+4d8PXojTirzwEyhq8rTwYFtRjvpX/rlwJ+iSXugPbMuyKBOHo3geRJtuT7PujcmVUCuPJlhnL/9NUqvMD2eyM5sxMaIlE4n7XML907tyNjcxHQjty4sZv66Z1xEok/xNW5n4uZSf+8sT5m++vVO58wkEu5sR09pd9w/rWyET2vReujiqygrSopn/zKZN5qMeirotKeTyolm7p/+X06Wvr51ue5Gt9BISwFjiGsLl6N6SrvylXDNTK70D4mX071pwtF88w6Jd/DG/1E1u26NOV0pQL71y3/8PJVOcHMzPTWkcCH2YGOaTTaS2RTN6f1fQvvvDK1bdnbO2JZCr1SeRfn05Pa1PTU0gXJBKW+ecnzlxvCGndhFQ1NRP8bcY1/vjS9bF1V26MwHwsVKiXa3etYVw1TNhYJ3TDjQCO42jJVMcez7J+t9YyJF37ISCEtahjGjxkGDr2DJZ31D8h5vUQJL5RPkXlUMM07u3qSGidICvkzzuSlmlZb0olrK9hD9v9JCrPC196JoPMAolFg6CV+PPj54YeyWecx8Vk2v1Q0rSfhFT18LnBmzBRyNalp5qrSuq7kiAsh4SFa7oZ9M0wzI+cPHOjZPo9V1kS1z4ICGEt4lhiCvZrSa2jol7qzPXJPk6nIGbVbWfUvcr7hO9MP97ZVXpggOu6ajplYStj7l1XvbRMXbPAbp6HzSSBlkraNknrvfVCcPt2sHYi7f3pTDb47KUbYxuvKqkKpYBXKBnV869c3WgbDEixAck0FGFFfEzJzbIsO9C1TyrcymWWsLZGIHoW2rqTzdo5dXyykz0NC8l779i5vu4zwM+eHVntGP5jqVTq/6AkVc5NZ3wNH2lVxNWZNIukMSjiNd9z0+CHp5DXAdX4SAg203w8GB5IATtODHzdK8C15kEjhXvNS9rWA11dnfcMDY9prscss48RySakrOLWqODCoIKAgkuVgsS0urtD60haeV1YYVbbtjUn6/74HXvW/11huFy3PwKzT1r797Upe3jq4sib9u9Y+wxe+vh7W1N7jx49v6ZzbffnQD4/Cj1Pfjx54XiBls6GVuTUc9mQsOIO9mPQFdkIRlz4fy5JLm2ZMOqTcJaXIqpcqnixVe+rdbZ3dbc2OT0D0wZIibHSksmklslknvx+//q3PiKnXcTQae/b+LPQ3r1t0969cOL6G7o6E09qgZegdMJBpVQ1DbKCpyUt6oPKz/4NEJalCAuZFIuEVBJd+jgLh4rvAiFqUVGkhJZMWFp3Z0obGSu/d5gSnWmavuO6h+/cvYHSobgVgoAYjrb4QPMUiGtj1/79jBMkLBwiTlMASlYzTkhWCJyTrGAyMOFkst/BoYMmuIIyGJYcMXMMdNwHPhYN1qWS1t6ZLGaKZL8yzFXTr15BooLLMugHMBRNKgW+It8y9TEcJGt4rvcRFCCEVQbFdg0Swmrxkb0+cf2XOzq73kgdFieEXF2jdEUJKQH6SVWQrNjtZDKlpTPp38U58iUbthk/Ph7sN6zg/xudSGvD4xkq6otcnnjyF0XRRTflkyC0IIJE1JG0QbqGNpMNp5xFhRTcZDNoj66988SFm5vv3LX+WkGUXLYxAuXnCW3c4XbqGs9hwjv+a9lsuN+ahOJSCoLjNDAFvVUll0p1aNPp6adTweSflEszPO48oFn+4yOTmR+6enOshKyYhzWpf/jDuuf6x2aV/qNRaPG/1d0gUXWCA0uu7GhMmkqmerEc8KOVU0lMuyFQ+Ylut562YX9Sncmf7Ojo3BDZWbGLtMkiUVXSWTFNuMqWuYG530f7+/tnGFboxsfdd9mm8XdDo9O7rg6NFq0CFqZr5DWlK9qV0fZqGvZchSuPlevB2VmG/hOV4yWm3RAQwmrhEcW64qu4ykfJho52Vp3J8quBYQooqWDKADftBd6HD+5efyoKj/zR8ew/hWXY56/cnFh7a3RCTTGjuMX0SVB9qzu1qfQM+jO3dBW1g6uVSHv/qVNX10Vh4rc3AkJYLTy+WA/8ou9kJjo7bOh+DLVFZ64TEbCyBktxI5PJZj56R//Gx+NdH5vM4vuI+p8NXh9LjU1iw3EZhXc8TyPuuV9wDaaCfBjTM06N0hVWQmHBDzvSDZ5tvqYR7ZAymh8BIazmH6OKLbzv0KZvJEz3ZzEFnEolaEtV2XEaCLKadrIz//TQnk1/EU85NuH8th8Yf4j9gMZUOrNkZEVZCnsbtTU9KW18GqcKFyjh420sd2+j33pg3F8uTsLaDwEhrBYf04O7N/2t7/o/C2FoGnsIy/YGlvAwSfCvZzLOe+8oR1ZT3u/5uvHJC9dGtJlMrfqjslXVHwjpat2aLi2rjFFLjUSrFUjlO0juddXSSXx7ICCE1QbjiHO0/hofbPgwpnDTOR2V6hWNQqGUx34890noet5yaO+Gko3Y45PO7/uB/lvnrwxrWdha1absbgxo1FWtwplXqYSJY5Nn5lU3bLHQmGA/yko0plVSSjMjIITVzKNTR9sO7dv8RSeb/T9BWmMkKv4D+YzBXuljV7yxd+zfte6VeHGKrHTz4+cv38JWmyUmKzSGG5z7VndoE7kz3uPtq+Welvhwm39weVjOyaoFsBZPI4TV4gNY2Pw79mz8KyebeRIH+VEZTaX0sf27+v794TKmCxNTzr/2NOPj5wZBVjjdYSklq6jN69dyKuhqmWztivYob+RTSkPbe/xMdlMUJn77IiCE1W5jq+s4dYEO6mzsYAmvi/+CrH7LDYxPcBq4HGTFVcG1ULLT5orS1ULIkoSFI2cMHKG8obiXcteOCAhhtdmo6gaOh4EWWlkyYU9gvHswXfgV19d/7+LVkSWfBrItJJhObL/p7elQR8fUZnEV70XxPc01sM+xrzhU7toRgZIHuh07uZL6xA3LBaYB+Ar8rBsfz34YX1j+D5eu317QNGy2xPquSE4mDuXb2IujY2AgytNE67RiKFshzuwCR5s9ZSMlsK0QEMJqq+GkBKOF5yFzRoidK5BoFCeMjM/8mG+a//Xy0Li55KYLBRiTrGjwOQ1br4VMBQuKVJeQKVPxMLlvPwSEsNpsTEECmBLSgbHUpwD1YGwse59l2p+9fmuig4fiNZIowrqq/6Xeqm9Vh9JbjcOKvqFtACX7gV8kTVZvkaRoRQSEsFpx1OZoM2iKxxuHLtDcsZlgLzYZfv7m7XSv+r7fIm234XSP/8o5ktWqzqSyZr89PoXPYDTYkZvziw0NLluKayoEyq4iNVULpTF1IaDjHHZmoAW4aep9geN8fiLt998cGYdtVp7K6iqzXGJFUCAi7jdkuapsBJKcPBwgyP8YRyV7B04Q3dDbpY3jg6gupoMNla5U41BbUN9n0sr1ScKaHwEhrOYfo7paCAW0WiWknihhW/0Tabf/6tDtxpIVSIhGnz1dSXUkDL8fSHKi4/lWPId9Kp3Vxqegp8J/m9f14D6DQ/nmb281FwgkZ1Dj7bnSSFx7ICCE1R7jmO8FJJr8jCvjeNrIxFjDJBpKVaSlXhwDw384MyucBoLAGEfHI5ptO6n1YAq4FjorH9IWjUOnFlF3pj62aui3whbI33ZGQAir/UY3XCVEvzgdw/8NcSyGUhSlpVWQrFg2p39xp0JYLyIohaXxdZ2FGofG6yi85/QS32F0Asu8URgu1+2JgCjd22xcsVElPC85169Gaa1YTkRWJKpSqooBiQQzONvq9sRULKKxtzzAEJw1api2EFZjoW3K0oSwmnJY5tcoSD09HanEDztubnfO/IopyUWC6sUmZUpW5aSqkgwgK04DxxaZrFivacCaIdAuH9zaM1rSDgloOwSEsNpoSMenvU93dXb+EE5taFivKElRqd67qrNmsqIF+yjMF/i56MV2JqadYKxXMDXM6+4Wu04pf/kQEMJaPuwbWvPticwj4Il/NnTrdl7JrqaDC5wTUle1GmdWWVCw1+JotjA6PgnThsIdQrXknF8arkJi/+R355dbcrUaArU9ha3WqxXW3tHR9C5dN//T9eEJ3aGdUwP7T0V7F86Mr0VW4mF6o2NTS/ilaB2HDmb8wA2+08AuS1FNjIAQVhMPTi1NgwRkGKbxRxMz3uaJSRzVUkumOtLwo6Zc7aOkVdEhynN9NQ1cyuNqeEqD67mX9TXGyxXbJhFthYAQVosP58S0909czfqJqzdGODVqaG/IUbCWr2p0yukfp4FUtDfeir1yl8IPUGjPHFy/fqJyKolpJwSEsFp4NEfT6Z3YBvOp8MvMc0hAi9hHNQ1cBrJil5TUZxhfXsTuSdFNhoAQVpMNSD3NMTzzU1PZYAM/ProYkg3UV5rHT8lXmA7SwnwEq4FLLVkRI04HM+n0LdvzvlEPZpK2tREQwmrR8ZucCd7hePr7rw2N5PfxLUZXON1zHKz4kb0KnIttP6Njk8tyaimbwXPrsW/yq3v3bhoqaJZctjkCQlgtOMCYCnU4GedTI+NpQ32XbxH7QOmKG5nzdIWZJz8HNkKygqI9TmSL2JSiovGVn0A39c8WBcpN2yMghNWCQ4zPc0HRbr6GEs6chJFnmfl3knZO4/hmII1B6fiFG9br0s6qAeXPp2WUrhzHeXH/jr6n5pNf8rQuAkJYLTZ2kK7Wul7w6zeGx9DyUsZovOodOizosTg1TM9k1Wogpa7lIisOF+w48E/7E5B1Y/cgtdizsBKbK6c1tNioT6X9n3MDcyePOo7OoJqrC6S0+ZIYV+GSOHxvc18PJCxXG4ed13I727axqTp9yk9rX1jutkj9S4+ASFhLj/m8axwdDdbgELxfGsLpoZyqVXPVU1QugVJUV0dC27p+FaaBWWxknq6ceAljTNMiAf/BoUMbJpewWqmqSRAQCatJBqKWZpgJ731Zx9pJM4aK0hXe5vlKVFEbKFlxs3PvqpSSqpbzKztRm+gnEkktnU6/2GFMfa4wXK5XDgJCWC0y1iAR6/Z49iOjY7C5qkG6mk+3SFQGlEP8FFdnygrNFqBsn1OxP5+K5pGHbcBhqhT8fqu/v39mHkVIljZAQAirRQYx7Wj3Zj3tddQjVVJ4l50CMjHe8mqOTJCCvmoTyIrENXx7Uinbm4Gs2PZUqkObnp76i0N7N36tWl8kvn0RaGnCGhgILKPn3B3+xKVXDh8+nPseX3sOlpt13+P4uonv71WeDqLr1ampFB8S1JrulNaHc9rTMxltcpofOeWns0rTLkeIZUHRnpm5YibMf7kc9UudzYNAyyrd8ZLpWvfgQT8w+oyevXeo++bBtaEtQd9s1/ffRsV3I6eDJCp+nourgH04UZQnhIYfWm1o8xdUGCU8/E/bil89sH3dlQUVJplbHoGWJaxnXri2HTvd1nEEcCBS3z++MLi75UejQgcmJjL92ax/gNJPo6QekhVXAbdvXI3D+XQ1Bcxiu02zTAEjKFIdHTQS/S8Hd2/4YhQm/spFoCUJ6+mnL651gkwRQRmBt33gO+c3teNQYin/oG6aKX5rcKEukqqoWN+Ij5vy81v8UATDG0WGC21jlJ96K6wKPpWd8H8jChN/ZSPQcoR1+vTppJPS7iw3bIZl7n/++eFV5eJaOczX9Z2YvM1LPxWpocBHKv8qHHdMqSphGUqqahaThfj40ITBcbLnsDj6oXvu2bS4n96JVy73TYtASxHWo48GxrUx+5Cu+XY5RH3PMzLGxF0ktXLxrRoGNVPPfNtOolIrgElLGYH2wbZqcipdIFVFlDbfGhqfj9bskCaHHS/7gTt3r73Y+BqkxFZFoKUI6/C7Lu/Bl1jmlKB8PUhcHjHufuyxx/g5lbZw+BL7bX4EoiZqyS0T0uM0j1+82QSl+ua+bhxj7GjD2LicwWkLzaarigbKsmDJ7gcTmezMBw/t3ixntUfAiK8QaBmzhq8/f26j77pbaxo3w+jetPf1B5D2RE3pmzyR4/nH+Mti4Wx1dUrCHO0lSVGqskFUnakkpn6mhu086jgYHkWTW3Wbo4Tli6L5gqYHE47vfeDufVv+YflaIjU3KwItIWEdO3a9Szc0ElDNDqcLbHjmxas7a87QxAnX9ljfxcr+Mzs29ykpi1O8iJjoR/cm5o7dnUl89LRLW93dyWmVIip+Kp7pmlWqIvQ8Mga9Gslm3Efu3LX+K008HNK0ZUSgplnGMrZPGxgYsIKeXa/TA61jPu0w0+7xBx/cd3M+eZspD0wbDgWm+RXP13cODY/jWGKuGAb48jG+agNpilbqlKZoWDqDY2AyjtNUlupzYZlKpXgaxIVMNv0zd+/d+uxcaSVuZSPQ/IT13TN34QRvZW81n6HSDdMLUqmjh9tgd//Fi8OHEl3JL3Z2dh3MzGA7XU664llVWRz/QhLjNYmsmaWp/DjCjqIDdlaZTOZZ1/A+fGj7hjP5OLkQBMog0NSE9cSRszuswNhdpt31BRnazM3U9IuPHDrUuG+419eChqU+cvzqjp7u5P9KJpMPpqc51Zv9QntLkFQBEqZluVCw/7nhaP9i376+8YIouRQEyiLQtIQ1cPT8GjOw7vE8tyFtxBrb2MBXdh579FF99g0vC0nzB548ebNHT2l/aFmJj1BPBYyav9EFLaQ+jdPAVNL8/pZ13a8qiJLLOhAAjvrTRy/d0enbF+69d0tzHFhWR/vnk7Rple6mp+9uFFkRGF8LVj/08IUN8wGp2fIcPLh+4sCu9R+F3ucj0MLf4vaVVnChqYWmdaQS2jpY2vd0djh86Vqh7c3Yxm8dudTPxaW0lrn7yJEjZW0Tm7HdC2lT0xKW1xecgHE3FDWNcb7uDh6+r/96Y0prjlIO7ur7TOD5b3ayzt9ylY0Gl83qKFXZsCXrXdOlrV3djf2LBr556JOshLDmMWhPPXV6vav5O5jVxYLUhNl3iIbV8yiqpbI0bQcP85C2Xu0l3dczC0XUN4Pzb71339mFltOM+Q/0rzu5f2fvu1zH+QDOt3uZ0pbVRMRFouJK5qqeTkhVqyBdtdUmhGV5JI4cudrpd5kHiyp3tTU/8s6r+4rC2vCmaQmLWJO0Ep65INJK2tbpt75298U2HLuiLh3oX/95L+0/kHUyvwTieiUJHVEimVzy1UKeWMqv2pCoKEVFRNXT1aHawnBx80eAZj7TwcxdAc5Gi5fiaNnNT37nCk4xaV/X1IRF2B94YHt63qQVaCcfePX2K+07fMU9U7qtHev+xE/7r3cc70O+6w1gxuV0dHZiusgvJS/O7IskRXLs6KCxqj+B26t9a3uUREWi4plbQlTFYzXvu+7tB3EIUGel/L6e3TNw5NS8zYAqldss4YvzBC9C7559drAja3qvDoyg6pwCP+KBZaVOPPjazS1vMLpQKE9fuPnawDB+EqehPwzWuAuSl8LPg90WVxhJJPWQCUmPBAWTBEz1TFUGpqO3wYYvIPgr2az35a2b1/50V6f1e1NTlVcvEzB0xRekj67usu5FmS2/crvQcaol/zeeObfTSOj91dIq28PxiaOHDx9quy8LtQxhcZBqIS0Dhkl2l/3yA4e2j1Qb2JUUD1Iyz1waOQib0vsxKXsAFvH3wMB0JySwtZC+DBPTN5BOCEnhrI1BuKe9l6tIzsVCiD6E0DOabrwI2elZ09aP7N3aNxjheXvK+a1OENa0EFYEyYL9rz072Ju03ZpNQKj7Xd899cKhNrA9LASvZTY/s9GcHoK0XsrakLS8UklLxyl+/rj+/Qfu2367sJNyTS7SuZfneO7ffweBGScu3NwAqWgrTvTc5jjBZmw87tMCfRXYKQWOgula4OiBOQUZ7DZuhrAGdQXxV0zPuCaGnkv3VPGHOpPw7+QPR62OM5HhdNddGOeX2kmCbSnC4mDlSStVTFr4eLljdHV+702vWz9R66Cu5HS5h5hmHvz3QiOxwJTRo2BGgY06dm7OVhewYGAY6s75oD+ZDs4JPY9JyqSCQ7ABqftd5VFM3/j2Ja4mtsWpJQSq6ZXu5UZTKeJnsHpohiYPRqBn04nkS2+CQWW59BK2dAjwS0Y4IHDz2ERWG8Gnwm7iK9W3sFmbvrqGPzw6gW8eTmvTM07XmTPX28KYd7EQ3rjnvv1QFHbPt3zT9DcMPHd+13zzN1s+/hC2rKOo7NjeQdsxT5LEWrYjbdLw05eHtwWe9jl0542u62HZHZIVpalY/yIlP5X3MHYddLLZfy4fmYiBhNuB509vw+rG3tKY+kOwGHLi7W/cS91jS7v4s9TSnZHGLx8CICH9lXNDX+zpWfXuycnaBV2e3e567nAm4973qv0bzy1fD5qr5oEB7KXt0u7B3Loh7yhWVfypbOalh9+wr6U3mbfklLC5Hi1pDRE4ef7Wj+EEiZ+amqpvJT2bzWjJRLIPR3n9riA5i4DZg720DSIrlsrvHXSZ9p7ZGlrzSgirNcetqVp9/vz5FJTqj6JRejTdq6eBMzNpHP9s//QrF4bvrydfO6f1JrCX1mvcXlo98Kembjotr3wXwmrnp36J+pYNeh5JdqRem83O77gxkpxtW3bgOZ/g1HKJmt3U1Rw+3D+zrc89aunagnWzpq6PdxujLz388L4F78tdbtCEsJZ7BFq8/sHBoMPX/I9hyrGgnuDUUZzrnnz7yQu3HlxQQW2Ued++fZmJ1e5LoPB5k5ZpWCPXz+08du+99zrtAI0QVjuM4jL2YcIZeh+2+9wF49MFtYJSlgmHE0g/JlLWLJQPg7RmhtyXsJ18eja0tivsXhj6xy9ve/mRR5TRcG2ZmjyViN9NPkDN3Dz1FW5z9XM4i+s1ME1YcFNpUIrVLHzJzHnwjl0bn1twgW1UwPHjxxPXpztejR0HFTc+F3YXRwxdfdM9W08D0zrs4wtLaM5rkbCac1xaolWOvurhZIPIih0OdVm2haNTfqUlAFjCRnJP4HBn+iUqz6tVa2nGpTe/etsP2o2s2G8hrGqjL/FlEQC5GHghfplSUSMdvwaEA/9+4vjpa3c2stx2KIsfUek2dr+EuXNF2xEjSJx98w/tbFt7NiGsdniSl6EPp84O3W/Z1oPzXRms1GRKWdCJdeCIlJ+vlGYlh997r+70+EPH8NHJEtLCauCph+7bmj81ox1xEsJqx1Fdij4Zxi9AT2KSYBrtslgxhOD2gWOyz7AstFzx6zFHj1mGobYUYAgC9cHge3ddK5uhjQKFsNpoMJeqK6+8cm0X6noXiWUxHA8WxAdWNyQM45HFKL8dyiRpueM7jllmMGpnjO+1w9fNaxmXxiogaqlR0jQdAkeOBPjczrnOiQ6jw88ESSOA6KT7iQzOHEvavu1pZsLQg4QPP/DdZG9Xx/vWrOr+mfR03SvtNffdxleAQIgvTzjBT0w409Mpu2faufZy+vDhw5WPMa25dEnYqggIYbXqyNXY7i/jCyvdfmaVb5hdVsLp9LJGp43j1/1A7/RdvdMwPRzEboRnLVHe9vEvL3eXBOB4ZMta22H+TiqV2LJQ26u5u6Bju44Z3J7O/Lvp6cwPmBanOwQ4uNHRTWMK21bSvh1Mm642nTWCtKkH07rnTE72aOO0XZq7bIltVQSEsFp15HLthg5J/+aJE12m3tVjOPYq1/dW4cTjHnwMYhXOce8xDd3y/PJW6OpMdsTRVy4iK/rKMR/jwvz825VIHFzT3fkx13UW/dnhRy3GJyeeHEs7n1XNibUPFvY6vtGDw5vV9w0Vofn81qGhZfDhi3HX8SfQ/3HPMse9CWcCX0gel2OIFJIt+2fRH7qWRaYJG85NxldGzV4tGayFSLQ24+q9ULyu9gJfMU5ELTn6wUISTl03NHz1KzyiJLqmX657OLLdSJgoXTO7cBxyN172blier4YCvBsFdSNXV2dC35tKJrbzfPfFdjwvC/qs9MSMxxNRsSqmT6LhUDQHE+jUBE7UnATXTuLsrRn01K2l/x6+qItiR3TNG8V59KNB0DGSfNXGUXwJY2Gm+osNhpSvEBDCasIHgVLTt75/aQ0MnXpBNb2QgNYEntfr4wu/nBYpKQLtxtdwAh0SBX3VDe7nM/Ha5vf1Fb/CURS2bCTAWWuxR229qRsbQQQbUed61LfW14JVKKsTJ5sk8WUcHbtlNANyTOhgcmAGKH7p3m1FWpqtuZCu+LByVdKHVMjpKEQrBwIW9tnpXOIH+QTDSH/D9f0bmCLewDn1I4HmwtAypPDZ/oe9oXKf/aMPsWxSs/RR13FHrURiZE1gDR86tKHEdCDMKX+XCwEhrOVCvqBeHNaW6ui11/mWDtLQ1kEiWodXE4rwYgepAPssTPCMOjIdAk94TZ8pMZjch8HjDorGFUTUAwlkh64be0A9/ZCatiDZWtOyE7ClQmIdJICJFYhA+TRV4Fo5/QIHiUvrTEbkVRCxiJfsSBbfYk87OTExXxdazY5yUgiRKfpHQ1YSkONmAZY+gV4NIeVFfCXoLNA5h/Plb5LzWAyzF+IVXdNnvO/6GcsyhjC1vmWZ7s2pO3fdOqzriy9asnJxZREoerDLppDAhiIAEtCfO3F5rW0a6z1PX4/nf53nG5RqqrpieSnULEVh8cx4E7ugH78H8tG9eP/24oVezY+pkpA8b/abhPF8le75BqdsXUtaFeaTlTI2IByEoU1l8oq1mkokcZHElIRoWmpejMMCMyCvQXyy7JjjuUcgOl4tLCzCMpTHgFpcgkViX/dH/ax2Szf8m2Yqc/MN+1r7BM/C/rfCtRDWEozSkbMjq7NTY5t13dqE6dhG3wsSqlp+C9DDi0ifLrqmT1f6BgUaPjiHN0lJAGAfvpWcI4XjiHIMF6ocO/EjmMa9HeelQ1LT1PRpoce/sJwOTCQtc+kfGQp6Uxl+9JWtmL+jNEaJ0gKBgbsygR58B4sHfwV5aliVWg3vCHv6ymHcdG868IzrVsK6pnd71+/dsmXxbD3m3/W2ybn0T1/bQFe5I8euX+9ybuqbXMPbDA7ZCKV4uMOecyz+9OfmWvj9x9zEw6JW+JuOX298WhE6qtwLEV3TL1tb/AWj7sqwfqaro/sdmcyM+vBp2XzzDEzaBiQsNH+e+eeTjQ+ohwqnG0BYhfVzNYKrkOmpyauYYH8KvD8G6RPBszrC6Jq+ystl0ghzXEZjR5+O4+iZwTh+eG7Yqa5rq/3hGzzTSkXKn4YgIITVABjBP+ZzP7i8ydasrZCetuCHvIvFRs92SEdlpnCYE2LOQi12OA7RNf1yjrphHIyE9yOXPnfNMDg70DpdTf8DWDKs5rRvMVwChAWrUgh21HzllD0NrigqlxKVC7bKQuOOWeGiuI7OTkhb6T8C/Xw3xkel9cXxj6eIxiY3Hhx3X9dHsWJwDaa3l1+zd9Mt/F4tUk/ijWnP+/DBb8++LWqvnh0c7NDGta0pO7kl6zpb8AJzEUr91kYEFdeBRCt69Nm4+AsSl6jwjVGckY6VwPwUpLhLURx9xliWvxFHi/w+zB0SWCnLsVpxnoXesSI2ngp4zmRJXPgf/0IleGH51R6uwjeX5MR76qtITh7+8N9Cp4GF7Sm8Zl1s35pVXVomm/5c1vG+Wm284njHJeJq44/FjixUAld8w7uijW6+xo3MhW2S6+oIVHumqpewglJ87+LFtcFUcqur+1vxwPcZJqYPMOyhXw6GKI4+4/GwQpjCBhe+6XDIpFb06PM+np5hhS5eXzw9bLJ2pBLGv4Fe36BU4kA6IQGw8MUY6MJywVeqDs54Z69zrWdY7jI3G1ZtUiSV6zzDI3IqLLew/wu9jspl+yywrA1pEed5QceXPT3jBb/DLrA5ua5UHZ/4eMTbFx+fwvE3DJO8fANrjlctL7giJhRx9MrfR89R+VgJ1Y6currONuwd0FNsxwtV02mPlWGLy1TxlPHf6Hh8PH9xesvw9yRM+5PIRT2ZIgVKKZxWUY/PT8aTFPji0i3m4Ed1hDWV/7uY9bNGtiGqAyorJRWSqCgdkrQiR5KddrwPlsq8xfhG6efvx8dvtiQczDdmmPaldDBxSVYeZ3GJXxUMWzxq5d4fPz7Ym7X1HTAL2A7NqtJHEQ3qtCPjw3LoxB/v+OMZ5VVzR5aHWRuErYA+y4uu6fM+Xl9J/lh7bFvbY+vmv0bWos9tsXAWSLIiaSnyApHxJz6SbFSFuXTw8i86r5vVRW1m+6IHmUREAuI0lcREP5q2ztWPrO9/YK54xsXHI56+cePvj3qBfimZNS+J5FWMcrjptThsRd4dPX9+DcwEd5iQphwozfkCwJKaLv9ewHYKeicfSudwShcnJDBBOD3MTwGRO0cqLIj73jQTaejDBYaPHTBgJ/i5+HyYijd95sFhRzkzB7yL2IrCtGwezj9nOQVTUlfPwiicifnu5J0qHHd8mXHIG6ZD7JQqIk9kJK6QwAokMWRUhMaSeJ0vcfaiXNhs7PyuwpYV51Vh+EM/Pu2M9GckpyiOuZm2Wvtom+Y4me8xPbvIIujzPu6Wbvyt1ejL3U7Sv/v754ZHsORwaX3KGdwiJhO5pzY+Mivk/urVq52jTnIXlEc78LKu8qAMx/G8kHhyOicosz0ovM3IrIDKb15HSvDoOoqv+hMLYCOWI8ash0vmufryZVcqLz4u8fym3ov1xT/EVp4UDUTn4/iS0xW+sZTMojASmLqGp64iH4FRXJQ2TKj+lv7JVRTVxwQkm9APyaboGnGMzSVR6VR87ipsVT645ovOzi5tamb6zzB1/nqzjz+s9YetwLioZW5C8jq08K9+1IxS8yQsfF6ap1WL2BK8VOaJc6NbPcPrx7wJ++hmHQUPvOaQgMJ3ETtVlERDP0wVsQ19uPgcLQyt/Dc+p4jlL6k/1xa2qVyh5ApEzEoErm/DsPOTXV3de6anq36roFyRdYWVbVSshHJEMt98saIXfIu9koplYZL6m/hUz7kS/Jt0/PE8+Jj6X/Y6k+fv2tA1BKIvB/OC8WnGAmp5dpqx3XW36fjgYK/upXbhFd+BrRlqn16MfkrspkoC4hnirYjbUVWzs4rHx8uL3cerjwt0TA4RcBcsuX8Rn97q54okVsCKJJ9YkSvy1gJR4aOtnAr6OJP+L13d+BKBKMEzHhAfgDh6yzD+vqHjTDDvYpAxLqwEfVdbE9bpIEi6V27tdLP+LnzPrWS/XrRTnz5d4e79+LNY7r4kP+Z7Jv7z1LyPL0B4Tb+ci9cXLy+eJ54e8Rw//rqqcUR+HOrgYVprJbBl5E2w63oI64J7k8mUDZLGhmAXs19ucVkxP8gKQu4ptCxbMy2TW3KAGI4u1P207ztH3CDx/7bL+Cdse8h1Zy5ev7Dp8uHD7blJuy0J69TV8XW6l92Dl3cbLG6g98idbhDgdANcY1ZY9o2N4mpNr96GRf1Da3Wui0RW69F1bWslvp81LD2xDTOGu9DhQzBc7AcYfYlkAqo6A6ozqHNBYJTESGitTGShsp0qQSxT4AcoPJQw0LBlEPhBFakHDjoLvY+XgVIyg7WK77tG8n9pvpHXBbXL+OMBd7FN6KLu+uf27esbX9RHdIkLbxvCGhgYsDb3v2a7obt7YHakpKmYiqgE2ioqJbzIOszXcSov/DAzRRNehyJKvPx4+igv/ZLKEaCkoZxUFMYXE1I8f7Xyq/UHp9CkAlfbCF3NdlhS7IQguA0N2wiJYy1ktC5IISb1Okr5jSYruy2SGlYkIkKLSC3yy/WrUWGzSnjaTUX/QEhYQuNewLCdwBFKRkpOuAfr4sBnwwfDg6B0MHagORhBHNqHw5WxTwYav6lAt/42MBLfrYZXHO9w3Ftr/B0Hp0pY+tkD29ddAz5ln8NGjddSlNPyhHV8aKjbzAS7Dd3egRcvgRHJWyrHASw9Pyp+vlSxEluH0jWAGQF9VVZMpxHVRZ/xSKQU4PR5Xy0+/sLQZCFS9DN/XKtSeh5WrL2x+sMyZv+W67+vwz5eC7oDx12rm9pakNg639B68XL3Qh+2Bm94DySxHhg0daBHSQhiCbyyyMS9SDi8RhEHyYP1qD9qak0S4VGn5VYrSTRKEkKHWYYiHuQmCYb/YKYLqS+3H5LYckxJmz6qhSYJ5yNgzgtuclESpncBfN8Fj3lgJdCSGpHcGECoxrouMoHjzO+4evLLMB1VKxJV8Wyj8Q80Ix043jnTu32hlTdkh08Yn7UWcnio9Qs3pzZm0lN7LCOxIdIZxbuQ1+lAVFFxJB7aMeUIiPkiPRPjo2v6dPF4FVjHnxi/oQK0Az/bymf5uI7ayGLj6eM63nrbF5VNXzV7nv3HViQL3JAEaSV1z0iBNJIgJBCYkSKJYbdjEiSHw7a0BI5s6QBBbINUswMUsQ6E11UojZGccA9dcZDBdQY+TgyFTgkiEKYyIBvstAQzIRk8cBJ+A2j4gZFDFWAqjAp3V5IhQYYwwUJ57ByS0QINzMYK8FyrRxt3KNbXb2qG/UVNT5wDyCt6/A0boGbdqzPA4tD21SPquWihPy1FWHjQzYs3xnZkM95ePIZd8RccBx1xez/UPowp46I4+uVcLD9/8Plq0Gfy6Jp+uez5uqPyY+UtNN5DuVQc06drpv4bIDXsjtsMpdkOSC79QK4Xog3PzwF4IBNCBiIhpBSpoE8jioqWaM2KCRuOqwLXgIQItKIe0lCYD/lZjoqgGIo0+J++SsmMKA8eqQ21qHuUh2PfzQHN6vgG6vVK8GfmQhcbr3Yff+AEi3rtdCtNF8u/eIWD2ATXx4Mg0XH1Vr/hm7sDQw8PvyvTrriKWocEE0C6oM/kJRJHrAykgj6WGlq+JUifu6YfS6pu4/UVa6AgQcXKi78ApekhcWFBwMstEkTX9MvVHw+Lt2ex+4+Pg62CxgsHEwZbAdgWIJfA+ICkfDRYtyAwWWB7Ay8F8VT/KB0bOJ4Gx/CQfUKSwZGrJJs8iZHYgB0zMB+zk8hopQ8hEcEog2ERASIBAOL5fIrVIKLxXKtzKPZLgZUckvGf+/nH5HsK0+Uz3316zeAjj3D23Lwu90w0ZwNpiZ72UnvwfO/AXIFnXfLBxLOsHn6yiLqmr3oQ04LHX9hq6TFHI6txrlYWkHj98UT1lh8vryR/rIKq6aO204drdP8hRWF3itmLUw42QnW1CSTSA2IAIXkWOBYKLWw8wjVqNkEaFqjFwLQNJhWI4ZiFoiq6QX0SbsEo6HMoWVFCYprwjw6FP65BXCSoXJwiOwpnFK9A6yiWkQhRDwA9XAfpwLS/AqnqSKP7jwapquiznXFXMn6x8Yg/X/HySvLHKqiaPlZfvf0H6BloAM/v3tpzHkJwUx59Uxb4GE5Lfnt2ZGS16SX3+F5mq4llfegtwnaSR6J5EC8hPUV6IDaS6aDnoZ5DpYe6AtdgOr4pyhXLNPH0KKCo/DDP7N+S+mI6qHzbQr7AbdgW+iylWn0l5cf6E29ftfSN6L9lGl04x30tOtMHklmLhxpClW9BL4S1T+i2uNPRp+0FflD0AN9A9LHnmHGBBfJCE3QL9ALiguoJqiu+64gDzWGIIAlhzhaSDsMV/yjJi3BxyY9khP9BXBSzEMY/AFORGMmM1yyKZfmm+ZKuJf4uMHV1THEj+o+S864E7zYd/8Dliqp2MamvPbt9uw4dY/M4DnXTuMuXx/scK9iHLcbryzfKwvOJBSGNPl10Tb8WV0xYyMFymDdXXv46Kq+ueChJQI4WlSUqf8StOf5CNdXqr9afxe8/Gm6AoLAqGKyCGLSG350ACFzKM2FvaeOseEhFOsjItdQ2S6wYYmkOdl2+CfLBvmpIV55vYY2Qn6uAxAWC40zbhxSmWArcQj0TSIiSU37mx0kgVesgLereOSz8E5EWJa6Qzyh1hZEcO7xY4Ct9WLfNvwa+5xA2h6uGP6vMPxMsZ8WNf0Gf+cOCw9usq51a5+kNG9Sn1IjJsjoO0LI7EpVra/vxhPdFs7JyjYriohlbTAKGxO1C6oJEljseOLqmTxfPX66OucJK66OUNzuDjK7p05UIbGwX25I/vrj4BYrnD0uZ/Rtvfzz9fPsPIkgkbL0DZNMFRVEHFEY2ZCBTcwMLdfCsCCVN4SwpE9YG+ARNgD24IDHYSYB1yNCYDkLRFoC8oOUG40AKQx5IYyAmlQ6SF7dDoSof0hbJiApzqLs43aPc5UG+AvVQ/4T7nGQFQiJ5kdbAkmgH2Sz0FaWB4gLrad22v4nmuvPt/yzCc1+V4t0e4z93r8PYwDCvNANxLSthkai0jmCf5+jq6y6Y4SkjTfoKprgWufj9Dg3AozBmiK7pl3H8WDH3u0YfLY6u6c/HVS2vSvsxoygyTF2q/qNenEyjJ5NJPYGPRidME1M1/JYqwyoNq32Ihu4J0z5M+WA2DoqwEI9wfmEaEhQJzPNsKNOh0jJwrfRVJqbnNOrC6IGwQFzgHiKrpCuq2kE+FizrMXWE7IWCEKemg7hSiimOQchNIC3EchqpHlBO95TshQThkwF5TL9k+Mm/MZLGzVo3AlQdLzagDle1vCYd/wU9/5Z5ZcyZPnNow/J8ZHZZCGtsbKw3rdn7nIzTx42o0WfP1cPKuYJ6XPFs5q7p8zmKx5v8cdcxDeMPOR1fj+gh4X10TV/dukiC+nJPeLy8eH1hrtm/UVvpKxcrP2oL/dlcs1eQ9PCeo73wGcp+R2Xyvlp74vH19B9EkoA2CYKUlcQqJCQj6vkoyBjh/IurcJiy4Zxy2FMptRBO7sK3kClR0UYUZAX+wMqfC1ICiYHMYBsKSQsSFKaAUEqZLoiK00ASFsgpN0UEUWE6yOkiiArE6NmUb91OWwAAEuNJREFUszCNxA0c/uBoF04W86YOarWQAYjGmHBBEIkUiXEqib025hNmInWknv6zKo77Sh3/RvcfSx5Xl4O4yr5Y7NxiuEEQFT4uvs8yrF5VvosX28LLS185vsiRHkc9YPiJtrCbJIzHyx3gJdfpl80flZWPR6qIxJghus7xjSqj4E9UNn2VvN76Csqq6XIR+48OYEeGlcAaXhLfQwxNQcgQEI9IErOOxBUuCuDLz9Arm5iyOTaYy7Jty8hAb2VCm43ZmwnwQTbgFpAWyA4SGEKhaMdgYNpngKAcpeMCAfFjYGE4yAqco3RZ0LorUqOkxVkf6AgzvFBPFbISSsOUD+WRrWijpcwbmI4Gomj4yxAIv4bPVU+q9sfxk/EP36UlfP49N3vNWr/m9CZdX/zzjDDofAoW3XHVr9NPHdB8p2+uORl/mjFLUktMbBTtkSJbpLCRxYyD5OpJps/4+DJuvq5IIgoLqfi3pLzcRuloM7QSzKImsBSWG80LVKkxkSvOkFHaCjL5QvrPN9rwvaSVtEg2ICmQCNRQkGjwnlOpNktMxdds+GxcRFrIyCmhTQMEUJjl4qwtzPbAOVC8o0DUZroGiMmBpEUfRBZ4DvRUJC4/1GOpij1ML9XU0PJdFxIZGsOpJkkOQ0YdFh5CPodKl0WfRqQkVUhTIEf1iN4GkdJU4Rx/xsJfHkpfMv4cd+IAUJb1+YdkfSU7NXp6+/bti7qquKiEdfVq0Gl2TO2DonYzAcUTCv0slCB8FuGia/q8j7iAPl30aNIPHVKq55w+00MvjFLo05WmV8H5P9XLzydVF/H0xbGl9UGfjm226B98po2u6fO+0f3H9M7SbT1h+FoS00ybSmm+5/RZHxzbwWvVHtSvNuLRR4BKl0vPtHRhWh1SESUsNBkH0qjvNiAx4MA1JDBc4yBmTPmwJArJCFM+dA1SE5XsmFIqRTzKUrZYkMio78IUkauFoW6Mcbin1GWrOR8nqOEUEUQFmuK3ZdEw6NFg92s9j3XLp0CIsAuS8VdPkcKhCZ9/KAc81x/c3NdzFjy6KHZc0YPNh7VhDg9jYnh4co9n2dvx1nLalys7Rimx2xLGigfEJBQ0Xr149FkBVb04BQiTlPAFbTiDxRGKM1pJf5AgarPKG0sQu413N07hkCANO5m0fSebtCwziW5DqMISHTRMJCDF23inYbmsauNCHq+Vn1ta5dErzKN8psP/RiIXVpAegKJQ30Y06AQSEXdAIpdL0wbTNsLpoSIeCwRJHZYBpTusIFAIlPC0iqL5AxoCcmLPQkkLdITRCc0dSFqQD1A51g4pLOXmhZCwDMO2BpH9q6ZtDoU4oKQIy5yEynFnv+mzw+0+/q3Sf5yT4aYs89zq1alLIK7wYeQANcCpgW5AOaqIARzxcudrXrMTz+cuFAxBI1Rw06eLKz3xsnDikt+Mmr9mWBlXrbySeJAlTt8MXJImXHRNv0zx2GpWZ3r0KKqzXHlRHH26+fQf+mkbg56ADjppUuihMJl7BEhGtmnj+4Phj1lEUAzjaQcgJkzcqPPmlI/yjdJV8Trf/+hbeYyP0uMS0zSVF8SEaSELxkhR6a7IC1IVHkNMBWEkCljxYQ7YXgWKrDCHw2ohJDDKSkr5Tst3TANBp7DdgkTFKSOpxYMtV2i3hXQoJjwbBo3L4oibAajdXmSbCl01PEvi6x3PetMvwfi3cv+xHpPRk8GZvo6Oq5y5FvZlvtfqQZ5v5igfH7iRdHqrn/H24McyEb6ejCUxkCwqEATi8JDNKtWRIxI6wrLj+aOyQgIqLT/KTZ+OLYnCFGHE60PdSgzIgVmcfrbt5evjYkB97VeNyv8plx/UYoChElhYgB7KtD3PAUWRpejIVNzNAjNzyDuYRqnrMF5dIx4CkTrlAJQRps2FhZIX5lqYwfFLOygTBeSmkUhDEgNvIC7MR5ML6JhozoCpn+858G1utbH4j7BRT0Z9VlZzbTyOKJCKeCjkqYbkFBJh+DXCPVcKuXKIFURlm8WBoZSFOBCYmk6i33ioT+Kw1CegEMspcFfe+M8+rRySNum/YUwm9I7TPT04NWOBDg/nwtz16xMbEp3mPswIOuI6G7wBSlynz1pQWZEIP0smIcEEWN3QsfJDn+nj9FFSPh73wilgdE2f+eOumo4pPqWI2kI/LKu4RVXLq7H/kJopRUFhnkj4joNT9KC/BlZgAIVD1I+cwASVUBgCIsF1KEQxJLpGPKHGP5LYrAs5ikREnmJ61KF4K5cG1+REVS6HC1JauGroYYcOrLWUEp6MSF0UpoZgK5hV2dgEzeNLYbMBnRQZEUPnOwGMT6GOp57Kg/0WTCMYjnsQHpDmlJFTR5IcNt/alvV1PdF5NsKcLSpGG03L6QcjnWDpeIXqgFYb//A9wGi1+fMPDeqY7nae6uvT530KKp+JebkhHJyX6Fqz33X83tCgRr1d6gXBH+XnFtEwDmEVMBfAtbK7UvHxVTb1gGLQokbFVBZMDtUJHmT+dsPxmqSRU2nkrxkWxhfbOfEVwLov4sIaonSRr1qZy6vy8xliPbn+qPjYHxSm6mJwdB357DfaVtJ/BMLeW0/ayVQSR6TA5AB7h8kwmFeRrFBUSFYkJk7GsM+F5SuiCQmFBEriCskHYcxfEM9ozBjBS/yaKD//rBzndjD3BHswAcmqwFdhOWGugCw5owwpEt9sxMlVGWQEK4GlcAOi1XAcL6eLICfdcMFmNDnH7xdO/YTCHTkxM2B6EiSPbuXmHrZO5eJy4Iu6lfo2Gu8orFfA+PM9UMjnHpBIx9v+/Q9Wm8nMfcMTE1d7u7vP4Ec6fzy1wqOGP3xI63JHjgT2/rsy/boTbMP0pe78dVUWS5wjK0VUjIqNN3kA62ZYeIcfxofXDFNFUZBTT4W6m71mWBlXrb4yWSoEYWh0jVIUdJEmzA6o18mRDN7dCplCEkK8IiP4WRAU9OO8j5wimZB3SAhKYlJEphLkJCaSEP7PEdxsfVG5UWFxP6qPPngTlvBED6IWLN8dTPmg8ocFPPRXWBdlFWqqCEmLlhAgLRtKdLaAkpQNfRUM6DUQGOUiTimNEaT7FvRVw/F6K91XG4/mHf9KPaovvJ36jzfSS1mpc6mUdhnvhZL4a0GjZsKBKK+n0+kt0AHvztCAsIzjeeAeUKVPF1l101cBWCICxcGmcPalUeHRnyguIsJYej79fFnpKxdjrKhu+spVK69Ke+OW6SXlh7Xk/8b7D5umJKY6nUiQAEmp5ZKoD5Ay8kTFzcAsJIrL+ZREYCWAaU4ubXRNP8wfpuSuGubHMwCJhSuGPCiYJIMw5GV6xkfY0Wd+WoPiBAlEhvnzNluw3SKZYTkQHIQ5J1RQDg7Lw/QQGUIdFp4wcC9KgQ/7KkxjucEHROVmc3ZaCFfEjMxUvlPvBZ0WhT1Q1zG06hQKyGPA9qEh4bPRJuO/0p//WvoPyXpa77BPr9L1mn64QiJRT0vlP3jg1oyn0/th1dnN6VOkQyh8wVRuPpLUH9GHi+sckD4vLaj43NSHLwfv8cKjbGxdgc97JUpFpIRbpovKYHTUltkpHYkyEqNYf1gWfZU+Vn+JiMZERS4qKyTAMv1hmwoItLT/aL6OL9cn8A4mknhDkR5CUuh43ExhAXjnIQVxRQ9UwnU1JM73meHISINzlY/1Ir3jwNQBtui5IpU3K2mFZbEUEhgJiHlZhkqI8rws7hPFxBHlZ5romu1CGRSv2HyQEQiLPkwefJcSk2o0mU+F8Z46KswbKd8qvRUWiq7BsuoYlF/q+Jd839p4/KNnFHhw+Fbc819r/y3dHO7qsk9D2lLPBvEq59SLXC6CYSCq1OTk5F48g+FxLyQSvvyzhFK8taaYL1ACiYdkkSOg/HVO4irmAySLlR8+yHy5wnaWysTF7YmnRxdyecMXFDcxx3KjNCUEGUtb2r4Iixwh5qebxEG58v2Hkh0ERqlLp5kClNLkngLSyF8XExrZi089SYbFm9DRg1FCbEKyoxQE8sqFkTOgTwrDVIPCP/k8qpRcGrxMEXmxnpwjUeXbhjpgA2bBNsp0HPQWOiwNOnddw5YcNIdSFyzTlUKehEbrLDxDNn7osjCXPw5FO22qgPfKHn/pf8XxxxetvSvYlX8BxBVKCdGDmPPDhz0W+Oijjxof//jHt+Hh2oko/qKqFx4l0BJQmQIwS3RNn/fxZXqGFbq4nQzimI9tKFs+S1S1KJ9XoQkEfUQwtKg98fSzefMMwmx5F28/IqK2RLjM2b54/gX0H0v6+IiDZSVgHJogfYWNzDMUpCtsUkKg4pKIUJAsnNTlkjNWzfBCPMOhi8JAiCSqPBmyMFVQ1OdctQwLywNZ5cPCpDl80D6IhjzBASQF0sUeREpSJCyE4ceSpJXbEO2612AHepaTSRn/YrtEAD3n8xV/ntv4+S96nyGRO9gccQZmEPiBK3bRi5kPHcG+v2T32n2+53bxNY8oQyWIB0SR9OmqxMeTh5lm/8azx8srEbCQNSqTpUTX+eagwCiPqiWeQAXO/olHV2tPaYUFjWCxsQJjt7MV564K6iOB2Xj1adNGa3PqDMFl4XwSSnAQCUIibqFPlwtTwbiOkoSR+JvLx3KYv9BXaSrlLyifSegQBNMFTAWhiIeFArRZnoX+8Y2EzKhbnuNlYO9wFpZXkwoH5Kmj/6qOFTz+0n8+Y4Y/2pVIcJqY35+YJ6wjEN33ZzL9kPY3hWjx6Sv+RcByLIQAZZYQJSn2C944FRF/QkvjQ31XZDcV04GVPOGl+WdJEhVGbaNPV3d7Va7ZP83U/1ACgzTjkg4gjUFvHhGWkrPAPnnBLNeFSEKKfAbzOu9yBAUdVj6cZURpZuU3XOUILioD93x2IEnxxFGc9c6M+M93cHSNZVzHquBQDeMn4x898wQ2us7pgGvAbyU8/z5e5EupVEqtJirCgp4KHxVI7sbrQIYKHyKF3+yvIvEEX8FsQNk9qXwgBpgQwNo7p9OKrukzfdzF08+WTmYrV35YF+tU8bEpYImInGtLVH+8PkzZ8iQcVpjrawXCLOHH5uo/9JmWjbXHJMQcNhVW8bOklbsumnJw7Q+cgtVK2mJxAUNNKKncp54KHuzAwnjCE01B1UIHA1A80ik/IkdIfTj6mE8MXh2sSKZhdHUd+IcDykwFLj4eMv7Fv+il75c8/xEmeHaojD+jZ4LgbsPVVvO5iutg4oSAFCCiAqVp/jrUKRU8mzVexsube05ff3tiD0Q1wkP/ojrYgeiaftiheHsjLKL4GrudTxYvb0H9h94bpzeAwCD4cAqJf5SmlBjFH5D8ChVC1Q8KyIkrjtgbE64y4lqtINJHel5Hq4q4ZdsYzsWBWaU+rkFWtFzQbiNNnWciNbT/qD4+Hitq/FdE/3mWzmvQU+W4hZZPenQuRHRNfylcvfVjpUqz0Tj6dNE1/fm4euufTx1z5am3/hr6z6lj9A9ElneKwPJ3IYEVEpqKys0YFeUhoDBP4TV/+bjVIkfqKuu8/ixC/+tqR73111V4DYnrrb+G8a+h1tkk9dY/m7MxV7XUzwdP3ApBgCYG6Co+L6/+kcB4X0g0ERFFzwXjojBc5q8ZhqOKtWEoROmLEwSWBIHowVySyqSS5kIABEYhisRFEov8SgRWGD6K9OMgq8IwBIkTBBYXASGsxcW3pUoHgfF5iIiLPv9x+03kuLxMqaqsUj1KJL4gsFgICGEtFrJtUG6OwDhtJHHhqLOl+dBAG0AnXRAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBIGVhMD/D0fV/fpMMM+gAAAAAElFTkSuQmCC"}}},"24fc":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={primary:"#3c9cff",info:"#909399",default:"#909399",warning:"#f9ae3d",error:"#f56c6c",success:"#5ac725",mainColor:"#303133",contentColor:"#606266",tipsColor:"#909399",lightColor:"#c0c4cc",borderColor:"#e4e7ed"};e.default=n},2568:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={circleProgress:{percentage:30}}},"25c8":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-card"),class:t._$s(0,"c",{"uni-card--full":t.isFull,"uni-card--shadow":t.isShadow,"uni-card--border":t.border}),style:t._$s(0,"s",{margin:t.isFull?0:t.margin,padding:t.spacing,"box-shadow":t.isShadow?t.shadow:""}),attrs:{_i:0}},[t._t("cover",[t._$s(2,"i",t.cover)?i("view",{staticClass:t._$s(2,"sc","uni-card__cover"),attrs:{_i:2}},[i("image",{staticClass:t._$s(3,"sc","uni-card__cover-image"),attrs:{src:t._$s(3,"a-src",t.cover),_i:3},on:{click:function(e){return t.onClick("cover")}}})]):t._e()],{_i:1}),t._t("title",[t._$s(5,"i",t.title||t.extra)?i("view",{staticClass:t._$s(5,"sc","uni-card__header"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-card__header-box"),attrs:{_i:6},on:{click:function(e){return t.onClick("title")}}},[t._$s(7,"i",t.thumbnail)?i("view",{staticClass:t._$s(7,"sc","uni-card__header-avatar"),attrs:{_i:7}},[i("image",{staticClass:t._$s(8,"sc","uni-card__header-avatar-image"),attrs:{src:t._$s(8,"a-src",t.thumbnail),_i:8}})]):t._e(),i("view",{staticClass:t._$s(9,"sc","uni-card__header-content"),attrs:{_i:9}},[i("text",{staticClass:t._$s(10,"sc","uni-card__header-content-title uni-ellipsis"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.title)))]),t._$s(11,"i",t.title&&t.subTitle)?i("text",{staticClass:t._$s(11,"sc","uni-card__header-content-subtitle uni-ellipsis"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.subTitle)))]):t._e()])]),i("view",{staticClass:t._$s(12,"sc","uni-card__header-extra"),attrs:{_i:12},on:{click:function(e){return t.onClick("extra")}}},[i("text",{staticClass:t._$s(13,"sc","uni-card__header-extra-text"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.extra)))])])]):t._e()],{_i:4}),i("view",{staticClass:t._$s(14,"sc","uni-card__content"),style:t._$s(14,"s",{padding:t.padding}),attrs:{_i:14},on:{click:function(e){return t.onClick("content")}}},[t._t("default",null,{_i:15})],2),i("view",{staticClass:t._$s(16,"sc","uni-card__actions"),attrs:{_i:16},on:{click:function(e){return t.onClick("actions")}}},[t._t("actions",null,{_i:17})],2)],2)},r=[]},"25f0":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","u-icon"),class:t._$s(0,"c",["u-icon--"+t.labelPos]),attrs:{_i:0},on:{click:t.clickHandler}},[t._$s(1,"i",t.isImg)?i("image",{staticClass:t._$s(1,"sc","u-icon__img"),style:t._$s(1,"s",[t.imgStyle,t.$u.addStyle(t.customStyle)]),attrs:{src:t._$s(1,"a-src",t.name),mode:t._$s(1,"a-mode",t.imgMode),_i:1}}):i("text",{staticClass:t._$s(2,"sc","u-icon__icon"),class:t._$s(2,"c",t.uClasses),style:t._$s(2,"s",[t.iconStyle,t.$u.addStyle(t.customStyle)]),attrs:{"hover-class":t._$s(2,"a-hover-class",t.hoverClass),_i:2}},[t._v(t._$s(2,"t0-0",t._s(t.icon)))]),t._$s(3,"i",""!==t.label)?i("text",{staticClass:t._$s(3,"sc","u-icon__label"),style:t._$s(3,"s",{color:t.labelColor,fontSize:t.$u.addUnit(t.labelSize),marginLeft:"right"==t.labelPos?t.$u.addUnit(t.space):0,marginTop:"bottom"==t.labelPos?t.$u.addUnit(t.space):0,marginRight:"left"==t.labelPos?t.$u.addUnit(t.space):0,marginBottom:"top"==t.labelPos?t.$u.addUnit(t.space):0}),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.label)))]):t._e()])},r=[]},"26cb":function(t,e,i){"use strict";(function(e){var i="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},n=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var i=function(t,e){return t.filter(e)[0]}(e,(function(e){return e.original===t}));if(i)return i.copy;var n=Array.isArray(t)?[]:{};return e.push({original:t,copy:n}),Object.keys(t).forEach((function(i){n[i]=r(t[i],e)})),n}function a(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function o(t){return null!==t&&"object"===typeof t}var s=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"===typeof i?i():i)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(t,e){this._children[t]=e},s.prototype.removeChild=function(t){delete this._children[t]},s.prototype.getChild=function(t){return this._children[t]},s.prototype.hasChild=function(t){return t in this._children},s.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},s.prototype.forEachChild=function(t){a(this._children,t)},s.prototype.forEachGetter=function(t){this._rawModule.getters&&a(this._rawModule.getters,t)},s.prototype.forEachAction=function(t){this._rawModule.actions&&a(this._rawModule.actions,t)},s.prototype.forEachMutation=function(t){this._rawModule.mutations&&a(this._rawModule.mutations,t)},Object.defineProperties(s.prototype,l);var u=function(t){this.register([],t,!1)};u.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},u.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return e=e.getChild(i),t+(e.namespaced?i+"/":"")}),"")},u.prototype.update=function(t){(function t(e,i,n){0;if(i.update(n),n.modules)for(var r in n.modules){if(!i.getChild(r))return void 0;t(e.concat(r),i.getChild(r),n.modules[r])}})([],this.root,t)},u.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0);var r=new s(e,i);if(0===t.length)this.root=r;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],r)}e.modules&&a(e.modules,(function(e,r){n.register(t.concat(r),e,i)}))},u.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],n=e.getChild(i);n&&n.runtime&&e.removeChild(i)},u.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return!!e&&e.hasChild(i)};var c;var d=function(t){var e=this;void 0===t&&(t={}),!c&&"undefined"!==typeof window&&window.Vue&&b(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new u(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c,this._makeLocalGettersCache=Object.create(null);var a=this,o=this.dispatch,s=this.commit;this.dispatch=function(t,e){return o.call(a,t,e)},this.commit=function(t,e,i){return s.call(a,t,e,i)},this.strict=r;var l=this._modules.root.state;g(this,l,[],this._modules.root),v(this,l),i.forEach((function(t){return t(e)}));var d=void 0!==t.devtools?t.devtools:c.config.devtools;d&&function(t){n&&(t._devtoolHook=n,n.emit("vuex:init",t),n.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){n.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){n.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},f={state:{configurable:!0}};function h(t,e,i){return e.indexOf(t)<0&&(i&&i.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function p(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;g(t,i,[],t._modules.root,!0),v(t,i,e)}function v(t,e,i){var n=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,o={};a(r,(function(e,i){o[i]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})}));var s=c.config.silent;c.config.silent=!0,t._vm=new c({data:{$$state:e},computed:o}),c.config.silent=s,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),n&&(i&&t._withCommit((function(){n._data.$$state=null})),c.nextTick((function(){return n.$destroy()})))}function g(t,e,i,n,r){var a=!i.length,o=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=n),!a&&!r){var s=m(e,i.slice(0,-1)),l=i[i.length-1];t._withCommit((function(){c.set(s,l,n.state)}))}var u=n.context=function(t,e,i){var n=""===e,r={dispatch:n?t.dispatch:function(i,n,r){var a=y(i,n,r),o=a.payload,s=a.options,l=a.type;return s&&s.root||(l=e+l),t.dispatch(l,o)},commit:n?t.commit:function(i,n,r){var a=y(i,n,r),o=a.payload,s=a.options,l=a.type;s&&s.root||(l=e+l),t.commit(l,o,s)}};return Object.defineProperties(r,{getters:{get:n?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,n)===e){var a=r.slice(n);Object.defineProperty(i,a,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return m(t.state,i)}}}),r}(t,o,i);n.forEachMutation((function(e,i){var n=o+i;(function(t,e,i,n){var r=t._mutations[e]||(t._mutations[e]=[]);r.push((function(e){i.call(t,n.state,e)}))})(t,n,e,u)})),n.forEachAction((function(e,i){var n=e.root?i:o+i,r=e.handler||e;(function(t,e,i,n){var r=t._actions[e]||(t._actions[e]=[]);r.push((function(e){var r=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return function(t){return t&&"function"===typeof t.then}(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))})(t,n,r,u)})),n.forEachGetter((function(e,i){var n=o+i;(function(t,e,i,n){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)}})(t,n,e,u)})),n.forEachChild((function(n,a){g(t,e,i.concat(a),n,r)}))}function m(t,e){return e.reduce((function(t,e){return t[e]}),t)}function y(t,e,i){return o(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}function b(t){c&&t===c||(c=t,
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:n});else{var i=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,i.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(c))}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(t){0},d.prototype.commit=function(t,e,i){var n=this,r=y(t,e,i),a=r.type,o=r.payload,s=(r.options,{type:a,payload:o}),l=this._mutations[a];l&&(this._withCommit((function(){l.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(s,n.state)})))},d.prototype.dispatch=function(t,e){var i=this,n=y(t,e),r=n.type,a=n.payload,o={type:r,payload:a},s=this._actions[r];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,i.state)}))}catch(u){0}var l=s.length>1?Promise.all(s.map((function(t){return t(a)}))):s[0](a);return new Promise((function(t,e){l.then((function(e){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,i.state)}))}catch(u){0}t(e)}),(function(t){try{i._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,i.state,t)}))}catch(u){0}e(t)}))}))}},d.prototype.subscribe=function(t,e){return h(t,this._subscribers,e)},d.prototype.subscribeAction=function(t,e){var i="function"===typeof t?{before:t}:t;return h(i,this._actionSubscribers,e)},d.prototype.watch=function(t,e,i){var n=this;return this._watcherVM.$watch((function(){return t(n.state,n.getters)}),e,i)},d.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},d.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),g(this,this.state,t,this._modules.get(t),i.preserveState),v(this,this.state)},d.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var i=m(e.state,t.slice(0,-1));c.delete(i,t[t.length-1])})),p(this)},d.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},d.prototype[[104,111,116,85,112,100,97,116,101].map((function(t){return String.fromCharCode(t)})).join("")]=function(t){this._modules.update(t),p(this,!0)},d.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(d.prototype,f);var _=E((function(t,e){var i={};return T(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=A(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"===typeof r?r.call(this,e,i):e[r]},i[n].vuex=!0})),i})),w=E((function(t,e){var i={};return T(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.commit;if(t){var a=A(this.$store,"mapMutations",t);if(!a)return;n=a.context.commit}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i})),k=E((function(t,e){var i={};return T(e).forEach((function(e){var n=e.key,r=e.val;r=t+r,i[n]=function(){if(!t||A(this.$store,"mapGetters",t))return this.$store.getters[r]},i[n].vuex=!0})),i})),S=E((function(t,e){var i={};return T(e).forEach((function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var a=A(this.$store,"mapActions",t);if(!a)return;n=a.context.dispatch}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}})),i}));function T(t){return function(t){return Array.isArray(t)||o(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function E(t){return function(e,i){return"string"!==typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function A(t,e,i){var n=t._modulesNamespaceMap[i];return n}function x(t,e,i){var n=i?t.groupCollapsed:t.group;try{n.call(t,e)}catch(r){t.log(e)}}function L(t){try{t.groupEnd()}catch(e){t.log("\u2014\u2014 log end \u2014\u2014")}}function I(){var t=new Date;return" @ "+C(t.getHours(),2)+":"+C(t.getMinutes(),2)+":"+C(t.getSeconds(),2)+"."+C(t.getMilliseconds(),3)}function C(t,e){return function(t,e){return new Array(e+1).join(t)}("0",e-t.toString().length)+t}var D={Store:d,install:b,version:"3.6.2",mapState:_,mapMutations:w,mapGetters:k,mapActions:S,createNamespacedHelpers:function(t){return{mapState:_.bind(null,t),mapGetters:k.bind(null,t),mapMutations:w.bind(null,t),mapActions:S.bind(null,t)}},createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var i=t.filter;void 0===i&&(i=function(t,e,i){return!0});var n=t.transformer;void 0===n&&(n=function(t){return t});var a=t.mutationTransformer;void 0===a&&(a=function(t){return t});var o=t.actionFilter;void 0===o&&(o=function(t,e){return!0});var s=t.actionTransformer;void 0===s&&(s=function(t){return t});var l=t.logMutations;void 0===l&&(l=!0);var u=t.logActions;void 0===u&&(u=!0);var c=t.logger;return void 0===c&&(c=console),function(t){var d=r(t.state);"undefined"!==typeof c&&(l&&t.subscribe((function(t,o){var s=r(o);if(i(t,d,s)){var l=I(),u=a(t),f="mutation "+t.type+l;x(c,f,e),c.log("%c prev state","color: #9E9E9E; font-weight: bold",n(d)),c.log("%c mutation","color: #03A9F4; font-weight: bold",u),c.log("%c next state","color: #4CAF50; font-weight: bold",n(s)),L(c)}d=s})),u&&t.subscribeAction((function(t,i){if(o(t,i)){var n=I(),r=s(t),a="action "+t.type+n;x(c,a,e),c.log("%c action","color: #03A9F4; font-weight: bold",r),L(c)}})))}}};t.exports=D}).call(this,i("c8ba"))},"278c":function(t,e,i){var n=i("c135"),r=i("9b42"),a=i("6613"),o=i("c240");t.exports=function(t,e){return n(t)||r(t,e)||a(t,e)||o()},t.exports.__esModule=!0,t.exports["default"]=t.exports},2792:function(t,e,i){"use strict";i.r(e);var n=i("be0b"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},2914:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},"293e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={indexList:{inactiveColor:"#606266",activeColor:"#5677fc",indexList:function(){return[]},sticky:!0,customNavHeight:0}}},"29b8":function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("6523")),a=i("d1a1"),o={components:{category:r.default},data:function(){return{categoryList:[{name:"\u5c0f\u8bf4",subCategoryList:a.bookList},{name:"\u6f2b\u753b",subCategoryList:a.comicList},{name:"\u89c6\u9891",subCategoryList:a.videoList}],subCategoryList:[]}},onLoad:function(){},methods:{categoryMainClick:function(t){this.subCategoryList=t.subCategoryList},categorySubClick:function(e){t("log",e," at pages/tabbar/tabbar-2/tabbar-2.vue:46");var i="/pageA/dataList/dataList?type=".concat(e.type,"&name=").concat(e.name,"&title=",0);uni.navigateTo({url:i})}},mounted:function(){t("log",this.categoryList," at pages/tabbar/tabbar-2/tabbar-2.vue:54"),this.subCategoryList=a.bookList}};e.default=o}).call(this,i("0de9")["default"])},"2a62":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={textarea:{value:"",placeholder:"",placeholderClass:"textarea-placeholder",placeholderStyle:"color: #c0c4cc",height:70,confirmType:"done",disabled:!1,count:!1,focus:!1,autoHeight:!1,fixed:!1,cursorSpacing:0,cursor:"",showConfirmBar:!0,selectionStart:-1,selectionEnd:-1,adjustPosition:!0,disableDefaultPadding:!1,holdKeyboard:!1,maxlength:140,border:"surround",formatter:null}}},"2a7e":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("c973")),o=n(i("cdd3")),s={name:"u-collapse-item",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],data:function(){return{elId:uni.$u.guid(),animationData:{},expanded:!1,showBorder:!1,animating:!1,parentData:{accordion:!1,border:!1}}},watch:{expanded:function(t){var e=this;clearTimeout(this.timer),this.timer=null,this.timer=setTimeout((function(){e.showBorder=t}),t?10:290)}},mounted:function(){this.init()},methods:{init:function(){var t=this;if(this.updateParentData(),!this.parent)return uni.$u.error("u-collapse-item\u5fc5\u987b\u8981\u642d\u914du-collapse\u7ec4\u4ef6\u4f7f\u7528");var e=this.parent,i=e.value,n=e.accordion;e.children;if(n){if(uni.$u.test.array(i))return uni.$u.error("\u624b\u98ce\u7434\u6a21\u5f0f\u4e0b\uff0cu-collapse\u7ec4\u4ef6\u7684value\u53c2\u6570\u4e0d\u80fd\u4e3a\u6570\u7ec4");this.expanded=this.name==i}else{if(!uni.$u.test.array(i)&&null!==i)return uni.$u.error("\u975e\u624b\u98ce\u7434\u6a21\u5f0f\u4e0b\uff0cu-collapse\u7ec4\u4ef6\u7684value\u53c2\u6570\u5fc5\u987b\u4e3a\u6570\u7ec4");this.expanded=(i||[]).some((function(e){return e==t.name}))}this.$nextTick((function(){this.setContentAnimate()}))},updateParentData:function(){this.getParentData("u-collapse")},setContentAnimate:function(){var t=this;return(0,a.default)(r.default.mark((function e(){var i,n,a;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.queryRect();case 2:i=e.sent,n=t.expanded?i.height:0,t.animating=!0,a=uni.createAnimation({timingFunction:"ease-in-out"}),a.height(n).step({duration:t.duration}).step(),t.animationData=a.export(),uni.$u.sleep(t.duration).then((function(){t.animating=!1}));case 9:case"end":return e.stop()}}),e)})))()},clickHandler:function(){this.disabled&&this.animating||this.parent&&this.parent.onChange(this)},queryRect:function(){var t=this;return new Promise((function(e){t.$uGetRect("#".concat(t.elId)).then((function(t){e(t)}))}))}}};e.default=s},"2bb5":function(t,e,i){"use strict";i.r(e);var n=i("36f3"),r=i("8054");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"3e31ceb3",null,!1,n["a"],void 0);e["default"]=s.exports},"2bb6":function(t,e,i){"use strict";i.r(e);var n=i("db3a"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"2be0":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={button:{hairline:!1,type:"info",size:"normal",shape:"square",plain:!1,disabled:!1,loading:!1,loadingText:"",loadingMode:"spinner",loadingSize:15,openType:"",formType:"",appParameter:"",hoverStopPropagation:!0,lang:"en",sessionFrom:"",sendMessageTitle:"",sendMessagePath:"",sendMessageImg:"",showMessageCard:!1,dataName:"",throttleTime:0,hoverStartTime:0,hoverStayTime:200,text:"",icon:"",iconColor:"",color:""}}},"2c31":function(t,e,i){"use strict";i.r(e);var n=i("00ac"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"2d79":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uCell:i("30c5").default,uLine:i("b640").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","u-collapse-item"),attrs:{_i:0}},[i("u-cell",{attrs:{title:t.title,value:t.value,label:t.label,icon:t.icon,isLink:t.isLink,clickable:t.clickable,border:t.parentData.border&&t.showBorder,arrowDirection:t.expanded?"up":"down",disabled:t.disabled,_i:1},on:{click:t.clickHandler}},[i("template",{slot:"title"},[t._t("title",null,{_i:3})],2),i("template",{slot:"icon"},[t._t("icon",null,{_i:5})],2),i("template",{slot:"value"},[t._t("value",null,{_i:7})],2),i("template",{slot:"right-icon"},[t._t("right-icon",null,{_i:9})],2)],2),i("view",{ref:"animation",staticClass:t._$s(10,"sc","u-collapse-item__content"),attrs:{animation:t._$s(10,"a-animation",t.animationData),_i:10}},[i("view",{ref:t._$s(11,"ref",t.elId),staticClass:t._$s(11,"sc","u-collapse-item__content__text content-class"),attrs:{id:t._$s(11,"a-id",t.elId),_i:11}},[t._t("default",null,{_i:12})],2)]),t._$s(13,"i",t.parentData.border)?i("u-line",{attrs:{_i:13}}):t._e()],1)},a=[]},"2db3":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("ac95")),a=n(i("f943")),o=n(i("aac3")),s={en:r.default,"zh-Hans":a.default,"zh-Hant":o.default};e.default=s},"2f15":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uPopup:i("c4b4").default,uCollapse:i("89eb").default,uCollapseItem:i("d2c1").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("u-popup",{attrs:{show:t.show,mode:"left",_i:1},on:{close:t.close,open:t.opencollapse,change:t.changecollapse}},[i("view",{staticClass:t._$s(2,"sc","collapse-box"),attrs:{_i:2}},[i("u-collapse",{ref:"collapse",attrs:{_i:3},on:{change:t.changecollapse}},[i("view",{staticClass:t._$s(4,"sc","collapse-title"),attrs:{_i:4}},[i("h3")]),i("scroll-view",{staticClass:t._$s(6,"sc","collapse-item-class"),attrs:{_i:6}},t._l(t._$s(7,"f",{forItems:this.list}),(function(e,n,r,a){return i("u-collapse-item",{key:t._$s(7,"f",{forIndex:r,key:n}),ref:"collapseHeight",refInFor:!0,attrs:{title:n,_i:"7-"+a}},[i("wlist",{attrs:{data:e,type:t.type,name:t.name,id:t._$s("8-"+a,"a-id",t.id),_i:"8-"+a},on:{popupClose:t.close}})],1)})),1)])],1)])],1)},a=[]},"2f28":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={swipeActionItem:{show:!1,name:"",disabled:!1,threshold:20,autoClose:!0,options:[],duration:300}}},"300d":function(t,e,i){"use strict";i.r(e);var n=i("23de"),r=i("1366");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},"30c5":function(t,e,i){"use strict";i.r(e);var n=i("66f5"),r=i("55bc");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"2150815e",null,!1,n["a"],void 0);e["default"]=s.exports},"311f":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uIcon:i("be49").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","serach"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","content"),style:t._$s(1,"s",{"border-radius":t.radius+"px"}),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","content-box"),attrs:{_i:2}},[t._$s(3,"i",t.selectList.length>0)?i("view",{staticClass:t._$s(3,"sc","seach-select"),attrs:{_i:3}},[i("view",{staticClass:t._$s(4,"sc","select-value"),attrs:{_i:4},on:{click:t.selectClick}},[t._v(t._$s(4,"t0-0",t._s(t.selectList[t.selectIndex].name))),i("view",{staticClass:t._$s(5,"sc","icon-css-search"),attrs:{_i:5}},[i("u-icon",{attrs:{name:"arrow-down-fill",color:"#8B8E94",size:"10",_i:6}})],1)]),i("view",{staticClass:t._$s(7,"sc","select-item-list"),style:t._$s(7,"s",{display:t.showSelectList?"block":"none"}),attrs:{_i:7}},[i("text",{staticClass:t._$s(8,"sc","cuIcon-triangleupfill"),attrs:{_i:8}}),t._l(t._$s(9,"f",{forItems:t.selectList}),(function(e,n,r,a){return i("view",{key:t._$s(9,"f",{forIndex:r,key:n}),class:t._$s("9-"+a,"c",["select-item",n>0?"item-border":""]),attrs:{_i:"9-"+a},on:{click:function(e){return t.selectItem(n)}}},[t._v(t._$s("9-"+a,"t0-0",t._s(e.name)))])}))],2)]):t._e(),t._$s(10,"i",t.showSeachIcon)?i("text",{staticClass:t._$s(10,"sc","cuIcon-search"),attrs:{_i:10}}):t._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],staticClass:t._$s(11,"sc","input"),attrs:{placeholder:t._$s(11,"a-placeholder",t.placeholder),focus:t._$s(11,"a-focus",t.isFocus),_i:11},domProps:{value:t._$s(11,"v-model",t.inputVal)},on:{input:[function(e){e.target.composing||(t.inputVal=e.target.value)},t.inputChange],confirm:t.triggerConfirm,focus:t.focus,blur:t.blur}}),t._$s(12,"i",t.isDelShow)?i("text",{staticClass:t._$s(12,"sc","cuIcon-roundclose"),attrs:{_i:12},on:{click:function(e){return e.stopPropagation(),t.clear(e)}}}):t._e()]),t._$s(13,"i",t.showSeachBth&&"inside"===t.button||t.isDelShow&&"inside"===t.button)?i("view",{staticClass:t._$s(13,"sc","serachBtn"),attrs:{_i:13},on:{click:t.search}}):t._e()]),t._$s(14,"i","outside"===t.button)?i("view",{staticClass:t._$s(14,"sc","button"),class:t._$s(14,"c",{active:t.showSeachBth}),attrs:{_i:14},on:{click:t.search}},[i("view",{staticClass:t._$s(15,"sc","button-item"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.showSeachBth?"\u641c\u7d22":t.searchName)))])]):t._e(),i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(16,"v-show",t.showSelectList),expression:"_$s(16,'v-show',showSelectList)"}],staticClass:t._$s(16,"sc","page-mask"),attrs:{_i:16},on:{click:t.selectClick}})])},a=[]},"31c8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={swipeAction:{autoClose:!0}}},"31db":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","content"),class:t._$s(0,"c",{active:t.active}),attrs:{_i:0}},[n("image",{staticClass:t._$s(1,"sc","logo"),class:t._$s(1,"c",{active:t.active}),attrs:{src:t._$s(1,"a-src",i("fb6b")),_i:1}}),n("view",{staticClass:t._$s(2,"sc","tabbar-box-wrap"),attrs:{_i:2}},[n("view",{staticClass:t._$s(3,"sc","tabbar-box"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","tabbar-box-item"),attrs:{_i:4},on:{click:function(e){return t.goToPage("/pages/tabbar-3-detial/tabbar-3-release/tabbar-3-release")}}},[n("image",{staticClass:t._$s(5,"sc","box-image"),attrs:{src:t._$s(5,"a-src",i("470b")),_i:5}}),n("text",{staticClass:t._$s(6,"sc","explain"),attrs:{_i:6}})]),n("view",{staticClass:t._$s(7,"sc","tabbar-box-item"),attrs:{_i:7},on:{click:function(e){return t.goToPage("/pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video")}}},[n("image",{staticClass:t._$s(8,"sc","box-image"),attrs:{src:t._$s(8,"a-src",i("d44e")),_i:8}}),n("text",{staticClass:t._$s(9,"sc","explain"),attrs:{_i:9}})]),n("view",{staticClass:t._$s(10,"sc","tabbar-box-item"),attrs:{_i:10},on:{click:function(e){return t.goToPage("/pages/tabbar-3-detial/tabbar-3-qa/tabbar-3-qa")}}},[n("image",{staticClass:t._$s(11,"sc","box-image"),attrs:{src:t._$s(11,"a-src",i("4aba")),_i:11}}),n("text",{staticClass:t._$s(12,"sc","explain"),attrs:{_i:12}})])])])])},r=[]},"32a9":function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("c973")),o=n(i("448a")),s=i("801f"),l={namespaced:!0,state:{searchList:null,searchHomeList:null,chapterInfo:null,bookval:null,listcount:0},mutations:{addType:function(e,i){var n;i.data.forEach((function(t){t.type=i.type})),e.searchList||(e.searchList=[]),(n=e.searchList).push.apply(n,(0,o.default)(i.data)),e.listcount=i.count,t("log",e.searchList," at store/modules/book.js:26")},addHomeType:function(t,e){var i;e.data.forEach((function(t){t.type=e.type})),t.searchHomeList=[],(i=t.searchHomeList).push.apply(i,(0,o.default)(e.data))},setBookVal:function(t,e){t.bookval=e.data},resetbookval:function(t,e){t.bookval=e},resetsearchList:function(t,e){t.searchList=e}},actions:{bookgetlist:function(t,e){return(0,a.default)(r.default.mark((function i(){var n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,s.getsearchBook)(e);case 2:return n=i.sent,n.data&&t.commit("addType",{data:n.data,type:"book",count:n.count}),i.abrupt("return",n.code);case 5:case"end":return i.stop()}}),i)})))()},homebookgetlist:function(t,e){return new Promise((function(i,n){(0,s.getsearchBook)(e).then((function(e){e.data&&t.commit("addHomeType",{data:e.data,type:"book",count:e.count}),i(e)})).catch((function(t){n(t)}))}))},getsearchBookContentfun:function(e,i){return(0,a.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.getsearchBookContent)(i);case 2:return a=n.sent,t("log",a.data," at store/modules/book.js:75"),a.data.pop(),e.commit("setBookVal",{data:a.data.join(),type:"book"}),n.abrupt("return",a.code);case 7:case"end":return n.stop()}}),n)})))()}},getters:{booklist:function(t){return t.searchHomeList?t.searchHomeList:[]},bookchapter:function(t){return t.chapterInfo?t.chapterInfo:null}}},u=l;e.default=u}).call(this,i("0de9")["default"])},"32b6":function(t,e,i){"use strict";i.r(e);var n=i("ca81"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"345d":function(t,e,i){"use strict";i.r(e);var n=i("3c24"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},3499:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uStatusBar:i("daa2").default,uIcon:i("be49").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","u-navbar"),attrs:{_i:0}},[t._$s(1,"i",t.fixed&&t.placeholder)?i("view",{staticClass:t._$s(1,"sc","u-navbar__placeholder"),style:t._$s(1,"s",{height:t.$u.addUnit(t.$u.getPx(t.height)+t.$u.sys().statusBarHeight,"px")}),attrs:{_i:1}}):t._e(),i("view",{class:t._$s(2,"c",[t.fixed&&"u-navbar--fixed"]),attrs:{_i:2}},[t._$s(3,"i",t.safeAreaInsetTop)?i("u-status-bar",{attrs:{bgColor:t.bgColor,_i:3}}):t._e(),i("view",{staticClass:t._$s(4,"sc","u-navbar__content"),class:t._$s(4,"c",[t.border&&"u-border-bottom"]),style:t._$s(4,"s",{height:t.$u.addUnit(t.height),backgroundColor:t.bgColor}),attrs:{_i:4}},[i("view",{staticClass:t._$s(5,"sc","u-navbar__content__left"),attrs:{_i:5},on:{click:t.leftClick}},[t._t("left",[t._$s(7,"i",t.leftIcon)?i("u-icon",{attrs:{name:t.leftIcon,size:t.leftIconSize,color:t.leftIconColor,_i:7}}):t._e(),t._$s(8,"i",t.leftText)?i("text",{staticClass:t._$s(8,"sc","u-navbar__content__left__text"),style:t._$s(8,"s",{color:t.leftIconColor}),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.leftText)))]):t._e()],{_i:6})],2),t._t("center",[i("text",{staticClass:t._$s(10,"sc","u-line-1 u-navbar__content__title"),style:t._$s(10,"s",[{width:t.$u.addUnit(t.titleWidth)},t.$u.addStyle(t.titleStyle)]),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.title)))])],{_i:9}),t._$s(11,"i",t.$slots.right||t.rightIcon||t.rightText)?i("view",{staticClass:t._$s(11,"sc","u-navbar__content__right"),attrs:{_i:11},on:{click:t.rightClick}},[t._t("right",[t._$s(13,"i",t.rightIcon)?i("u-icon",{attrs:{name:t.rightIcon,size:"20",_i:13}}):t._e(),t._$s(14,"i",t.rightText)?i("text",{staticClass:t._$s(14,"sc","u-navbar__content__right__text"),attrs:{_i:14}},[t._v(t._$s(14,"t0-0",t._s(t.rightText)))]):t._e()],{_i:12})],2):t._e()],2)],1)])},a=[]},"36c6":function(t,e){function i(e){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},"36d9":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("3ccb")),a={name:"u-list",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],watch:{scrollIntoView:function(t){this.scrollIntoViewById(t)}},data:function(){return{innerScrollTop:0,offset:0,sys:uni.$u.sys()}},computed:{listStyle:function(){var t={},e=uni.$u.addUnit;return 0!=this.width&&(t.width=e(this.width)),0!=this.height&&(t.height=e(this.height)),t.height||(t.height=e(this.sys.windowHeight,"px")),uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}},provide:function(){return{uList:this}},created:function(){this.refs=[],this.children=[],this.anchors=[]},mounted:function(){},methods:{updateOffsetFromChild:function(t){this.offset=t},onScroll:function(t){var e;e=t.detail.scrollTop,this.innerScrollTop=e,this.$emit("scroll",Math.abs(e))},scrollIntoViewById:function(t){},scrolltolower:function(t){var e=this;uni.$u.sleep(30).then((function(){e.$emit("scrolltolower")}))},scrolltoupper:function(t){var e=this;uni.$u.sleep(30).then((function(){e.$emit("scrolltoupper"),e.offset=0}))}}};e.default=a},"36f3":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uSticky:i("d096").default,uLoadingPage:i("17e1").default,"u-Text":i("f6e5").default,uRow:i("f41f").default,uCol:i("9f7c").default,uButton:i("86a5").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("u-sticky",{attrs:{customNavHeight:0,_i:1}},[i("Wnavbar",{attrs:{title:t.searchData.title,_i:2}})],1),i("u-loading-page",{attrs:{loading:!t.bookval,_i:3}}),t._$s(4,"i",t.bookval)?i("view",{staticClass:t._$s(4,"sc","video-box-class"),attrs:{_i:4}},[i("view",{staticClass:t._$s(5,"sc","textbodybox"),attrs:{_i:5}},[i("u--text",{attrs:{text:t.bookval?t.bookval:"",size:"25",_i:6}})],1),i("u-row",{attrs:{customStyle:"margin: 50rpx 0 50rpx 0",_i:7}},[i("u-col",{attrs:{span:"2",_i:8}}),i("u-col",{attrs:{span:"3",_i:9}},[i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(10,"v-show",t.upbotton.show),expression:"_$s(10,'v-show',upbotton.show)"}],attrs:{_i:10}},[i("u-button",{attrs:{type:"primary",size:"small",text:"\u4e0a\u4e00\u7ae0",_i:11},on:{click:function(e){return t.bottonClick(1)}}})],1)]),i("u-col",{attrs:{span:"2",_i:12}}),i("u-col",{attrs:{span:"3",_i:13}},[i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(14,"v-show",t.downbotton.show),expression:"_$s(14,'v-show',downbotton.show)"}],attrs:{_i:14}},[i("u-button",{attrs:{type:"primary",size:"small",text:"\u4e0b\u4e00\u7ae0",_i:15},on:{click:function(e){return t.bottonClick(2)}}})],1)]),i("u-col",{attrs:{span:"2",_i:16}})],1)],1):t._e()],1)},a=[]},"371d":function(t,e,i){"use strict";i.r(e);var n=i("3e82"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"371d1":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("uvImage",{attrs:{src:t.src,mode:t.mode,width:t.width,height:t.height,shape:t.shape,radius:t.radius,lazyLoad:t.lazyLoad,showMenuByLongpress:t.showMenuByLongpress,loadingIcon:t.loadingIcon,errorIcon:t.errorIcon,showLoading:t.showLoading,showError:t.showError,fade:t.fade,webp:t.webp,duration:t.duration,bgColor:t.bgColor,customStyle:t.customStyle,_i:0},on:{click:function(e){return t.$emit("click")},error:function(e){return t.$emit("error")},load:function(e){return t.$emit("load")}},scopedSlots:t._u([{key:"loading",fn:function(e,i,n){return[t._t("loading",null,{_i:"2-"+n})]}},{key:"error",fn:function(e,i,n){return[t._t("error",null,{_i:"4-"+n})]}}],null,!0)})},r=[]},"37dc":function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.LOCALE_ZH_HANT=e.LOCALE_ZH_HANS=e.LOCALE_FR=e.LOCALE_ES=e.LOCALE_EN=e.I18n=e.Formatter=void 0,e.compileI18nJsonStr=function(t,e){var i=e.locale,n=e.locales,r=e.delimiters;if(!T(t,r))return t;k||(k=new c);var a=[];Object.keys(n).forEach((function(t){t!==i&&a.push({locale:t,values:n[t]})})),a.unshift({locale:i,values:n[i]});try{return JSON.stringify(A(JSON.parse(t),a,r),null,2)}catch(o){}return t},e.hasI18nJson=function t(e,i){k||(k=new c);return x(e,(function(e,n){var r=e[n];return S(r)?!!T(r,i)||void 0:t(r,i)}))},e.initVueI18n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if("string"!==typeof t){var r=[e,t];t=r[0],e=r[1]}"string"!==typeof t&&(t=w());"string"!==typeof i&&(i="undefined"!==typeof __uniConfig&&__uniConfig.fallbackLocale||"en");var a=new b({locale:t,fallbackLocale:i,messages:e,watcher:n}),o=function(t,e){if("function"!==typeof getApp)o=function(t,e){return a.t(t,e)};else{var i=!1;o=function(t,e){var n=getApp().$vm;return n&&(n.$locale,i||(i=!0,_(n,a))),a.t(t,e)}}return o(t,e)};return{i18n:a,f:function(t,e,i){return a.f(t,e,i)},t:function(t,e){return o(t,e)},add:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a.add(t,e,i)},watch:function(t){return a.watchLocale(t)},getLocale:function(){return a.getLocale()},setLocale:function(t){return a.setLocale(t)}}},e.isI18nStr=T,e.isString=void 0,e.normalizeLocale=y,e.parseI18nJson=function t(e,i,n){k||(k=new c);return x(e,(function(e,r){var a=e[r];S(a)?T(a,n)&&(e[r]=E(a,i,n)):t(a,i,n)})),e},e.resolveLocale=function(t){return function(e){return e?(e=y(e)||e,function(t){var e=[],i=t.split("-");while(i.length)e.push(i.join("-")),i.pop();return e}(e).find((function(e){return t.indexOf(e)>-1}))):e}};var r=n(i("278c")),a=n(i("970b")),o=n(i("5bc3")),s=n(i("7037")),l=function(t){return null!==t&&"object"===(0,s.default)(t)},u=["{","}"],c=function(){function t(){(0,a.default)(this,t),this._caches=Object.create(null)}return(0,o.default)(t,[{key:"interpolate",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;if(!e)return[t];var n=this._caches[t];return n||(n=h(t,i),this._caches[t]=n),p(n,e)}}]),t}();e.Formatter=c;var d=/^(?:\d)+/,f=/^(?:\w)+/;function h(t,e){var i=(0,r.default)(e,2),n=i[0],a=i[1],o=[],s=0,l="";while(s<t.length){var u=t[s++];if(u===n){l&&o.push({type:"text",value:l}),l="";var c="";u=t[s++];while(void 0!==u&&u!==a)c+=u,u=t[s++];var h=u===a,p=d.test(c)?"list":h&&f.test(c)?"named":"unknown";o.push({value:c,type:p})}else l+=u}return l&&o.push({type:"text",value:l}),o}function p(t,e){var i=[],n=0,r=Array.isArray(e)?"list":l(e)?"named":"unknown";if("unknown"===r)return i;while(n<t.length){var a=t[n];switch(a.type){case"text":i.push(a.value);break;case"list":i.push(e[parseInt(a.value,10)]);break;case"named":"named"===r&&i.push(e[a.value]);break;case"unknown":0;break}n++}return i}e.LOCALE_ZH_HANS="zh-Hans";e.LOCALE_ZH_HANT="zh-Hant";e.LOCALE_EN="en";e.LOCALE_FR="fr";e.LOCALE_ES="es";var v=Object.prototype.hasOwnProperty,g=function(t,e){return v.call(t,e)},m=new c;function y(t,e){if(t){if(t=t.trim().replace(/_/g,"-"),e&&e[t])return t;if(t=t.toLowerCase(),"chinese"===t)return"zh-Hans";if(0===t.indexOf("zh"))return t.indexOf("-hans")>-1?"zh-Hans":t.indexOf("-hant")>-1||function(t,e){return!!e.find((function(e){return-1!==t.indexOf(e)}))}(t,["-tw","-hk","-mo","-cht"])?"zh-Hant":"zh-Hans";var i=["en","fr","es"];e&&Object.keys(e).length>0&&(i=Object.keys(e));var n=function(t,e){return e.find((function(e){return 0===t.indexOf(e)}))}(t,i);return n||void 0}}var b=function(){function t(e){var i=e.locale,n=e.fallbackLocale,r=e.messages,o=e.watcher,s=e.formater;(0,a.default)(this,t),this.locale="en",this.fallbackLocale="en",this.message={},this.messages={},this.watchers=[],n&&(this.fallbackLocale=n),this.formater=s||m,this.messages=r||{},this.setLocale(i||"en"),o&&this.watchLocale(o)}return(0,o.default)(t,[{key:"setLocale",value:function(t){var e=this,i=this.locale;this.locale=y(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach((function(t){t(e.locale,i)}))}},{key:"getLocale",value:function(){return this.locale}},{key:"watchLocale",value:function(t){var e=this,i=this.watchers.push(t)-1;return function(){e.watchers.splice(i,1)}}},{key:"add",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.messages[t];n?i?Object.assign(n,e):Object.keys(e).forEach((function(t){g(n,t)||(n[t]=e[t])})):this.messages[t]=e}},{key:"f",value:function(t,e,i){return this.formater.interpolate(t,e,i).join("")}},{key:"t",value:function(t,e,i){var n=this.message;return"string"===typeof e?(e=y(e,this.messages),e&&(n=this.messages[e])):i=e,g(n,t)?this.formater.interpolate(n[t],i).join(""):(console.warn("Cannot translate the value of keypath ".concat(t,". Use the value of keypath as default.")),t)}}]),t}();function _(t,e){t.$watchLocale?t.$watchLocale((function(t){e.setLocale(t)})):t.$watch((function(){return t.$locale}),(function(t){e.setLocale(t)}))}function w(){return"undefined"!==typeof uni&&uni.getLocale?uni.getLocale():"undefined"!==typeof t&&t.getLocale?t.getLocale():"en"}e.I18n=b;var k,S=function(t){return"string"===typeof t};function T(t,e){return t.indexOf(e[0])>-1}function E(t,e,i){return k.interpolate(t,e,i).join("")}function A(t,e,i){return x(t,(function(t,n){(function(t,e,i,n){var r=t[e];if(S(r)){if(T(r,n)&&(t[e]=E(r,i[0].values,n),i.length>1)){var a=t[e+"Locales"]={};i.forEach((function(t){a[t.locale]=E(r,t.values,n)}))}}else A(r,i,n)})(t,n,e,i)})),t}function x(t,e){if(Array.isArray(t)){for(var i=0;i<t.length;i++)if(e(t,i))return!0}else if(l(t))for(var n in t)if(e(t,n))return!0;return!1}e.isString=S}).call(this,i("c8ba"))},"37ea":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={columnNotice:{text:"",icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",fontSize:14,speed:80,step:!1,duration:1500,disableTouch:!0}}},"381a":function(t,e,i){"use strict";i.r(e);var n=i("cd0d"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"393a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{lang:String,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,formType:String,openType:String}};e.default=n},"39cc":function(t,e,i){"use strict";i.r(e);var n=i("de0c"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"3af4":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={rowNotice:{text:"",icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",fontSize:14,speed:80}}},"3b2b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{stackFromEnd:{type:Boolean,default:!1},enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0},renderReverse:{type:Boolean,default:!1}},created:function(){this.firstChildAppend=!1},methods:{loadMore:function(t){this.$emit("scrolltolower")},scroll:function(t){this.$emit("scroll",t)}}};e.default=n},"3b41":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={divider:{dashed:!1,hairline:!0,dot:!1,textPosition:"center",text:"",textSize:14,textColor:"#909399",lineColor:"#dcdfe6"}}},"3c24":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={data:function(){return{}}}},"3c96":function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports["default"]=t.exports},"3ccb":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{showScrollbar:{type:Boolean,default:uni.$u.props.list.showScrollbar},lowerThreshold:{type:[String,Number],default:uni.$u.props.list.lowerThreshold},upperThreshold:{type:[String,Number],default:uni.$u.props.list.upperThreshold},scrollTop:{type:[String,Number],default:uni.$u.props.list.scrollTop},offsetAccuracy:{type:[String,Number],default:uni.$u.props.list.offsetAccuracy},enableFlex:{type:Boolean,default:uni.$u.props.list.enableFlex},pagingEnabled:{type:Boolean,default:uni.$u.props.list.pagingEnabled},scrollable:{type:Boolean,default:uni.$u.props.list.scrollable},scrollIntoView:{type:String,default:uni.$u.props.list.scrollIntoView},scrollWithAnimation:{type:Boolean,default:uni.$u.props.list.scrollWithAnimation},enableBackToTop:{type:Boolean,default:uni.$u.props.list.enableBackToTop},height:{type:[String,Number],default:uni.$u.props.list.height},width:{type:[String,Number],default:uni.$u.props.list.width},preLoadScreen:{type:[String,Number],default:uni.$u.props.list.preLoadScreen}}};e.default=n},"3e48":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={alert:{title:"",type:"warning",description:"",closable:!1,showIcon:!1,effect:"light",center:!1,fontSize:14}}},"3e82":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i("ed92");var n={props:["data","title","type"],data:function(){return{}},components:{},onLoad:function(){},methods:{clickHomeItem:function(t){var e;"book"==this.type&&(e="/pageB/chapter/indexChapter?id=".concat(t.fictionId,"&name=").concat(t.title,"&type=").concat(t.type)),"comic"==this.type&&(e="/pageB/chapter/indexChapter?id=".concat(t.comicId,"&name=").concat(t.title,"&type=").concat(t.type)),"video"==this.type&&(e="/pageB/chapter/indexChapter?id=".concat(t.videoId,"&name=").concat(t.title,"&type=").concat(t.type)),uni.navigateTo({url:e})},selectType:function(t){return"book"==t.type?t.fictionId:"comic"==t.type?t.comicId:t.videoId}},mounted:function(){}};e.default=n},"3ea5":function(t,e,i){"use strict";i.r(e);var n=i("c191"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"3f23":function(t,e,i){"use strict";i.r(e);var n=i("cc5f"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"3f95":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("b230")),a={name:"u-list-item",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{rect:{},index:0,show:!0,sys:uni.$u.sys()}},computed:{},inject:["uList"],watch:{"uList.innerScrollTop":function(t){var e=this.uList.preLoadScreen,i=this.sys.windowHeight;t<=i*e?this.parent.updateOffsetFromChild(0):this.rect.top<=t-i*e&&this.parent.updateOffsetFromChild(this.rect.top)}},created:function(){this.parent={}},mounted:function(){this.init()},methods:{init:function(){this.updateParentData(),this.index=this.parent.children.indexOf(this),this.resize()},updateParentData:function(){this.getParentData("u-list")},resize:function(){var t=this;this.queryRect("u-list-item-".concat(this.anchor)).then((function(e){var i=t.parent.children[t.index-1];t.rect=e;var n=t.uList.preLoadScreen,r=t.sys.windowHeight;i&&(t.rect.top=i.rect.top+i.rect.height),e.top>=t.uList.innerScrollTop+(1+n)*r&&(t.show=!1)}))},queryRect:function(t){var e=this;return new Promise((function(i){e.$uGetRect(".".concat(t)).then((function(t){i(t)}))}))}}};e.default=a},4038:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("7751")),a={name:"u-cell",data:function(){return{}},mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],computed:{titleTextStyle:function(){return uni.$u.addStyle(this.titleStyle)}},methods:{clickHandler:function(t){this.disabled||(this.$emit("click",{name:this.name}),this.openPage(),this.stop&&this.preventEvent(t))}}};e.default=a},"40a9":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("e242")),a=(n(i("393a")),n(i("0678")),n(i("19b8"))),o={name:"u--text",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default,a.default],computed:{valueStyle:function(){var t={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:uni.$u.addUnit(this.size)};return!this.type&&(t.color=this.color),this.isNvue&&this.lines&&(t.lines=this.lines),this.lineHeight&&(t.lineHeight=uni.$u.addUnit(this.lineHeight)),!this.isNvue&&this.block&&(t.display="block"),uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))},isNvue:function(){return!1},isMp:function(){return!1}},data:function(){return{}},methods:{clickHandler:function(){this.call&&"phone"===this.mode&&uni.makePhoneCall({phoneNumber:this.text}),this.$emit("click")}}};e.default=o},4188:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={listItem:{anchor:""}}},4190:function(t,e,i){"use strict";i.r(e);var n=i("702e"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"41f6":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("7037"));function a(t){return/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(t)}function o(t){switch((0,r.default)(t)){case"undefined":return!0;case"string":if(0==t.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!t)return!0;break;case"number":if(0===t||isNaN(t))return!0;break;case"object":if(null===t||0===t.length)return!0;for(var e in t)return!1;return!0}return!1}function s(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"function"===typeof t}var u={email:function(t){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(t)},mobile:function(t){return/^1([3589]\d|4[5-9]|6[1-2,4-7]|7[0-8])\d{8}$/.test(t)},url:function(t){return/^((https|http|ftp|rtsp|mms):\/\/)(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\/?)$/.test(t)},date:function(t){return!!t&&(a(t)&&(t=+t),!/Invalid|NaN/.test(new Date(t).toString()))},dateISO:function(t){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:a,digits:function(t){return/^\d+$/.test(t)},idCard:function(t){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(t)},carNo:function(t){return 7===t.length?/^[\u4eac\u6d25\u6caa\u6e1d\u5180\u8c6b\u4e91\u8fbd\u9ed1\u6e58\u7696\u9c81\u65b0\u82cf\u6d59\u8d63\u9102\u6842\u7518\u664b\u8499\u9655\u5409\u95fd\u8d35\u7ca4\u9752\u85cf\u5ddd\u5b81\u743c\u4f7f\u9886A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9\u6302\u5b66\u8b66\u6e2f\u6fb3]{1}$/.test(t):8===t.length&&/^[\u4eac\u6d25\u6caa\u6e1d\u5180\u8c6b\u4e91\u8fbd\u9ed1\u6e58\u7696\u9c81\u65b0\u82cf\u6d59\u8d63\u9102\u6842\u7518\u664b\u8499\u9655\u5409\u95fd\u8d35\u7ca4\u9752\u85cf\u5ddd\u5b81\u743c\u4f7f\u9886A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/.test(t)},amount:function(t){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(t)},chinese:function(t){return/^[\u4e00-\u9fa5]+$/gi.test(t)},letter:function(t){return/^[a-zA-Z]*$/.test(t)},enOrNum:function(t){return/^[0-9a-zA-Z]*$/g.test(t)},contains:function(t,e){return t.indexOf(e)>=0},range:function(t,e){return t>=e[0]&&t<=e[1]},rangeLength:function(t,e){return t.length>=e[0]&&t.length<=e[1]},empty:o,isEmpty:o,jsonString:function(t){if("string"===typeof t)try{var e=JSON.parse(t);return!("object"!==(0,r.default)(e)||!e)}catch(i){return!1}return!1},landline:function(t){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(t)},object:s,array:function(t){return"function"===typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},code:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return new RegExp("^\\d{".concat(e,"}$")).test(t)},func:l,promise:function(t){return s(t)&&l(t.then)&&l(t.catch)},video:function(t){return/\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv|m3u8)/i.test(t)},image:function(t){var e=t.split("?")[0];return/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i.test(e)},regExp:function(t){return t&&"[object RegExp]"===Object.prototype.toString.call(t)},string:function(t){return"string"===typeof t}};e.default=u},"437a":function(t,e,i){"use strict";i.r(e);var n=i("c970"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"448a":function(t,e,i){var n=i("2236"),r=i("11b0"),a=i("6613"),o=i("0676");t.exports=function(t){return n(t)||r(t)||a(t)||o()},t.exports.__esModule=!0,t.exports["default"]=t.exports},"448e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={stepsItem:{title:"",desc:"",iconSize:17,error:!1}}},"451c":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("b316")),a=r.default.color,o={link:{color:a["u-primary"],fontSize:15,underLine:!1,href:"",mpTips:"\u94fe\u63a5\u5df2\u590d\u5236\uff0c\u8bf7\u5728\u6d4f\u89c8\u5668\u6253\u5f00",lineColor:"",text:""}};e.default=o},"453c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={keyboard:{mode:"number",dotDisabled:!1,tooltip:!0,showTips:!0,tips:"",showCancel:!0,showConfirm:!0,random:!1,safeAreaInsetBottom:!0,closeOnClickOverlay:!0,show:!1,overlay:!0,zIndex:10075,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u5b9a",autoChange:!1}}},4693:function(t,e,i){"use strict";i.r(e);var n=i("eaeb"),r=i("0c1e");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"10a89718",null,!1,n["a"],void 0);e["default"]=s.exports},"470b":function(t,e){t.exports="/static/img/release.png"},4740:function(t,e,i){"use strict";i.r(e);var n=i("29b8"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"47e5":function(t,e,i){"use strict";i.r(e);var n=i("a963"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"480f":function(t,e,i){var n=i("c135"),r=i("11b0"),a=i("6613"),o=i("c240");t.exports=function(t){return n(t)||r(t)||a(t)||o()},t.exports.__esModule=!0,t.exports["default"]=t.exports},"489e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{bgColor:{type:String,default:uni.$u.props.statusBar.bgColor}}};e.default=n},4964:function(t,e,i){"use strict";i.r(e);var n=i("a6c0"),r=i("5514");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"bc26bc76",null,!1,n["a"],void 0);e["default"]=s.exports},"496a":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),a=n(i("af67")),o=n(i("12a2")),s=n(i("6567")),l=n(i("1fd3")),u=n(i("77de")),c=n(i("41f6")),d=n(i("e56e")),f=n(i("e1c6")),h=n(i("5778")),p=n(i("b316")),v=n(i("a3ba")),g=n(i("50eb")),m=n(i("24fc")),y=n(i("a74f"));function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var w=_(_({route:l.default,date:h.default.timeFormat,colorGradient:u.default.colorGradient,hexToRgb:u.default.hexToRgb,rgbToHex:u.default.rgbToHex,colorToRgba:u.default.colorToRgba,test:c.default,type:["primary","success","error","warning","info"],http:new s.default,config:p.default,zIndex:g.default,debounce:d.default,throttle:f.default,mixin:a.default,mpMixin:o.default,props:v.default},h.default),{},{color:m.default,platform:y.default});uni.$u=w;var k={install:function(t){t.filter("timeFormat",(function(t,e){return uni.$u.timeFormat(t,e)})),t.filter("date",(function(t,e){return uni.$u.timeFormat(t,e)})),t.filter("timeFrom",(function(t,e){return uni.$u.timeFrom(t,e)})),t.prototype.$u=w,t.mixin(a.default)}};e.default=k},4981:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uLine:i("b640").default},r=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","u-collapse"),attrs:{_i:0}},[this._$s(1,"i",this.border)?e("u-line",{attrs:{_i:1}}):this._e(),this._t("default",null,{_i:2})],2)},a=[]},"4a4b":function(t,e){function i(e,n){return t.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports["default"]=t.exports,i(e,n)}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},"4a6e":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("c973")),o=n(i("448a")),s=i("801f"),l={namespaced:!0,state:{searchList:null,searchHomeList:null,listcount:0},mutations:{addType:function(t,e){var i;e.data.forEach((function(t){t.type=e.type})),t.searchList||(t.searchList=[]),(i=t.searchList).push.apply(i,(0,o.default)(e.data)),t.listcount=e.count},addHomeType:function(t,e){var i;e.data.forEach((function(t){t.type=e.type})),t.searchHomeList=[],(i=t.searchHomeList).push.apply(i,(0,o.default)(e.data))},resetsearchList:function(t,e){t.searchList=e}},actions:{videogetlist:function(t,e){return(0,a.default)(r.default.mark((function i(){var n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,s.getsearchVideo)(e);case 2:return n=i.sent,n.data&&t.commit("addType",{data:n.data,type:"video",count:n.count}),i.abrupt("return",n.code);case 5:case"end":return i.stop()}}),i)})))()},homevideogetlist:function(t,e){return(0,a.default)(r.default.mark((function i(){return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,n){(0,s.getsearchVideo)(e).then((function(e){e.data&&t.commit("addHomeType",{data:e.data,type:"video",count:e.count}),i(e)})).catch((function(t){n(t)}))})));case 1:case"end":return i.stop()}}),i)})))()}},getters:{videolist:function(t){return t.searchHomeList?t.searchHomeList:[]}}},u=l;e.default=u},"4aba":function(t,e){t.exports="/static/img/qa.png"},"4c8b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={tag:{type:"primary",disabled:!1,size:"medium",shape:"square",text:"",bgColor:"",color:"",borderColor:"",closeColor:"#C6C7CB",name:"",plainFill:!1,plain:!1,closable:!1,show:!0,icon:""}}},"4d07":function(t,e,i){"use strict";i.r(e);var n=i("14c8"),r=i("16e1");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"b1f995c2",null,!1,n["a"],void 0);e["default"]=s.exports},"4d64":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={numberBox:{name:"",value:0,min:1,max:Number.MAX_SAFE_INTEGER,step:1,integer:!1,disabled:!1,disabledInput:!1,asyncChange:!1,inputWidth:35,showMinus:!0,showPlus:!0,decimalLength:null,longPress:!0,color:"#323233",buttonSize:30,bgColor:"#EBECEE",cursorSpacing:100,disableMinus:!1,disablePlus:!1,iconStyle:""}};e.default=n},"4de9":function(t,e,i){"use strict";i.r(e);var n=i("2f15"),r=i("e167");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"1b35ce43",null,!1,n["a"],void 0);e["default"]=s.exports},"4e51":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={def:"zh",getType:function(){return uni.getStorageSync("mescroll-i18n")||this.def},setType:function(t){uni.setStorageSync("mescroll-i18n",t)}},r=n;e.default=r},"4ea4":function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports["default"]=t.exports},"4f66":function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("7037")),a=function(){function e(t,e){return null!=e&&t instanceof e}var i,n,a;try{i=Map}catch(u){i=function(){}}try{n=Set}catch(u){n=function(){}}try{a=Promise}catch(u){a=function(){}}function o(s,u,c,d,f){"object"===(0,r.default)(u)&&(c=u.depth,d=u.prototype,f=u.includeNonEnumerable,u=u.circular);var h=[],p=[],v="undefined"!=typeof t;return"undefined"==typeof u&&(u=!0),"undefined"==typeof c&&(c=1/0),function s(c,g){if(null===c)return null;if(0===g)return c;var m,y;if("object"!=(0,r.default)(c))return c;if(e(c,i))m=new i;else if(e(c,n))m=new n;else if(e(c,a))m=new a((function(t,e){c.then((function(e){t(s(e,g-1))}),(function(t){e(s(t,g-1))}))}));else if(o.__isArray(c))m=[];else if(o.__isRegExp(c))m=new RegExp(c.source,l(c)),c.lastIndex&&(m.lastIndex=c.lastIndex);else if(o.__isDate(c))m=new Date(c.getTime());else{if(v&&t.isBuffer(c))return t.from?m=t.from(c):(m=new t(c.length),c.copy(m)),m;e(c,Error)?m=Object.create(c):"undefined"==typeof d?(y=Object.getPrototypeOf(c),m=Object.create(y)):(m=Object.create(d),y=d)}if(u){var b=h.indexOf(c);if(-1!=b)return p[b];h.push(c),p.push(m)}for(var _ in e(c,i)&&c.forEach((function(t,e){var i=s(e,g-1),n=s(t,g-1);m.set(i,n)})),e(c,n)&&c.forEach((function(t){var e=s(t,g-1);m.add(e)})),c){var w=Object.getOwnPropertyDescriptor(c,_);w&&(m[_]=s(c[_],g-1));try{var k=Object.getOwnPropertyDescriptor(c,_);if("undefined"===k.set)continue;m[_]=s(c[_],g-1)}catch(L){if(L instanceof TypeError)continue;if(L instanceof ReferenceError)continue}}if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(c);for(_=0;_<S.length;_++){var T=S[_],E=Object.getOwnPropertyDescriptor(c,T);(!E||E.enumerable||f)&&(m[T]=s(c[T],g-1),Object.defineProperty(m,T,E))}}if(f){var A=Object.getOwnPropertyNames(c);for(_=0;_<A.length;_++){var x=A[_];E=Object.getOwnPropertyDescriptor(c,x);E&&E.enumerable||(m[x]=s(c[x],g-1),Object.defineProperty(m,x,E))}}return m}(s,c)}function s(t){return Object.prototype.toString.call(t)}function l(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=s,o.__isDate=function(t){return"object"===(0,r.default)(t)&&"[object Date]"===s(t)},o.__isArray=function(t){return"object"===(0,r.default)(t)&&"[object Array]"===s(t)},o.__isRegExp=function(t){return"object"===(0,r.default)(t)&&"[object RegExp]"===s(t)},o.__getRegExpFlags=l,o}(),o=a;e.default=o}).call(this,i("b639").Buffer)},5005:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={countDown:{time:0,format:"HH:mm:ss",autoStart:!0,millisecond:!1}}},5058:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={tooltip:{text:"",copyText:"",size:14,color:"#606266",bgColor:"transparent",direction:"top",zIndex:10071,showCopy:!0,buttons:function(){return[]},overlay:!0,showToast:!0}}},5099:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("ce53")),a={name:"u-line",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],computed:{lineStyle:function(){var t={};return t.margin=this.margin,"row"===this.direction?(t.borderBottomWidth="1px",t.borderBottomStyle=this.dashed?"dashed":"solid",t.width=uni.$u.addUnit(this.length),this.hairline&&(t.transform="scaleY(0.5)")):(t.borderLeftWidth="1px",t.borderLeftStyle=this.dashed?"dashed":"solid",t.height=uni.$u.addUnit(this.length),this.hairline&&(t.transform="scaleX(0.5)")),t.borderColor=this.color,uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}}};e.default=a},"50af":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("8bbf")),a=n(i("26cb")),o=n(i("32a9")),s=n(i("903d")),l=n(i("4a6e")),u=n(i("7cd2"));r.default.use(a.default);var c=new a.default.Store({modules:{book:o.default,comic:s.default,video:l.default,chapter:u.default}}),d=c;e.default=d},"50eb":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={toast:10090,noNetwork:10080,popup:10075,mask:10070,navbar:980,topTips:975,sticky:970,indexListSticky:965}},5313:function(t){t.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"}')},"53f7":function(t,e,i){"use strict";i.r(e);var n=i("d887"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},5514:function(t,e,i){"use strict";i.r(e);var n=i("62e2"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"554d":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b14c").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-searchbar"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","uni-searchbar__box"),style:t._$s(1,"s",{borderRadius:t.radius+"px",backgroundColor:t.bgColor}),attrs:{_i:1},on:{click:t.searchClick}},[i("view",{staticClass:t._$s(2,"sc","uni-searchbar__box-icon-search"),attrs:{_i:2}},[t._t("searchIcon",[i("uni-icons",{attrs:{color:"#c0c4cc",size:"18",type:"search",_i:4}})],{_i:3})],2),t._$s(5,"i",t.show||t.searchVal)?i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:t._$s(5,"sc","uni-searchbar__box-search-input"),attrs:{focus:t._$s(5,"a-focus",t.showSync),disabled:t._$s(5,"a-disabled",t.readonly),placeholder:t._$s(5,"a-placeholder",t.placeholderText),maxlength:t._$s(5,"a-maxlength",t.maxlength),_i:5},domProps:{value:t._$s(5,"v-model",t.searchVal)},on:{confirm:t.confirm,blur:t.blur,focus:t.emitFocus,input:function(e){e.target.composing||(t.searchVal=e.target.value)}}}):i("text",{staticClass:t._$s(6,"sc","uni-searchbar__text-placeholder"),attrs:{_i:6}},[t._v(t._$s(6,"t0-0",t._s(t.placeholder)))]),t._$s(7,"i",t.show&&("always"===t.clearButton||"auto"===t.clearButton&&""!==t.searchVal)&&!t.readonly)?i("view",{staticClass:t._$s(7,"sc","uni-searchbar__box-icon-clear"),attrs:{_i:7},on:{click:t.clear}},[t._t("clearIcon",[i("uni-icons",{attrs:{color:"#c0c4cc",size:"20",type:"clear",_i:9}})],{_i:8})],2):t._e()]),t._$s(10,"i","always"===t.cancelButton||t.show&&"auto"===t.cancelButton)?i("text",{staticClass:t._$s(10,"sc","uni-searchbar__cancel"),attrs:{_i:10},on:{click:t.cancel}},[t._v(t._$s(10,"t0-0",t._s(t.cancelTextI18n)))]):t._e()])},a=[]},5565:function(t,e,i){"use strict";i.r(e);var n=i("5b44"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"55bc":function(t,e,i){"use strict";i.r(e);var n=i("4038"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"55ea":function(t){t.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"}')},5778:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("278c")),a=n(i("7037")),o=n(i("41f6")),s=i("ef24");function l(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakMap;if(null===t||"object"!==(0,a.default)(t))return t;if(i.has(t))return i.get(t);if(t instanceof Date)e=new Date(t.getTime());else if(t instanceof RegExp)e=new RegExp(t);else if(t instanceof Map)e=new Map(Array.from(t,(function(t){var e=(0,r.default)(t,2),n=e[0],a=e[1];return[n,l(a,i)]})));else if(t instanceof Set)e=new Set(Array.from(t,(function(t){return l(t,i)})));else if(Array.isArray(t))e=t.map((function(t){return l(t,i)}));else if("[object Object]"===Object.prototype.toString.call(t)){e=Object.create(Object.getPrototypeOf(t)),i.set(t,e);for(var n=0,o=Object.entries(t);n<o.length;n++){var s=(0,r.default)(o[n],2),u=s[0],c=s[1];e[u]=l(c,i)}}else e=Object.assign({},t);return i.set(t,e),e}function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";t=e?/^\d{10}$/.test(null===e||void 0===e?void 0:e.toString().trim())?new Date(1e3*e):"string"===typeof e&&/^\d+$/.test(e.trim())?new Date(Number(e)):"string"===typeof e&&e.includes("-")&&!e.includes("T")?new Date(e.replace(/-/g,"/")):new Date(e):new Date;var n={y:t.getFullYear().toString(),m:(t.getMonth()+1).toString().padStart(2,"0"),d:t.getDate().toString().padStart(2,"0"),h:t.getHours().toString().padStart(2,"0"),M:t.getMinutes().toString().padStart(2,"0"),s:t.getSeconds().toString().padStart(2,"0")};for(var a in n){var o=new RegExp("".concat(a,"+")).exec(i)||[],s=(0,r.default)(o,1),l=s[0];if(l){var u="y"===a&&2===l.length?2:0;i=i.replace(l,n[a].slice(u))}}return i}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return t=String(t),"both"==e?t.replace(/^\s+|\s+$/g,""):"left"==e?t.replace(/^\s*/,""):"right"==e?t.replace(/(\s*$)/g,""):"all"==e?t.replace(/\s+/g,""):t}String.prototype.padStart||(String.prototype.padStart=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if("[object String]"!==Object.prototype.toString.call(e))throw new TypeError("fillString must be String");var i=this;if(i.length>=t)return String(i);var n=t-i.length,r=Math.ceil(n/e.length);while(r>>=1)e+=e,1===r&&(e+=e);return e.slice(0,n)+i});var d={range:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(t,Math.min(e,Number(i)))},getPx:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.number(t)?e?"".concat(t,"px"):Number(t):/(rpx|upx)$/.test(t)?e?"".concat(uni.upx2px(parseInt(t)),"px"):Number(uni.upx2px(parseInt(t))):e?"".concat(parseInt(t),"px"):parseInt(t)},sleep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return new Promise((function(e){setTimeout((function(){e()}),t)}))},os:function(){return uni.getSystemInfoSync().platform.toLowerCase()},sys:function(){return uni.getSystemInfoSync()},random:function(t,e){if(t>=0&&e>0&&e>=t){var i=e-t+1;return Math.floor(Math.random()*i+t)}return 0},guid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(i=i||n.length,t)for(var a=0;a<t;a++)r[a]=n[0|Math.random()*i];else{var o;r[8]=r[13]=r[18]=r[23]="-",r[14]="4";for(var s=0;s<36;s++)r[s]||(o=0|16*Math.random(),r[s]=n[19==s?3&o|8:o])}return e?(r.shift(),"u".concat(r.join(""))):r.join("")},$parent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this.$parent;while(e){if(!e.$options||e.$options.name===t)return e;e=e.$parent}return!1},addStyle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"object";if(o.default.empty(t)||"object"===(0,a.default)(t)&&"object"===e||"string"===e&&"string"===typeof t)return t;if("object"===e){t=c(t);for(var i=t.split(";"),n={},r=0;r<i.length;r++)if(i[r]){var s=i[r].split(":");n[c(s[0])]=c(s[1])}return n}var l="";for(var u in t){var d=u.replace(/([A-Z])/g,"-$1").toLowerCase();l+="".concat(d,":").concat(t[u],";")}return c(l)},addUnit:function(){var t,e,i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null!==(t=null===(e=uni)||void 0===e||null===(i=e.$u)||void 0===i||null===(n=i.config)||void 0===n?void 0:n.unit)&&void 0!==t?t:"px";return r=String(r),o.default.number(r)?"".concat(r).concat(a):r},deepClone:l,deepMerge:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=l(e),"object"!==(0,a.default)(e)||null===e||"object"!==(0,a.default)(i)||null===i)return e;var n=Array.isArray(e)?e.slice():Object.assign({},e);for(var r in i)if(i.hasOwnProperty(r)){var o=i[r],s=n[r];o instanceof Date?n[r]=new Date(o):o instanceof RegExp?n[r]=new RegExp(o):o instanceof Map?n[r]=new Map(o):o instanceof Set?n[r]=new Set(o):"object"===(0,a.default)(o)&&null!==o?n[r]=t(s,o):n[r]=o}return n},error:function(t){0},randomArray:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.sort((function(){return Math.random()-.5}))},timeFormat:u,timeFrom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";null==t&&(t=Number(new Date)),t=parseInt(t),10==t.toString().length&&(t*=1e3);var i=(new Date).getTime()-t;i=parseInt(i/1e3);var n="";switch(!0){case i<300:n="\u521a\u521a";break;case i>=300&&i<3600:n="".concat(parseInt(i/60),"\u5206\u949f\u524d");break;case i>=3600&&i<86400:n="".concat(parseInt(i/3600),"\u5c0f\u65f6\u524d");break;case i>=86400&&i<2592e3:n="".concat(parseInt(i/86400),"\u5929\u524d");break;default:n=!1===e?i>=2592e3&&i<31536e3?"".concat(parseInt(i/2592e3),"\u4e2a\u6708\u524d"):"".concat(parseInt(i/31536e3),"\u5e74\u524d"):u(t,e)}return n},trim:c,queryParams:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"brackets",n=e?"?":"",r=[];-1==["indices","brackets","repeat","comma"].indexOf(i)&&(i="brackets");var a=function(e){var n=t[e];if(["",void 0,null].indexOf(n)>=0)return"continue";if(n.constructor===Array)switch(i){case"indices":for(var a=0;a<n.length;a++)r.push("".concat(e,"[").concat(a,"]=").concat(n[a]));break;case"brackets":n.forEach((function(t){r.push("".concat(e,"[]=").concat(t))}));break;case"repeat":n.forEach((function(t){r.push("".concat(e,"=").concat(t))}));break;case"comma":var o="";n.forEach((function(t){o+=(o?",":"")+t})),r.push("".concat(e,"=").concat(o));break;default:n.forEach((function(t){r.push("".concat(e,"[]=").concat(t))}))}else r.push("".concat(e,"=").concat(n))};for(var o in t)a(o);return r.length?n+r.join("&"):""},toast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;uni.showToast({title:String(t),icon:"none",duration:e})},type2icon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];-1==["primary","info","error","warning","success"].indexOf(t)&&(t="success");var i="";switch(t){case"primary":i="info-circle";break;case"info":i="info-circle";break;case"error":i="close-circle";break;case"warning":i="error-circle";break;case"success":i="checkmark-circle";break;default:i="checkmark-circle"}return e&&(i+="-fill"),i},priceFormat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";t="".concat(t).replace(/[^0-9+-Ee.]/g,"");var r=isFinite(+t)?+t:0,a=isFinite(+e)?Math.abs(e):0,o="undefined"===typeof n?",":n,l="undefined"===typeof i?".":i,u="";u=(a?(0,s.round)(r,a)+"":"".concat(Math.round(r))).split(".");var c=/(-?\d+)(\d{3})/;while(c.test(u[0]))u[0]=u[0].replace(c,"$1".concat(o,"$2"));return(u[1]||"").length<a&&(u[1]=u[1]||"",u[1]+=new Array(a-u[1].length+1).join("0")),u.join(l)},getDuration:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=parseInt(t);return e?/s$/.test(t)?t:"".concat(t,t>30?"ms":"s"):/ms$/.test(t)?i:/s$/.test(t)?i>30?i:1e3*i:i},padZero:function(t){return"00".concat(t).slice(-2)},formValidate:function(t,e){var i=uni.$u.$parent.call(t,"u-form-item"),n=uni.$u.$parent.call(t,"u-form");i&&n&&n.validateField(i.prop,(function(){}),e)},getProperty:function(t,e){if(t){if("string"!==typeof e||""===e)return"";if(-1!==e.indexOf(".")){for(var i=e.split("."),n=t[i[0]]||{},r=1;r<i.length;r++)n&&(n=n[i[r]]);return n}return t[e]}},setProperty:function(t,e,i){if(t){if("string"!==typeof e||""===e);else if(-1!==e.indexOf(".")){var n=e.split(".");(function t(e,i,n){if(1!==i.length)while(i.length>1){var r=i[0];e[r]&&"object"===(0,a.default)(e[r])||(e[r]={});i.shift();t(e[r],i,n)}else e[i[0]]=n})(t,n,i)}else t[e]=i}},page:function(){var t,e,i=getCurrentPages();return"/".concat(null!==(t=null===(e=i[i.length-1])||void 0===e?void 0:e.route)&&void 0!==t?t:"")},pages:function(){var t=getCurrentPages();return t},getHistoryPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=getCurrentPages(),i=e.length;return e[i-1+t]},setConfig:function(t){var e=t.props,i=void 0===e?{}:e,n=t.config,r=void 0===n?{}:n,a=t.color,o=void 0===a?{}:a,s=t.zIndex,l=void 0===s?{}:s,u=uni.$u.deepMerge;uni.$u.config=u(uni.$u.config,r),uni.$u.props=u(uni.$u.props,i),uni.$u.color=u(uni.$u.color,o),uni.$u.zIndex=u(uni.$u.zIndex,l)}};e.default=d},"5a43":function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n},t.exports.__esModule=!0,t.exports["default"]=t.exports},"5b44":function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),a=n(i("03b2")),o=(i("801f"),i("26cb"));function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={components:{Wnavbar:a.default},data:function(){return{upbotton:{show:!1,chapterId:"",title:"",id:""},downbotton:{show:!1,chapterId:"",title:"",id:""},searchData:{chapterId:"",title:"",cartoonId:""},bookList:{},loadingStatus:!0}},onLoad:function(t){this.searchData.chapterId=t.chapterId,this.searchData.title=t.title,this.searchData.cartoonId=t.id,this.downbotton.id=t.id,this.upbotton.id=t.id,this.chapterInfo?this.showbotton(this.chapterInfo.chapterList):this.getComicChaptervuex(this.searchData),this.getsearchComicContentvuex(this.searchData)},methods:l(l(l({},(0,o.mapActions)({getsearchComicContentvuex:"comic/getsearchComicContentfun",getComicChaptervuex:"chapter/getsearchComicChapterfun"})),(0,o.mapMutations)({resetComicval:"comic/resetComicval",changeOnloadComicValImg:"comic/changeOnloadComicValImg"})),{},{getImg:function(){this.ComicVal.length<=0&&(this.loadingStatus=!1),this.changeOnloadComicValImg()},errImg:function(){uni.showToast({title:"\u8be5\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\uff01",icon:"none"}),this.ComicVal.length<=0&&(this.loadingStatus=!1),this.changeOnloadComicValImg()},showbotton:function(t){var e=this;t.forEach((function(i,n){var r,a,o,s,l,u;i.chapterId==e.searchData.chapterId&&(e.upbotton.show=!(null===(r=t[n-1])||void 0===r||!r.chapterId),e.upbotton.chapterId=null===(a=t[n-1])||void 0===a?void 0:a.chapterId,e.upbotton.title=null===(o=t[n-1])||void 0===o?void 0:o.title,e.downbotton.show=!(null===(s=t[n+1])||void 0===s||!s.chapterId),e.downbotton.chapterId=null===(l=t[n+1])||void 0===l?void 0:l.chapterId,e.downbotton.title=null===(u=t[n+1])||void 0===u?void 0:u.title)}))},bottonClick:function(e){var i;this.resetComicval(null),i=1==e?"/pageB/comicContent/content?chapterId=".concat(this.upbotton.chapterId,"&title=").concat(this.upbotton.title,"&id=").concat(this.upbotton.id):"/pageB/comicContent/content?chapterId=".concat(this.downbotton.chapterId,"&title=").concat(this.downbotton.title,"&id=").concat(this.downbotton.id),t("log",i," at pageB/comicContent/content.vue:145"),uni.redirectTo({url:i})}}),computed:l({},(0,o.mapState)({chapterInfo:function(t){return t.chapter.chapterInfo},ComicVal:function(t){return t.comic.ComicVal},onloadComicValImg:function(t){return t.comic.onloadComicValImg}})),watch:{chapterInfo:{handler:function(t,e){this.showbotton(t.chapterList)},deep:!0}},beforeDestroy:function(){this.resetComicval(null)}};e.default=u}).call(this,i("0de9")["default"])},"5bc3":function(t,e,i){var n=i("a395");function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}t.exports=function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports["default"]=t.exports},"5c75":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={grid:{col:3,border:!1,align:"left"}}},"5e0d":function(t,e,i){"use strict";i.r(e);var n=i("fbcb"),r=i("ea37");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"1831a5db",null,!1,n["a"],void 0);e["default"]=s.exports},"5f7f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={radio:{name:"",shape:"",disabled:"",labelDisabled:"",activeColor:"",inactiveColor:"",iconSize:"",labelSize:"",label:"",labelColor:"",size:"",iconColor:"",placement:""}}},"5faa":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("d496")),a={name:"u-overlay",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],computed:{overlayStyle:function(){var t={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":"rgba(0, 0, 0, ".concat(this.opacity,")")};return uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}},methods:{clickHandler:function(){this.$emit("click")}}};e.default=a},"5fb9":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={props:{}}},"62b9":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={checkboxGroup:{name:"",value:function(){return[]},shape:"square",disabled:!1,activeColor:"#2979ff",inactiveColor:"#c8c9cc",size:18,placement:"row",labelSize:14,labelColor:"#303133",labelDisabled:!1,iconColor:"#ffffff",iconSize:12,iconPlacement:"left",borderBottom:!1}}},"62c2":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={subsection:{list:[],current:0,activeColor:"#3c9cff",inactiveColor:"#303133",mode:"button",fontSize:12,bold:!0,bgColor:"#eeeeef",keyName:"name"}}},"62e2":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("278c")),o=n(i("9523")),s=n(i("c973")),l=n(i("7fd0"));function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={name:"u-tabs",mixins:[uni.$u.mpMixin,uni.$u.mixin,l.default],data:function(){return{firstTime:!0,scrollLeft:0,scrollViewWidth:0,lineOffsetLeft:0,tabsRect:{left:0},innerCurrent:0,moving:!1}},watch:{current:{immediate:!0,handler:function(t,e){var i=this;t!==this.innerCurrent&&(this.innerCurrent=t,this.$nextTick((function(){i.resize()})))}},list:function(){var t=this;this.$nextTick((function(){t.resize()}))}},computed:{textStyle:function(){var t=this;return function(e){var i={},n=e===t.innerCurrent?uni.$u.addStyle(t.activeStyle):uni.$u.addStyle(t.inactiveStyle);return t.list[e].disabled&&(i.color="#c8c9cc"),uni.$u.deepMerge(n,i)}},propsBadge:function(){return uni.$u.props.badge}},mounted:function(){var t=this;return(0,s.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.init();case 1:case"end":return e.stop()}}),e)})))()},methods:{setLineLeft:function(){var t=this,e=this.list[this.innerCurrent];if(e){var i=this.list.slice(0,this.innerCurrent).reduce((function(t,e){return t+e.rect.width}),0),n=uni.$u.getPx(this.lineWidth);this.lineOffsetLeft=i+(e.rect.width-n)/2,this.firstTime&&setTimeout((function(){t.firstTime=!1}),10)}},animation:function(t){},clickHandler:function(t,e){this.$emit("click",c(c({},t),{},{index:e})),t.disabled||(this.innerCurrent=e,this.resize(),this.$emit("change",c(c({},t),{},{index:e})))},init:function(){var t=this;uni.$u.sleep().then((function(){t.resize()}))},setScrollLeft:function(){var t=this.list[this.innerCurrent],e=this.list.slice(0,this.innerCurrent).reduce((function(t,e){return t+e.rect.width}),0),i=uni.$u.sys().windowWidth,n=e-(this.tabsRect.width-t.rect.width)/2-(i-this.tabsRect.right)/2+this.tabsRect.left/2;n=Math.min(n,this.scrollViewWidth-this.tabsRect.width),this.scrollLeft=Math.max(0,n)},resize:function(){var t=this;0!==this.list.length&&Promise.all([this.getTabsRect(),this.getAllItemRect()]).then((function(e){var i=(0,a.default)(e,2),n=i[0],r=i[1],o=void 0===r?[]:r;t.tabsRect=n,t.scrollViewWidth=0,o.map((function(e,i){t.scrollViewWidth+=e.width,t.list[i].rect=e})),t.setLineLeft(),t.setScrollLeft()}))},getTabsRect:function(){var t=this;return new Promise((function(e){t.queryRect("u-tabs__wrapper__scroll-view").then((function(t){return e(t)}))}))},getAllItemRect:function(){var t=this;return new Promise((function(e){var i=t.list.map((function(e,i){return t.queryRect("u-tabs__wrapper__nav__item-".concat(i),!0)}));Promise.all(i).then((function(t){return e(t)}))}))},queryRect:function(t,e){var i=this;return new Promise((function(e){i.$uGetRect(".".concat(t)).then((function(t){e(t)}))}))}}};e.default=d},"64ff":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("b316")),a=r.default.color,o={icon:{name:"",color:a["u-content-color"],size:"16px",bold:!1,index:"",hoverClass:"",customPrefix:"uicon",label:"",labelPos:"right",labelSize:"15px",labelColor:a["u-content-color"],space:"3px",imgMode:"",width:"",height:"",top:0,stop:!1}};e.default=o},6523:function(t,e,i){"use strict";i.r(e);var n=i("c3a7"),r=i("deeb");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"5f331c52",null,!1,n["a"],void 0);e["default"]=s.exports},6567:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("e2b7")),a=r.default;e.default=a},6585:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:function(){return[0,0]}},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{width:function(){return 8*String(this.text).length+12},classNames:function(){var t=this.inverted,e=this.type,i=this.size,n=this.absolute;return[t?"uni-badge--"+e+"-inverted":"","uni-badge--"+e,"uni-badge--"+i,n?"uni-badge--absolute":""].join(" ")},positionStyle:function(){if(!this.absolute)return{};var t=this.width/2,e=10;this.isDot&&(t=5,e=5);var i="".concat(-t+this.offset[0],"px"),n="".concat(-e+this.offset[1],"px"),r={rightTop:{right:i,top:n},rightBottom:{right:i,bottom:n},leftBottom:{left:i,bottom:n},leftTop:{left:i,top:n}},a=r[this.absolute];return a||r["rightTop"]},dotStyle:function(){return this.isDot?{width:"10px",minWidth:"0",height:"10px",padding:"0",borderRadius:"10px"}:{}},displayValue:function(){var t=this.isDot,e=this.text,i=this.maxNum;return t?"":Number(e)>i?"".concat(i,"+"):e}},methods:{onClick:function(){this.$emit("click")}}};e.default=n},"65d6":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={skeleton:{loading:!0,animate:!0,rows:0,rowsWidth:"100%",rowsHeight:18,title:!0,titleWidth:"50%",titleHeight:18,avatar:!1,avatarSize:32,avatarShape:"circle"}}},6613:function(t,e,i){var n=i("5a43");t.exports=function(t,e){if(t){if("string"===typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}},t.exports.__esModule=!0,t.exports["default"]=t.exports},6634:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uTransition:i("e176").default,uIcon:i("be49").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("u-transition",{attrs:{mode:"fade",show:t.show,_i:0}},[i("view",{staticClass:t._$s(1,"sc","u-tag-wrapper"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","u-tag"),class:t._$s(2,"c",["u-tag--"+t.shape,!t.plain&&"u-tag--"+t.type,t.plain&&"u-tag--"+t.type+"--plain","u-tag--"+t.size,t.plain&&t.plainFill&&"u-tag--"+t.type+"--plain--fill"]),style:t._$s(2,"s",[{marginRight:t.closable?"10px":0,marginTop:t.closable?"10px":0},t.style]),attrs:{_i:2},on:{click:function(e){return e.stopPropagation(),t.clickHandler(e)}}},[t._t("icon",[t._$s(4,"i",t.icon)?i("view",{staticClass:t._$s(4,"sc","u-tag__icon"),attrs:{_i:4}},[t._$s(5,"i",t.$u.test.image(t.icon))?i("image",{style:t._$s(5,"s",[t.imgStyle]),attrs:{src:t._$s(5,"a-src",t.icon),_i:5}}):i("u-icon",{attrs:{color:t.elIconColor,name:t.icon,size:t.iconSize,_i:6}})],1):t._e()],{_i:3}),i("text",{staticClass:t._$s(7,"sc","u-tag__text"),class:t._$s(7,"c",["u-tag__text--"+t.type,t.plain&&"u-tag__text--"+t.type+"--plain","u-tag__text--"+t.size]),style:t._$s(7,"s",[t.textColor]),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.text)))])],2),t._$s(8,"i",t.closable)?i("view",{staticClass:t._$s(8,"sc","u-tag__close"),class:t._$s(8,"c",["u-tag__close--"+t.size]),style:t._$s(8,"s",{backgroundColor:t.closeColor}),attrs:{_i:8},on:{click:function(e){return e.stopPropagation(),t.closeHandler(e)}}},[i("u-icon",{attrs:{name:"close",size:t.closeSize,color:"#ffffff",_i:9}})],1):t._e()])])},a=[]},"66ae":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={down:{offset:80,native:!1},up:{offset:150,toTop:{src:"https://www.mescroll.com/img/mescroll-totop.png",offset:1e3,right:20,bottom:120,width:72},empty:{use:!0,icon:"https://www.mescroll.com/img/mescroll-empty.png"}},i18n:{zh:{down:{textInOffset:"\u4e0b\u62c9\u5237\u65b0",textOutOffset:"\u91ca\u653e\u66f4\u65b0",textLoading:"\u52a0\u8f7d\u4e2d ...",textSuccess:"\u52a0\u8f7d\u6210\u529f",textErr:"\u52a0\u8f7d\u5931\u8d25"},up:{textLoading:"\u52a0\u8f7d\u4e2d ...",textNoMore:"-- END --",empty:{tip:"~ \u7a7a\u7a7a\u5982\u4e5f ~"}}},en:{down:{textInOffset:"drop down refresh",textOutOffset:"release updates",textLoading:"loading ...",textSuccess:"loaded successfully",textErr:"loading failed"},up:{textLoading:"loading ...",textNoMore:"-- END --",empty:{tip:"~ absolutely empty ~"}}}}};e.default=n},"66f5":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uIcon:i("be49").default,uLine:i("b640").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","u-cell"),class:t._$s(0,"c",[t.customClass]),style:t._$s(0,"s",[t.$u.addStyle(t.customStyle)]),attrs:{"hover-class":t._$s(0,"a-hover-class",t.disabled||!t.clickable&&!t.isLink?"":"u-cell--clickable"),_i:0},on:{click:t.clickHandler}},[i("view",{staticClass:t._$s(1,"sc","u-cell__body"),class:t._$s(1,"c",[t.center&&"u-cell--center","large"===t.size&&"u-cell__body--large"]),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","u-cell__body__content"),attrs:{_i:2}},[t._$s(3,"i",t.$slots.icon||t.icon)?i("view",{staticClass:t._$s(3,"sc","u-cell__left-icon-wrap"),attrs:{_i:3}},[t._$s(4,"i",t.$slots.icon)?t._t("icon",null,{_i:4}):i("u-icon",{attrs:{name:t.icon,"custom-style":t.iconStyle,size:"large"===t.size?22:18,_i:5}})],2):t._e(),i("view",{staticClass:t._$s(6,"sc","u-cell__title"),attrs:{_i:6}},[t._t("title",[t._$s(8,"i",t.title)?i("text",{staticClass:t._$s(8,"sc","u-cell__title-text"),class:t._$s(8,"c",[t.disabled&&"u-cell--disabled","large"===t.size&&"u-cell__title-text--large"]),style:t._$s(8,"s",[t.titleTextStyle]),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.title)))]):t._e()],{_i:7}),t._t("label",[t._$s(10,"i",t.label)?i("text",{staticClass:t._$s(10,"sc","u-cell__label"),class:t._$s(10,"c",[t.disabled&&"u-cell--disabled","large"===t.size&&"u-cell__label--large"]),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.label)))]):t._e()],{_i:9})],2)]),t._t("value",[t._$s(12,"i",!t.$u.test.empty(t.value))?i("text",{staticClass:t._$s(12,"sc","u-cell__value"),class:t._$s(12,"c",[t.disabled&&"u-cell--disabled","large"===t.size&&"u-cell__value--large"]),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.value)))]):t._e()],{_i:11}),t._$s(13,"i",t.$slots["right-icon"]||t.isLink)?i("view",{staticClass:t._$s(13,"sc","u-cell__right-icon-wrap"),class:t._$s(13,"c",["u-cell__right-icon-wrap--"+t.arrowDirection]),attrs:{_i:13}},[t._$s(14,"i",t.$slots["right-icon"])?t._t("right-icon",null,{_i:14}):i("u-icon",{attrs:{name:t.rightIcon,"custom-style":t.rightIconStyle,color:t.disabled?"#c8c9cc":"info",size:"large"===t.size?18:16,_i:15}})],2):t._e()],2),t._$s(16,"i",t.border)?i("u-line",{attrs:{_i:16}}):t._e()],1)},a=[]},"67d1":function(t,e,i){"use strict";i.r(e);var n=i("b0c1"),r=i("53f7");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},"686d":function(t,e,i){"use strict";i.r(e);var n=i("3b2b"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"69d8":function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),a=(i("300d"),i("67d1"),i("801f"),n(i("18e0"))),o=i("26cb"),s=n(i("23bf"));function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c={data:function(){return{focus:!1,list1:[{name:"\u63a8\u8350"},{name:"\u5c0f\u8bf4"},{name:"\u52a8\u6f2b"},{name:"\u7535\u5f71"}],loading:!0,baseList:[{name:"home",title:"\u4e13\u533a"},{name:"bookmark",title:"\u7cbe\u54c1"},{name:"search",title:"\u641c\u7d22"},{name:"car-fill",title:"\u89e3\u6790"}],booksearchOption:{option:"fictionType",key:"\u7384\u5e7b\u5947\u5e7b",from:1,size:10},comicsearchOption:{option:"comicType",key:"\u641e\u7b11",from:1,size:10},videosearchOption:{option:"videoType",key:"\u52a8\u6f2b\u7535\u5f71",from:1,size:10}}},components:{homeItem:a.default,downScroll:s.default},onLoad:function(){},methods:u(u({},(0,o.mapActions)({bookgetlistvuex:"book/homebookgetlist",comicgetlistvuex:"comic/homecomicgetlist",videogetlistvuex:"video/homevideogetlist"})),{},{clickTabs:function(e){t("log",e," at pages/tabbar/tabbar-1/tabbar-1.vue:139")},searchfocus:function(t){uni.switchTab({url:"/pages/tabbar/tabbar-4/tabbar-4"})},loadXHRFun:function(e){var i=this;Promise.all([this.bookgetlistvuex(this.booksearchOption),this.comicgetlistvuex(this.comicsearchOption),this.videogetlistvuex(this.videosearchOption)]).then((function(n){t("log",n," at pages/tabbar/tabbar-1/tabbar-1.vue:168"),i.$refs["downscroll"].panDuanFun(n,e)})).catch((function(t){i.$refs["downscroll"].panDuanFun(t,e)})),this.loading=!1},gridClick:function(e){t("log","\u529f\u80fd\u6682\u4e0d\u53ef\u7528"," at pages/tabbar/tabbar-1/tabbar-1.vue:181")}}),computed:u({},(0,o.mapGetters)({searchBookList:"book/booklist",searchComicList:"comic/comiclist",searchVideoList:"video/videolist"})),mounted:function(){var t=this;setTimeout((function(){t.loading=!1}),200)}};e.default=c}).call(this,i("0de9")["default"])},"6ae1":function(t,e,i){"use strict";i.r(e);var n=i("ffa1"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"6b58":function(t,e,i){var n=i("7037")["default"],r=i("3c96");t.exports=function(t,e){if(e&&("object"===n(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return r(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},"6b5d":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={empty:{icon:"",text:"",textColor:"#c0c4cc",textSize:14,iconColor:"#c0c4cc",iconSize:90,mode:"data",width:160,height:160,show:!0,marginTop:0}}},"6bd0":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{span:{type:[String,Number],default:uni.$u.props.col.span},offset:{type:[String,Number],default:uni.$u.props.col.offset},justify:{type:String,default:uni.$u.props.col.justify},align:{type:String,default:uni.$u.props.col.align},textAlign:{type:String,default:uni.$u.props.col.textAlign}}};e.default=n},"6c07":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","u-status-bar"),style:this._$s(0,"s",[this.style]),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},r=[]},"6c20":function(t,e,i){"use strict";i.r(e);var n=i("a20d"),r=i("2792");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"0f91d4e1",null,!1,n["a"],void 0);e["default"]=s.exports},"6c7c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{hairline:{type:Boolean,default:uni.$u.props.button.hairline},type:{type:String,default:uni.$u.props.button.type},size:{type:String,default:uni.$u.props.button.size},shape:{type:String,default:uni.$u.props.button.shape},plain:{type:Boolean,default:uni.$u.props.button.plain},disabled:{type:Boolean,default:uni.$u.props.button.disabled},loading:{type:Boolean,default:uni.$u.props.button.loading},loadingText:{type:[String,Number],default:uni.$u.props.button.loadingText},loadingMode:{type:String,default:uni.$u.props.button.loadingMode},loadingSize:{type:[String,Number],default:uni.$u.props.button.loadingSize},openType:{type:String,default:uni.$u.props.button.openType},formType:{type:String,default:uni.$u.props.button.formType},appParameter:{type:String,default:uni.$u.props.button.appParameter},hoverStopPropagation:{type:Boolean,default:uni.$u.props.button.hoverStopPropagation},lang:{type:String,default:uni.$u.props.button.lang},sessionFrom:{type:String,default:uni.$u.props.button.sessionFrom},sendMessageTitle:{type:String,default:uni.$u.props.button.sendMessageTitle},sendMessagePath:{type:String,default:uni.$u.props.button.sendMessagePath},sendMessageImg:{type:String,default:uni.$u.props.button.sendMessageImg},showMessageCard:{type:Boolean,default:uni.$u.props.button.showMessageCard},dataName:{type:String,default:uni.$u.props.button.dataName},throttleTime:{type:[String,Number],default:uni.$u.props.button.throttleTime},hoverStartTime:{type:[String,Number],default:uni.$u.props.button.hoverStartTime},hoverStayTime:{type:[String,Number],default:uni.$u.props.button.hoverStayTime},text:{type:[String,Number],default:uni.$u.props.button.text},icon:{type:String,default:uni.$u.props.button.icon},iconColor:{type:String,default:uni.$u.props.button.icon},color:{type:String,default:uni.$u.props.button.color}}};e.default=n},"6da9":function(t,e,i){"use strict";i.r(e);var n=i("b9eb"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"6db5":function(t,e,i){"use strict";i.r(e);var n=i("e593"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"6e6c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={"uicon-level":"\ue693","uicon-column-line":"\ue68e","uicon-checkbox-mark":"\ue807","uicon-folder":"\ue7f5","uicon-movie":"\ue7f6","uicon-star-fill":"\ue669","uicon-star":"\ue65f","uicon-phone-fill":"\ue64f","uicon-phone":"\ue622","uicon-apple-fill":"\ue881","uicon-chrome-circle-fill":"\ue885","uicon-backspace":"\ue67b","uicon-attach":"\ue632","uicon-cut":"\ue948","uicon-empty-car":"\ue602","uicon-empty-coupon":"\ue682","uicon-empty-address":"\ue646","uicon-empty-favor":"\ue67c","uicon-empty-permission":"\ue686","uicon-empty-news":"\ue687","uicon-empty-search":"\ue664","uicon-github-circle-fill":"\ue887","uicon-rmb":"\ue608","uicon-person-delete-fill":"\ue66a","uicon-reload":"\ue788","uicon-order":"\ue68f","uicon-server-man":"\ue6bc","uicon-search":"\ue62a","uicon-fingerprint":"\ue955","uicon-more-dot-fill":"\ue630","uicon-scan":"\ue662","uicon-share-square":"\ue60b","uicon-map":"\ue61d","uicon-map-fill":"\ue64e","uicon-tags":"\ue629","uicon-tags-fill":"\ue651","uicon-bookmark-fill":"\ue63b","uicon-bookmark":"\ue60a","uicon-eye":"\ue613","uicon-eye-fill":"\ue641","uicon-mic":"\ue64a","uicon-mic-off":"\ue649","uicon-calendar":"\ue66e","uicon-calendar-fill":"\ue634","uicon-trash":"\ue623","uicon-trash-fill":"\ue658","uicon-play-left":"\ue66d","uicon-play-right":"\ue610","uicon-minus":"\ue618","uicon-plus":"\ue62d","uicon-info":"\ue653","uicon-info-circle":"\ue7d2","uicon-info-circle-fill":"\ue64b","uicon-question":"\ue715","uicon-error":"\ue6d3","uicon-close":"\ue685","uicon-checkmark":"\ue6a8","uicon-android-circle-fill":"\ue67e","uicon-android-fill":"\ue67d","uicon-ie":"\ue87b","uicon-IE-circle-fill":"\ue889","uicon-google":"\ue87a","uicon-google-circle-fill":"\ue88a","uicon-setting-fill":"\ue872","uicon-setting":"\ue61f","uicon-minus-square-fill":"\ue855","uicon-plus-square-fill":"\ue856","uicon-heart":"\ue7df","uicon-heart-fill":"\ue851","uicon-camera":"\ue7d7","uicon-camera-fill":"\ue870","uicon-more-circle":"\ue63e","uicon-more-circle-fill":"\ue645","uicon-chat":"\ue620","uicon-chat-fill":"\ue61e","uicon-bag-fill":"\ue617","uicon-bag":"\ue619","uicon-error-circle-fill":"\ue62c","uicon-error-circle":"\ue624","uicon-close-circle":"\ue63f","uicon-close-circle-fill":"\ue637","uicon-checkmark-circle":"\ue63d","uicon-checkmark-circle-fill":"\ue635","uicon-question-circle-fill":"\ue666","uicon-question-circle":"\ue625","uicon-share":"\ue631","uicon-share-fill":"\ue65e","uicon-shopping-cart":"\ue621","uicon-shopping-cart-fill":"\ue65d","uicon-bell":"\ue609","uicon-bell-fill":"\ue640","uicon-list":"\ue650","uicon-list-dot":"\ue616","uicon-zhihu":"\ue6ba","uicon-zhihu-circle-fill":"\ue709","uicon-zhifubao":"\ue6b9","uicon-zhifubao-circle-fill":"\ue6b8","uicon-weixin-circle-fill":"\ue6b1","uicon-weixin-fill":"\ue6b2","uicon-twitter-circle-fill":"\ue6ab","uicon-twitter":"\ue6aa","uicon-taobao-circle-fill":"\ue6a7","uicon-taobao":"\ue6a6","uicon-weibo-circle-fill":"\ue6a5","uicon-weibo":"\ue6a4","uicon-qq-fill":"\ue6a1","uicon-qq-circle-fill":"\ue6a0","uicon-moments-circel-fill":"\ue69a","uicon-moments":"\ue69b","uicon-qzone":"\ue695","uicon-qzone-circle-fill":"\ue696","uicon-baidu-circle-fill":"\ue680","uicon-baidu":"\ue681","uicon-facebook-circle-fill":"\ue68a","uicon-facebook":"\ue689","uicon-car":"\ue60c","uicon-car-fill":"\ue636","uicon-warning-fill":"\ue64d","uicon-warning":"\ue694","uicon-clock-fill":"\ue638","uicon-clock":"\ue60f","uicon-edit-pen":"\ue612","uicon-edit-pen-fill":"\ue66b","uicon-email":"\ue611","uicon-email-fill":"\ue642","uicon-minus-circle":"\ue61b","uicon-minus-circle-fill":"\ue652","uicon-plus-circle":"\ue62e","uicon-plus-circle-fill":"\ue661","uicon-file-text":"\ue663","uicon-file-text-fill":"\ue665","uicon-pushpin":"\ue7e3","uicon-pushpin-fill":"\ue86e","uicon-grid":"\ue673","uicon-grid-fill":"\ue678","uicon-play-circle":"\ue647","uicon-play-circle-fill":"\ue655","uicon-pause-circle-fill":"\ue654","uicon-pause":"\ue8fa","uicon-pause-circle":"\ue643","uicon-eye-off":"\ue648","uicon-eye-off-outline":"\ue62b","uicon-gift-fill":"\ue65c","uicon-gift":"\ue65b","uicon-rmb-circle-fill":"\ue657","uicon-rmb-circle":"\ue677","uicon-kefu-ermai":"\ue656","uicon-server-fill":"\ue751","uicon-coupon-fill":"\ue8c4","uicon-coupon":"\ue8ae","uicon-integral":"\ue704","uicon-integral-fill":"\ue703","uicon-home-fill":"\ue964","uicon-home":"\ue965","uicon-hourglass-half-fill":"\ue966","uicon-hourglass":"\ue967","uicon-account":"\ue628","uicon-plus-people-fill":"\ue626","uicon-minus-people-fill":"\ue615","uicon-account-fill":"\ue614","uicon-thumb-down-fill":"\ue726","uicon-thumb-down":"\ue727","uicon-thumb-up":"\ue733","uicon-thumb-up-fill":"\ue72f","uicon-lock-fill":"\ue979","uicon-lock-open":"\ue973","uicon-lock-opened-fill":"\ue974","uicon-lock":"\ue97a","uicon-red-packet-fill":"\ue690","uicon-photo-fill":"\ue98b","uicon-photo":"\ue98d","uicon-volume-off-fill":"\ue659","uicon-volume-off":"\ue644","uicon-volume-fill":"\ue670","uicon-volume":"\ue633","uicon-red-packet":"\ue691","uicon-download":"\ue63c","uicon-arrow-up-fill":"\ue6b0","uicon-arrow-down-fill":"\ue600","uicon-play-left-fill":"\ue675","uicon-play-right-fill":"\ue676","uicon-rewind-left-fill":"\ue679","uicon-rewind-right-fill":"\ue67a","uicon-arrow-downward":"\ue604","uicon-arrow-leftward":"\ue601","uicon-arrow-rightward":"\ue603","uicon-arrow-upward":"\ue607","uicon-arrow-down":"\ue60d","uicon-arrow-right":"\ue605","uicon-arrow-left":"\ue60e","uicon-arrow-up":"\ue606","uicon-skip-back-left":"\ue674","uicon-skip-forward-right":"\ue672","uicon-rewind-right":"\ue66f","uicon-rewind-left":"\ue671","uicon-arrow-right-double":"\ue68d","uicon-arrow-left-double":"\ue68c","uicon-wifi-off":"\ue668","uicon-wifi":"\ue667","uicon-empty-data":"\ue62f","uicon-empty-history":"\ue684","uicon-empty-list":"\ue68b","uicon-empty-page":"\ue627","uicon-empty-order":"\ue639","uicon-man":"\ue697","uicon-woman":"\ue69c","uicon-man-add":"\ue61c","uicon-man-add-fill":"\ue64c","uicon-man-delete":"\ue61a","uicon-man-delete-fill":"\ue66a","uicon-zh":"\ue70a","uicon-en":"\ue692"}},"6f62":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","content"),attrs:{_i:0}})},r=[]},"6f8f":function(t,e){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports["default"]=t.exports},"702e":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a5de")),a={name:"u-popup",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{overlayDuration:this.duration+50}},watch:{show:function(t,e){}},computed:{transitionStyle:function(){var t={zIndex:this.zIndex,position:"fixed",display:"flex"};return t[this.mode]=0,"left"===this.mode||"right"===this.mode?uni.$u.deepMerge(t,{bottom:0,top:0}):"top"===this.mode||"bottom"===this.mode?uni.$u.deepMerge(t,{left:0,right:0}):"center"===this.mode?uni.$u.deepMerge(t,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0}):void 0},contentStyle:function(){var t={},e=uni.$u.sys();e.safeAreaInsets;if("center"!==this.mode&&(t.flex=1),this.bgColor&&(t.backgroundColor=this.bgColor),this.round){var i=uni.$u.addUnit(this.round);"top"===this.mode?(t.borderBottomLeftRadius=i,t.borderBottomRightRadius=i):"bottom"===this.mode?(t.borderTopLeftRadius=i,t.borderTopRightRadius=i):"center"===this.mode&&(t.borderRadius=i)}return uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))},position:function(){return"center"===this.mode?this.zoom?"fade-zoom":"fade":"left"===this.mode?"slide-left":"right"===this.mode?"slide-right":"bottom"===this.mode?"slide-up":"top"===this.mode?"slide-down":void 0}},methods:{overlayClick:function(){this.closeOnClickOverlay&&this.$emit("close")},close:function(t){this.$emit("close")},afterEnter:function(){this.$emit("open")},clickHandler:function(){"center"===this.mode&&this.overlayClick(),this.$emit("click")}}};e.default=a},7033:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={radioGroup:{value:"",disabled:!1,shape:"circle",activeColor:"#2979ff",inactiveColor:"#c8c9cc",name:"",size:18,placement:"row",label:"",labelColor:"#303133",labelSize:14,labelDisabled:!1,iconColor:"#ffffff",iconSize:12,borderBottom:!1,iconPlacement:"left"}}},7037:function(t,e){function i(e){return t.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},7143:function(t,e,i){"use strict";i.r(e);var n=i("029f"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},7198:function(t,e,i){"use strict";i.r(e);var n=i("b581"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},7282:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("37dc"),a=n(i("2db3")),o=(0,r.initVueI18n)(a.default),s=o.t,l={name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:""},bgColor:{type:String,default:"#F8F8F8"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:function(){return{show:!1,showSync:!1,searchVal:""}},computed:{cancelTextI18n:function(){return this.cancelText||s("uni-search-bar.cancel")},placeholderText:function(){return this.placeholder||s("uni-search-bar.placeholder")}},watch:{value:{immediate:!0,handler:function(t){this.searchVal=t,t&&(this.show=!0)}},focus:{immediate:!0,handler:function(t){var e=this;if(t){if(this.readonly)return;this.show=!0,this.$nextTick((function(){e.showSync=!0}))}}},searchVal:function(t,e){this.$emit("input",t)}},methods:{searchClick:function(){var t=this;this.readonly||this.show||(this.show=!0,this.$nextTick((function(){t.showSync=!0})))},clear:function(){this.$emit("clear",{value:this.searchVal}),this.searchVal=""},cancel:function(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,plus.key.hideSoftKeybord())},confirm:function(){plus.key.hideSoftKeybord(),this.$emit("confirm",{value:this.searchVal})},blur:function(){plus.key.hideSoftKeybord(),this.$emit("blur",{value:this.searchVal})},emitFocus:function(t){this.$emit("focus",t.detail)}}};e.default=l},"741f":function(t,e,i){"use strict";i.r(e);var n=i("a8a0"),r=i("686d");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},7655:function(t,e,i){"use strict";i.r(e);var n=i("ea57"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},7751:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{title:{type:[String,Number],default:uni.$u.props.cell.title},label:{type:[String,Number],default:uni.$u.props.cell.label},value:{type:[String,Number],default:uni.$u.props.cell.value},icon:{type:String,default:uni.$u.props.cell.icon},disabled:{type:Boolean,default:uni.$u.props.cell.disabled},border:{type:Boolean,default:uni.$u.props.cell.border},center:{type:Boolean,default:uni.$u.props.cell.center},url:{type:String,default:uni.$u.props.cell.url},linkType:{type:String,default:uni.$u.props.cell.linkType},clickable:{type:Boolean,default:uni.$u.props.cell.clickable},isLink:{type:Boolean,default:uni.$u.props.cell.isLink},required:{type:Boolean,default:uni.$u.props.cell.required},rightIcon:{type:String,default:uni.$u.props.cell.rightIcon},arrowDirection:{type:String,default:uni.$u.props.cell.arrowDirection},iconStyle:{type:[Object,String],default:function(){return uni.$u.props.cell.iconStyle}},rightIconStyle:{type:[Object,String],default:function(){return uni.$u.props.cell.rightIconStyle}},titleStyle:{type:[Object,String],default:function(){return uni.$u.props.cell.titleStyle}},size:{type:String,default:uni.$u.props.cell.size},stop:{type:Boolean,default:uni.$u.props.cell.stop},name:{type:[Number,String],default:uni.$u.props.cell.name}}};e.default=n},"77de":function(t,e,i){"use strict";function n(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(t=String(t).toLowerCase(),t&&i.test(t)){if(4===t.length){for(var n="#",r=1;r<4;r+=1)n+=t.slice(r,r+1).concat(t.slice(r,r+1));t=n}for(var a=[],o=1;o<7;o+=2)a.push(parseInt("0x".concat(t.slice(o,o+2))));return e?"rgb(".concat(a[0],",").concat(a[1],",").concat(a[2],")"):a}if(/^(rgb|RGB)/.test(t)){var s=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");return s.map((function(t){return Number(t)}))}return t}function r(t){var e=t;if(/^(rgb|RGB)/.test(e)){for(var i=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),n="#",r=0;r<i.length;r++){var a=Number(i[r]).toString(16);a=1==String(a).length?"".concat(0,a):a,"0"===a&&(a+=a),n+=a}return 7!==n.length&&(n=e),n}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))return e;var o=e.replace(/#/,"").split("");if(6===o.length)return e;if(3===o.length){for(var s="#",l=0;l<o.length;l+=1)s+=o[l]+o[l];return s}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={colorGradient:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb(0, 0, 0)",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgb(255, 255, 255)",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=n(t,!1),o=a[0],s=a[1],l=a[2],u=n(e,!1),c=u[0],d=u[1],f=u[2],h=(c-o)/i,p=(d-s)/i,v=(f-l)/i,g=[],m=0;m<i;m++){var y=r("rgb(".concat(Math.round(h*m+o),",").concat(Math.round(p*m+s),",").concat(Math.round(v*m+l),")"));0===m&&(y=r(t)),m===i-1&&(y=r(e)),g.push(y)}return g},hexToRgb:n,rgbToHex:r,colorToRgba:function(t,e){t=r(t);var i=String(t).toLowerCase();if(i&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(i)){if(4===i.length){for(var n="#",a=1;a<4;a+=1)n+=i.slice(a,a+1).concat(i.slice(a,a+1));i=n}for(var o=[],s=1;s<7;s+=2)o.push(parseInt("0x".concat(i.slice(s,s+2))));return"rgba(".concat(o.join(","),",").concat(e,")")}return i}};e.default=a},"77ee":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{status:{type:String,default:uni.$u.props.loadmore.status},bgColor:{type:String,default:uni.$u.props.loadmore.bgColor},icon:{type:Boolean,default:uni.$u.props.loadmore.icon},fontSize:{type:[String,Number],default:uni.$u.props.loadmore.fontSize},iconSize:{type:[String,Number],default:uni.$u.props.loadmore.iconSize},color:{type:String,default:uni.$u.props.loadmore.color},loadingIcon:{type:String,default:uni.$u.props.loadmore.loadingIcon},loadmoreText:{type:String,default:uni.$u.props.loadmore.loadmoreText},loadingText:{type:String,default:uni.$u.props.loadmore.loadingText},nomoreText:{type:String,default:uni.$u.props.loadmore.nomoreText},isDot:{type:Boolean,default:uni.$u.props.loadmore.isDot},iconColor:{type:String,default:uni.$u.props.loadmore.iconColor},marginTop:{type:[String,Number],default:uni.$u.props.loadmore.marginTop},marginBottom:{type:[String,Number],default:uni.$u.props.loadmore.marginBottom},height:{type:[String,Number],default:uni.$u.props.loadmore.height},line:{type:Boolean,default:uni.$u.props.loadmore.line},lineColor:{type:String,default:uni.$u.props.loadmore.lineColor},dashed:{type:Boolean,default:uni.$u.props.loadmore.dashed}}};e.default=n},7974:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={input:{value:"",type:"text",fixed:!1,disabled:!1,disabledColor:"#f5f7fa",clearable:!1,password:!1,maxlength:-1,placeholder:null,placeholderClass:"input-placeholder",placeholderStyle:"color: #c0c4cc",showWordLimit:!1,confirmType:"done",confirmHold:!1,holdKeyboard:!1,focus:!1,autoBlur:!1,disableDefaultPadding:!1,cursor:-1,cursorSpacing:30,selectionStart:-1,selectionEnd:-1,adjustPosition:!0,inputAlign:"left",fontSize:"15px",color:"#303133",prefixIcon:"",prefixIconStyle:"",suffixIcon:"",suffixIconStyle:"",border:"surround",readonly:!1,shape:"square",formatter:null}}},"7a51":function(t,e,i){"use strict";i.r(e);var n=i("10e3"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"7b17":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={switch:{loading:!1,disabled:!1,size:25,activeColor:"#2979ff",inactiveColor:"#ffffff",value:!1,activeValue:!0,inactiveValue:!1,asyncChange:!1,space:0}}},"7b7b":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{ref:"u-row",staticClass:this._$s(0,"sc","u-row"),style:this._$s(0,"s",[this.rowStyle]),attrs:{_i:0},on:{click:this.clickHandler}},[this._t("default",null,{_i:1})],2)},r=[]},"7bc9":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return e?"".concat(t.replace(/\/+$/,""),"/").concat(e.replace(/^\/+/,"")):t}},"7beb":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={parse:{copyLink:!0,errorImg:"",lazyLoad:!1,loadingImg:"",pauseVideo:!0,previewImg:!0,setTitle:!0,showImgMenu:!0}}},"7cd2":function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("c973")),o=i("801f"),s={namespaced:!0,state:{chapterInfo:null},mutations:{setBookChapter:function(e,i){e.chapterInfo=i.data,e.chapterInfo.typeList=i.data.fictionType,t("log",e.chapterInfo," at store/modules/chapter.js:16")},setComicChapter:function(e,i){e.chapterInfo=i.data,e.chapterInfo.typeList=i.data.comicType,t("log",e.chapterInfo," at store/modules/chapter.js:21")},setVideoChapter:function(e,i){e.chapterInfo=i.data,e.chapterInfo.typeList=i.data.videoType,t("log",e.chapterInfo," at store/modules/chapter.js:26")}},actions:{getsearchBookChapterfun:function(t,e){return(0,a.default)(r.default.mark((function i(){var n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,o.getsearchBookChapter)(e);case 2:return n=i.sent,n.data&&t.commit("setBookChapter",{data:n.data}),i.abrupt("return",n.code);case 5:case"end":return i.stop()}}),i)})))()},getsearchComicChapterfun:function(t,e){return(0,a.default)(r.default.mark((function i(){var n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,o.getsearchComicChapter)(e);case 2:return n=i.sent,n.data&&t.commit("setComicChapter",{data:n.data}),i.abrupt("return",n.code);case 5:case"end":return i.stop()}}),i)})))()},getsearchVideoChapterfun:function(t,e){return(0,a.default)(r.default.mark((function i(){var n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,o.getsearchVideoChapter)(e);case 2:return n=i.sent,n.data&&t.commit("setVideoChapter",{data:n.data}),i.abrupt("return",n.code);case 5:case"end":return i.stop()}}),i)})))()}},getters:{bookchapter:function(t){return t.chapterInfo?t.chapterInfo:null}}},l=s;e.default=l}).call(this,i("0de9")["default"])},"7cdf":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),a=(i("801f"),n(i("03b2"))),o=n(i("4de9")),s=i("26cb"),l=n(i("23bf"));function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={components:{Wnavbar:a.default,nWpopup:o.default,downScroll:l.default},data:function(){return{routeData:{id:"",name:"",type:""},searchOption:{fictionId:"",cartoonId:"",videoId:""}}},onLoad:function(t){this.routeData.id=t.id,this.routeData.name=t.name,this.routeData.type=t.type,"book"==t.type&&(this.searchOption.fictionId=t.id,this.getBookChaptervuex(this.searchOption)),"comic"==t.type&&(this.searchOption.cartoonId=t.id,this.getComicgetlistvuex(this.searchOption)),"video"==t.type&&(this.searchOption.videoId=t.id,this.getVideogetlistvuex(this.searchOption))},methods:c(c({},(0,s.mapActions)({getBookChaptervuex:"chapter/getsearchBookChapterfun",getComicgetlistvuex:"chapter/getsearchComicChapterfun",getVideogetlistvuex:"chapter/getsearchVideoChapterfun"})),{},{loadXHRFun:function(t){var e=this,i=[];"book"==this.routeData.type&&(i=[this.getBookChaptervuex(this.searchOption)]),"comic"==this.routeData.type&&(i=[this.getComicgetlistvuex(this.searchOption)]),"video"==this.routeData.type&&(i=[this.getVideogetlistvuex(this.searchOption)]),Promise.all(i).then((function(i){e.$refs["downscroll"].panDuanFun(i,t)})).catch((function(i){e.$refs["downscroll"].panDuanFun(i,t)}))},clickShowfun:function(){this.$refs["popup"].open()}}),computed:c({},(0,s.mapState)({chapterInfo:function(t){return t.chapter.chapterInfo}})),mounted:function(){},onUnload:function(){this.$store.state.chapter.chapterInfo=null}};e.default=d},"7d76":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","content"),attrs:{_i:0}})},r=[]},"7dff":function(t,e,i){"use strict";i.r(e);var n=i("6f62"),r=i("437a");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},"7e06":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",[e("Wnavbar",{attrs:{title:this.searchData.title,_i:1}}),e("view",{staticClass:this._$s(2,"sc","video-box-class moo-css"),attrs:{_i:2}},[e("video",{staticClass:this._$s(3,"sc","video-box app-video-css"),attrs:{id:"myVideo",src:this._$s(3,"a-src",this.searchData.chapterPath),_i:3},on:{error:this.videoErrorCallback}})])],1)},r=[]},"7ec2":function(t,e,i){var n=i("7037")["default"];function r(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=r=function(){return e},t.exports.__esModule=!0,t.exports["default"]=t.exports;var e={},i=Object.prototype,a=i.hasOwnProperty,o=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(D){d=function(t,e,i){return t[e]=i}}function f(t,e,i,n){var r=e&&e.prototype instanceof v?e:v,a=Object.create(r.prototype),s=new L(n||[]);return o(a,"_invoke",{value:T(t,i,s)}),a}function h(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(D){return{type:"throw",arg:D}}}e.wrap=f;var p={};function v(){}function g(){}function m(){}var y={};d(y,l,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(I([])));_&&_!==i&&a.call(_,l)&&(y=_);var w=m.prototype=v.prototype=Object.create(y);function k(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){var i;o(this,"_invoke",{value:function(r,o){function s(){return new e((function(i,s){(function i(r,o,s,l){var u=h(t[r],t,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&a.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,l)}),(function(t){i("throw",t,s,l)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,l)}))}l(u.arg)})(r,o,i,s)}))}return i=i?i.then(s,s):s()}})}function T(t,e,i){var n="suspendedStart";return function(r,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw a;return C()}for(i.method=r,i.arg=a;;){var o=i.delegate;if(o){var s=E(o,i);if(s){if(s===p)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=h(t,e,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}function E(t,e){var i=e.method,n=t.iterator[i];if(void 0===n)return e.delegate=null,"throw"===i&&t.iterator["return"]&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var r=h(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(t){if(t){var e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(a.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:C}}function C(){return{value:void 0,done:!0}}return g.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:g,configurable:!0}),g.displayName=d(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,d(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},k(S.prototype),d(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,i,n,r,a){void 0===a&&(a=Promise);var o=new S(f(t,i,n,r),a);return e.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},k(w),d(w,c,"Generator"),d(w,l,(function(){return this})),d(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return o.type="throw",o.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=a.call(r,"catchLoc"),l=a.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),x(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;x(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:I(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},"7f2b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={list:{showScrollbar:!1,lowerThreshold:50,upperThreshold:0,scrollTop:0,offsetAccuracy:10,enableFlex:!1,pagingEnabled:!1,scrollable:!0,scrollIntoView:"",scrollWithAnimation:!1,enableBackToTop:!1,height:0,width:0,preLoadScreen:1}}},"7fb9":function(t,e,i){"use strict";i.r(e);var n=i("868a"),r=i("8d59");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=i("ffdb"),l=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);"function"===typeof s["a"]&&Object(s["a"])(l),e["default"]=l.exports},"7fd0":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{duration:{type:Number,default:uni.$u.props.tabs.duration},list:{type:Array,default:uni.$u.props.tabs.list},lineColor:{type:String,default:uni.$u.props.tabs.lineColor},activeStyle:{type:[String,Object],default:uni.$u.props.tabs.activeStyle},inactiveStyle:{type:[String,Object],default:uni.$u.props.tabs.inactiveStyle},lineWidth:{type:[String,Number],default:uni.$u.props.tabs.lineWidth},lineHeight:{type:[String,Number],default:uni.$u.props.tabs.lineHeight},lineBgSize:{type:String,default:uni.$u.props.tabs.lineBgSize},itemStyle:{type:[String,Object],default:uni.$u.props.tabs.itemStyle},scrollable:{type:Boolean,default:uni.$u.props.tabs.scrollable},current:{type:[Number,String],default:uni.$u.props.tabs.current},keyName:{type:String,default:uni.$u.props.tabs.keyName}}};e.default=n},"801f":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.getsearchBook=function(t){return(0,r.default)({url:"/fiction/search/".concat(t.option,"/").concat(t.key,"/").concat(t.from,"/").concat(t.size),method:"GET"})},e.getsearchBookChapter=function(t){return(0,r.default)({url:"/fictionChapter/search/".concat(t.fictionId),method:"GET"})},e.getsearchBookContent=function(t){return(0,r.default)({url:"/fictionContent/search/".concat(t.chapterId),method:"GET"})},e.getsearchComic=function(t){return(0,r.default)({url:"/comic/search/".concat(t.option,"/").concat(t.key,"/").concat(t.from,"/").concat(t.size),method:"GET"})},e.getsearchComicChapter=function(t){return(0,r.default)({url:"/comicChapter/search/".concat(t.cartoonId),method:"GET"})},e.getsearchComicContent=function(t){return(0,r.default)({url:"/comicContent/search/".concat(t.chapterId),method:"GET"})},e.getsearchVideo=function(t){return(0,r.default)({url:"/video/search/".concat(t.option,"/").concat(t.key,"/").concat(t.from,"/").concat(t.size),method:"GET"})},e.getsearchVideoChapter=function(t){return(0,r.default)({url:"/videoChapter/search/".concat(t.videoId),method:"GET"})};var r=n(i("8627"))},8054:function(t,e,i){"use strict";i.r(e);var n=i("924e"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},8180:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={line:{color:"#d6d7d9",length:"100%",direction:"row",hairline:!0,margin:0,dashed:!1}}},8240:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={sticky:{offsetTop:0,customNavHeight:0,disabled:!1,bgColor:"transparent",zIndex:"",index:""}}},"82db":function(t,e,i){"use strict";i.r(e);var n=i("f3e5"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},8323:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uTransition:i("e176").default},r=function(){var t=this.$createElement,e=this._self._c||t;return e("u-transition",{attrs:{show:this.show,"custom-class":"u-overlay",duration:this.duration,"custom-style":this.overlayStyle,_i:0},on:{click:this.clickHandler}},[this._t("default",null,{_i:1})],2)},a=[]},8334:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("scroll-view",{staticClass:t._$s(1,"sc","list-box"),attrs:{_i:1}},t._l(t._$s(2,"f",{forItems:t.data.val}),(function(e,n,r,a){return i("div",{key:t._$s(2,"f",{forIndex:r,key:n}),attrs:{_i:"2-"+a},on:{click:function(i){return t.selectClickChapter(e)}}},[i("div",{staticClass:t._$s("3-"+a,"sc","item-list"),attrs:{_i:"3-"+a}},[t._v(t._$s("3-"+a,"t0-0",t._s(e.title)))])])})),0)])},r=[]},"84a2":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={upload:{accept:"image",capture:function(){return["album","camera"]},compressed:!0,camera:"back",maxDuration:60,uploadIcon:"camera-fill",uploadIconColor:"#D3D4D6",useBeforeRead:!1,previewFullImage:!0,maxCount:52,disabled:!1,imageMode:"aspectFill",name:"",sizeType:function(){return["original","compressed"]},multiple:!1,deletable:!0,maxSize:Number.MAX_VALUE,fileList:function(){return[]},uploadText:"",width:80,height:80,previewImage:!0}};e.default=n},"84f6":function(t,e,i){"use strict";i.r(e);var n=i("371d1"),r=i("47e5");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},8588:function(t,e,i){"use strict";i.r(e);var n=i("7cdf"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},8627:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i="http://api.pingcc.cn";t("log","\u751f\u4ea7\u73af\u5883"," at http/request.js:7"),i="http://api.pingcc.cn";var n=function(t,e){uni.onNetworkStatusChange((function(t){return t.isConnected||uni.showToast({title:"\u7f51\u7edc\u8fde\u63a5\u4e0d\u53ef\u7528\uff01",icon:"none"}),!1}));var n=uni.getStorageSync("token"),r={url:i+t.url,data:e,method:t.method||"GET",header:"get"==t.method?{"X-Access-Token":n,"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json; charset=UTF-8","Cache-Control":"no-cache"}:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json; charset=UTF-8"},dataType:"json"},a=new Promise((function(t,e){uni.request(r).then((function(e){var i;"request:fail"==(null===(i=e[0])||void 0===i?void 0:i.errMsg)&&(uni.showToast({title:"\u670d\u52a1\u5668\u9519\u8bef",duration:2e3,icon:"none"}),t([])),200==e[1].statusCode?(2==e[1].data.code&&uni.showToast({title:e[1].data.msg+"\u8bf7\u91cd\u65b0\u5237\u65b0",duration:2e3,icon:"none"}),t(e[1].data)):5e3==e[1].statusCode?(uni.reLaunch({url:"/pages/login/index"}),uni.clearStorageSync()):t(e[1])})).catch((function(t){e(t)}))}));return a};e.default=n}).call(this,i("0de9")["default"])},8638:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("b062")),a={name:"u-navbar",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{}},methods:{leftClick:function(){this.$emit("leftClick"),this.autoBack&&uni.navigateBack()},rightClick:function(){this.$emit("rightClick")}}};e.default=a},"868a":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","mescroll-uni-warp"),attrs:{_i:0}},[i("scroll-view",{staticClass:t._$s(1,"sc","mescroll-uni"),class:t._$s(1,"c",{"mescroll-uni-fixed":t.isFixed}),style:t._$s(1,"s",{height:t.scrollHeight,"padding-top":t.padTop,"padding-bottom":t.padBottom,top:t.fixedTop,bottom:t.fixedBottom}),attrs:{id:t._$s(1,"a-id",t.viewId),"scroll-top":t._$s(1,"a-scroll-top",t.scrollTop),"scroll-with-animation":t._$s(1,"a-scroll-with-animation",t.scrollAnim),"scroll-y":t._$s(1,"a-scroll-y",t.scrollable),_i:1},on:{scroll:t.scroll}},[i("view",{wxsProps:{"change:prop":"wxsProp"},staticClass:t._$s(2,"sc","mescroll-uni-content mescroll-render-touch"),attrs:{prop:t._$s(2,"change:wxsProp",t.wxsProp),_i:2},on:{}},[t._$s(3,"i",t.topbar&&t.statusBarHeight)?i("view",{staticClass:t._$s(3,"sc","mescroll-topbar"),style:t._$s(3,"s",{height:t.statusBarHeight+"px",background:t.topbar}),attrs:{_i:3}}):t._e(),i("view",{wxsProps:{"change:prop":"callProp"},staticClass:t._$s(4,"sc","mescroll-wxs-content"),style:t._$s(4,"s",{transform:t.translateY,transition:t.transition}),attrs:{prop:t._$s(4,"change:callProp",t.callProp),_i:4}},[t._$s(5,"i",t.mescroll.optDown.use)?i("view",{staticClass:t._$s(5,"sc","mescroll-downwarp"),style:t._$s(5,"s",{background:t.mescroll.optDown.bgColor,color:t.mescroll.optDown.textColor}),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","downwarp-content"),attrs:{_i:6}},[i("view",{staticClass:t._$s(7,"sc","downwarp-progress mescroll-wxs-progress"),class:t._$s(7,"c",{"mescroll-rotate":t.isDownLoading}),style:t._$s(7,"s",{"border-color":t.mescroll.optDown.textColor,transform:t.downRotate}),attrs:{_i:7}}),i("view",{staticClass:t._$s(8,"sc","downwarp-tip"),attrs:{_i:8}},[t._v(t._$s(8,"t0-0",t._s(t.downText)))])])]):t._e(),t._t("default",null,{_i:9}),t._$s(10,"i",t.isShowEmpty)?i("mescroll-empty",{attrs:{option:t.mescroll.optUp.empty,_i:10},on:{emptyclick:t.emptyClick}}):t._e(),t._$s(11,"i",t.mescroll.optUp.use&&!t.isDownLoading&&3!==t.upLoadType)?i("view",{staticClass:t._$s(11,"sc","mescroll-upwarp"),style:t._$s(11,"s",{background:t.mescroll.optUp.bgColor,color:t.mescroll.optUp.textColor}),attrs:{_i:11}},[i("view",{directives:[{name:"show",rawName:"v-show",value:t._$s(12,"v-show",1===t.upLoadType),expression:"_$s(12,'v-show',upLoadType===1)"}],attrs:{_i:12}},[i("view",{staticClass:t._$s(13,"sc","upwarp-progress mescroll-rotate"),style:t._$s(13,"s",{"border-color":t.mescroll.optUp.textColor}),attrs:{_i:13}}),i("view",{staticClass:t._$s(14,"sc","upwarp-tip"),attrs:{_i:14}},[t._v(t._$s(14,"t0-0",t._s(t.mescroll.optUp.textLoading)))])]),t._$s(15,"i",2===t.upLoadType)?i("view",{staticClass:t._$s(15,"sc","upwarp-nodata"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.mescroll.optUp.textNoMore)))]):t._e()]):t._e()],2),t._$s(16,"i",t.safearea)?i("view",{staticClass:t._$s(16,"sc","mescroll-safearea"),attrs:{_i:16}}):t._e()])]),i("mescroll-top",{attrs:{option:t.mescroll.optUp.toTop,_i:17},on:{click:t.toTopClick},model:{value:t._$s(17,"v-model",t.isShowToTop),callback:function(e){t.isShowToTop=e},expression:"isShowToTop"}}),i("view",{wxsProps:{"change:prop":"wxsProp"},attrs:{prop:t._$s(18,"change:wxsProp",t.wxsProp),_i:18}})],1)},r=[]},"86a5":function(t,e,i){"use strict";i.r(e);var n=i("9222"),r=i("0c59");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"21c3eb91",null,!1,n["a"],void 0);e["default"]=s.exports},"86b8":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uSticky:i("d096").default,uList:i("a2e3").default,uListItem:i("5e0d").default,"u-Image":i("84f6").default,"u-Text":i("f6e5").default,uLoadmore:i("6c20").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","content"),attrs:{_i:0}},[i("u-sticky",{attrs:{customNavHeight:0,_i:1}},[i("Wnavbar",{attrs:{title:t.searchData.key,_i:2}})],1),i("view",{staticClass:t._$s(3,"sc","listdata-class-content"),attrs:{_i:3}},[i("u-list",{attrs:{_i:4},on:{scrolltolower:t.scrolltolower}},[t._l(t._$s(5,"f",{forItems:"book"==t.listType?t.bookList:"comic"==t.listType?t.comicList:t.videoList}),(function(e,n,r,a){return i("u-list-item",{key:t._$s(5,"f",{forIndex:r,key:n}),attrs:{_i:"5-"+a}},[i("view",{staticClass:t._$s("6-"+a,"sc","itemlist-css"),attrs:{_i:"6-"+a},on:{click:function(i){return t.clickHomeItem(e)}}},[i("u--image",{attrs:{showLoading:!0,src:e.cover,width:"130px",height:"180px",_i:"7-"+a}}),i("view",{staticClass:t._$s("8-"+a,"sc","itemlist-css-right"),attrs:{_i:"8-"+a}},[i("h2",[t._v(t._$s("9-"+a,"t0-0",t._s(e.title)))]),i("view",[i("u--text",{attrs:{text:"\u4f5c\u8005\uff1a",size:"20",_i:"11-"+a}}),i("u--text",{attrs:{text:e.author,size:"20",_i:"12-"+a}})],1),i("view",[i("u--text",{attrs:{text:e.descs,size:"20",lines:3,_i:"14-"+a}})],1)])],1)])})),i("u-list-item",{attrs:{_i:15}},[i("u-loadmore",{attrs:{status:t.status,_i:16}})],1)],2)],1)],1)},a=[]},"873a":function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),a=n(i("03b2")),o=i("26cb");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={props:["type","name","title"],components:{Wnavbar:a.default},data:function(){return{searchData:{option:"",key:"",from:1,size:10},listType:null,status:"loading"}},onLoad:function(e){t("log",e," at pageA/dataList/dataList.vue:66"),this.listType=e.type,"book"==e.type&&(this.searchData.option="fictionType",this.searchData.key=e.name,e.title-0&&(this.searchData.option="title"),this.bookgetlistvuex(this.searchData)),"comic"==e.type&&(this.searchData.option="comicType",this.searchData.key=e.name,e.title-0&&(this.searchData.option="title"),this.comicgetlistvuex(this.searchData)),"video"==e.type&&(this.searchData.option="videoType",this.searchData.key=e.name,e.title-0&&(this.searchData.option="title"),this.videogetlistvuex(this.searchData))},methods:l(l(l({},(0,o.mapActions)({bookgetlistvuex:"book/bookgetlist",comicgetlistvuex:"comic/comicgetlist",videogetlistvuex:"video/videogetlist"})),(0,o.mapMutations)({bookresetsearchList:"book/resetsearchList",comicresetsearchList:"comic/resetsearchList",videoresetsearchList:"video/resetsearchList"})),{},{scrolltolower:function(){var e=null;if("book"==this.listType){if(e=this.bookcount,e<=10&&(this.status="nomore"),this.bookList.length+10<=e)this.searchData.from++;else{if(t("log",this.bookList.length+10,e," at pageA/dataList/dataList.vue:117"),!(e-this.bookList.length<=9))return void(this.status="nomore");this.searchData.from++}this.bookgetlistvuex(this.searchData)}if("comic"==this.listType){if(e=this.comiccount,e<=10&&(this.status="nomore"),this.comicList.length+10<=e)this.searchData.from++;else{if(t("log",e," at pageA/dataList/dataList.vue:135"),!(e-this.comicList.length<=9))return void(this.status="nomore");this.searchData.from++}this.comicgetlistvuex(this.searchData),t("log",this.comicList," at pageA/dataList/dataList.vue:144")}if("video"==this.listType){if(e=this.videocount,e<=10&&(this.status="nomore"),this.videoList.length+10<=e)this.searchData.from++;else{if(!(e-this.videoList.length<=9))return void(this.status="nomore");this.searchData.from++}this.videogetlistvuex(this.searchData)}},clickHomeItem:function(t){var e;"book"==this.listType&&(e="/pageB/chapter/indexChapter?id=".concat(t.fictionId,"&name=").concat(t.title,"&type=").concat(t.type)),"comic"==this.listType&&(e="/pageB/chapter/indexChapter?id=".concat(t.comicId,"&name=").concat(t.title,"&type=").concat(t.type)),"video"==this.listType&&(e="/pageB/chapter/indexChapter?id=".concat(t.videoId,"&name=").concat(t.title,"&type=").concat(t.type)),uni.navigateTo({url:e})},selectType:function(){return"book"==this.listType?this.bookList:"comic"==this.listType?this.comicList:this.videoList}}),mounted:function(){},computed:l({},(0,o.mapState)({bookList:function(t){return t.book.searchList},comicList:function(t){return t.comic.searchList},videoList:function(t){return t.video.searchList},bookcount:function(t){return t.book.listcount},comiccount:function(t){return t.comic.listcount},videocount:function(t){return t.video.listcount}})),watch:{bookcount:function(t,e){t<10&&(this.status="nomore")},comiccount:function(t,e){t<10&&(this.status="nomore")},videocount:function(t,e){t<10&&(this.status="nomore")}},destroyed:function(){this.bookresetsearchList(null),this.comicresetsearchList(null),this.videoresetsearchList(null)}};e.default=u}).call(this,i("0de9")["default"])},"87e4":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("448a")),a=n(i("278c")),o=n(i("3c96")),s=n(i("a128")),l=n(i("8962")),u=n(i("ed6d")),c=n(i("6b58")),d=n(i("36c6")),f=n(i("9523")),h=n(i("970b")),p=n(i("5bc3")),v=n(i("7037"));function g(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"===typeof t)return m(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return m(t,e)}(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,d.default)(t);if(e){var r=(0,d.default)(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return(0,c.default)(this,i)}}function b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t}var _={exports:{}};(function(t,e){(function(e){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),e=e.trim(),!e){if(!i.alwaysNormalize)return t;var r=o.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return i.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):e;var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=o.normalizePath(d)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=i.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(u)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){t=t.split("").reverse().join("").replace(r,"");while(t.length!==(t=t.replace(a,"")).length);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=o})()})(_);var w=_.exports;function k(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?k(Object(i),!0).forEach((function(e){T(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function T(t,e,i){return e=function(t){var e=function(t,e){if("object"!==(0,v.default)(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==(0,v.default)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===(0,v.default)(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function E(){return E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},E.apply(this,arguments)}var A=Number.isFinite||function(t){return"number"===typeof t&&isFinite(t)},x=function(t){return t["MEDIA_ATTACHING"]="hlsMediaAttaching",t["MEDIA_ATTACHED"]="hlsMediaAttached",t["MEDIA_DETACHING"]="hlsMediaDetaching",t["MEDIA_DETACHED"]="hlsMediaDetached",t["BUFFER_RESET"]="hlsBufferReset",t["BUFFER_CODECS"]="hlsBufferCodecs",t["BUFFER_CREATED"]="hlsBufferCreated",t["BUFFER_APPENDING"]="hlsBufferAppending",t["BUFFER_APPENDED"]="hlsBufferAppended",t["BUFFER_EOS"]="hlsBufferEos",t["BUFFER_FLUSHING"]="hlsBufferFlushing",t["BUFFER_FLUSHED"]="hlsBufferFlushed",t["MANIFEST_LOADING"]="hlsManifestLoading",t["MANIFEST_LOADED"]="hlsManifestLoaded",t["MANIFEST_PARSED"]="hlsManifestParsed",t["LEVEL_SWITCHING"]="hlsLevelSwitching",t["LEVEL_SWITCHED"]="hlsLevelSwitched",t["LEVEL_LOADING"]="hlsLevelLoading",t["LEVEL_LOADED"]="hlsLevelLoaded",t["LEVEL_UPDATED"]="hlsLevelUpdated",t["LEVEL_PTS_UPDATED"]="hlsLevelPtsUpdated",t["LEVELS_UPDATED"]="hlsLevelsUpdated",t["AUDIO_TRACKS_UPDATED"]="hlsAudioTracksUpdated",t["AUDIO_TRACK_SWITCHING"]="hlsAudioTrackSwitching",t["AUDIO_TRACK_SWITCHED"]="hlsAudioTrackSwitched",t["AUDIO_TRACK_LOADING"]="hlsAudioTrackLoading",t["AUDIO_TRACK_LOADED"]="hlsAudioTrackLoaded",t["SUBTITLE_TRACKS_UPDATED"]="hlsSubtitleTracksUpdated",t["SUBTITLE_TRACKS_CLEARED"]="hlsSubtitleTracksCleared",t["SUBTITLE_TRACK_SWITCH"]="hlsSubtitleTrackSwitch",t["SUBTITLE_TRACK_LOADING"]="hlsSubtitleTrackLoading",t["SUBTITLE_TRACK_LOADED"]="hlsSubtitleTrackLoaded",t["SUBTITLE_FRAG_PROCESSED"]="hlsSubtitleFragProcessed",t["CUES_PARSED"]="hlsCuesParsed",t["NON_NATIVE_TEXT_TRACKS_FOUND"]="hlsNonNativeTextTracksFound",t["INIT_PTS_FOUND"]="hlsInitPtsFound",t["FRAG_LOADING"]="hlsFragLoading",t["FRAG_LOAD_EMERGENCY_ABORTED"]="hlsFragLoadEmergencyAborted",t["FRAG_LOADED"]="hlsFragLoaded",t["FRAG_DECRYPTED"]="hlsFragDecrypted",t["FRAG_PARSING_INIT_SEGMENT"]="hlsFragParsingInitSegment",t["FRAG_PARSING_USERDATA"]="hlsFragParsingUserdata",t["FRAG_PARSING_METADATA"]="hlsFragParsingMetadata",t["FRAG_PARSED"]="hlsFragParsed",t["FRAG_BUFFERED"]="hlsFragBuffered",t["FRAG_CHANGED"]="hlsFragChanged",t["FPS_DROP"]="hlsFpsDrop",t["FPS_DROP_LEVEL_CAPPING"]="hlsFpsDropLevelCapping",t["ERROR"]="hlsError",t["DESTROYING"]="hlsDestroying",t["KEY_LOADING"]="hlsKeyLoading",t["KEY_LOADED"]="hlsKeyLoaded",t["LIVE_BACK_BUFFER_REACHED"]="hlsLiveBackBufferReached",t["BACK_BUFFER_REACHED"]="hlsBackBufferReached",t}({}),L=function(t){return t["NETWORK_ERROR"]="networkError",t["MEDIA_ERROR"]="mediaError",t["KEY_SYSTEM_ERROR"]="keySystemError",t["MUX_ERROR"]="muxError",t["OTHER_ERROR"]="otherError",t}({}),I=function(t){return t["KEY_SYSTEM_NO_KEYS"]="keySystemNoKeys",t["KEY_SYSTEM_NO_ACCESS"]="keySystemNoAccess",t["KEY_SYSTEM_NO_SESSION"]="keySystemNoSession",t["KEY_SYSTEM_NO_CONFIGURED_LICENSE"]="keySystemNoConfiguredLicense",t["KEY_SYSTEM_LICENSE_REQUEST_FAILED"]="keySystemLicenseRequestFailed",t["KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED"]="keySystemServerCertificateRequestFailed",t["KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED"]="keySystemServerCertificateUpdateFailed",t["KEY_SYSTEM_SESSION_UPDATE_FAILED"]="keySystemSessionUpdateFailed",t["KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED"]="keySystemStatusOutputRestricted",t["KEY_SYSTEM_STATUS_INTERNAL_ERROR"]="keySystemStatusInternalError",t["MANIFEST_LOAD_ERROR"]="manifestLoadError",t["MANIFEST_LOAD_TIMEOUT"]="manifestLoadTimeOut",t["MANIFEST_PARSING_ERROR"]="manifestParsingError",t["MANIFEST_INCOMPATIBLE_CODECS_ERROR"]="manifestIncompatibleCodecsError",t["LEVEL_EMPTY_ERROR"]="levelEmptyError",t["LEVEL_LOAD_ERROR"]="levelLoadError",t["LEVEL_LOAD_TIMEOUT"]="levelLoadTimeOut",t["LEVEL_PARSING_ERROR"]="levelParsingError",t["LEVEL_SWITCH_ERROR"]="levelSwitchError",t["AUDIO_TRACK_LOAD_ERROR"]="audioTrackLoadError",t["AUDIO_TRACK_LOAD_TIMEOUT"]="audioTrackLoadTimeOut",t["SUBTITLE_LOAD_ERROR"]="subtitleTrackLoadError",t["SUBTITLE_TRACK_LOAD_TIMEOUT"]="subtitleTrackLoadTimeOut",t["FRAG_LOAD_ERROR"]="fragLoadError",t["FRAG_LOAD_TIMEOUT"]="fragLoadTimeOut",t["FRAG_DECRYPT_ERROR"]="fragDecryptError",t["FRAG_PARSING_ERROR"]="fragParsingError",t["FRAG_GAP"]="fragGap",t["REMUX_ALLOC_ERROR"]="remuxAllocError",t["KEY_LOAD_ERROR"]="keyLoadError",t["KEY_LOAD_TIMEOUT"]="keyLoadTimeOut",t["BUFFER_ADD_CODEC_ERROR"]="bufferAddCodecError",t["BUFFER_INCOMPATIBLE_CODECS_ERROR"]="bufferIncompatibleCodecsError",t["BUFFER_APPEND_ERROR"]="bufferAppendError",t["BUFFER_APPENDING_ERROR"]="bufferAppendingError",t["BUFFER_STALLED_ERROR"]="bufferStalledError",t["BUFFER_FULL_ERROR"]="bufferFullError",t["BUFFER_SEEK_OVER_HOLE"]="bufferSeekOverHole",t["BUFFER_NUDGE_ON_STALL"]="bufferNudgeOnStall",t["INTERNAL_EXCEPTION"]="internalException",t["INTERNAL_ABORTED"]="aborted",t["UNKNOWN"]="unknown",t}({}),C=function(){},D={trace:C,debug:C,log:C,warn:C,info:C,error:C},O=D;function R(t){var e=self.console[t];return e?e.bind(self.console,"[".concat(t,"] >")):C}function P(t,e){if(self.console&&!0===t||"object"===(0,v.default)(t)){(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];i.forEach((function(e){O[e]=t[e]?t[e].bind(t):R(e)}))})(t,"debug","log","info","warn","error");try{O.log('Debug logs enabled for "'.concat(e,'" in hls.js version ',"1.4.3"))}catch(i){O=D}}else O=D}var M=O,F=/^(\d+)x(\d+)$/,B=/(.+?)=(".*?"|.*?)(?:,|$)/g,N=function(){function t(e){for(var i in(0,h.default)(this,t),"string"===typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(i)&&("X-"===i.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(i)),this[i]=e[i])}return(0,p.default)(t,[{key:"decimalInteger",value:function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}},{key:"hexadecimalInteger",value:function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var i=new Uint8Array(e.length/2),n=0;n<e.length/2;n++)i[n]=parseInt(e.slice(2*n,2*n+2),16);return i}return null}},{key:"hexadecimalIntegerAsNumber",value:function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}},{key:"decimalFloatingPoint",value:function(t){return parseFloat(this[t])}},{key:"optionalFloat",value:function(t,e){var i=this[t];return i?parseFloat(i):e}},{key:"enumeratedString",value:function(t){return this[t]}},{key:"bool",value:function(t){return"YES"===this[t]}},{key:"decimalResolution",value:function(t){var e=F.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}}],[{key:"parseAttrList",value:function(t){var e,i={};B.lastIndex=0;while(null!==(e=B.exec(t))){var n=e[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1));var r=e[1].trim();i[r]=n}return i}}]),t}();function U(t){return"ID"!==t&&"CLASS"!==t&&"START-DATE"!==t&&"DURATION"!==t&&"END-DATE"!==t&&"END-ON-NEXT"!==t}function $(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t}var j=function(){function t(e,i){if((0,h.default)(this,t),this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,i){var n=i.attr;for(var r in n)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r]!==n[r]){M.warn('DATERANGE tag attribute: "'.concat(r,'" does not match for tags with ID: "').concat(e.ID,'"')),this._badValueForSameId=r;break}e=E(new N({}),n,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){var a=new Date(this.attr["END-DATE"]);A(a.getTime())&&(this._endDate=a)}}return(0,p.default)(t,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var t=this.duration;return null!==t?new Date(this._startDate.getTime()+1e3*t):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var t=this.attr.decimalFloatingPoint("DURATION");if(A(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&A(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),t}(),H=(0,p.default)((function t(){(0,h.default)(this,t),this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}})),G={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"},V=function(){function t(e){var i;(0,h.default)(this,t),this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(i={},(0,f.default)(i,G.AUDIO,null),(0,f.default)(i,G.VIDEO,null),(0,f.default)(i,G.AUDIOVIDEO,null),i),this.baseurl=e}return(0,p.default)(t,[{key:"setByteRange",value:function(t,e){var i=t.split("@",2),n=[];1===i.length?n[0]=e?e.byteRangeEndOffset:0:n[0]=parseInt(i[1]),n[1]=parseInt(i[0])+n[0],this._byteRange=n}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=w.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(t){this._url=t}}]),t}(),K=function(t){(0,u.default)(i,t);var e=y(i);function i(t,n){var r;return(0,h.default)(this,i),r=e.call(this,n),r._decryptdata=null,r.rawProgramDateTime=null,r.programDateTime=null,r.tagList=[],r.duration=0,r.sn=0,r.levelkeys=void 0,r.type=void 0,r.loader=null,r.keyLoader=null,r.level=-1,r.cc=0,r.startPTS=void 0,r.endPTS=void 0,r.startDTS=void 0,r.endDTS=void 0,r.start=0,r.deltaPTS=void 0,r.maxStartPTS=void 0,r.minEndPTS=void 0,r.stats=new H,r.urlId=0,r.data=void 0,r.bitrateTest=!1,r.title=null,r.initSegment=null,r.endList=void 0,r.gap=void 0,r.type=t,r}return(0,p.default)(i,[{key:"decryptdata",get:function(){var t=this.levelkeys;if(!t&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{var i=Object.keys(this.levelkeys);if(1===i.length)return this._decryptdata=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!A(this.programDateTime))return null;var t=A(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){var e=Object.keys(this.levelkeys),i=e.length;if(i>1||1===i&&this.levelkeys[e[0]].encrypted)return!0}return!1}},{key:"setKeyFormat",value:function(t){if(this.levelkeys){var e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}},{key:"abortRequests",value:function(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()}},{key:"setElementaryStreamInfo",value:function(t,e,i,n,r){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=this.elementaryStreams,s=o[t];s?(s.startPTS=Math.min(s.startPTS,e),s.endPTS=Math.max(s.endPTS,i),s.startDTS=Math.min(s.startDTS,n),s.endDTS=Math.max(s.endDTS,r)):o[t]={startPTS:e,endPTS:i,startDTS:n,endDTS:r,partial:a}}},{key:"clearElementaryStreamInfo",value:function(){var t=this.elementaryStreams;t[G.AUDIO]=null,t[G.VIDEO]=null,t[G.AUDIOVIDEO]=null}}]),i}(V),z=function(t){(0,u.default)(i,t);var e=y(i);function i(t,n,r,a,o){var s;(0,h.default)(this,i),s=e.call(this,r),s.fragOffset=0,s.duration=0,s.gap=!1,s.independent=!1,s.relurl=void 0,s.fragment=void 0,s.index=void 0,s.stats=new H,s.duration=t.decimalFloatingPoint("DURATION"),s.gap=t.bool("GAP"),s.independent=t.bool("INDEPENDENT"),s.relurl=t.enumeratedString("URI"),s.fragment=n,s.index=a;var l=t.enumeratedString("BYTERANGE");return l&&s.setByteRange(l,o),o&&(s.fragOffset=o.fragOffset+o.duration),s}return(0,p.default)(i,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var t=this.elementaryStreams;return!!(t.audio||t.video||t.audiovideo)}}]),i}(V),Y=function(){function t(e){(0,h.default)(this,t),this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}return(0,p.default)(t,[{key:"reloaded",value:function(t){if(!t)return this.advanced=!0,void(this.updated=!0);var e=this.lastPartSn-t.lastPartSn,i=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!i||!!e,this.advanced=this.endSN>t.endSN||e>0||0===e&&i>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay}},{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&A(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var t=this.driftEndTime-this.driftStartTime;if(t>0){var e=this.driftEnd-this.driftStart;return 1e3*e/t}return 1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),t}();function W(t){return Uint8Array.from(atob(t),(function(t){return t.charCodeAt(0)}))}function Q(t){var e=t.split(":"),i=null;if("data"===e[0]&&2===e.length){var n=e[1].split(";"),r=n[n.length-1].split(",");if(2===r.length){var a="base64"===r[0],o=r[1];a?(n.splice(-1,1),i=W(o)):i=function(t){var e=q(t).subarray(0,16),i=new Uint8Array(16);return i.set(e,16-e.length),i}(o)}}return i}function q(t){return Uint8Array.from(unescape(encodeURIComponent(t)),(function(t){return t.charCodeAt(0)}))}var X={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},J={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Z(t){switch(t){case J.FAIRPLAY:return X.FAIRPLAY;case J.PLAYREADY:return X.PLAYREADY;case J.WIDEVINE:return X.WIDEVINE;case J.CLEARKEY:return X.CLEARKEY}}var tt={WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function et(t){switch(t){case X.FAIRPLAY:return J.FAIRPLAY;case X.PLAYREADY:return J.PLAYREADY;case X.WIDEVINE:return J.WIDEVINE;case X.CLEARKEY:return J.CLEARKEY}}function it(t){var e=t.drmSystems,i=t.widevineLicenseUrl,n=e?[X.FAIRPLAY,X.WIDEVINE,X.PLAYREADY,X.CLEARKEY].filter((function(t){return!!e[t]})):[];return!n[X.WIDEVINE]&&i&&n.push(X.WIDEVINE),n}var nt=function(){return"undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function rt(t,e,i){return Uint8Array.prototype.slice?t.slice(e,i):new Uint8Array(Array.prototype.slice.call(t,e,i))}var at,ot=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},st=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},lt=function(t,e){var i=e,n=0;while(ot(t,e)){n+=10;var r=ut(t,e+6);n+=r,st(t,e+10)&&(n+=10),e+=n}if(n>0)return t.subarray(i,i+n)},ut=function(t,e){var i=0;return i=(127&t[e])<<21,i|=(127&t[e+1])<<14,i|=(127&t[e+2])<<7,i|=127&t[e+3],i},ct=function(t,e){return ot(t,e)&&ut(t,e+6)+10<=t.length-e},dt=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},ft=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),i=ut(t,4);return{type:e,size:i,data:t.subarray(10,10+i)}},ht=function(t){var e=0,i=[];while(ot(t,e)){var n=ut(t,e+6);e+=10;var r=e+n;while(e+8<r){var a=ft(t.subarray(e)),o=pt(a);o&&i.push(o),e+=a.size+10}st(t,e)&&(e+=10)}return i},pt=function(t){return"PRIV"===t.type?vt(t):"W"===t.type[0]?mt(t):gt(t)},vt=function(t){if(!(t.size<2)){var e=bt(t.data,!0),i=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:i.buffer}}},gt=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,i=bt(t.data.subarray(e),!0);e+=i.length+1;var n=bt(t.data.subarray(e));return{key:t.type,info:i,data:n}}var r=bt(t.data.subarray(1));return{key:t.type,data:r}}},mt=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,i=bt(t.data.subarray(e),!0);e+=i.length+1;var n=bt(t.data.subarray(e));return{key:t.type,info:i,data:n}}var r=bt(t.data);return{key:t.type,data:r}},yt=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),i=1&e[3],n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,i&&(n+=47721858.84),Math.round(n)}},bt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=_t();if(i){var n=i.decode(t);if(e){var r=n.indexOf("\0");return-1!==r?n.substring(0,r):n}return n.replace(/\0/g,"")}var a,o,s,l=t.length,u="",c=0;while(c<l){if(a=t[c++],0===a&&e)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:o=t[c++],u+=String.fromCharCode((31&a)<<6|63&o);break;case 14:o=t[c++],s=t[c++],u+=String.fromCharCode((15&a)<<12|(63&o)<<6|(63&s)<<0);break}}return u};function _t(){return at||"undefined"===typeof self.TextDecoder||(at=new self.TextDecoder("utf-8")),at}var wt={hexDump:function(t){for(var e="",i=0;i<t.length;i++){var n=t[i].toString(16);n.length<2&&(n="0"+n),e+=n}return e}},kt=Math.pow(2,32)-1,St=[].push,Tt={video:1,audio:2,id3:3,text:4};function Et(t){return String.fromCharCode.apply(null,t)}function At(t,e){var i=t[e]<<8|t[e+1];return i<0?65536+i:i}function xt(t,e){var i=Lt(t,e);return i<0?4294967296+i:i}function Lt(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function It(t,e,i){t[e]=i>>24,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i}function Ct(t,e){var i=[];if(!e.length)return i;for(var n=t.byteLength,r=0;r<n;){var a=xt(t,r),o=Et(t.subarray(r+4,r+8)),s=a>1?r+a:n;if(o===e[0])if(1===e.length)i.push(t.subarray(r+8,s));else{var l=Ct(t.subarray(r+8,s),e.slice(1));l.length&&St.apply(i,l)}r=s}return i}function Dt(t){var e=[],i=t[0],n=8,r=xt(t,n);n+=4;n+=0===i?8:16,n+=2;var a=t.length+0,o=At(t,n);n+=2;for(var s=0;s<o;s++){var l=n,u=xt(t,l);l+=4;var c=2147483647&u,d=(2147483648&u)>>>31;if(1===d)return M.warn("SIDX has hierarchical references (not supported)"),null;var f=xt(t,l);l+=4,e.push({referenceSize:c,subsegmentDuration:f,info:{duration:f/r,start:a,end:a+c-1}}),a+=c,l+=4,n=l}return{earliestPresentationTime:0,timescale:r,version:i,referencesCount:o,references:e}}function Ot(t){for(var e=[],i=Ct(t,["moov","trak"]),n=0;n<i.length;n++){var r=i[n],a=Ct(r,["tkhd"])[0];if(a){var o=a[0],s=0===o?12:20,l=xt(a,s),u=Ct(r,["mdia","mdhd"])[0];if(u){o=u[0],s=0===o?12:20;var c=xt(u,s),d=Ct(r,["mdia","hdlr"])[0];if(d){var f=Et(d.subarray(8,12)),h={soun:G.AUDIO,vide:G.VIDEO}[f];if(h){var p=Ct(r,["mdia","minf","stbl","stsd"])[0],v=void 0;p&&(v=Et(p.subarray(12,16))),e[l]={timescale:c,type:h},e[h]={timescale:c,id:l,codec:v}}}}}}var g=Ct(t,["moov","mvex","trex"]);return g.forEach((function(t){var i=xt(t,4),n=e[i];n&&(n.default={duration:xt(t,12),flags:xt(t,20)})})),e}function Rt(t){var e=Ct(t,["schm"])[0];if(e){var i=Et(e.subarray(4,8));if("cbcs"===i||"cenc"===i)return Ct(t,["schi","tenc"])[0]}return M.error("[eme] missing 'schm' box"),null}function Pt(t){var e=xt(t,0),i=8;1&e&&(i+=4),4&e&&(i+=4);for(var n=0,r=xt(t,4),a=0;a<r;a++){if(256&e){var o=xt(t,i);n+=o,i+=4}512&e&&(i+=4),1024&e&&(i+=4),2048&e&&(i+=4)}return n}function Mt(t,e){var i=new Uint8Array(t.length+e.length);return i.set(t),i.set(e,t.length),i}function Ft(t,e){var i=[],n=e.samples,r=e.timescale,a=e.id,o=!1,s=Ct(n,["moof"]);return s.map((function(s){var l=s.byteOffset-8,u=Ct(s,["traf"]);u.map((function(s){var u=Ct(s,["tfdt"]).map((function(t){var e=t[0],i=xt(t,4);return 1===e&&(i*=Math.pow(2,32),i+=xt(t,8)),i/r}))[0];return void 0!==u&&(t=u),Ct(s,["tfhd"]).map((function(u){var c=xt(u,4),d=16777215&xt(u,0),f=0!==(1&d),h=0!==(2&d),p=0!==(8&d),v=0,g=0!==(16&d),m=0,y=0!==(32&d),b=8;c===a&&(f&&(b+=8),h&&(b+=4),p&&(v=xt(u,b),b+=4),g&&(m=xt(u,b),b+=4),y&&(b+=4),"video"===e.type&&(o=function(t){if(!t)return!1;var e=t.indexOf("."),i=e<0?t:t.substring(0,e);return"hvc1"===i||"hev1"===i||"dvh1"===i||"dvhe"===i}(e.codec)),Ct(s,["trun"]).map((function(a){var s=a[0],u=16777215&xt(a,0),c=0!==(1&u),d=0,f=0!==(4&u),h=0!==(256&u),p=0,g=0!==(512&u),y=0,b=0!==(1024&u),_=0!==(2048&u),w=0,k=xt(a,4),S=8;c&&(d=xt(a,S),S+=4),f&&(S+=4);for(var T=d+l,E=0;E<k;E++){if(h?(p=xt(a,S),S+=4):p=v,g?(y=xt(a,S),S+=4):y=m,b&&(S+=4),_&&(w=0===s?xt(a,S):Lt(a,S),S+=4),e.type===G.VIDEO){var A=0;while(A<y){var x=xt(n,T);if(T+=4,Bt(o,n[T])){var L=n.subarray(T,T+x);Nt(L,o?2:1,t+w/r,i)}T+=x,A+=x+4}}t+=p/r}})))}))}))})),i}function Bt(t,e){if(t){var i=e>>1&63;return 39===i||40===i}var n=31&e;return 6===n}function Nt(t,e,i,n){var r=Ut(t),a=0;a+=e;var o=0,s=0,l=!1,u=0;while(a<r.length){o=0;do{if(a>=r.length)break;u=r[a++],o+=u}while(255===u);s=0;do{if(a>=r.length)break;u=r[a++],s+=u}while(255===u);var c=r.length-a;if(!l&&4===o&&a<r.length){l=!0;var d=r[a++];if(181===d){var f=At(r,a);if(a+=2,49===f){var h=xt(r,a);if(a+=4,1195456820===h){var p=r[a++];if(3===p){var v=r[a++],g=31&v,m=64&v,y=m?2+3*g:0,b=new Uint8Array(y);if(m){b[0]=v;for(var _=1;_<y;_++)b[_]=r[a++]}n.push({type:p,payloadType:o,pts:i,bytes:b})}}}}}else if(5===o&&s<c){if(l=!0,s>16){for(var w=[],k=0;k<16;k++){var S=r[a++].toString(16);w.push(1==S.length?"0"+S:S),3!==k&&5!==k&&7!==k&&9!==k||w.push("-")}for(var T=s-16,E=new Uint8Array(T),A=0;A<T;A++)E[A]=r[a++];n.push({payloadType:o,pts:i,uuid:w.join(""),userData:bt(E),userDataBytes:E})}}else if(s<c)a+=s;else if(s>c)break}}function Ut(t){var e=t.byteLength,i=[],n=1;while(n<e-2)0===t[n]&&0===t[n+1]&&3===t[n+2]?(i.push(n+2),n+=2):n++;if(0===i.length)return t;var r=e-i.length,a=new Uint8Array(r),o=0;for(n=0;n<r;o++,n++)o===i[0]&&(o++,i.shift()),a[n]=t[o];return a}function $t(t,e,i){if(16!==t.byteLength)throw new RangeError("Invalid system id");var n,r,a;if(e){n=1,r=new Uint8Array(16*e.length);for(var o=0;o<e.length;o++){var s=e[o];if(16!==s.byteLength)throw new RangeError("Invalid key");r.set(s,16*o)}}else n=0,r=new Uint8Array;n>0?(a=new Uint8Array(4),e.length>0&&new DataView(a.buffer).setUint32(0,e.length,!1)):a=new Uint8Array;var l=new Uint8Array(4);return i&&i.byteLength>0&&new DataView(l.buffer).setUint32(0,i.byteLength,!1),function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r=i.length,a=8,o=r;while(o--)a+=i[o].byteLength;var s=new Uint8Array(a);for(s[0]=a>>24&255,s[1]=a>>16&255,s[2]=a>>8&255,s[3]=255&a,s.set(t,4),o=0,a=8;o<r;o++)s.set(i[o],a),a+=i[o].byteLength;return s}([112,115,115,104],new Uint8Array([n,0,0,0]),t,a,r,l,i||new Uint8Array)}var jt={},Ht=function(){function t(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,h.default)(this,t),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=i,this.keyFormat=n,this.keyFormatVersions=r,this.iv=a,this.encrypted=!!e&&"NONE"!==e,this.isCommonEncryption=this.encrypted&&"AES-128"!==e}return(0,p.default)(t,[{key:"isSupported",value:function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case J.FAIRPLAY:case J.WIDEVINE:case J.PLAYREADY:case J.CLEARKEY:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}},{key:"getDecryptData",value:function(e){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!==typeof e&&("AES-128"!==this.method||this.iv||M.warn('missing IV for initialization segment with method="'.concat(this.method,'" - compliance issue')),e=0);var i=function(t){for(var e=new Uint8Array(16),i=12;i<16;i++)e[i]=t>>8*(15-i)&255;return e}(e),n=new t(this.method,this.uri,"identity",this.keyFormatVersions,i);return n}var r=Q(this.uri);if(r)switch(this.keyFormat){case J.WIDEVINE:this.pssh=r,r.length>=22&&(this.keyId=r.subarray(r.length-22,r.length-6));break;case J.PLAYREADY:var a=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=$t(a,null,r);var o=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),s=String.fromCharCode.apply(null,Array.from(o)),l=s.substring(s.indexOf("<"),s.length),u=new DOMParser,c=u.parseFromString(l,"text/xml"),d=c.getElementsByTagName("KID")[0];if(d){var f=d.childNodes[0]?d.childNodes[0].nodeValue:d.getAttribute("VALUE");if(f){var h=W(f).subarray(0,16);(function(t){var e=function(t,e,i){var n=t[e];t[e]=t[i],t[i]=n};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)})(h),this.keyId=h}}break;default:var p=r.subarray(0,16);if(16!==p.length){var v=new Uint8Array(16);v.set(p,16-p.length),p=v}this.keyId=p;break}if(!this.keyId||16!==this.keyId.byteLength){var g=jt[this.uri];if(!g){var m=Object.keys(jt).length%Number.MAX_SAFE_INTEGER;g=new Uint8Array(16);var y=new DataView(g.buffer,12,4);y.setUint32(0,m),jt[this.uri]=g}this.keyId=g}return this}}],[{key:"clearKeyUriToKeyIdMap",value:function(){jt={}}}]),t}();var Gt=/\{\$([a-zA-Z0-9-_]+)\}/g;function Vt(t){return Gt.test(t)}function Kt(t,e,i){if(null!==t.variableList||t.hasVariableRefs)for(var n=i.length;n--;){var r=i[n],a=e[r];a&&(e[r]=zt(t,a))}}function zt(t,e){if(null!==t.variableList||t.hasVariableRefs){var i=t.variableList;return e.replace(Gt,(function(e){var n=e.substring(2,e.length-1),r=null==i?void 0:i[n];return void 0===r?(t.playlistParsingError||(t.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'.concat(n,'"'))),e):r}))}return e}function Yt(t,e,i){var n,r,a=t.variableList;if(a||(t.variableList=a={}),"QUERYPARAM"in e){n=e.QUERYPARAM;try{var o=new self.URL(i).searchParams;if(!o.has(n))throw new Error('"'.concat(n,'" does not match any query parameter in URI: "').concat(i,'"'));r=o.get(n)}catch(s){t.playlistParsingError||(t.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: ".concat(s.message)))}}else n=e.NAME,r=e.VALUE;n in a?t.playlistParsingError||(t.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'.concat(n,'"'))):a[n]=r||""}function Wt(t,e,i){var n=e.IMPORT;if(i&&n in i){var r=t.variableList;r||(t.variableList=r={}),r[n]=i[n]}else t.playlistParsingError||(t.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'.concat(n,'"')))}function Qt(){if("undefined"!==typeof self)return self.MediaSource||self.WebKitMediaSource}var qt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Xt=Qt();function Jt(t,e){var i;return null!=(i=null==Xt?void 0:Xt.isTypeSupported("".concat(e||"video",'/mp4;codecs="').concat(t,'"')))&&i}var Zt=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,te=/#EXT-X-MEDIA:(.*)/g,ee=/^#EXT(?:INF|-X-TARGETDURATION):/m,ie=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),ne=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),re=function(){function t(){(0,h.default)(this,t)}return(0,p.default)(t,null,[{key:"findGroup",value:function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(n.id===e)return n}}},{key:"convertAVC1ToAVCOTI",value:function(t){var e=t.split(".");if(e.length>2){var i=e.shift()+".";return i+=parseInt(e.shift()).toString(16),i+=("000"+parseInt(e.shift()).toString(16)).slice(-4),i}return t}},{key:"resolve",value:function(t,e){return w.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}},{key:"isMediaPlaylist",value:function(t){return ee.test(t)}},{key:"parseMasterPlaylist",value:function(e,i){var n,r=Vt(e),a={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},o=[];Zt.lastIndex=0;while(null!=(n=Zt.exec(e)))if(n[1]){var s,l=new N(n[1]);Kt(a,l,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);var u=zt(a,n[2]),c={attrs:l,bitrate:l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),name:l.NAME,url:t.resolve(u,i)},d=l.decimalResolution("RESOLUTION");d&&(c.width=d.width,c.height=d.height),se((l.CODECS||"").split(/[ ,]+/).filter((function(t){return t})),c),c.videoCodec&&-1!==c.videoCodec.indexOf("avc1")&&(c.videoCodec=t.convertAVC1ToAVCOTI(c.videoCodec)),null!=(s=c.unknownCodecs)&&s.length||o.push(c),a.levels.push(c)}else if(n[3]){var f=n[3],h=n[4];switch(f){case"SESSION-DATA":var p=new N(h);Kt(a,p,["DATA-ID","LANGUAGE","VALUE","URI"]);var v=p["DATA-ID"];v&&(null===a.sessionData&&(a.sessionData={}),a.sessionData[v]=p);break;case"SESSION-KEY":var g=ae(h,i,a);g.encrypted&&g.isSupported()?(null===a.sessionKeys&&(a.sessionKeys=[]),a.sessionKeys.push(g)):M.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'.concat(h,'"'));break;case"DEFINE":var m=new N(h);Kt(a,m,["NAME","VALUE","QUERYPARAM"]),Yt(a,m,i);break;case"CONTENT-STEERING":var y=new N(h);Kt(a,y,["SERVER-URI","PATHWAY-ID"]),a.contentSteering={uri:t.resolve(y["SERVER-URI"],i),pathwayId:y["PATHWAY-ID"]||"."};break;case"START":a.startTimeOffset=oe(h);break}}var b=o.length>0&&o.length<a.levels.length;return a.levels=b?o:a.levels,0===a.levels.length&&(a.playlistParsingError=new Error("no levels found in manifest")),a}},{key:"parseMasterPlaylistMedia",value:function(e,i,n){var r,a={},o=n.levels,s={AUDIO:o.map((function(t){return{id:t.attrs.AUDIO,audioCodec:t.audioCodec}})),SUBTITLES:o.map((function(t){return{id:t.attrs.SUBTITLES,textCodec:t.textCodec}})),"CLOSED-CAPTIONS":[]},l=0;te.lastIndex=0;while(null!==(r=te.exec(e))){var u=new N(r[1]),c=u.TYPE;if(c){var d=s[c],f=a[c]||[];a[c]=f,Kt(n,u,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);var h={attrs:u,bitrate:0,id:l++,groupId:u["GROUP-ID"]||"",instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:c,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?t.resolve(u.URI,i):""};if(null!=d&&d.length){var p=t.findGroup(d,h.groupId)||d[0];le(h,p,"audioCodec"),le(h,p,"textCodec")}f.push(h)}}return a}},{key:"parseLevelPlaylist",value:function(t,e,i,n,r,a){var o,s,l,u=new Y(e),c=u.fragments,d=null,f=0,h=0,p=0,v=0,g=null,m=new K(n,e),y=-1,b=!1;ie.lastIndex=0,u.m3u8=t,u.hasVariableRefs=Vt(t);while(null!==(o=ie.exec(t))){b&&(b=!1,m=new K(n,e),m.start=p,m.sn=f,m.cc=v,m.level=i,d&&(m.initSegment=d,m.rawProgramDateTime=d.rawProgramDateTime,d.rawProgramDateTime=null));var _=o[1];if(_){m.duration=parseFloat(_);var w=(" "+o[2]).slice(1);m.title=w||null,m.tagList.push(w?["INF",_,w]:["INF",_])}else if(o[3]){if(A(m.duration)){m.start=p,l&&de(m,l,u),m.sn=f,m.level=i,m.cc=v,m.urlId=r,c.push(m);var k=(" "+o[3]).slice(1);m.relurl=zt(u,k),ue(m,g),g=m,p+=m.duration,f++,h=0,b=!0}}else if(o[4]){var S=(" "+o[4]).slice(1);g?m.setByteRange(S,g):m.setByteRange(S)}else if(o[5])m.rawProgramDateTime=(" "+o[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),-1===y&&(y=c.length);else{if(o=o[0].match(ne),!o){M.warn("No matches on slow regex match for level playlist!");continue}for(s=1;s<o.length;s++)if("undefined"!==typeof o[s])break;var T=(" "+o[s]).slice(1),x=(" "+o[s+1]).slice(1),L=o[s+2]?(" "+o[s+2]).slice(1):"";switch(T){case"PLAYLIST-TYPE":u.type=x.toUpperCase();break;case"MEDIA-SEQUENCE":f=u.startSN=parseInt(x);break;case"SKIP":var I=new N(x);Kt(u,I,["RECENTLY-REMOVED-DATERANGES"]);var C=I.decimalInteger("SKIPPED-SEGMENTS");if(A(C)){u.skippedSegments=C;for(var D=C;D--;)c.unshift(null);f+=C}var O=I.enumeratedString("RECENTLY-REMOVED-DATERANGES");O&&(u.recentlyRemovedDateranges=O.split("\t"));break;case"TARGETDURATION":u.targetduration=Math.max(parseInt(x),1);break;case"VERSION":u.version=parseInt(x);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"#":(x||L)&&m.tagList.push(L?[x,L]:[x]);break;case"DISCONTINUITY":v++,m.tagList.push(["DIS"]);break;case"GAP":m.gap=!0,m.tagList.push([T]);break;case"BITRATE":m.tagList.push([T,x]);break;case"DATERANGE":var R=new N(x);Kt(u,R,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Kt(u,R,R.clientAttrs);var P=new j(R,u.dateRanges[R.ID]);P.isValid||u.skippedSegments?u.dateRanges[P.id]=P:M.warn('Ignoring invalid DATERANGE tag: "'.concat(x,'"')),m.tagList.push(["EXT-X-DATERANGE",x]);break;case"DEFINE":var F=new N(x);Kt(u,F,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in F?Wt(u,F,a):Yt(u,F,e);break;case"DISCONTINUITY-SEQUENCE":v=parseInt(x);break;case"KEY":var B=ae(x,e,u);if(B.isSupported()){if("NONE"===B.method){l=void 0;break}l||(l={}),l[B.keyFormat]&&(l=E({},l)),l[B.keyFormat]=B}else M.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'.concat(x,'"'));break;case"START":u.startTimeOffset=oe(x);break;case"MAP":var U=new N(x);if(Kt(u,U,["BYTERANGE","URI"]),m.duration){var $=new K(n,e);ce($,U,i,l),d=$,m.initSegment=d,d.rawProgramDateTime&&!m.rawProgramDateTime&&(m.rawProgramDateTime=d.rawProgramDateTime)}else ce(m,U,i,l),d=m,b=!0;break;case"SERVER-CONTROL":var H=new N(x);u.canBlockReload=H.bool("CAN-BLOCK-RELOAD"),u.canSkipUntil=H.optionalFloat("CAN-SKIP-UNTIL",0),u.canSkipDateRanges=u.canSkipUntil>0&&H.bool("CAN-SKIP-DATERANGES"),u.partHoldBack=H.optionalFloat("PART-HOLD-BACK",0),u.holdBack=H.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var G=new N(x);u.partTarget=G.decimalFloatingPoint("PART-TARGET");break;case"PART":var V=u.partList;V||(V=u.partList=[]);var W=h>0?V[V.length-1]:void 0,Q=h++,q=new N(x);Kt(u,q,["BYTERANGE","URI"]);var X=new z(q,m,e,Q,W);V.push(X),m.duration+=X.duration;break;case"PRELOAD-HINT":var J=new N(x);Kt(u,J,["URI"]),u.preloadHint=J;break;case"RENDITION-REPORT":var Z=new N(x);Kt(u,Z,["URI"]),u.renditionReports=u.renditionReports||[],u.renditionReports.push(Z);break;default:M.warn("line parsed but not handled: ".concat(o));break}}}g&&!g.relurl?(c.pop(),p-=g.duration,u.partList&&(u.fragmentHint=g)):u.partList&&(ue(m,g),m.cc=v,u.fragmentHint=m,l&&de(m,l,u));var tt=c.length,et=c[0],it=c[tt-1];if(p+=u.skippedSegments*u.targetduration,p>0&&tt&&it){u.averagetargetduration=p/tt;var nt=it.sn;u.endSN="initSegment"!==nt?nt:0,u.live||(it.endList=!0),et&&(u.startCC=et.cc)}else u.endSN=0,u.startCC=0;return u.fragmentHint&&(p+=u.fragmentHint.duration),u.totalduration=p,u.endCC=v,y>0&&function(t,e){for(var i=t[e],n=e;n--;){var r=t[n];if(!r)return;r.programDateTime=i.programDateTime-1e3*r.duration,i=r}}(c,y),u}}]),t}();function ae(t,e,i){var n,r,a=new N(t);Kt(i,a,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);var o=null!=(n=a.METHOD)?n:"",s=a.URI,l=a.hexadecimalInteger("IV"),u=a.KEYFORMATVERSIONS,c=null!=(r=a.KEYFORMAT)?r:"identity";s&&a.IV&&!l&&M.error("Invalid IV: ".concat(a.IV));var d=s?re.resolve(s,e):"",f=(u||"1").split("/").map(Number).filter(Number.isFinite);return new Ht(o,d,c,f,l)}function oe(t){var e=new N(t),i=e.decimalFloatingPoint("TIME-OFFSET");return A(i)?i:null}function se(t,e){["video","audio","text"].forEach((function(i){var n=t.filter((function(t){return function(t,e){var i=qt[e];return!!i&&!0===i[t.slice(0,4)]}(t,i)}));if(n.length){var r=n.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e["".concat(i,"Codec")]=r.length>0?r[0]:n[0],t=t.filter((function(t){return-1===n.indexOf(t)}))}})),e.unknownCodecs=t}function le(t,e,i){var n=e[i];n&&(t[i]=n)}function ue(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),A(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function ce(t,e,i,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=i,t.sn="initSegment",n&&(t.levelkeys=n),t.initSegment=null}function de(t,e,i){t.levelkeys=e;var n=i.encryptedFragments;n.length&&n[n.length-1].levelkeys===e||!Object.keys(e).some((function(t){return e[t].isCommonEncryption}))||n.push(t)}var fe={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},he={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function pe(t){var e=t.type;switch(e){case fe.AUDIO_TRACK:return he.AUDIO;case fe.SUBTITLE_TRACK:return he.SUBTITLE;default:return he.MAIN}}function ve(t,e){var i=t.url;return void 0!==i&&0!==i.indexOf("data:")||(i=e.url),i}var ge=function(){function t(e){(0,h.default)(this,t),this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}return(0,p.default)(t,[{key:"startLoad",value:function(t){}},{key:"stopLoad",value:function(){this.destroyInternalLoaders()}},{key:"registerListeners",value:function(){var t=this.hls;t.on(x.MANIFEST_LOADING,this.onManifestLoading,this),t.on(x.LEVEL_LOADING,this.onLevelLoading,this),t.on(x.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(x.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(x.MANIFEST_LOADING,this.onManifestLoading,this),t.off(x.LEVEL_LOADING,this.onLevelLoading,this),t.off(x.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(x.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"createInternalLoader",value:function(t){var e=this.hls.config,i=e.pLoader,n=e.loader,r=i||n,a=new r(e);return this.loaders[t.type]=a,a}},{key:"getInternalLoader",value:function(t){return this.loaders[t.type]}},{key:"resetInternalLoader",value:function(t){this.loaders[t]&&delete this.loaders[t]}},{key:"destroyInternalLoaders",value:function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}}},{key:"destroy",value:function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}},{key:"onManifestLoading",value:function(t,e){var i=e.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:fe.MANIFEST,url:i,deliveryDirectives:null})}},{key:"onLevelLoading",value:function(t,e){var i=e.id,n=e.level,r=e.url,a=e.deliveryDirectives;this.load({id:i,level:n,responseType:"text",type:fe.LEVEL,url:r,deliveryDirectives:a})}},{key:"onAudioTrackLoading",value:function(t,e){var i=e.id,n=e.groupId,r=e.url,a=e.deliveryDirectives;this.load({id:i,groupId:n,level:null,responseType:"text",type:fe.AUDIO_TRACK,url:r,deliveryDirectives:a})}},{key:"onSubtitleTrackLoading",value:function(t,e){var i=e.id,n=e.groupId,r=e.url,a=e.deliveryDirectives;this.load({id:i,groupId:n,level:null,responseType:"text",type:fe.SUBTITLE_TRACK,url:r,deliveryDirectives:a})}},{key:"load",value:function(t){var e,i,n,r=this,a=this.hls.config,o=this.getInternalLoader(t);if(o){var s=o.context;if(s&&s.url===t.url)return void M.trace("[playlist-loader]: playlist request ongoing");M.log("[playlist-loader]: aborting previous loader for type: ".concat(t.type)),o.abort()}if((i=t.type===fe.MANIFEST?a.manifestLoadPolicy.default:E({},a.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(t),null!=(e=t.deliveryDirectives)&&e.part)&&(t.type===fe.LEVEL&&null!==t.level?n=this.hls.levels[t.level].details:t.type===fe.AUDIO_TRACK&&null!==t.id?n=this.hls.audioTracks[t.id].details:t.type===fe.SUBTITLE_TRACK&&null!==t.id&&(n=this.hls.subtitleTracks[t.id].details),n)){var l=n.partTarget,u=n.targetduration;if(l&&u){var c=1e3*Math.max(3*l,.8*u);i=E({},i,{maxTimeToFirstByteMs:Math.min(c,i.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(c,i.maxTimeToFirstByteMs)})}}var d=i.errorRetry||i.timeoutRetry||{},f={loadPolicy:i,timeout:i.maxLoadTimeMs,maxRetry:d.maxNumRetry||0,retryDelay:d.retryDelayMs||0,maxRetryDelay:d.maxRetryDelayMs||0},h={onSuccess:function(t,e,i,n){var a=r.getInternalLoader(i);r.resetInternalLoader(i.type);var o=t.data;0===o.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),re.isMediaPlaylist(o)?r.handleTrackOrLevelPlaylist(t,e,i,n||null,a):r.handleMasterPlaylist(t,e,i,n)):r.handleManifestParsingError(t,i,new Error("no EXTM3U delimiter"),n||null,e)},onError:function(t,e,i,n){r.handleNetworkError(e,i,!1,t,n)},onTimeout:function(t,e,i){r.handleNetworkError(e,i,!0,void 0,t)}};o.load(t,f,h)}},{key:"handleMasterPlaylist",value:function(t,e,i,n){var r=this.hls,a=t.data,o=ve(t,i),s=re.parseMasterPlaylist(a,o);if(s.playlistParsingError)this.handleManifestParsingError(t,i,s.playlistParsingError,n,e);else{var l=s.contentSteering,u=s.levels,c=s.sessionData,d=s.sessionKeys,f=s.startTimeOffset,h=s.variableList;this.variableList=h;var p=re.parseMasterPlaylistMedia(a,o,s),v=p.AUDIO,g=void 0===v?[]:v,m=p.SUBTITLES,y=p["CLOSED-CAPTIONS"];if(g.length){var b=g.some((function(t){return!t.url}));b||!u[0].audioCodec||u[0].attrs.AUDIO||(M.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new N({}),bitrate:0,url:""}))}r.trigger(x.MANIFEST_LOADED,{levels:u,audioTracks:g,subtitles:m,captions:y,contentSteering:l,url:o,stats:e,networkDetails:n,sessionData:c,sessionKeys:d,startTimeOffset:f,variableList:h})}}},{key:"handleTrackOrLevelPlaylist",value:function(t,e,i,n,r){var a=this.hls,o=i.id,s=i.level,l=i.type,u=ve(t,i),c=A(o)?o:0,d=A(s)?s:c,f=pe(i),h=re.parseLevelPlaylist(t.data,u,d,f,c,this.variableList);if(l===fe.MANIFEST){var p={attrs:new N({}),bitrate:0,details:h,name:"",url:u};a.trigger(x.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:u,stats:e,networkDetails:n,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),i.levelDetails=h,this.handlePlaylistLoaded(h,t,e,i,n,r)}},{key:"handleManifestParsingError",value:function(t,e,i,n,r){this.hls.trigger(x.ERROR,{type:L.NETWORK_ERROR,details:I.MANIFEST_PARSING_ERROR,fatal:e.type===fe.MANIFEST,url:t.url,err:i,error:i,reason:i.message,response:t,context:e,networkDetails:n,stats:r})}},{key:"handleNetworkError",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a="A network ".concat(i?"timeout":"error"+(n?" (status "+n.code+")":"")," occurred while loading ").concat(t.type);t.type===fe.LEVEL?a+=": ".concat(t.level," id: ").concat(t.id):t.type!==fe.AUDIO_TRACK&&t.type!==fe.SUBTITLE_TRACK||(a+=" id: ".concat(t.id,' group-id: "').concat(t.groupId,'"'));var o=new Error(a);M.warn("[playlist-loader]: ".concat(a));var s=I.UNKNOWN,l=!1,u=this.getInternalLoader(t);switch(t.type){case fe.MANIFEST:s=i?I.MANIFEST_LOAD_TIMEOUT:I.MANIFEST_LOAD_ERROR,l=!0;break;case fe.LEVEL:s=i?I.LEVEL_LOAD_TIMEOUT:I.LEVEL_LOAD_ERROR,l=!1;break;case fe.AUDIO_TRACK:s=i?I.AUDIO_TRACK_LOAD_TIMEOUT:I.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case fe.SUBTITLE_TRACK:s=i?I.SUBTITLE_TRACK_LOAD_TIMEOUT:I.SUBTITLE_LOAD_ERROR,l=!1;break}u&&this.resetInternalLoader(t.type);var c={type:L.NETWORK_ERROR,details:s,fatal:l,url:t.url,loader:u,context:t,error:o,networkDetails:e,stats:r};if(n){var d=(null==e?void 0:e.url)||t.url;c.response=S({url:d,data:void 0},n)}this.hls.trigger(x.ERROR,c)}},{key:"handlePlaylistLoaded",value:function(t,e,i,n,r,a){var o=this.hls,s=n.type,l=n.level,u=n.id,c=n.groupId,d=n.deliveryDirectives,f=ve(e,n),h=pe(n),p="number"===typeof n.level&&h===he.MAIN?l:void 0;if(t.fragments.length){t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));var v=t.playlistParsingError;if(v)o.trigger(x.ERROR,{type:L.NETWORK_ERROR,details:I.LEVEL_PARSING_ERROR,fatal:!1,url:f,error:v,reason:v.message,response:e,context:n,level:p,parent:h,networkDetails:r,stats:i});else switch(t.live&&a&&(a.getCacheAge&&(t.ageHeader=a.getCacheAge()||0),a.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),s){case fe.MANIFEST:case fe.LEVEL:o.trigger(x.LEVEL_LOADED,{details:t,level:p||0,id:u||0,stats:i,networkDetails:r,deliveryDirectives:d});break;case fe.AUDIO_TRACK:o.trigger(x.AUDIO_TRACK_LOADED,{details:t,id:u||0,groupId:c||"",stats:i,networkDetails:r,deliveryDirectives:d});break;case fe.SUBTITLE_TRACK:o.trigger(x.SUBTITLE_TRACK_LOADED,{details:t,id:u||0,groupId:c||"",stats:i,networkDetails:r,deliveryDirectives:d});break}}else{var g=new Error("No Segments found in Playlist");o.trigger(x.ERROR,{type:L.NETWORK_ERROR,details:I.LEVEL_EMPTY_ERROR,fatal:!1,url:f,error:g,reason:g.message,response:e,context:n,level:p,parent:h,networkDetails:r,stats:i})}}}]),t}();function me(t,e){var i;try{i=new Event("addtrack")}catch(n){i=document.createEvent("Event"),i.initEvent("addtrack",!1,!1)}i.track=t,e.dispatchEvent(i)}function ye(t,e){var i=t.mode;if("disabled"===i&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error("addCue is failed for: ".concat(e))}catch(r){M.debug("[texttrack-utils]: ".concat(r));var n=new self.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,t.addCue(n)}"disabled"===i&&(t.mode=i)}function be(t){var e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(var i=t.cues.length;i--;)t.removeCue(t.cues[i]);"disabled"===e&&(t.mode=e)}function _e(t,e,i,n){var r=t.mode;if("disabled"===r&&(t.mode="hidden"),t.cues&&t.cues.length>0)for(var a=function(t,e,i){var n=[],r=function(t,e){if(e<t[0].startTime)return 0;var i=t.length-1;if(e>t[i].endTime)return-1;var n=0,r=i;while(n<=r){var a=Math.floor((r+n)/2);if(e<t[a].startTime)r=a-1;else{if(!(e>t[a].startTime&&n<i))return a;n=a+1}}return t[n].startTime-e<e-t[r].startTime?n:r}(t,e);if(r>-1)for(var a=r,o=t.length;a<o;a++){var s=t[a];if(s.startTime>=e&&s.endTime<=i)n.push(s);else if(s.startTime>i)return n}return n}(t.cues,e,i),o=0;o<a.length;o++)n&&!n(a[o])||t.removeCue(a[o]);"disabled"===r&&(t.mode=r)}var we={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};function ke(){if("undefined"!==typeof self)return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var Se=function(){var t=ke();try{new t(0,Number.POSITIVE_INFINITY,"")}catch(e){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function Te(t,e){return t.getTime()/1e3-e}function Ee(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}var Ae=function(){function t(e){(0,h.default)(this,t),this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}return(0,p.default)(t,[{key:"destroy",value:function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}},{key:"_registerListeners",value:function(){var t=this.hls;t.on(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(x.MANIFEST_LOADING,this.onManifestLoading,this),t.on(x.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(x.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(x.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(x.MANIFEST_LOADING,this.onManifestLoading,this),t.off(x.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(x.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(x.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"onMediaAttached",value:function(t,e){this.media=e.media}},{key:"onMediaDetaching",value:function(){this.id3Track&&(be(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}},{key:"onManifestLoading",value:function(){this.dateRangeCuesAppended={}}},{key:"createTrack",value:function(t){var e=this.getID3Track(t.textTracks);return e.mode="hidden",e}},{key:"getID3Track",value:function(t){if(this.media){for(var e=0;e<t.length;e++){var i=t[e];if("metadata"===i.kind&&"id3"===i.label)return me(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}},{key:"onFragParsingMetadata",value:function(t,e){if(this.media){var i=this.hls.config,n=i.enableEmsgMetadataCues,r=i.enableID3MetadataCues;if(n||r){var a=e.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var o=ke(),s=0;s<a.length;s++){var l=a[s].type;if((l!==we.emsg||n)&&r){var u=ht(a[s].data);if(u){var c=a[s].pts,d=c+a[s].duration;d>Se&&(d=Se);var f=d-c;f<=0&&(d=c+.25);for(var h=0;h<u.length;h++){var p=u[h];if(!dt(p)){this.updateId3CueEnds(c);var v=new o(c,d,"");v.value=p,l&&(v.type=l),this.id3Track.addCue(v)}}}}}}}}},{key:"updateId3CueEnds",value:function(t){var e,i=null==(e=this.id3Track)?void 0:e.cues;if(i)for(var n=i.length;n--;){var r=i[n];r.startTime<t&&r.endTime===Se&&(r.endTime=t)}}},{key:"onBufferFlushing",value:function(t,e){var i=e.startOffset,n=e.endOffset,r=e.type,a=this.id3Track,o=this.hls;if(o){var s,l=o.config,u=l.enableEmsgMetadataCues,c=l.enableID3MetadataCues;if(a&&(u||c))s="audio"===r?function(t){return t.type===we.audioId3&&c}:"video"===r?function(t){return t.type===we.emsg&&u}:function(t){return t.type===we.audioId3&&c||t.type===we.emsg&&u},_e(a,i,n,s)}}},{key:"onLevelUpdated",value:function(t,e){var i=this,n=e.details;if(this.media&&n.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var r=this.dateRangeCuesAppended,a=this.id3Track,o=n.dateRanges,s=Object.keys(o);if(a)for(var l=Object.keys(r).filter((function(t){return!s.includes(t)})),u=function(t){var e=l[t];Object.keys(r[e].cues).forEach((function(t){a.removeCue(r[e].cues[t])})),delete r[e]},c=l.length;c--;)u(c);var d=n.fragments[n.fragments.length-1];if(0!==s.length&&A(null==d?void 0:d.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var f=d.programDateTime/1e3-d.start,h=ke(),p=function(t){var e=s[t],n=o[e],a=r[e],l=(null==a?void 0:a.cues)||{},u=(null==a?void 0:a.durationKnown)||!1,c=Te(n.startDate,f),d=Se,p=n.endDate;if(p)d=Te(p,f),u=!0;else if(n.endOnNext&&!u){var v=s.reduce((function(t,e){var i=o[e];return i.class===n.class&&i.id!==e&&i.startDate>n.startDate&&t.push(i),t}),[]).sort((function(t,e){return t.startDate.getTime()-e.startDate.getTime()}))[0];v&&(d=Te(v.startDate,f),u=!0)}for(var g=Object.keys(n.attr),m=0;m<g.length;m++){var y=g[m];if(U(y)){var b=l[y];if(b)u&&!a.durationKnown&&(b.endTime=d);else{var _=n.attr[y];b=new h(c,d,""),$(y)&&(_=Ee(_)),b.value={key:y,data:_},b.type=we.dateRange,b.id=e,i.id3Track.addCue(b),l[y]=b}}}r[e]={cues:l,dateRange:n,durationKnown:u}},v=0;v<s.length;v++)p(v)}}}}]),t}(),xe=function(){function t(e){var i=this;(0,h.default)(this,t),this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return i.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}return(0,p.default)(t,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var t=this.config,e=this.levelDetails;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}},{key:"targetLatency",get:function(){var t=this.levelDetails;if(null===t)return null;var e=t.holdBack,i=t.partHoldBack,n=t.targetduration,r=this.config,a=r.liveSyncDuration,o=r.liveSyncDurationCount,s=r.lowLatencyMode,l=this.hls.userConfig,u=s&&i||e;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==a?a:o*n);var c=n;return u+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var t=this.estimateLiveEdge(),e=this.targetLatency,i=this.levelDetails;if(null===t||null===e||null===i)return null;var n=i.edge,r=t-e-this.edgeStalled,a=n-i.totalduration,o=n-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(a,r),o)}},{key:"drift",get:function(){var t=this.levelDetails;return null===t?1:t.drift}},{key:"edgeStalled",get:function(){var t=this.levelDetails;if(null===t)return 0;var e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}},{key:"forwardBufferLength",get:function(){var t=this.media,e=this.levelDetails;if(!t||!e)return 0;var i=t.buffered.length;return(i?t.buffered.end(i-1):e.edge)-this.currentTime}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}},{key:"registerListeners",value:function(){this.hls.on(x.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(x.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(x.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(x.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){this.hls.off(x.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(x.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(x.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(x.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}},{key:"onMediaDetaching",value:function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}},{key:"onManifestLoading",value:function(){this.levelDetails=null,this._latency=null,this.stallCount=0}},{key:"onLevelUpdated",value:function(t,e){var i=e.details;this.levelDetails=i,i.advanced&&this.timeupdate(),!i.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}},{key:"onError",value:function(t,e){var i;e.details===I.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(i=this.levelDetails)&&i.live&&M.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}},{key:"timeupdate",value:function(){var t=this.media,e=this.levelDetails;if(t&&e){this.currentTime=t.currentTime;var i=this.computeLatency();if(null!==i){this._latency=i;var n=this.config,r=n.lowLatencyMode,a=n.maxLiveSyncPlaybackRate;if(r&&1!==a){var o=this.targetLatency;if(null!==o){var s=i-o,l=Math.min(this.maxLatency,o+e.targetduration),u=s<l;if(e.live&&u&&s>.05&&this.forwardBufferLength>1){var c=Math.min(2,Math.max(1,a)),d=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;t.playbackRate=Math.min(c,Math.max(1,d))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}}}}}},{key:"estimateLiveEdge",value:function(){var t=this.levelDetails;return null===t?null:t.edge+t.age}},{key:"computeLatency",value:function(){var t=this.estimateLiveEdge();return null===t?null:t-this.currentTime}}]),t}(),Le=["NONE","TYPE-0","TYPE-1",null],Ie={No:"",Yes:"YES",v2:"v2"};var Ce=function(){function t(e,i,n){(0,h.default)(this,t),this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=i,this.skip=n}return(0,p.default)(t,[{key:"addDirectives",value:function(t){var e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}]),t}(),De=function(){function t(e){(0,h.default)(this,t),this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(t){return t})).join(",").replace(/\.[^.,]+/g,"")}return(0,p.default)(t,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(t){var e=t%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}},{key:"audioGroupId",get:function(){var t;return null==(t=this.audioGroupIds)?void 0:t[this.urlId]}},{key:"textGroupId",get:function(){var t;return null==(t=this.textGroupIds)?void 0:t[this.urlId]}},{key:"addFallback",value:function(t){this.url.push(t.url),this._attrs.push(t.attrs)}}]),t}();function Oe(t,e){var i=e.startPTS;if(A(i)){var n,r=0;e.sn>t.sn?(r=i-t.start,n=t):(r=t.start-i,n=e),n.duration!==r&&(n.duration=r)}else if(e.sn>t.sn){var a=t.cc===e.cc;a&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration}else e.start=Math.max(t.start-e.duration,0)}function Re(t,e,i,n,r,a){var o=n-i;o<=0&&(M.warn("Fragment should have a positive duration",e),n=i+e.duration,a=r+e.duration);var s=i,l=n,u=e.startPTS,c=e.endPTS;if(A(u)){var d=Math.abs(u-i);A(e.deltaPTS)?e.deltaPTS=Math.max(d,e.deltaPTS):e.deltaPTS=d,s=Math.max(i,u),i=Math.min(i,u),r=Math.min(r,e.startDTS),l=Math.min(n,c),n=Math.max(n,c),a=Math.max(a,e.endDTS)}var f=i-e.start;0!==e.start&&(e.start=i),e.duration=n-e.start,e.startPTS=i,e.maxStartPTS=s,e.startDTS=r,e.endPTS=n,e.minEndPTS=l,e.endDTS=a;var h,p=e.sn;if(!t||p<t.startSN||p>t.endSN)return 0;var v=p-t.startSN,g=t.fragments;for(g[v]=e,h=v;h>0;h--)Oe(g[h],g[h-1]);for(h=v;h<g.length-1;h++)Oe(g[h],g[h+1]);return t.fragmentHint&&Oe(g[g.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function Pe(t,e){for(var i=null,n=t.fragments,r=n.length-1;r>=0;r--){var a=n[r].initSegment;if(a){i=a;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;var o,s=0;if(function(t,e,i){for(var n=e.skippedSegments,r=Math.max(t.startSN,e.startSN)-e.startSN,a=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,o=e.startSN-t.startSN,s=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,u=r;u<=a;u++){var c=l[o+u],d=s[u];n&&!d&&u<n&&(d=e.fragments[u]=c),c&&d&&i(c,d)}}(t,e,(function(t,n){t.relurl&&(s=t.cc-n.cc),A(t.startPTS)&&A(t.endPTS)&&(n.start=n.startPTS=t.startPTS,n.startDTS=t.startDTS,n.maxStartPTS=t.maxStartPTS,n.endPTS=t.endPTS,n.endDTS=t.endDTS,n.minEndPTS=t.minEndPTS,n.duration=t.endPTS-t.startPTS,n.duration&&(o=n),e.PTSKnown=e.alignedSliding=!0),n.elementaryStreams=t.elementaryStreams,n.loader=t.loader,n.stats=t.stats,n.urlId=t.urlId,t.initSegment&&(n.initSegment=t.initSegment,i=t.initSegment)})),i){var l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments;l.forEach((function(t){var e;t.initSegment&&t.initSegment.relurl!==(null==(e=i)?void 0:e.relurl)||(t.initSegment=i)}))}if(e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some((function(t){return!t})),e.deltaUpdateFailed){M.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var u=e.skippedSegments;u--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=function(t,e,i){var n=E({},t);i&&i.forEach((function(t){delete n[t]}));return Object.keys(e).forEach((function(t){var i=new j(e[t].attr,n[t]);i.isValid?n[t]=i:M.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'.concat(JSON.stringify(e[t].attr),'"'))})),n}(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));var c=e.fragments;if(s){M.warn("discontinuity sliding from playlist, take drift into account");for(var d=0;d<c.length;d++)c[d].cc+=s}e.skippedSegments&&(e.startCC=e.fragments[0].cc),function(t,e,i){if(t&&e)for(var n=0,r=0,a=t.length;r<=a;r++){var o=t[r],s=e[r+n];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?i(o,s):n--}}(t.partList,e.partList,(function(t,e){e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),o?Re(e,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):Me(t,e),c.length&&(e.totalduration=e.edge-c[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;var f=e.advancedDateTime;if(e.advanced&&f){var h=e.edge;e.driftStart||(e.driftStartTime=f,e.driftStart=h),e.driftEndTime=f,e.driftEnd=h}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function Me(t,e){var i=e.startSN+e.skippedSegments-t.startSN,n=t.fragments;i<0||i>=n.length||Fe(e,n[i].start)}function Fe(t,e){if(e){for(var i=t.fragments,n=t.skippedSegments;n<i.length;n++)i[n].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function Be(t,e,i){var n;return null!=t&&t.details?Ne(null==(n=t.details)?void 0:n.partList,e,i):null}function Ne(t,e,i){if(t)for(var n=t.length;n--;){var r=t[n];if(r.index===i&&r.fragment.sn===e)return r}return null}function Ue(t){switch(t.details){case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_TIMEOUT:case I.LEVEL_LOAD_TIMEOUT:case I.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function $e(t,e){var i=Ue(e);return t.default["".concat(i?"timeout":"error","Retry")]}function je(t,e){var i="linear"===t.backoff?1:Math.pow(2,e);return Math.min(i*t.retryDelayMs,t.maxRetryDelayMs)}function He(t){return S(S({},t),{errorRetry:null,timeoutRetry:null})}function Ge(t,e,i,n){return!!t&&e<t.maxNumRetry&&(function(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}(n)||!!i)}var Ve={search:function(t,e){var i=0,n=t.length-1,r=null,a=null;while(i<=n){r=(i+n)/2|0,a=t[r];var o=e(a);if(o>0)i=r+1;else{if(!(o<0))return a;n=r-1}}return null}};function Ke(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=null;if(t?r=e[t.sn-e[0].sn+1]||null:0===i&&0===e[0].start&&(r=e[0]),r&&0===ze(i,n,r))return r;var a=Ve.search(e,ze.bind(null,i,n));return!a||a===t&&r?r:a}function ze(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(i.start<=t&&i.start+i.duration>t)return 0;var n=Math.min(e,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.start+i.duration-n<=t?1:i.start-n>t&&i.start?-1:0}function Ye(t,e,i){var n=1e3*Math.min(e,i.duration+(i.deltaPTS?i.deltaPTS:0)),r=i.endProgramDateTime||0;return r-n>t}var We={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},Qe={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4},qe=function(){function t(e){(0,h.default)(this,t),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=M.log.bind(M,"[info]:"),this.warn=M.warn.bind(M,"[warning]:"),this.error=M.error.bind(M,"[error]:"),this.registerListeners()}return(0,p.default)(t,[{key:"registerListeners",value:function(){var t=this.hls;t.on(x.ERROR,this.onError,this),t.on(x.MANIFEST_LOADING,this.onManifestLoading,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t&&(t.off(x.ERROR,this.onError,this),t.off(x.ERROR,this.onErrorOut,this),t.off(x.MANIFEST_LOADING,this.onManifestLoading,this))}},{key:"destroy",value:function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}},{key:"startLoad",value:function(t){this.playlistError=0}},{key:"stopLoad",value:function(){}},{key:"getVariantLevelIndex",value:function(t){return(null==t?void 0:t.type)===he.MAIN?t.level:this.hls.loadLevel}},{key:"onManifestLoading",value:function(){this.playlistError=0,this.penalizedRenditions={}}},{key:"onError",value:function(t,e){var i;if(!e.fatal){var n=this.hls,r=e.context;switch(e.details){case I.FRAG_LOAD_ERROR:case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_ERROR:case I.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case I.FRAG_GAP:case I.FRAG_PARSING_ERROR:case I.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=We.SendAlternateToPenaltyBox);case I.LEVEL_EMPTY_ERROR:case I.LEVEL_PARSING_ERROR:var a,o,s=e.parent===he.MAIN?e.level:n.loadLevel;return void(e.details===I.LEVEL_EMPTY_ERROR&&null!=(a=e.context)&&null!=(o=a.levelDetails)&&o.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,s):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,s)));case I.LEVEL_LOAD_ERROR:case I.LEVEL_LOAD_TIMEOUT:return void("number"===typeof(null==r?void 0:r.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,r.level)));case I.AUDIO_TRACK_LOAD_ERROR:case I.AUDIO_TRACK_LOAD_TIMEOUT:case I.SUBTITLE_LOAD_ERROR:case I.SUBTITLE_TRACK_LOAD_TIMEOUT:if(r){var l=n.levels[n.loadLevel];if(l&&(r.type===fe.AUDIO_TRACK&&r.groupId===l.audioGroupId||r.type===fe.SUBTITLE_TRACK&&r.groupId===l.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,n.loadLevel),e.errorAction.action=We.SendAlternateToPenaltyBox,void(e.errorAction.flags=Qe.MoveAllAlternatesMatchingHost)}return;case I.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var u=n.levels[n.loadLevel],c=null==u?void 0:u.attrs["HDCP-LEVEL"];return void(c&&(e.errorAction={action:We.SendAlternateToPenaltyBox,flags:Qe.MoveAllAlternatesMatchingHDCP,hdcpLevel:c}));case I.BUFFER_ADD_CODEC_ERROR:case I.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(i=e.level)?i:n.loadLevel));case I.INTERNAL_EXCEPTION:case I.BUFFER_APPENDING_ERROR:case I.BUFFER_APPEND_ERROR:case I.BUFFER_FULL_ERROR:case I.LEVEL_SWITCH_ERROR:case I.BUFFER_STALLED_ERROR:case I.BUFFER_SEEK_OVER_HOLE:case I.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:We.DoNothing,flags:Qe.None})}if(e.type===L.KEY_SYSTEM_ERROR){var d=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,d))}}}},{key:"getPlaylistRetryOrSwitchAction",value:function(t,e){var i,n=this.hls,r=$e(n.config.playlistLoadPolicy,t),a=this.playlistError++,o=null==(i=t.response)?void 0:i.code,s=Ge(r,a,Ue(t),o);if(s)return{action:We.RetryRequest,flags:Qe.None,retryConfig:r,retryCount:a};var l=this.getLevelSwitchAction(t,e);return r&&(l.retryConfig=r,l.retryCount=a),l}},{key:"getFragRetryOrSwitchAction",value:function(t){var e=this.hls,i=this.getVariantLevelIndex(t.frag),n=e.levels[i],r=e.config,a=r.fragLoadPolicy,o=r.keyLoadPolicy,s=$e(t.details.startsWith("key")?o:a,t),l=e.levels.reduce((function(t,e){return t+e.fragmentError}),0);if(n){var u;t.details!==I.FRAG_GAP&&n.fragmentError++;var c=null==(u=t.response)?void 0:u.code,d=Ge(s,l,Ue(t),c);if(d)return{action:We.RetryRequest,flags:Qe.None,retryConfig:s,retryCount:l}}var f=this.getLevelSwitchAction(t,i);return s&&(f.retryConfig=s,f.retryCount=l),f}},{key:"getLevelSwitchAction",value:function(t,e){var i=this.hls;null!==e&&void 0!==e||(e=i.loadLevel);var n=this.hls.levels[e];if(n&&(n.loadError++,i.autoLevelEnabled)){for(var r,a,o=-1,s=i.levels,l=null==(r=t.frag)?void 0:r.type,u=null!=(a=t.context)?a:{},c=u.type,d=u.groupId,f=s.length;f--;){var h=(f+i.loadLevel)%s.length;if(h!==i.loadLevel&&0===s[h].loadError){var p=s[h];if(t.details===I.FRAG_GAP&&t.frag){var v=s[h].details;if(v){var g=Ke(t.frag,v.fragments,t.frag.start);if(null!=g&&g.gap)continue}}else{if(c===fe.AUDIO_TRACK&&d===p.audioGroupId||c===fe.SUBTITLE_TRACK&&d===p.textGroupId)continue;if(l===he.AUDIO&&n.audioGroupId===p.audioGroupId||l===he.SUBTITLE&&n.textGroupId===p.textGroupId)continue}o=h;break}}if(o>-1&&i.loadLevel!==o)return t.levelRetry=!0,{action:We.SendAlternateToPenaltyBox,flags:Qe.None,nextAutoLevel:o}}return{action:We.SendAlternateToPenaltyBox,flags:Qe.MoveAllAlternatesMatchingHost}}},{key:"onErrorOut",value:function(t,e){var i;switch(null==(i=e.errorAction)?void 0:i.action){case We.DoNothing:break;case We.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===I.FRAG_GAP||(e.fatal=!0);break}e.fatal&&this.hls.stopLoad()}},{key:"sendAlternateToPenaltyBox",value:function(t){var e=this.hls,i=t.errorAction;if(i){var n=i.flags,r=i.hdcpLevel,a=i.nextAutoLevel;switch(n){case Qe.None:this.switchLevel(t,a);break;case Qe.MoveAllAlternatesMatchingHost:i.resolved||(i.resolved=this.redundantFailover(t));break;case Qe.MoveAllAlternatesMatchingHDCP:r&&(e.maxHdcpLevel=Le[Le.indexOf(r)-1],i.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'.concat(e.maxHdcpLevel,'" or lower'));break}i.resolved||this.switchLevel(t,a)}}},{key:"switchLevel",value:function(t,e){void 0!==e&&t.errorAction&&(this.warn("switching to level ".concat(e," after ").concat(t.details)),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},{key:"redundantFailover",value:function(t){var e=this,i=this.hls,n=this.penalizedRenditions,r=t.parent===he.MAIN?t.level:i.loadLevel,a=i.levels[r],o=a.url.length,s=t.frag?t.frag.urlId:a.urlId;a.urlId!==s||t.frag&&!a.details||this.penalizeRendition(a,t);for(var l=function(l){var u=(s+l)%o,c=n[u];if(!c||function(t,e,i){if(performance.now()-t.lastErrorPerfMs>3e5)return!0;var n=t.details;if(e.details===I.FRAG_GAP&&n&&e.frag){var r=e.frag.start,a=Ke(null,n.fragments,r);if(a&&!a.gap)return!0}if(i&&t.errors.length<i.errors.length){var o=t.errors[t.errors.length-1];if(n&&o.frag&&e.frag&&Math.abs(o.frag.start-e.frag.start)>3*n.targetduration)return!0}return!1}(c,t,n[s]))return e.warn("Switching to Redundant Stream ".concat(u+1,"/").concat(o,': "').concat(a.url[u],'" after ').concat(t.details)),e.playlistError=0,i.levels.forEach((function(t){t.urlId=u})),i.nextLoadLevel=r,{v:!0}},u=1;u<o;u++){var c=l(u);if("object"===(0,v.default)(c))return c.v}return!1}},{key:"penalizeRendition",value:function(t,e){var i=this.penalizedRenditions,n=i[t.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};n.lastErrorPerfMs=performance.now(),n.errors.push(e),n.details=t.details,i[t.urlId]=n}}]),t}();var Xe,Je=function(){function t(e,i){(0,h.default)(this,t),this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=M.log.bind(M,"".concat(i,":")),this.warn=M.warn.bind(M,"".concat(i,":")),this.hls=e}return(0,p.default)(t,[{key:"destroy",value:function(){this.clearTimer(),this.hls=this.log=this.warn=null}},{key:"clearTimer",value:function(){clearTimeout(this.timer),this.timer=-1}},{key:"startLoad",value:function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}},{key:"stopLoad",value:function(){this.canLoad=!1,this.clearTimer()}},{key:"switchParams",value:function(t,e){var i=null==e?void 0:e.renditionReports;if(i){for(var n=-1,r=0;r<i.length;r++){var a=i[r],o=void 0;try{o=new self.URL(a.URI,e.url).href}catch(d){M.warn("Could not construct new URL for Rendition Report: ".concat(d)),o=a.URI||""}if(o===t){n=r;break}o===t.substring(0,o.length)&&(n=r)}if(-1!==n){var s=i[n],l=parseInt(s["LAST-MSN"])||(null==e?void 0:e.lastPartSn),u=parseInt(s["LAST-PART"])||(null==e?void 0:e.lastPartIndex);if(this.hls.config.lowLatencyMode){var c=Math.min(e.age-e.partTarget,e.targetduration);u>=0&&c>e.partTarget&&(u+=1)}return new Ce(l,u>=0?u:void 0,Ie.No)}}}},{key:"loadPlaylist",value:function(t){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}},{key:"shouldLoadPlaylist",value:function(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}},{key:"shouldReloadPlaylist",value:function(t){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(t)}},{key:"playlistLoaded",value:function(t,e,i){var n=this,r=e.details,a=e.stats,o=self.performance.now(),s=a.loading.first?Math.max(0,o-a.loading.first):0;if(r.advancedDateTime=Date.now()-s,r.live||null!=i&&i.live){if(r.reloaded(i),i&&this.log("live playlist ".concat(t," ").concat(r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:"MISSED")),i&&r.fragments.length>0&&Pe(i,r),!this.canLoad||!r.live)return;var l,u=void 0,c=void 0;if(r.canBlockReload&&r.endSN&&r.advanced){var d=this.hls.config.lowLatencyMode,f=r.lastPartSn,h=r.endSN,p=r.lastPartIndex,v=-1!==p,g=f===h,m=d?0:p;v?(u=g?h+1:f,c=g?m:p+1):u=h+1;var y=r.age,b=y+r.ageHeader,_=Math.min(b-r.partTarget,1.5*r.targetduration);if(_>0){if(i&&_>i.tuneInGoal)this.warn("CDN Tune-in goal increased from: ".concat(i.tuneInGoal," to: ").concat(_," with playlist age: ").concat(r.age)),_=0;else{var w=Math.floor(_/r.targetduration);if(u+=w,void 0!==c){var k=Math.round(_%r.targetduration/r.partTarget);c+=k}this.log("CDN Tune-in age: ".concat(r.ageHeader,"s last advanced ").concat(y.toFixed(2),"s goal: ").concat(_," skip sn ").concat(w," to part ").concat(c))}r.tuneInGoal=_}if(l=this.getDeliveryDirectives(r,e.deliveryDirectives,u,c),d||!g)return void this.loadPlaylist(l)}else r.canBlockReload&&(l=this.getDeliveryDirectives(r,e.deliveryDirectives,u,c));var S=this.hls.mainForwardBufferInfo,T=S?S.end-S.len:0,E=1e3*(r.edge-T),A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,i=1e3*t.targetduration;if(t.updated){var n=t.fragments,r=4;if(n.length&&i*r>e){var a=1e3*n[n.length-1].duration;a<i&&(i=a)}}else i/=2;return Math.round(i)}(r,E);r.updated&&o>this.requestScheduled+A&&(this.requestScheduled=a.loading.start),void 0!==u&&r.canBlockReload?this.requestScheduled=a.loading.first+A-(1e3*r.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+A<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=A);var x=this.requestScheduled-o;x=Math.max(0,x),this.log("reload live playlist ".concat(t," in ").concat(Math.round(x)," ms")),this.timer=self.setTimeout((function(){return n.loadPlaylist(l)}),x)}else this.clearTimer()}},{key:"getDeliveryDirectives",value:function(t,e,i,n){var r=function(t,e){var i=t.canSkipUntil,n=t.canSkipDateRanges,r=t.endSN,a=void 0!==e?e-r:0;return i&&a<i?n?Ie.v2:Ie.Yes:Ie.No}(t,i);return null!=e&&e.skip&&t.deltaUpdateFailed&&(i=e.msn,n=e.part,r=Ie.No),new Ce(i,n,r)}},{key:"checkRetry",value:function(t){var e=this,i=t.details,n=Ue(t),r=t.errorAction,a=r||{},o=a.action,s=a.retryCount,l=void 0===s?0:s,u=a.retryConfig,c=!!r&&!!u&&(o===We.RetryRequest||!r.resolved&&o===We.SendAlternateToPenaltyBox);if(c){var d;if(this.requestScheduled=-1,n&&null!=(d=t.context)&&d.deliveryDirectives)this.warn("Retrying playlist loading ".concat(l+1,"/").concat(u.maxNumRetry,' after "').concat(i,'" without delivery-directives')),this.loadPlaylist();else{var f=je(u,l);this.timer=self.setTimeout((function(){return e.loadPlaylist()}),f),this.warn("Retrying playlist loading ".concat(l+1,"/").concat(u.maxNumRetry,' after "').concat(i,'" in ').concat(f,"ms"))}t.levelRetry=!0,r.resolved=!0}return c}}]),t}(),Ze=function(t){(0,u.default)(i,t);var e=y(i);function i(t,n){var r;return(0,h.default)(this,i),r=e.call(this,t,"[level-controller]"),r._levels=[],r._firstLevel=-1,r._startLevel=void 0,r.currentLevel=null,r.currentLevelIndex=-1,r.manualLevelIndex=-1,r.steering=void 0,r.onParsedComplete=void 0,r.steering=n,r._registerListeners(),r}return(0,p.default)(i,[{key:"_registerListeners",value:function(){var t=this.hls;t.on(x.MANIFEST_LOADING,this.onManifestLoading,this),t.on(x.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(x.LEVEL_LOADED,this.onLevelLoaded,this),t.on(x.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(x.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(x.FRAG_LOADED,this.onFragLoaded,this),t.on(x.ERROR,this.onError,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(x.MANIFEST_LOADING,this.onManifestLoading,this),t.off(x.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(x.LEVEL_LOADED,this.onLevelLoaded,this),t.off(x.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(x.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(x.FRAG_LOADED,this.onFragLoaded,this),t.off(x.ERROR,this.onError,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),(0,l.default)((0,d.default)(i.prototype),"destroy",this).call(this)}},{key:"startLoad",value:function(){var t=this._levels;t.forEach((function(t){t.loadError=0,t.fragmentError=0})),(0,l.default)((0,d.default)(i.prototype),"startLoad",this).call(this)}},{key:"resetLevels",value:function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}},{key:"onManifestLoading",value:function(t,e){this.resetLevels()}},{key:"onManifestLoaded",value:function(t,e){var i,n=[],r={};e.levels.forEach((function(t){var e,a=t.attrs;-1!==(null==(e=t.audioCodec)?void 0:e.indexOf("mp4a.40.34"))&&(Xe||(Xe=/chrome|firefox/i.test(navigator.userAgent)),Xe&&(t.audioCodec=void 0));var o=a.AUDIO,s=a.CODECS,l=a["FRAME-RATE"],u=a["PATHWAY-ID"],c=a.RESOLUTION,d=a.SUBTITLES,f="".concat(u||".","-"),h="".concat(f).concat(t.bitrate,"-").concat(c,"-").concat(l,"-").concat(s);i=r[h],i?i.addFallback(t):(i=new De(t),r[h]=i,n.push(i)),ti(i,"audio",o),ti(i,"text",d)})),this.filterAndSortMediaOptions(n,e)}},{key:"filterAndSortMediaOptions",value:function(t,e){var i=this,n=[],r=[],a=!1,o=!1,s=!1,l=t.filter((function(t){var e=t.audioCodec,i=t.videoCodec,n=t.width,r=t.height,l=t.unknownCodecs;return a||(a=!(!n||!r)),o||(o=!!i),s||(s=!!e),!(null!=l&&l.length)&&(!e||Jt(e,"audio"))&&(!i||Jt(i,"video"))}));if((a||o)&&s&&(l=l.filter((function(t){var e=t.videoCodec,i=t.width,n=t.height;return!!e||!(!i||!n)}))),0!==l.length){e.audioTracks&&(n=e.audioTracks.filter((function(t){return!t.audioCodec||Jt(t.audioCodec,"audio")})),ei(n)),e.subtitles&&(r=e.subtitles,ei(r));var u=l.slice(0);l.sort((function(t,e){return t.attrs["HDCP-LEVEL"]!==e.attrs["HDCP-LEVEL"]?(t.attrs["HDCP-LEVEL"]||"")>(e.attrs["HDCP-LEVEL"]||"")?1:-1:t.bitrate!==e.bitrate?t.bitrate-e.bitrate:t.attrs["FRAME-RATE"]!==e.attrs["FRAME-RATE"]?t.attrs.decimalFloatingPoint("FRAME-RATE")-e.attrs.decimalFloatingPoint("FRAME-RATE"):t.attrs.SCORE!==e.attrs.SCORE?t.attrs.decimalFloatingPoint("SCORE")-e.attrs.decimalFloatingPoint("SCORE"):a&&t.height!==e.height?t.height-e.height:0}));var c=u[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==u.length))for(var d=0;d<u.length;d++)if(u[d].pathwayId===l[0].pathwayId){c=u[d];break}this._levels=l;for(var f=0;f<l.length;f++)if(l[f]===c){this._firstLevel=f,this.log("manifest loaded, ".concat(l.length," level(s) found, first bitrate: ").concat(c.bitrate));break}var h=s&&!o,p={levels:l,audioTracks:n,subtitleTracks:r,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:s,video:o,altAudio:!h&&n.some((function(t){return!!t.url}))};this.hls.trigger(x.MANIFEST_PARSED,p),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then((function(){if(i.hls){var t=new Error("no level with compatible codecs found in manifest");i.hls.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:t,reason:t.message})}}))}},{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;if(0!==e.length){if(t<0||t>=e.length){var i=new Error("invalid level idx"),n=t<0;if(this.hls.trigger(x.ERROR,{type:L.OTHER_ERROR,details:I.LEVEL_SWITCH_ERROR,level:t,fatal:n,error:i,reason:i.message}),n)return;t=Math.min(t,e.length-1)}var r=this.currentLevelIndex,a=this.currentLevel,o=a?a.attrs["PATHWAY-ID"]:void 0,s=e[t],l=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=s,r!==t||!s.details||!a||o!==l){this.log("Switching to level ".concat(t).concat(l?" with Pathway "+l:""," from level ").concat(r).concat(o?" with Pathway "+o:""));var u=E({},s,{level:t,maxBitrate:s.maxBitrate,attrs:s.attrs,uri:s.uri,urlId:s.urlId});delete u._attrs,delete u._urlId,this.hls.trigger(x.LEVEL_SWITCHING,u);var c=s.details;if(!c||c.live){var d=this.switchParams(s.uri,null==a?void 0:a.details);this.loadPlaylist(d)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"onError",value:function(t,e){!e.fatal&&e.context&&e.context.type===fe.LEVEL&&e.context.level===this.level&&this.checkRetry(e)}},{key:"onFragLoaded",value:function(t,e){var i=e.frag;if(void 0!==i&&i.type===he.MAIN){var n=this._levels[i.level];void 0!==n&&(n.loadError=0)}}},{key:"onLevelLoaded",value:function(t,e){var i,n,r=e.level,a=e.details,o=this._levels[r];if(!o)return this.warn("Invalid level index ".concat(r)),void(null!=(n=e.deliveryDirectives)&&n.skip&&(a.deltaUpdateFailed=!0));r===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0),this.playlistLoaded(r,e,o.details)):null!=(i=e.deliveryDirectives)&&i.skip&&(a.deltaUpdateFailed=!0)}},{key:"onAudioTrackSwitched",value:function(t,e){var i=this.currentLevel;if(i){var n=this.hls.audioTracks[e.id].groupId;if(i.audioGroupIds&&i.audioGroupId!==n){for(var r=-1,a=0;a<i.audioGroupIds.length;a++)if(i.audioGroupIds[a]===n){r=a;break}-1!==r&&r!==i.urlId&&(i.urlId=r,this.canLoad&&this.startLoad())}}}},{key:"loadPlaylist",value:function(t){(0,l.default)((0,d.default)(i.prototype),"loadPlaylist",this).call(this);var e=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){var r=n.urlId,a=n.uri;if(t)try{a=t.addDirectives(a)}catch(s){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(s))}var o=n.attrs["PATHWAY-ID"];this.log("Loading level index ".concat(e).concat(void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:""," with").concat(o?" Pathway "+o:""," URI ").concat(r+1,"/").concat(n.url.length," ").concat(a)),this.clearTimer(),this.hls.trigger(x.LEVEL_LOADING,{url:a,level:e,id:r,deliveryDirectives:t||null})}}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}},{key:"removeLevel",value:function(t,e){var i=this,n=function(t,i){return i!==e},r=this._levels.filter((function(r,a){return a!==t||(r.url.length>1&&void 0!==e?(r.url=r.url.filter(n),r.audioGroupIds&&(r.audioGroupIds=r.audioGroupIds.filter(n)),r.textGroupIds&&(r.textGroupIds=r.textGroupIds.filter(n)),r.urlId=0,!0):(i.steering&&i.steering.removeLevel(r),!1))}));this.hls.trigger(x.LEVELS_UPDATED,{levels:r})}},{key:"onLevelsUpdated",value:function(t,e){var i=e.levels;i.forEach((function(t,e){var i=t.details;null!=i&&i.fragments&&i.fragments.forEach((function(t){t.level=e}))})),this._levels=i}}]),i}(Je);function ti(t,e,i){i&&("audio"===e?(t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds[t.url.length-1]=i):"text"===e&&(t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds[t.url.length-1]=i))}function ei(t){var e={};t.forEach((function(t){var i=t.groupId||"";t.id=e[i]=e[i]||0,e[i]++}))}var ii={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},ni=function(){function t(e){(0,h.default)(this,t),this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}return(0,p.default)(t,[{key:"_registerListeners",value:function(){var t=this.hls;t.on(x.BUFFER_APPENDED,this.onBufferAppended,this),t.on(x.FRAG_BUFFERED,this.onFragBuffered,this),t.on(x.FRAG_LOADED,this.onFragLoaded,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(x.BUFFER_APPENDED,this.onBufferAppended,this),t.off(x.FRAG_BUFFERED,this.onFragBuffered,this),t.off(x.FRAG_LOADED,this.onFragLoaded,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}},{key:"getAppendedFrag",value:function(t,e){var i=this.activePartLists[e];if(i)for(var n=i.length;n--;){var r=i[n];if(!r)break;var a=r.end;if(r.start<=t&&null!==a&&t<=a)return r}return this.getBufferedFrag(t,e)}},{key:"getBufferedFrag",value:function(t,e){for(var i=this.fragments,n=Object.keys(i),r=n.length;r--;){var a=i[n[r]];if((null==a?void 0:a.body.type)===e&&a.buffered){var o=a.body;if(o.start<=t&&t<=o.end)return o}}return null}},{key:"detectEvictedFragments",value:function(t,e,i,n){var r=this;this.timeRanges&&(this.timeRanges[t]=e);var a=(null==n?void 0:n.fragment.sn)||-1;Object.keys(this.fragments).forEach((function(n){var o=r.fragments[n];if(o&&!(a>=o.body.sn))if(o.buffered||o.loaded){var s=o.range[t];s&&s.time.some((function(t){var i=!r.isTimeBuffered(t.startPTS,t.endPTS,e);return i&&r.removeFragment(o.body),i}))}else o.body.type===i&&r.removeFragment(o.body)}))}},{key:"detectPartialFragments",value:function(t){var e=this,i=this.timeRanges,n=t.frag,r=t.part;if(i&&"initSegment"!==n.sn){var a=ai(n),o=this.fragments[a];if(o){var s=!n.relurl;Object.keys(i).forEach((function(t){var a=n.elementaryStreams[t];if(a){var l=i[t],u=s||!0===a.partial;o.range[t]=e.getBufferedTimes(n,r,u,l)}})),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,o.body.endList&&(this.endListFragments[o.body.type]=o),ri(o)||this.removeParts(n.sn-1,n.type)):this.removeFragment(o.body)}}}},{key:"removeParts",value:function(t,e){var i=this.activePartLists[e];i&&(this.activePartLists[e]=i.filter((function(e){return e.fragment.sn>=t})))}},{key:"fragBuffered",value:function(t,e){var i=ai(t),n=this.fragments[i];!n&&e&&(n=this.fragments[i]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),n&&(n.loaded=null,n.buffered=!0)}},{key:"getBufferedTimes",value:function(t,e,i,n){for(var r={time:[],partial:i},a=t.start,o=t.end,s=t.minEndPTS||o,l=t.maxStartPTS||a,u=0;u<n.length;u++){var c=n.start(u)-this.bufferPadding,d=n.end(u)+this.bufferPadding;if(l>=c&&s<=d){r.time.push({startPTS:Math.max(a,n.start(u)),endPTS:Math.min(o,n.end(u))});break}if(a<d&&o>c)r.partial=!0,r.time.push({startPTS:Math.max(a,n.start(u)),endPTS:Math.min(o,n.end(u))});else if(o<=c)break}return r}},{key:"getPartialFragment",value:function(t){var e,i,n,r=null,a=0,o=this.bufferPadding,s=this.fragments;return Object.keys(s).forEach((function(l){var u=s[l];u&&ri(u)&&(i=u.body.start-o,n=u.body.end+o,t>=i&&t<=n&&(e=Math.min(t-i,n-t),a<=e&&(r=u.body,a=e)))})),r}},{key:"isEndListAppended",value:function(t){var e=this.endListFragments[t];return void 0!==e&&(e.buffered||ri(e))}},{key:"getState",value:function(t){var e=ai(t),i=this.fragments[e];return i?i.buffered?ri(i)?ii.PARTIAL:ii.OK:ii.APPENDING:ii.NOT_LOADED}},{key:"isTimeBuffered",value:function(t,e,i){for(var n,r,a=0;a<i.length;a++){if(n=i.start(a)-this.bufferPadding,r=i.end(a)+this.bufferPadding,t>=n&&e<=r)return!0;if(e<=n)return!1}return!1}},{key:"onFragLoaded",value:function(t,e){var i=e.frag,n=e.part;if("initSegment"!==i.sn&&!i.bitrateTest){var r=n?null:e,a=ai(i);this.fragments[a]={body:i,appendedPTS:null,loaded:r,buffered:!1,range:Object.create(null)}}}},{key:"onBufferAppended",value:function(t,e){var i=this,n=e.frag,r=e.part,a=e.timeRanges;if("initSegment"!==n.sn){var o=n.type;if(r){var s=this.activePartLists[o];s||(this.activePartLists[o]=s=[]),s.push(r)}this.timeRanges=a,Object.keys(a).forEach((function(t){var e=a[t];i.detectEvictedFragments(t,e,o,r)}))}}},{key:"onFragBuffered",value:function(t,e){this.detectPartialFragments(e)}},{key:"hasFragment",value:function(t){var e=ai(t);return!!this.fragments[e]}},{key:"hasParts",value:function(t){var e;return!(null==(e=this.activePartLists[t])||!e.length)}},{key:"removeFragmentsInRange",value:function(t,e,i,n,r){var a=this;n&&!this.hasGaps||Object.keys(this.fragments).forEach((function(o){var s=a.fragments[o];if(s){var l=s.body;l.type!==i||n&&!l.gap||l.start<e&&l.end>t&&(s.buffered||r)&&a.removeFragment(l)}}))}},{key:"removeFragment",value:function(t){var e=ai(t);t.stats.loaded=0,t.clearElementaryStreamInfo();var i=this.activePartLists[t.type];if(i){var n=t.sn;this.activePartLists[t.type]=i.filter((function(t){return t.fragment.sn!==n}))}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type]}},{key:"removeAllFragments",value:function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}]),t}();function ri(t){var e,i,n;return t.buffered&&(t.body.gap||(null==(e=t.range.video)?void 0:e.partial)||(null==(i=t.range.audio)?void 0:i.partial)||(null==(n=t.range.audiovideo)?void 0:n.partial))}function ai(t){return"".concat(t.type,"_").concat(t.level,"_").concat(t.urlId,"_").concat(t.sn)}var oi=Math.pow(2,17),si=function(){function t(e){(0,h.default)(this,t),this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}return(0,p.default)(t,[{key:"destroy",value:function(){this.loader&&(this.loader.destroy(),this.loader=null)}},{key:"abort",value:function(){this.loader&&this.loader.abort()}},{key:"load",value:function(t,e){var i=this,n=t.url;if(!n)return Promise.reject(new ci({type:L.NETWORK_ERROR,details:I.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a ".concat(n?"part list":"url")),networkDetails:null}));this.abort();var r=this.config,a=r.fLoader,o=r.loader;return new Promise((function(s,l){if(i.loader&&i.loader.destroy(),t.gap)l(ui(t));else{var u=i.loader=t.loader=a?new a(r):new o(r),c=li(t),d=He(r.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:oi};t.stats=u.stats,u.load(c,f,{onSuccess:function(e,n,r,a){i.resetLoader(t,u);var o=e.data;r.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(o.slice(0,16)),o=o.slice(16)),s({frag:t,part:null,payload:o,networkDetails:a})},onError:function(e,r,a,o){i.resetLoader(t,u),l(new ci({type:L.NETWORK_ERROR,details:I.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:S({url:n,data:void 0},e),error:new Error("HTTP Error ".concat(e.code," ").concat(e.text)),networkDetails:a,stats:o}))},onAbort:function(e,n,r){i.resetLoader(t,u),l(new ci({type:L.NETWORK_ERROR,details:I.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:r,stats:e}))},onTimeout:function(e,n,r){i.resetLoader(t,u),l(new ci({type:L.NETWORK_ERROR,details:I.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error("Timeout after ".concat(f.timeout,"ms")),networkDetails:r,stats:e}))},onProgress:function(i,n,r,a){e&&e({frag:t,part:null,payload:r,networkDetails:a})}})}}))}},{key:"loadPart",value:function(t,e,i){var n=this;this.abort();var r=this.config,a=r.fLoader,o=r.loader;return new Promise((function(s,l){if(n.loader&&n.loader.destroy(),t.gap||e.gap)l(ui(t,e));else{var u=n.loader=t.loader=a?new a(r):new o(r),c=li(t,e),d=He(r.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:oi};e.stats=u.stats,u.load(c,f,{onSuccess:function(r,a,o,l){n.resetLoader(t,u),n.updateStatsFromPart(t,e);var c={frag:t,part:e,payload:r.data,networkDetails:l};i(c),s(c)},onError:function(i,r,a,o){n.resetLoader(t,u),l(new ci({type:L.NETWORK_ERROR,details:I.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:S({url:c.url,data:void 0},i),error:new Error("HTTP Error ".concat(i.code," ").concat(i.text)),networkDetails:a,stats:o}))},onAbort:function(i,r,a){t.stats.aborted=e.stats.aborted,n.resetLoader(t,u),l(new ci({type:L.NETWORK_ERROR,details:I.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error("Aborted"),networkDetails:a,stats:i}))},onTimeout:function(i,r,a){n.resetLoader(t,u),l(new ci({type:L.NETWORK_ERROR,details:I.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error("Timeout after ".concat(f.timeout,"ms")),networkDetails:a,stats:i}))}})}}))}},{key:"updateStatsFromPart",value:function(t,e){var i=t.stats,n=e.stats,r=n.total;if(i.loaded+=n.loaded,r){var a=Math.round(t.duration/e.duration),o=Math.min(Math.round(i.loaded/r),a),s=a-o,l=s*Math.round(i.loaded/o);i.total=i.loaded+l}else i.total=Math.max(i.loaded,i.total);var u=i.loading,c=n.loading;u.start?u.first+=c.first-c.start:(u.start=c.start,u.first=c.first),u.end=c.end}},{key:"resetLoader",value:function(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}]),t}();function li(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e||t,n={frag:t,part:e,responseType:"arraybuffer",url:i.url,headers:{},rangeStart:0,rangeEnd:0},r=i.byteRangeStartOffset,a=i.byteRangeEndOffset;if(A(r)&&A(a)){var o,s=r,l=a;if("initSegment"===t.sn&&"AES-128"===(null==(o=t.decryptdata)?void 0:o.method)){var u=a-r;u%16&&(l=a+(16-u%16)),0!==r&&(n.resetIV=!0,s=r-16)}n.rangeStart=s,n.rangeEnd=l}return n}function ui(t,e){var i=new Error("GAP ".concat(t.gap?"tag":"attribute"," found")),n={type:L.MEDIA_ERROR,details:I.FRAG_GAP,fatal:!1,frag:t,error:i,networkDetails:null};return e&&(n.part=e),(e||t).stats.aborted=!0,new ci(n)}var ci=function(t){(0,u.default)(i,t);var e=y(i);function i(t){var n;return(0,h.default)(this,i),n=e.call(this,t.error.message),n.data=void 0,n.data=t,n}return(0,p.default)(i)}((0,s.default)(Error)),di=function(){function t(e){(0,h.default)(this,t),this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}return(0,p.default)(t,[{key:"abort",value:function(t){for(var e in this.keyUriToKeyInfo){var i=this.keyUriToKeyInfo[e].loader;if(i){if(t&&t!==i.context.frag.type)return;i.abort()}}}},{key:"detach",value:function(){for(var t in this.keyUriToKeyInfo){var e=this.keyUriToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}}},{key:"destroy",value:function(){for(var t in this.detach(),this.keyUriToKeyInfo){var e=this.keyUriToKeyInfo[t].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}},{key:"createKeyLoadError",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.KEY_LOAD_ERROR,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return new ci({type:L.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:r,error:i,networkDetails:n})}},{key:"loadClear",value:function(t,e){var i=this;if(this.emeController&&this.config.emeEnabled)for(var n=t.sn,r=t.cc,a=function(t){var a=e[t];if(r<=a.cc&&("initSegment"===n||"initSegment"===a.sn||n<a.sn))return i.emeController.selectKeySystemFormat(a).then((function(t){a.setKeyFormat(t)})),"break"},o=0;o<e.length;o++){var s=a(o);if("break"===s)break}}},{key:"load",value:function(t){var e=this;return!t.decryptdata&&t.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(t).then((function(i){return e.loadInternal(t,i)})):this.loadInternal(t)}},{key:"loadInternal",value:function(t,e){var i,n;e&&t.setKeyFormat(e);var r=t.decryptdata;if(!r){var a=new Error(e?"Expected frag.decryptdata to be defined after setting format ".concat(e):"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,I.KEY_LOAD_ERROR,a))}var o=r.uri;if(!o)return Promise.reject(this.createKeyLoadError(t,I.KEY_LOAD_ERROR,new Error('Invalid key URI: "'.concat(o,'"'))));var s,l=this.keyUriToKeyInfo[o];if(null!=(i=l)&&i.decryptdata.key)return r.key=l.decryptdata.key,Promise.resolve({frag:t,keyInfo:l});if(null!=(n=l)&&n.keyLoadPromise)switch(null==(s=l.mediaKeySessionContext)?void 0:s.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return l.keyLoadPromise.then((function(e){return r.key=e.keyInfo.decryptdata.key,{frag:t,keyInfo:l}}))}switch(l=this.keyUriToKeyInfo[o]={decryptdata:r,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},r.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===r.keyFormat?this.loadKeyHTTP(l,t):this.loadKeyEME(l,t);case"AES-128":return this.loadKeyHTTP(l,t);default:return Promise.reject(this.createKeyLoadError(t,I.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'.concat(r.method,'"'))))}}},{key:"loadKeyEME",value:function(t,e){var i={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){var n=this.emeController.loadKey(i);if(n)return(t.keyLoadPromise=n.then((function(e){return t.mediaKeySessionContext=e,i}))).catch((function(e){throw t.keyLoadPromise=null,e}))}return Promise.resolve(i)}},{key:"loadKeyHTTP",value:function(t,e){var i=this,n=this.config,r=n.loader,a=new r(n);return e.keyLoader=t.loader=a,t.keyLoadPromise=new Promise((function(r,o){var s={keyInfo:t,frag:e,responseType:"arraybuffer",url:t.decryptdata.uri},l=n.keyLoadPolicy.default,u={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:function(t,e,n,a){var s=n.frag,l=n.keyInfo,u=n.url;if(!s.decryptdata||l!==i.keyUriToKeyInfo[u])return o(i.createKeyLoadError(s,I.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),a));l.decryptdata.key=s.decryptdata.key=new Uint8Array(t.data),s.keyLoader=null,l.loader=null,r({frag:s,keyInfo:l})},onError:function(t,n,r,a){i.resetLoader(n),o(i.createKeyLoadError(e,I.KEY_LOAD_ERROR,new Error("HTTP Error ".concat(t.code," loading key ").concat(t.text)),r,S({url:s.url,data:void 0},t)))},onTimeout:function(t,n,r){i.resetLoader(n),o(i.createKeyLoadError(e,I.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),r))},onAbort:function(t,n,r){i.resetLoader(n),o(i.createKeyLoadError(e,I.INTERNAL_ABORTED,new Error("key loading aborted"),r))}};a.load(s,u,c)}))}},{key:"resetLoader",value:function(t){var e=t.frag,i=t.keyInfo,n=t.url,r=i.loader;e.keyLoader===r&&(e.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[n],r&&r.destroy()}}]),t}(),fi=function(){function t(){(0,h.default)(this,t),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}return(0,p.default)(t,[{key:"destroy",value:function(){this.onHandlerDestroying(),this.onHandlerDestroyed()}},{key:"onHandlerDestroying",value:function(){this.clearNextTick(),this.clearInterval()}},{key:"onHandlerDestroyed",value:function(){}},{key:"hasInterval",value:function(){return!!this._tickInterval}},{key:"hasNextTick",value:function(){return!!this._tickTimer}},{key:"setInterval",value:function(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}},{key:"clearInterval",value:function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}},{key:"clearNextTick",value:function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}},{key:"tick",value:function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}},{key:"tickImmediate",value:function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}},{key:"doTick",value:function(){}}]),t}(),hi={length:0,start:function(){return 0},end:function(){return 0}},pi=function(){function t(){(0,h.default)(this,t)}return(0,p.default)(t,null,[{key:"isBuffered",value:function(e,i){try{if(e)for(var n=t.getBuffered(e),r=0;r<n.length;r++)if(i>=n.start(r)&&i<=n.end(r))return!0}catch(a){}return!1}},{key:"bufferInfo",value:function(e,i,n){try{if(e){var r,a=t.getBuffered(e),o=[];for(r=0;r<a.length;r++)o.push({start:a.start(r),end:a.end(r)});return this.bufferedInfo(o,i,n)}}catch(s){}return{len:0,start:i,end:i,nextStart:void 0}}},{key:"bufferedInfo",value:function(t,e,i){e=Math.max(0,e),t.sort((function(t,e){var i=t.start-e.start;return i||e.end-t.end}));var n=[];if(i)for(var r=0;r<t.length;r++){var a=n.length;if(a){var o=n[a-1].end;t[r].start-o<i?t[r].end>o&&(n[a-1].end=t[r].end):n.push(t[r])}else n.push(t[r])}else n=t;for(var s,l=0,u=e,c=e,d=0;d<n.length;d++){var f=n[d].start,h=n[d].end;if(e+i>=f&&e<h)u=f,c=h,l=c-e;else if(e+i<f){s=f;break}}return{len:l,start:u||0,end:c||0,nextStart:s}}},{key:"getBuffered",value:function(t){try{return t.buffered}catch(e){return M.log("failed to get media.buffered",e),hi}}}]),t}(),vi=(0,p.default)((function t(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];(0,h.default)(this,t),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=gi(),this.buffering={audio:gi(),video:gi(),audiovideo:gi()},this.level=e,this.sn=i,this.id=n,this.size=r,this.part=a,this.partial=o}));function gi(){return{start:0,executeStart:0,executeEnd:0,end:0}}function mi(t,e){for(var i=null,n=0,r=t.length;n<r;n++){var a=t[n];if(a&&a.cc===e){i=a;break}}return i}function yi(t,e){if(t){var i=t.start+e;t.start=t.startPTS=i,t.endPTS=i+t.duration}}function bi(t,e){for(var i=e.fragments,n=0,r=i.length;n<r;n++)yi(i[n],t);e.fragmentHint&&yi(e.fragmentHint,t),e.alignedSliding=!0}function _i(t,e,i){e&&(function(t,e,i){if(function(t,e,i){return!(!e.details||!(i.endCC>i.startCC||t&&t.cc<i.startCC))}(t,i,e)){var n=function(t,e){var i=t.fragments,n=e.fragments;if(n.length&&i.length){var r=mi(i,n[0].cc);if(r&&(!r||r.startPTS))return r;M.log("No frag in previous level to align on")}else M.log("No fragments to align")}(i.details,e);n&&A(n.start)&&(M.log("Adjusting PTS using last level due to CC increase within current level ".concat(e.url)),bi(n.start,e))}}(t,i,e),!i.alignedSliding&&e.details&&function(t,e){if(!e.fragments.length||!t.hasProgramDateTime||!e.hasProgramDateTime)return;var i=e.fragments[0].programDateTime,n=t.fragments[0].programDateTime,r=(n-i)/1e3+e.fragments[0].start;r&&A(r)&&(M.log("Adjusting PTS using programDateTime delta ".concat(n-i,"ms, sliding:").concat(r.toFixed(3)," ").concat(t.url," ")),bi(r,t))}(i,e.details),i.alignedSliding||!e.details||i.skippedSegments||Me(e.details,i))}function wi(t,e){if(t.hasProgramDateTime&&e.hasProgramDateTime){var i=t.fragments,n=e.fragments;if(i.length&&n.length){var r=Math.round(n.length/2)-1,a=n[r],o=mi(i,a.cc)||i[Math.round(i.length/2)-1],s=a.programDateTime,l=o.programDateTime;if(null!==s&&null!==l){var u=(l-s)/1e3-(o.start-a.start);bi(u,t)}}}}var ki=function(){function t(e,i){(0,h.default)(this,t),this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=i}return(0,p.default)(t,[{key:"decrypt",value:function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)}}]),t}(),Si=function(){function t(e,i){(0,h.default)(this,t),this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=i}return(0,p.default)(t,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),t}();var Ti=function(){function t(){(0,h.default)(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}return(0,p.default)(t,[{key:"uint8ArrayToUint32Array_",value:function(t){for(var e=new DataView(t),i=new Uint32Array(4),n=0;n<4;n++)i[n]=e.getUint32(4*n);return i}},{key:"initTable",value:function(){var t=this.sBox,e=this.invSBox,i=this.subMix,n=i[0],r=i[1],a=i[2],o=i[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)f[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,t[h]=g,e[g]=h;var m=f[h],y=f[m],b=f[y],_=257*f[g]^16843008*g;n[h]=_<<24|_>>>8,r[h]=_<<16|_>>>16,a[h]=_<<8|_>>>24,o[h]=_,_=16843009*b^65537*y^257*m^16843008*h,l[g]=_<<24|_>>>8,u[g]=_<<16|_>>>16,c[g]=_<<8|_>>>24,d[g]=_,h?(h=m^f[f[f[b^m]]],p^=f[f[p]]):h=p=1}}},{key:"expandKey",value:function(t){var e=this.uint8ArrayToUint32Array_(t),i=!0,n=0;while(n<e.length&&i)i=e[n]===this.key[n],n++;if(!i){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var a,o,s,l,u=this.ksRows=4*(r+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),f=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],g=p[1],m=p[2],y=p[3];for(a=0;a<u;a++)a<r?s=c[a]=e[a]:(l=s,a%r===0?(l=l<<8|l>>>24,l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=h[a/r|0]<<24):r>6&&a%r===4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),c[a]=s=(c[a-r]^l)>>>0);for(o=0;o<u;o++)a=u-o,l=3&o?c[a]:c[a-4],d[o]=o<4||a<=4?l:v[f[l>>>24]]^g[f[l>>>16&255]]^m[f[l>>>8&255]]^y[f[255&l]],d[o]=d[o]>>>0}}},{key:"networkToHostOrderSwap",value:function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}},{key:"decrypt",value:function(t,e,i){var n,r,a,o,s,l,u,c,d,f,h,p,v,g,m=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,_=this.invSubMix,w=_[0],k=_[1],S=_[2],T=_[3],E=this.uint8ArrayToUint32Array_(i),A=E[0],x=E[1],L=E[2],I=E[3],C=new Int32Array(t),D=new Int32Array(C.length),O=this.networkToHostOrderSwap;while(e<C.length){for(d=O(C[e]),f=O(C[e+1]),h=O(C[e+2]),p=O(C[e+3]),s=d^y[0],l=p^y[1],u=h^y[2],c=f^y[3],v=4,g=1;g<m;g++)n=w[s>>>24]^k[l>>16&255]^S[u>>8&255]^T[255&c]^y[v],r=w[l>>>24]^k[u>>16&255]^S[c>>8&255]^T[255&s]^y[v+1],a=w[u>>>24]^k[c>>16&255]^S[s>>8&255]^T[255&l]^y[v+2],o=w[c>>>24]^k[s>>16&255]^S[l>>8&255]^T[255&u]^y[v+3],s=n,l=r,u=a,c=o,v+=4;n=b[s>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^y[v],r=b[l>>>24]<<24^b[u>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[v+1],a=b[u>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&l]^y[v+2],o=b[c>>>24]<<24^b[s>>16&255]<<16^b[l>>8&255]<<8^b[255&u]^y[v+3],D[e]=O(n^A),D[e+1]=O(o^x),D[e+2]=O(a^L),D[e+3]=O(r^I),A=d,x=f,L=h,I=p,e+=4}return D.buffer}}]),t}(),Ei=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.removePKCS7Padding,r=void 0===n||n;if((0,h.default)(this,t),this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=r,r)try{var a=self.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(o){}null===this.subtle&&(this.useSoftware=!0)}return(0,p.default)(t,[{key:"destroy",value:function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}},{key:"isSync",value:function(){return this.useSoftware}},{key:"flush",value:function(){var t=this.currentResult,e=this.remainderData;if(!t||e)return this.reset(),null;var i=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?function(t){var e=t.byteLength,i=e&&new DataView(t.buffer).getUint8(e-1);return i?rt(t,0,e-i):t}(i):i}},{key:"reset",value:function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}},{key:"decrypt",value:function(t,e,i){var n=this;return this.useSoftware?new Promise((function(r,a){n.softwareDecrypt(new Uint8Array(t),e,i);var o=n.flush();o?r(o.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(t),e,i)}},{key:"softwareDecrypt",value:function(t,e,i){var n=this.currentIV,r=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(t=Mt(a,t),this.remainderData=null);var o=this.getValidChunk(t);if(!o.length)return null;n&&(i=n);var s=this.softwareDecrypter;s||(s=this.softwareDecrypter=new Ti),s.expandKey(e);var l=r;return this.currentResult=s.decrypt(o.buffer,0,i),this.currentIV=rt(o,-16).buffer,l||null}},{key:"webCryptoDecrypt",value:function(t,e,i){var n=this,r=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new Si(r,e)),this.fastAesKey.expandKey().then((function(e){if(!r)return Promise.reject(new Error("web crypto not initialized"));n.logOnce("WebCrypto AES decrypt");var a=new ki(r,new Uint8Array(i));return a.decrypt(t.buffer,e)})).catch((function(r){return M.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, ".concat(r.name,": ").concat(r.message)),n.onWebCryptoError(t,e,i)}))}},{key:"onWebCryptoError",value:function(t,e,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,i);var n=this.flush();if(n)return n.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}},{key:"getValidChunk",value:function(t){var e=t,i=t.length-t.length%16;return i!==t.length&&(e=rt(t,0,i),this.remainderData=rt(t,i)),e}},{key:"logOnce",value:function(t){this.logEnabled&&(M.log("[decrypter]: ".concat(t)),this.logEnabled=!1)}}]),t}(),Ai={toString:function(t){for(var e="",i=t.length,n=0;n<i;n++)e+="[".concat(t.start(n).toFixed(3),"-").concat(t.end(n).toFixed(3),"]");return e}},xi={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},Li=function(t){(0,u.default)(i,t);var e=y(i);function i(t,n,r,a,s){var l;return(0,h.default)(this,i),l=e.call(this),l.hls=void 0,l.fragPrevious=null,l.fragCurrent=null,l.fragmentTracker=void 0,l.transmuxer=null,l._state=xi.STOPPED,l.playlistType=void 0,l.media=null,l.mediaBuffer=null,l.config=void 0,l.bitrateTest=!1,l.lastCurrentTime=0,l.nextLoadPosition=0,l.startPosition=0,l.startTimeOffset=null,l.loadedmetadata=!1,l.retryDate=0,l.levels=null,l.fragmentLoader=void 0,l.keyLoader=void 0,l.levelLastLoaded=null,l.startFragRequested=!1,l.decrypter=void 0,l.initPTS=[],l.onvseeking=null,l.onvended=null,l.logPrefix="",l.log=void 0,l.warn=void 0,l.playlistType=s,l.logPrefix=a,l.log=M.log.bind(M,"".concat(a,":")),l.warn=M.warn.bind(M,"".concat(a,":")),l.hls=t,l.fragmentLoader=new si(t.config),l.keyLoader=r,l.fragmentTracker=n,l.config=t.config,l.decrypter=new Ei(t.config),t.on(x.MANIFEST_LOADED,l.onManifestLoaded,(0,o.default)(l)),l}return(0,p.default)(i,[{key:"doTick",value:function(){this.onTickEnd()}},{key:"onTickEnd",value:function(){}},{key:"startLoad",value:function(t){}},{key:"stopLoad",value:function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=xi.STOPPED}},{key:"_streamEnded",value:function(t,e){if(e.live||t.nextStart||!t.end||!this.media)return!1;var i=e.partList;if(null!=i&&i.length){var n=i[i.length-1],r=pi.isBuffered(this.media,n.start+n.duration/2);return r}var a=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(a)}},{key:"getLevelDetails",value:function(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levels[this.levelLastLoaded])?void 0:t.details}},{key:"onMediaAttached",value:function(t,e){var i=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.state===xi.STOPPED&&this.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var t=this.media;null!=t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&this.onvseeking&&this.onvended&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}},{key:"onMediaSeeking",value:function(){var t=this.config,e=this.fragCurrent,i=this.media,n=this.mediaBuffer,r=this.state,a=i?i.currentTime:0,o=pi.bufferInfo(n||i,a,t.maxBufferHole);if(this.log("media seeking to ".concat(A(a)?a.toFixed(3):a,", state: ").concat(r)),this.state===xi.ENDED)this.resetLoadingState();else if(e){var s=t.maxFragLookUpTolerance,l=e.start-s,u=e.start+e.duration+s;if(!o.len||u<o.start||l>o.end){var c=a>u;(a<l||c)&&(c&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),this.loadedmetadata||o.len||(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoaded",value:function(t,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}},{key:"onHandlerDestroying",value:function(){this.stopLoad(),(0,l.default)((0,d.default)(i.prototype),"onHandlerDestroying",this).call(this)}},{key:"onHandlerDestroyed",value:function(){this.state=xi.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,(0,l.default)((0,d.default)(i.prototype),"onHandlerDestroyed",this).call(this)}},{key:"loadFragment",value:function(t,e,i){this._loadFragForPlayback(t,e,i)}},{key:"_loadFragForPlayback",value:function(t,e,i){var n=this;this._doFragLoad(t,e,i,(function(e){if(n.fragContextChanged(t))return n.warn("Fragment ".concat(t.sn).concat(e.part?" p: "+e.part.index:""," of level ").concat(t.level," was dropped during download.")),void n.fragmentTracker.removeFragment(t);t.stats.chunkCount++,n._handleFragmentLoadProgress(e)})).then((function(e){if(e){var i=n.state;n.fragContextChanged(t)?(i===xi.FRAG_LOADING||!n.fragCurrent&&i===xi.PARSING)&&(n.fragmentTracker.removeFragment(t),n.state=xi.IDLE):("payload"in e&&(n.log("Loaded fragment ".concat(t.sn," of level ").concat(t.level)),n.hls.trigger(x.FRAG_LOADED,e)),n._handleFragmentLoadComplete(e))}})).catch((function(e){n.state!==xi.STOPPED&&n.state!==xi.ERROR&&(n.warn(e),n.resetFragmentLoading(t))}))}},{key:"clearTrackerIfNeeded",value:function(t){var e,i=this.fragmentTracker,n=i.getState(t);if(n===ii.APPENDING){var r=t.type,a=this.getFwdBufferInfo(this.mediaBuffer,r),o=Math.max(t.duration,a?a.len:this.config.maxBufferLength);this.reduceMaxBufferLength(o)&&i.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?i.removeAllFragments():i.hasParts(t.type)&&(i.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),i.getState(t)===ii.PARTIAL&&i.removeFragment(t))}},{key:"flushMainBuffer",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t-e){var n={startOffset:t,endOffset:e,type:i};this.hls.trigger(x.BUFFER_FLUSHING,n)}}},{key:"_loadInitSegment",value:function(t,e){var i=this;this._doFragLoad(t,e).then((function(e){if(!e||i.fragContextChanged(t)||!i.levels)throw new Error("init load aborted");return e})).then((function(e){var n=i.hls,r=e.payload,a=t.decryptdata;if(r&&r.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var o=self.performance.now();return i.decrypter.decrypt(new Uint8Array(r),a.key.buffer,a.iv.buffer).catch((function(e){throw n.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((function(i){var r=self.performance.now();return n.trigger(x.FRAG_DECRYPTED,{frag:t,payload:i,stats:{tstart:o,tdecrypt:r}}),e.payload=i,e}))}return e})).then((function(n){var r=i.fragCurrent,a=i.hls,o=i.levels;if(!o)throw new Error("init load aborted, missing levels");var s=t.stats;i.state=xi.IDLE,e.fragmentError=0,t.data=new Uint8Array(n.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),n.frag===r&&a.trigger(x.FRAG_BUFFERED,{stats:s,frag:r,part:null,id:t.type}),i.tick()})).catch((function(e){i.state!==xi.STOPPED&&i.state!==xi.ERROR&&(i.warn(e),i.resetFragmentLoading(t))}))}},{key:"fragContextChanged",value:function(t){var e=this.fragCurrent;return!t||!e||t.level!==e.level||t.sn!==e.sn||t.urlId!==e.urlId}},{key:"fragBufferedComplete",value:function(t,e){var i,n,r,a,o=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered ".concat(t.type," sn: ").concat(t.sn).concat(e?" part: "+e.index:""," of ").concat(this.playlistType===he.MAIN?"level":"track"," ").concat(t.level," (frag:[").concat((null!=(i=t.startPTS)?i:NaN).toFixed(3),"-").concat((null!=(n=t.endPTS)?n:NaN).toFixed(3),"] > buffer:").concat(o?Ai.toString(pi.getBuffered(o)):"(detached)",")")),this.state=xi.IDLE,o&&(!this.loadedmetadata&&t.type==he.MAIN&&o.buffered.length&&(null==(r=this.fragCurrent)?void 0:r.sn)===(null==(a=this.fragPrevious)?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}},{key:"seekToStartPos",value:function(){}},{key:"_handleFragmentLoadComplete",value:function(t){var e=this.transmuxer;if(e){var i=t.frag,n=t.part,r=t.partsLoaded,a=!r||0===r.length||r.some((function(t){return!t})),o=new vi(i.level,i.sn,i.stats.chunkCount+1,0,n?n.index:-1,!a);e.flush(o)}}},{key:"_handleFragmentLoadProgress",value:function(t){}},{key:"_doFragLoad",value:function(t,e){var i,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0,s=null==e?void 0:e.details;if(!this.levels||!s)throw new Error("frag load aborted, missing level".concat(s?"":" detail","s"));var l=null;if(!t.encrypted||null!=(i=t.decryptdata)&&i.key?!t.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(t,s.encryptedFragments):(this.log("Loading key for ".concat(t.sn," of [").concat(s.startSN,"-").concat(s.endSN,"], ").concat("[stream-controller]"===this.logPrefix?"level":"track"," ").concat(t.level)),this.state=xi.KEY_LOADING,this.fragCurrent=t,l=this.keyLoader.load(t).then((function(t){if(!n.fragContextChanged(t.frag))return n.hls.trigger(x.KEY_LOADED,t),n.state===xi.KEY_LOADING&&(n.state=xi.IDLE),t})),this.hls.trigger(x.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(l=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),r=Math.max(t.start,r||0),this.config.lowLatencyMode&&"initSegment"!==t.sn){var u=s.partList;if(u&&o){r>t.end&&s.fragmentHint&&(t=s.fragmentHint);var c=this.getNextPart(u,t,r);if(c>-1){var d,f=u[c];return this.log("Loading part sn: ".concat(t.sn," p: ").concat(f.index," cc: ").concat(t.cc," of playlist [").concat(s.startSN,"-").concat(s.endSN,"] parts [0-").concat(c,"-").concat(u.length-1,"] ").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(t.level,", target: ").concat(parseFloat(r.toFixed(3)))),this.nextLoadPosition=f.start+f.duration,this.state=xi.FRAG_LOADING,d=l?l.then((function(i){return!i||n.fragContextChanged(i.frag)?null:n.doFragPartsLoad(t,f,e,o)})).catch((function(t){return n.handleFragLoadError(t)})):this.doFragPartsLoad(t,f,e,o).catch((function(t){return n.handleFragLoadError(t)})),this.hls.trigger(x.FRAG_LOADING,{frag:t,part:f,targetBufferTime:r}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):d}if(!t.url||this.loadedEndOfParts(u,r))return Promise.resolve(null)}}this.log("Loading fragment ".concat(t.sn," cc: ").concat(t.cc," ").concat(s?"of ["+s.startSN+"-"+s.endSN+"] ":"").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(t.level,", target: ").concat(parseFloat(r.toFixed(3)))),A(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=xi.FRAG_LOADING;var h,p=this.config.progressive;return h=p&&l?l.then((function(e){return!e||n.fragContextChanged(null==e?void 0:e.frag)?null:n.fragmentLoader.load(t,o)})).catch((function(t){return n.handleFragLoadError(t)})):Promise.all([this.fragmentLoader.load(t,p?o:void 0),l]).then((function(t){var e=(0,a.default)(t,1),i=e[0];return!p&&i&&o&&o(i),i})).catch((function(t){return n.handleFragLoadError(t)})),this.hls.trigger(x.FRAG_LOADING,{frag:t,targetBufferTime:r}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):h}},{key:"doFragPartsLoad",value:function(t,e,i,n){var r=this;return new Promise((function(a,o){var s,l=[],u=null==(s=i.details)?void 0:s.partList;(function e(s){r.fragmentLoader.loadPart(t,s,n).then((function(n){l[s.index]=n;var o=n.part;r.hls.trigger(x.FRAG_LOADED,n);var c=Be(i,t.sn,s.index+1)||Ne(u,t.sn,s.index+1);if(!c)return a({frag:t,part:o,partsLoaded:l});e(c)})).catch(o)})(e)}))}},{key:"handleFragLoadError",value:function(t){if("data"in t){var e=t.data;t.data&&e.details===I.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(x.ERROR,e)}else this.hls.trigger(x.ERROR,{type:L.OTHER_ERROR,details:I.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}},{key:"_handleTransmuxerFlush",value:function(t){var e=this.getCurrentContext(t);if(e&&this.state===xi.PARSING){var i=e.frag,n=e.part,r=e.level,a=self.performance.now();i.stats.parsing.end=a,n&&(n.stats.parsing.end=a),this.updateLevelTiming(i,n,r,t.partial)}else this.fragCurrent||this.state===xi.STOPPED||this.state===xi.ERROR||(this.state=xi.IDLE)}},{key:"getCurrentContext",value:function(t){var e=this.levels,i=this.fragCurrent,n=t.level,r=t.sn,a=t.part;if(null==e||!e[n])return this.warn("Levels object was unset while buffering fragment ".concat(r," of level ").concat(n,". The current chunk will not be buffered.")),null;var o=e[n],s=a>-1?Be(o,r,a):null,l=s?s.fragment:function(t,e,i){if(null==t||!t.details)return null;var n=t.details,r=n.fragments[e-n.startSN];return r||(r=n.fragmentHint,r&&r.sn===e?r:e<n.startSN&&i&&i.sn===e?i:null)}(o,r,i);return l?(i&&i!==l&&(l.stats=i.stats),{frag:l,part:s,level:o}):null}},{key:"bufferFragmentData",value:function(t,e,i,n){var r;if(t&&this.state===xi.PARSING){var a=t.data1,o=t.data2,s=a;if(a&&o&&(s=Mt(a,o)),null!=(r=s)&&r.length){var l={type:t.type,frag:e,part:i,chunkMeta:n,parent:e.type,data:s};this.hls.trigger(x.BUFFER_APPENDING,l),t.dropped&&t.independent&&!i&&this.flushBufferGap(e)}}}},{key:"flushBufferGap",value:function(t){var e=this.media;if(e)if(pi.isBuffered(e,e.currentTime)){var i=e.currentTime,n=pi.bufferInfo(e,i,0),r=t.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*r),o=Math.max(Math.min(t.start-a,n.end-a),i+a);t.start-o>a&&this.flushMainBuffer(o,t.start)}else this.flushMainBuffer(0,t.start)}},{key:"getFwdBufferInfo",value:function(t,e){var i=this.getLoadPosition();return A(i)?this.getFwdBufferInfoAtPos(t,i,e):null}},{key:"getFwdBufferInfoAtPos",value:function(t,e,i){var n=this.config.maxBufferHole,r=pi.bufferInfo(t,e,n);if(0===r.len&&void 0!==r.nextStart){var a=this.fragmentTracker.getBufferedFrag(e,i);if(a&&r.nextStart<a.end)return pi.bufferInfo(t,e,Math.max(r.nextStart,n))}return r}},{key:"getMaxBufferLength",value:function(t){var e,i=this.config;return e=t?Math.max(8*i.maxBufferSize/t,i.maxBufferLength):i.maxBufferLength,Math.min(e,i.maxMaxBufferLength)}},{key:"reduceMaxBufferLength",value:function(t){var e=this.config,i=t||e.maxBufferLength;return e.maxMaxBufferLength>=i&&(e.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to ".concat(e.maxMaxBufferLength,"s")),!0)}},{key:"getAppendedFrag",value:function(t){var e=this.fragmentTracker.getAppendedFrag(t,he.MAIN);return e&&"fragment"in e?e.fragment:e}},{key:"getNextFragment",value:function(t,e){var i=e.fragments,n=i.length;if(!n)return null;var r,a=this.config,o=i[0].start;if(e.live){var s=a.initialLiveManifestSize;if(n<s)return this.warn("Not enough fragments to start playback (have: ".concat(n,", need: ").concat(s,")")),null;e.PTSKnown||this.startFragRequested||-1!==this.startPosition||(r=this.getInitialLiveFragment(e,i),this.startPosition=r?this.hls.liveSyncPosition||r.start:t)}else t<=o&&(r=i[0]);if(!r){var l=a.lowLatencyMode?e.partEnd:e.fragmentEnd;r=this.getFragmentAtPosition(t,l,e)}return this.mapToInitFragWhenRequired(r)}},{key:"isLoopLoading",value:function(t,e){var i=this.fragmentTracker.getState(t);return(i===ii.OK||i===ii.PARTIAL&&!!t.gap)&&this.nextLoadPosition>e}},{key:"getNextFragmentLoopLoading",value:function(t,e,i,n,r){var a=t.gap,o=this.getNextFragment(this.nextLoadPosition,e);if(null===o)return o;if(t=o,a&&t&&!t.gap&&i.nextStart){var s=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,n);if(null!==s&&i.len+s.len>=r)return this.log('buffer full after gaps in "'.concat(n,'" playlist starting at sn: ').concat(t.sn)),null}return t}},{key:"mapToInitFragWhenRequired",value:function(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment}},{key:"getNextPart",value:function(t,e,i){for(var n=-1,r=!1,a=!0,o=0,s=t.length;o<s;o++){var l=t[o];if(a=a&&!l.independent,n>-1&&i<l.start)break;var u=l.loaded;u?n=-1:(r||l.independent||a)&&l.fragment===e&&(n=o),r=u}return n}},{key:"loadedEndOfParts",value:function(t,e){var i=t[t.length-1];return i&&e>i.start&&i.loaded}},{key:"getInitialLiveFragment",value:function(t,e){var i=this.fragPrevious,n=null;if(i){if(t.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: ".concat(i.programDateTime)),n=function(t,e,i){if(null===e||!Array.isArray(t)||!t.length||!A(e))return null;var n=t[0].programDateTime;if(e<(n||0))return null;var r=t[t.length-1].endProgramDateTime;if(e>=(r||0))return null;i=i||0;for(var a=0;a<t.length;++a){var o=t[a];if(Ye(e,i,o))return o}return null}(e,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){var r=i.sn+1;if(r>=t.startSN&&r<=t.endSN){var a=e[r-t.startSN];i.cc===a.cc&&(n=a,this.log("Live playlist, switching playlist, load frag with next SN: ".concat(n.sn)))}n||(n=function(t,e){return Ve.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))}(e,i.cc),n&&this.log("Live playlist, switching playlist, load frag with same CC: ".concat(n.sn)))}}else{var o=this.hls.liveSyncPosition;null!==o&&(n=this.getFragmentAtPosition(o,this.bitrateTest?t.fragmentEnd:t.edge,t))}return n}},{key:"getFragmentAtPosition",value:function(t,e,i){var n,r=this.config,a=this.fragPrevious,o=i.fragments,s=i.endSN,l=i.fragmentHint,u=r.maxFragLookUpTolerance,c=i.partList,d=!!(r.lowLatencyMode&&null!=c&&c.length&&l);if(d&&l&&!this.bitrateTest&&(o=o.concat(l),s=l.sn),t<e){var f=t>e-u?0:u;n=Ke(a,o,t,f)}else n=o[o.length-1];if(n){var h=n.sn-i.startSN,p=this.fragmentTracker.getState(n);if((p===ii.OK||p===ii.PARTIAL&&n.gap)&&(a=n),a&&n.sn===a.sn&&(!d||c[0].fragment.sn>n.sn)){var v=a&&n.level===a.level;if(v){var g=o[h+1];n=n.sn<s&&this.fragmentTracker.getState(g)!==ii.OK?g:null}}}return n}},{key:"synchronizeToLiveEdge",value:function(t){var e=this.config,i=this.media;if(i){var n=this.hls.liveSyncPosition,r=i.currentTime,a=t.fragments[0].start,o=t.edge,s=r>=a-e.maxFragLookUpTolerance&&r<=o;if(null!==n&&i.duration>n&&(r<n||!s)){var l=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!s&&i.readyState<4||r<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=n),i.readyState&&(this.warn("Playback: ".concat(r.toFixed(3)," is located too far from the end of live sliding playlist: ").concat(o,", reset currentTime to : ").concat(n.toFixed(3))),i.currentTime=n))}}}},{key:"alignPlaylists",value:function(t,e){var i=this.levels,n=this.levelLastLoaded,r=this.fragPrevious,a=null!==n?i[n]:null,o=t.fragments.length;if(!o)return this.warn("No fragments in live playlist"),0;var s=t.fragments[0].start,l=!e,u=t.alignedSliding&&A(s);if(l||!u&&!s){_i(r,a,t);var c=t.fragments[0].start;return this.log("Live playlist sliding: ".concat(c.toFixed(2)," start-sn: ").concat(e?e.startSN:"na","->").concat(t.startSN," prev-sn: ").concat(r?r.sn:"na"," fragments: ").concat(o)),c}return s}},{key:"waitForCdnTuneIn",value:function(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)}},{key:"setStartPosition",value:function(t,e){var i=this.startPosition;if(i<e&&(i=-1),-1===i||-1===this.lastCurrentTime){var n=null!==this.startTimeOffset,r=n?this.startTimeOffset:t.startTimeOffset;null!==r&&A(r)?(i=e+r,r<0&&(i+=t.totalduration),i=Math.min(Math.max(e,i),e+t.totalduration),this.log("Start time offset ".concat(r," found in ").concat(n?"multivariant":"media"," playlist, adjust startPosition to ").concat(i)),this.startPosition=i):t.live?i=this.hls.liveSyncPosition||e:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}},{key:"getLoadPosition",value:function(){var t=this.media,e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}},{key:"handleFragLoadAborted",value:function(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn("Fragment ".concat(t.sn).concat(e?" part "+e.index:""," of level ").concat(t.level," was aborted")),this.resetFragmentLoading(t))}},{key:"resetFragmentLoading",value:function(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===xi.FRAG_LOADING_WAITING_RETRY)||(this.state=xi.IDLE)}},{key:"onFragmentOrKeyLoadError",value:function(t,e){if(e.chunkMeta&&!e.frag){var i=this.getCurrentContext(e.chunkMeta);i&&(e.frag=i.frag)}var n=e.frag;if(n&&n.type===t&&this.levels)if(this.fragContextChanged(n)){var r;this.warn("Frag load error must match current frag to retry ".concat(n.url," > ").concat(null==(r=this.fragCurrent)?void 0:r.url))}else{var a=e.details===I.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(n,!0);var o=e.errorAction,s=o||{},l=s.action,u=s.retryCount,c=void 0===u?0:u,d=s.retryConfig;if(o&&l===We.RetryRequest&&d){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var f=je(d,c);this.warn("Fragment ".concat(n.sn," of ").concat(t," ").concat(n.level," errored with ").concat(e.details,", retrying loading ").concat(c+1,"/").concat(d.maxNumRetry," in ").concat(f,"ms")),o.resolved=!0,this.retryDate=self.performance.now()+f,this.state=xi.FRAG_LOADING_WAITING_RETRY}else d&&o?(this.resetFragmentErrors(t),c<d.maxNumRetry?a||(o.resolved=!0):M.warn("".concat(e.details," reached or exceeded max retry (").concat(c,")"))):this.state=xi.ERROR;this.tickImmediate()}}},{key:"reduceLengthAndFlushBuffer",value:function(t){if(this.state===xi.PARSING||this.state===xi.PARSED){var e=t.parent,i=this.getFwdBufferInfo(this.mediaBuffer,e),n=i&&i.len>.5;n&&this.reduceMaxBufferLength(i.len);var r=!n;return r&&this.warn("Buffer full error while media.currentTime is not buffered, flush ".concat(e," buffer")),t.frag&&(this.fragmentTracker.removeFragment(t.frag),this.nextLoadPosition=t.frag.start),this.resetLoadingState(),r}return!1}},{key:"resetFragmentErrors",value:function(t){t===he.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==xi.STOPPED&&(this.state=xi.IDLE)}},{key:"afterBufferFlushed",value:function(t,e,i){if(t){var n=pi.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,n,i),this.state===xi.ENDED&&this.resetLoadingState()}}},{key:"resetLoadingState",value:function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=xi.IDLE}},{key:"resetStartWhenNotLoaded",value:function(t){if(!this.loadedmetadata){this.startFragRequested=!1;var e=this.levels?this.levels[t].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}},{key:"resetWhenMissingContext",value:function(t){this.warn("The loading context changed while buffering fragment ".concat(t.sn," of level ").concat(t.level,". This chunk will not be buffered.")),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(t.level),this.resetLoadingState()}},{key:"removeUnbufferedFrags",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)}},{key:"updateLevelTiming",value:function(t,e,i,n){var r,a=this,o=i.details;if(o){var s=Object.keys(t.elementaryStreams).reduce((function(e,r){var s=t.elementaryStreams[r];if(s){var l=s.endPTS-s.startPTS;if(l<=0)return a.warn("Could not parse fragment ".concat(t.sn," ").concat(r," duration reliably (").concat(l,")")),e||!1;var u=n?0:Re(o,t,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return a.hls.trigger(x.LEVEL_PTS_UPDATED,{details:o,level:i,drift:u,type:r,frag:t,start:s.startPTS,end:s.endPTS}),!0}return e}),!1);if(s)i.fragmentError=0;else if(null===(null==(r=this.transmuxer)?void 0:r.error)){var l=new Error("Found no media in fragment ".concat(t.sn," of level ").concat(i.id," resetting transmuxer to fallback to playlist timing"));if(this.warn(l.message),this.hls.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:t,reason:"Found no media in msn ".concat(t.sn,' of level "').concat(i.url,'"')}),!this.hls)return;this.resetTransmuxer()}this.state=xi.PARSED,this.hls.trigger(x.FRAG_PARSED,{frag:t,part:e})}else this.warn("level.details undefined")}},{key:"resetTransmuxer",value:function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}},{key:"recoverWorkerError",value:function(t){"demuxerWorker"===t.event&&(this.resetTransmuxer(),this.resetLoadingState())}},{key:"state",get:function(){return this._state},set:function(t){var e=this._state;e!==t&&(this._state=t,this.log("".concat(e,"->").concat(t)))}}]),i}(fi);function Ii(){return self.SourceBuffer||self.WebKitSourceBuffer}function Ci(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}var Di=function(){function t(){(0,h.default)(this,t),this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}return(0,p.default)(t,[{key:"resetInitSegment",value:function(t,e,i,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}},{key:"resetTimeStamp",value:function(t){this.initPTS=t,this.resetContiguity()}},{key:"resetContiguity",value:function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}},{key:"canParse",value:function(t,e){return!1}},{key:"appendFrame",value:function(t,e,i){}},{key:"demux",value:function(t,e){this.cachedData&&(t=Mt(this.cachedData,t),this.cachedData=null);var i,n=lt(t,0),r=n?n.length:0,a=this._audioTrack,o=this._id3Track,s=n?function(t){for(var e=ht(t),i=0;i<e.length;i++){var n=e[i];if(dt(n))return yt(n)}}(n):void 0,l=t.length;(null===this.basePTS||0===this.frameIndex&&A(s))&&(this.basePTS=Oi(s,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),n&&n.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:we.audioId3,duration:Number.POSITIVE_INFINITY});while(r<l){if(this.canParse(t,r)){var u=this.appendFrame(a,t,r);u?(this.frameIndex++,this.lastPTS=u.sample.pts,r+=u.length,i=r):r=l}else ct(t,r)?(n=lt(t,r),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:we.audioId3,duration:Number.POSITIVE_INFINITY}),r+=n.length,i=r):r++;if(r===l&&i!==l){var c=rt(t,i);this.cachedData?this.cachedData=Mt(this.cachedData,c):this.cachedData=c}}return{audioTrack:a,videoTrack:Ci(),id3Track:o,textTrack:Ci()}}},{key:"demuxSampleAes",value:function(t,e,i){return Promise.reject(new Error("[".concat(this,"] This demuxer does not support Sample-AES decryption")))}},{key:"flush",value:function(t){var e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:Ci(),id3Track:this._id3Track,textTrack:Ci()}}},{key:"destroy",value:function(){}}]),t}(),Oi=function(t,e,i){if(A(t))return 90*t;var n=i?9e4*i.baseTime/i.timescale:0;return 9e4*e+n};function Ri(t,e){return 255===t[e]&&240===(246&t[e+1])}function Pi(t,e){return 1&t[e+1]?7:9}function Mi(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function Fi(t,e){return e+1<t.length&&Ri(t,e)}function Bi(t,e){if(Fi(t,e)){var i=Pi(t,e);if(e+i>=t.length)return!1;var n=Mi(t,e);if(n<=i)return!1;var r=e+n;return r===t.length||Fi(t,r)}return!1}function Ni(t,e,i,n,r){if(!t.samplerate){var a=function(t,e,i,n){var r,a,o,s,l=navigator.userAgent.toLowerCase(),u=n,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];r=1+((192&e[i+2])>>>6);var d=(60&e[i+2])>>>2;if(!(d>c.length-1))return o=(1&e[i+2])<<2,o|=(192&e[i+3])>>>6,M.log("manifest codec:".concat(n,", ADTS type:").concat(r,", samplingIndex:").concat(d)),/firefox/i.test(l)?d>=6?(r=5,s=new Array(4),a=d-3):(r=2,s=new Array(2),a=d):-1!==l.indexOf("android")?(r=2,s=new Array(2),a=d):(r=5,s=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&d>=6?a=d-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(d>=6&&1===o||/vivaldi/i.test(l))||!n&&1===o)&&(r=2,s=new Array(2)),a=d)),s[0]=r<<3,s[0]|=(14&d)>>1,s[1]|=(1&d)<<7,s[1]|=o<<3,5===r&&(s[1]|=(14&a)>>1,s[2]=(1&a)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:c[d],channelCount:o,codec:"mp4a.40."+r,manifestCodec:u};t.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:".concat(d)})}(e,i,n,r);if(!a)return;t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,M.log("parsed codec:".concat(t.codec,", rate:").concat(a.samplerate,", channels:").concat(a.channelCount))}}function Ui(t){return 9216e4/t}function $i(t,e,i,n,r){var a,o=Ui(t.samplerate),s=n+r*o,l=function(t,e){var i=Pi(t,e);if(e+i<=t.length){var n=Mi(t,e)-i;if(n>0)return{headerLength:i,frameLength:n}}}(e,i);if(l){var u=l.frameLength,c=l.headerLength,d=c+u,f=Math.max(0,i+d-e.length);f?(a=new Uint8Array(d-c),a.set(e.subarray(i+c,e.length),0)):a=e.subarray(i+c,i+d);var h={unit:a,pts:s};return f||t.samples.push(h),{sample:h,length:d,missing:f}}var p=e.length-i;a=new Uint8Array(p),a.set(e.subarray(i,e.length),0);var v={unit:a,pts:s};return{sample:v,length:p,missing:-1}}var ji=function(t){(0,u.default)(i,t);var e=y(i);function i(t,n){var r;return(0,h.default)(this,i),r=e.call(this),r.observer=void 0,r.config=void 0,r.observer=t,r.config=n,r}return(0,p.default)(i,[{key:"resetInitSegment",value:function(t,e,n,r){(0,l.default)((0,d.default)(i.prototype),"resetInitSegment",this).call(this,t,e,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&Ri(t,e)&&Mi(t,e)<=t.length-e}(t,e)}},{key:"appendFrame",value:function(t,e,i){Ni(t,this.observer,e,i,t.manifestCodec);var n=$i(t,e,i,this.basePTS,this.frameIndex);if(n&&0===n.missing)return n}}],[{key:"probe",value:function(t){if(!t)return!1;for(var e=lt(t,0)||[],i=e.length,n=t.length;i<n;i++)if(Bi(t,i))return M.log("ADTS sync word found !"),!0;return!1}}]),i}(Di),Hi=/\/emsg[-/]ID3/i,Gi=function(){function t(e,i){(0,h.default)(this,t),this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=i}return(0,p.default)(t,[{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(t,e,i,n){var r=this.videoTrack=Ci("video",1),a=this.audioTrack=Ci("audio",1),o=this.txtTrack=Ci("text",1);if(this.id3Track=Ci("id3",1),this.timeOffset=0,null!=t&&t.byteLength){var s=Ot(t);if(s.video){var l=s.video,u=l.id,c=l.timescale,d=l.codec;r.id=u,r.timescale=o.timescale=c,r.codec=d}if(s.audio){var f=s.audio,h=f.id,p=f.timescale,v=f.codec;a.id=h,a.timescale=p,a.codec=v}o.id=Tt.text,r.sampleDuration=0,r.duration=a.duration=n}}},{key:"resetContiguity",value:function(){this.remainderData=null}},{key:"demux",value:function(t,e){this.timeOffset=e;var i=t,n=this.videoTrack,r=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=Mt(this.remainderData,t));var a=function(t){var e={valid:null,remainder:null},i=Ct(t,["moof"]);if(!i)return e;if(i.length<2)return e.remainder=t,e;var n=i[i.length-1];return e.valid=rt(t,0,n.byteOffset-8),e.remainder=rt(t,n.byteOffset-8),e}(i);this.remainderData=a.remainder,n.samples=a.valid||new Uint8Array}else n.samples=i;var o=this.extractID3Track(n,e);return r.samples=Ft(e,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}},{key:"flush",value:function(){var t=this.timeOffset,e=this.videoTrack,i=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;var n=this.extractID3Track(e,this.timeOffset);return i.samples=Ft(t,e),{videoTrack:e,audioTrack:Ci(),id3Track:n,textTrack:Ci()}}},{key:"extractID3Track",value:function(t,e){var i=this.id3Track;if(t.samples.length){var n=Ct(t.samples,["emsg"]);n&&n.forEach((function(t){var n=function(t){var e=t[0],i="",n="",r=0,a=0,o=0,s=0,l=0,u=0;if(0===e){while("\0"!==Et(t.subarray(u,u+1)))i+=Et(t.subarray(u,u+1)),u+=1;i+=Et(t.subarray(u,u+1)),u+=1;while("\0"!==Et(t.subarray(u,u+1)))n+=Et(t.subarray(u,u+1)),u+=1;n+=Et(t.subarray(u,u+1)),u+=1,r=xt(t,12),a=xt(t,16),s=xt(t,20),l=xt(t,24),u=28}else if(1===e){u+=4,r=xt(t,u),u+=4;var c=xt(t,u);u+=4;var d=xt(t,u);u+=4,o=Math.pow(2,32)*c+d,Number.isSafeInteger(o)||(o=Number.MAX_SAFE_INTEGER,M.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=xt(t,u),u+=4,l=xt(t,u),u+=4;while("\0"!==Et(t.subarray(u,u+1)))i+=Et(t.subarray(u,u+1)),u+=1;i+=Et(t.subarray(u,u+1)),u+=1;while("\0"!==Et(t.subarray(u,u+1)))n+=Et(t.subarray(u,u+1)),u+=1;n+=Et(t.subarray(u,u+1)),u+=1}var f=t.subarray(u,t.byteLength);return{schemeIdUri:i,value:n,timeScale:r,presentationTime:o,presentationTimeDelta:a,eventDuration:s,id:l,payload:f}}(t);if(Hi.test(n.schemeIdUri)){var r=A(n.presentationTime)?n.presentationTime/n.timeScale:e+n.presentationTimeDelta/n.timeScale,a=4294967295===n.eventDuration?Number.POSITIVE_INFINITY:n.eventDuration/n.timeScale;a<=.001&&(a=Number.POSITIVE_INFINITY);var o=n.payload;i.samples.push({data:o,len:o.byteLength,dts:r,pts:r,type:we.emsg,duration:a})}}))}return i}},{key:"demuxSampleAes",value:function(t,e,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(t){return t=t.length>16384?t.subarray(0,16384):t,Ct(t,["moof"]).length>0}}]),t}(),Vi=null,Ki=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],zi=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Yi=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Wi=[0,1,1,4];function Qi(t,e,i,n,r){if(!(i+24>e.length)){var a=qi(e,i);if(a&&i+a.frameLength<=e.length){var o=9e4*a.samplesPerFrame/a.sampleRate,s=n+r*o,l={unit:e.subarray(i,i+a.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(l),{sample:l,length:a.frameLength,missing:0}}}}function qi(t,e){var i=t[e+1]>>3&3,n=t[e+1]>>1&3,r=t[e+2]>>4&15,a=t[e+2]>>2&3;if(1!==i&&0!==r&&15!==r&&3!==a){var o=t[e+2]>>1&1,s=t[e+3]>>6,l=3===i?3-n:3===n?3:4,u=1e3*Ki[14*l+r-1],c=3===i?0:2===i?1:2,d=zi[3*c+a],f=3===s?1:2,h=Yi[i][n],p=Wi[n],v=8*h*p,g=Math.floor(h*u/d+o)*p;if(null===Vi){var m=navigator.userAgent||"",y=m.match(/Chrome\/(\d+)/i);Vi=y?parseInt(y[1]):0}var b=!!Vi&&Vi<=87;return b&&2===n&&u>=224e3&&0===s&&(t[e+3]=128|t[e+3]),{sampleRate:d,channelCount:f,frameLength:g,samplesPerFrame:v}}}function Xi(t,e){return 255===t[e]&&224===(224&t[e+1])&&0!==(6&t[e+1])}function Ji(t,e){return e+1<t.length&&Xi(t,e)}function Zi(t,e){if(e+1<t.length&&Xi(t,e)){var i=qi(t,e),n=4;null!=i&&i.frameLength&&(n=i.frameLength);var r=e+n;return r===t.length||Ji(t,r)}return!1}var tn=function(){function t(e){(0,h.default)(this,t),this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return(0,p.default)(t,[{key:"loadWord",value:function(){var t=this.data,e=this.bytesAvailable,i=t.byteLength-e,n=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");n.set(t.subarray(i,i+r)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r}},{key:"skipBits",value:function(t){var e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,e=t>>3,t-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}},{key:"readBits",value:function(t){var e=Math.min(this.bitsAvailable,t),i=this.word>>>32-e;if(t>32&&M.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=t-e,e>0&&this.bitsAvailable?i<<e|this.readBits(e):i}},{key:"skipLZ",value:function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!==(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var t=this.skipLZ();return this.readBits(t+1)-1}},{key:"readEG",value:function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(t){for(var e,i=8,n=8,r=0;r<t;r++)0!==n&&(e=this.readEG(),n=(i+e+256)%256),i=0===n?i:n}},{key:"readSPS",value:function(){var t,e,i,n=0,r=0,a=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var v=s();if(l(5),d(3),s(),h(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var g=u();if(3===g&&d(1),h(),h(),d(1),c())for(e=3!==g?8:12,i=0;i<e;i++)c()&&p(i<6?16:64)}h();var m=u();if(0===m)u();else if(1===m)for(d(1),f(),f(),t=u(),i=0;i<t;i++)f();h(),d(1);var y=u(),b=u(),_=l(1);0===_&&d(1),d(1),c()&&(n=u(),r=u(),a=u(),o=u());var w=[1,1];if(c()&&c()){var k=s();switch(k){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[s()<<8|s(),s()<<8|s()];break}}return{width:Math.ceil(16*(y+1)-2*n-2*r),height:(2-_)*(b+1)*16-(_?2:4)*(a+o),pixelRatio:w}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),t}(),en=function(){function t(e,i,n){(0,h.default)(this,t),this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new Ei(i,{removePKCS7Padding:!1})}return(0,p.default)(t,[{key:"decryptBuffer",value:function(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer)}},{key:"decryptAacSample",value:function(t,e,i){var n=this,r=t[e].unit;if(!(r.length<=16)){var a=r.subarray(16,r.length-r.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(o).then((function(a){var o=new Uint8Array(a);r.set(o,16),n.decrypter.isSync()||n.decryptAacSamples(t,e+1,i)}))}}},{key:"decryptAacSamples",value:function(t,e,i){for(;;e++){if(e>=t.length)return void i();if(!(t[e].unit.length<32)&&(this.decryptAacSample(t,e,i),!this.decrypter.isSync()))return}}},{key:"getAvcEncryptedData",value:function(t){for(var e=16*Math.floor((t.length-48)/160)+16,i=new Int8Array(e),n=0,r=32;r<t.length-16;r+=160,n+=16)i.set(t.subarray(r,r+16),n);return i}},{key:"getAvcDecryptedUnit",value:function(t,e){for(var i=new Uint8Array(e),n=0,r=32;r<t.length-16;r+=160,n+=16)t.set(i.subarray(n,n+16),r);return t}},{key:"decryptAvcSample",value:function(t,e,i,n,r){var a=this,o=Ut(r.data),s=this.getAvcEncryptedData(o);this.decryptBuffer(s.buffer).then((function(s){r.data=a.getAvcDecryptedUnit(o,s),a.decrypter.isSync()||a.decryptAvcSamples(t,e,i+1,n)}))}},{key:"decryptAvcSamples",value:function(t,e,i,n){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,i=0){if(e>=t.length)return void n();for(var r=t[e].units;;i++){if(i>=r.length)break;var a=r[i];if(!(a.data.length<=48||1!==a.type&&5!==a.type)&&(this.decryptAvcSample(t,e,i,n,a),!this.decrypter.isSync()))return}}}}]),t}(),nn=function(){function t(e,i,n){(0,h.default)(this,t),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=i,this.typeSupported=n}return(0,p.default)(t,[{key:"resetInitSegment",value:function(e,i,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video"),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3"),this._txtTrack=t.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=i,this.videoCodec=n,this._duration=r}},{key:"resetTimeStamp",value:function(){}},{key:"resetContiguity",value:function(){var t=this._audioTrack,e=this._avcTrack,i=this._id3Track;t&&(t.pesData=null),e&&(e.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}},{key:"demux",value:function(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r||(this.sampleAes=null);var o=this._avcTrack,s=this._audioTrack,l=this._id3Track,u=this._txtTrack,c=o.pid,d=o.pesData,f=s.pid,h=l.pid,p=s.pesData,v=l.pesData,g=null,m=this.pmtParsed,y=this._pmtId,b=e.length;if(this.remainderData&&(e=Mt(this.remainderData,e),b=e.length,this.remainderData=null),b<188&&!a)return this.remainderData=e,{audioTrack:s,videoTrack:o,id3Track:l,textTrack:u};var _=Math.max(0,t.syncOffset(e));b-=(b-_)%188,b<e.byteLength&&!a&&(this.remainderData=new Uint8Array(e.buffer,b,e.buffer.byteLength-b));for(var w=0,k=_;k<b;k+=188)if(71===e[k]){var S=!!(64&e[k+1]),T=an(e,k),E=(48&e[k+3])>>4,A=void 0;if(E>1){if(A=k+5+e[k+4],A===k+188)continue}else A=k+4;switch(T){case c:S&&(d&&(n=ln(d))&&this.parseAVCPES(o,u,n,!1),d={data:[],size:0}),d&&(d.data.push(e.subarray(A,k+188)),d.size+=k+188-A);break;case f:if(S){if(p&&(n=ln(p)))switch(s.segmentCodec){case"aac":this.parseAACPES(s,n);break;case"mp3":this.parseMPEGPES(s,n);break}p={data:[],size:0}}p&&(p.data.push(e.subarray(A,k+188)),p.size+=k+188-A);break;case h:S&&(v&&(n=ln(v))&&this.parseID3PES(l,n),v={data:[],size:0}),v&&(v.data.push(e.subarray(A,k+188)),v.size+=k+188-A);break;case 0:S&&(A+=e[A]+1),y=this._pmtId=on(e,A);break;case y:S&&(A+=e[A]+1);var C=sn(e,A,this.typeSupported,r);c=C.avc,c>0&&(o.pid=c),f=C.audio,f>0&&(s.pid=f,s.segmentCodec=C.segmentCodec),h=C.id3,h>0&&(l.pid=h),null===g||m||(M.warn("MPEG-TS PMT found at ".concat(k," after unknown PID '").concat(g,"'. Backtracking to sync byte @").concat(_," to parse all TS packets.")),g=null,k=_-188),m=this.pmtParsed=!0;break;case 17:case 8191:break;default:g=T;break}}else w++;if(w>0){var D=new Error("Found ".concat(w," TS packet/s that do not start with 0x47"));this.observer.emit(x.ERROR,x.ERROR,{type:L.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!1,error:D,reason:D.message})}o.pesData=d,s.pesData=p,l.pesData=v;var O={audioTrack:s,videoTrack:o,id3Track:l,textTrack:u};return a&&this.extractRemainingSamples(O),O}},{key:"flush",value:function(){var t,e=this.remainderData;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}},{key:"extractRemainingSamples",value:function(t){var e,i=t.audioTrack,n=t.videoTrack,r=t.id3Track,a=t.textTrack,o=n.pesData,s=i.pesData,l=r.pesData;if(o&&(e=ln(o))?(this.parseAVCPES(n,a,e,!0),n.pesData=null):n.pesData=o,s&&(e=ln(s))){switch(i.segmentCodec){case"aac":this.parseAACPES(i,e);break;case"mp3":this.parseMPEGPES(i,e);break}i.pesData=null}else null!=s&&s.size&&M.log("last AAC PES packet truncated,might overlap between fragments"),i.pesData=s;l&&(e=ln(l))?(this.parseID3PES(r,e),r.pesData=null):r.pesData=l}},{key:"demuxSampleAes",value:function(t,e,i){var n=this.demux(t,i,!0,!this.config.progressive),r=this.sampleAes=new en(this.observer,this.config,e);return this.decrypt(n,r)}},{key:"decrypt",value:function(t,e){return new Promise((function(i){var n=t.audioTrack,r=t.videoTrack;n.samples&&"aac"===n.segmentCodec?e.decryptAacSamples(n.samples,0,(function(){r.samples?e.decryptAvcSamples(r.samples,0,0,(function(){i(t)})):i(t)})):r.samples&&e.decryptAvcSamples(r.samples,0,0,(function(){i(t)}))}))}},{key:"destroy",value:function(){this._duration=0}},{key:"parseAVCPES",value:function(t,e,i,n){var r,a=this,o=this.parseAVCNALu(t,i.data),s=this.avcSample,l=!1;i.data=null,s&&o.length&&!t.audFound&&(un(s,t),s=this.avcSample=rn(!1,i.pts,i.dts,"")),o.forEach((function(n){switch(n.type){case 1:r=!0,s||(s=a.avcSample=rn(!0,i.pts,i.dts,"")),s.frame=!0;var o=n.data;if(l&&o.length>4){var u=new tn(o).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(s.key=!0)}break;case 5:r=!0,s||(s=a.avcSample=rn(!0,i.pts,i.dts,"")),s.key=!0,s.frame=!0;break;case 6:r=!0,Nt(n.data,1,i.pts,e.samples);break;case 7:if(r=!0,l=!0,!t.sps){var c=n.data,d=new tn(c),f=d.readSPS();t.width=f.width,t.height=f.height,t.pixelRatio=f.pixelRatio,t.sps=[c],t.duration=a._duration;for(var h=c.subarray(1,4),p="avc1.",v=0;v<3;v++){var g=h[v].toString(16);g.length<2&&(g="0"+g),p+=g}t.codec=p}break;case 8:r=!0,t.pps||(t.pps=[n.data]);break;case 9:r=!1,t.audFound=!0,s&&un(s,t),s=a.avcSample=rn(!1,i.pts,i.dts,"");break;case 12:r=!0;break;default:r=!1,s&&(s.debug+="unknown NAL "+n.type+" ");break}if(s&&r){var m=s.units;m.push(n)}})),n&&s&&(un(s,t),this.avcSample=null)}},{key:"getLastNalUnit",value:function(t){var e,i,n=this.avcSample;if(n&&0!==n.units.length||(n=t[t.length-1]),null!=(e=n)&&e.units){var r=n.units;i=r[r.length-1]}return i}},{key:"parseAVCNALu",value:function(t,e){var i,n,r,a=e.byteLength,o=t.naluState||0,s=o,l=[],u=0,c=-1,d=0;-1===o&&(c=0,d=31&e[0],o=0,u=1);while(u<a)if(i=e[u++],o)if(1!==o)if(i)if(1===i){if(c>=0){var f={data:e.subarray(c,u-o-1),type:d};l.push(f)}else{var h=this.getLastNalUnit(t.samples);if(h&&(s&&u<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),n=u-o-1,n>0)){var p=new Uint8Array(h.data.byteLength+n);p.set(h.data,0),p.set(e.subarray(0,n),h.data.byteLength),h.data=p,h.state=0}}u<a?(r=31&e[u],c=u,d=r,o=0):o=-1}else o=0;else o=3;else o=i?0:2;else o=i?0:1;if(c>=0&&o>=0){var v={data:e.subarray(c,a),type:d,state:o};l.push(v)}if(0===l.length){var g=this.getLastNalUnit(t.samples);if(g){var m=new Uint8Array(g.data.byteLength+e.byteLength);m.set(g.data,0),m.set(e,g.data.byteLength),g.data=m}}return t.naluState=o,l}},{key:"parseAACPES",value:function(t,e){var i,n,r,a=0,o=this.aacOverFlow,s=e.data;if(o){this.aacOverFlow=null;var l=o.missing,u=o.sample.unit.byteLength;if(-1===l){var c=new Uint8Array(u+s.byteLength);c.set(o.sample.unit,0),c.set(s,u),s=c}else{var d=u-l;o.sample.unit.set(s.subarray(0,l),d),t.samples.push(o.sample),a=o.missing}}for(i=a,n=s.length;i<n-1;i++)if(Fi(s,i))break;if(i!==a){var f,h=i<n-1;f=h?"AAC PES did not start with ADTS header,offset:".concat(i):"No ADTS header found in AAC PES";var p=new Error(f);if(M.warn("parsing error: ".concat(f)),this.observer.emit(x.ERROR,x.ERROR,{type:L.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!1,levelRetry:h,error:p,reason:f}),!h)return}if(Ni(t,this.observer,s,i,this.audioCodec),void 0!==e.pts)r=e.pts;else{if(!o)return void M.warn("[tsdemuxer]: AAC PES unknown PTS");var v=Ui(t.samplerate);r=o.sample.pts+v}var g,m=0;while(i<n){if(g=$i(t,s,i,r,m),i+=g.length,g.missing){this.aacOverFlow=g;break}for(m++;i<n-1;i++)if(Fi(s,i))break}}},{key:"parseMPEGPES",value:function(t,e){var i=e.data,n=i.length,r=0,a=0,o=e.pts;if(void 0!==o)while(a<n)if(Ji(i,a)){var s=Qi(t,i,a,o,r);if(!s)break;a+=s.length,r++}else a++;else M.warn("[tsdemuxer]: MPEG PES unknown PTS")}},{key:"parseID3PES",value:function(t,e){if(void 0!==e.pts){var i=E({},e,{type:this._avcTrack?we.emsg:we.audioId3,duration:Number.POSITIVE_INFINITY});t.samples.push(i)}else M.warn("[tsdemuxer]: ID3 PES unknown PTS")}}],[{key:"probe",value:function(e){var i=t.syncOffset(e);return i>0&&M.warn("MPEG2-TS detected but first sync word found @ offset ".concat(i)),-1!==i}},{key:"syncOffset",value:function(t){var e=t.length,i=Math.min(940,t.length-188)+1,n=0;while(n<i){for(var r=!1,a=n;a<e;a+=188){if(71!==t[a])break;if(r||0!==an(t,a)||(r=!0),r&&a+188>i)return n}n++}return-1}},{key:"createTrack",value:function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:Tt[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}}}]),t}();function rn(t,e,i,n){return{key:t,frame:!1,pts:e,dts:i,units:[],debug:n,length:0}}function an(t,e){return((31&t[e+1])<<8)+t[e+2]}function on(t,e){return(31&t[e+10])<<8|t[e+11]}function sn(t,e,i,n){var r={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},a=(15&t[e+1])<<8|t[e+2],o=e+3+a-4,s=(15&t[e+10])<<8|t[e+11];e+=12+s;while(e<o){var l=an(t,e);switch(t[e]){case 207:if(!n){M.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===r.audio&&(r.audio=l);break;case 21:-1===r.id3&&(r.id3=l);break;case 219:if(!n){M.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===r.avc&&(r.avc=l);break;case 3:case 4:!0!==i.mpeg&&!0!==i.mp3?M.log("MPEG audio found, not supported in this browser"):-1===r.audio&&(r.audio=l,r.segmentCodec="mp3");break;case 36:M.warn("Unsupported HEVC stream type found");break}e+=5+((15&t[e+3])<<8|t[e+4])}return r}function ln(t){var e,i,n,r,a,o=0,s=t.data;if(!t||0===t.size)return null;while(s[0].length<19&&s.length>1){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}e=s[0];var u=(e[0]<<16)+(e[1]<<8)+e[2];if(1===u){if(i=(e[4]<<8)+e[5],i&&i>t.size-6)return null;var c=e[7];192&c&&(r=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&c?(a=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,r-a>54e5&&(M.warn("".concat(Math.round((r-a)/9e4),"s delta between PTS and DTS, align them")),r=a)):a=r),n=e[8];var d=n+9;if(t.size<=d)return null;t.size-=d;for(var f=new Uint8Array(t.size),h=0,p=s.length;h<p;h++){e=s[h];var v=e.byteLength;if(d){if(d>v){d-=v;continue}e=e.subarray(d),v-=d,d=0}f.set(e,o),o+=v}return i&&(i-=n+3),{data:f,pts:r,dts:a,len:i}}return null}function un(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){var i=e.samples,n=i.length;if(!n)return void e.dropped++;var r=i[n-1];t.pts=r.pts,t.dts=r.dts}e.samples.push(t)}t.debug.length&&M.log(t.pts+"/"+t.dts+":"+t.debug)}var cn=function(t){(0,u.default)(i,t);var e=y(i);function i(){return(0,h.default)(this,i),e.apply(this,arguments)}return(0,p.default)(i,[{key:"resetInitSegment",value:function(t,e,n,r){(0,l.default)((0,d.default)(i.prototype),"resetInitSegment",this).call(this,t,e,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(t,e){return function(t,e){return Xi(t,e)&&4<=t.length-e}(t,e)}},{key:"appendFrame",value:function(t,e,i){if(null!==this.basePTS)return Qi(t,e,i,this.basePTS,this.frameIndex)}}],[{key:"probe",value:function(t){if(!t)return!1;for(var e=lt(t,0)||[],i=e.length,n=t.length;i<n;i++)if(Zi(t,i))return M.log("MPEG Audio sync word found !"),!0;return!1}}]),i}(Di),dn=function(){function t(){(0,h.default)(this,t)}return(0,p.default)(t,null,[{key:"getSilentFrame",value:function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}]),t}(),fn=Math.pow(2,32)-1,hn=function(){function t(){(0,h.default)(this,t)}return(0,p.default)(t,null,[{key:"init",value:function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:i,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=a,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,o,l,o,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))}},{key:"box",value:function(t){for(var e=8,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var a=n.length,o=a;while(a--)e+=n[a].byteLength;var s=new Uint8Array(e);for(s[0]=e>>24&255,s[1]=e>>16&255,s[2]=e>>8&255,s[3]=255&e,s.set(t,4),a=0,e=8;a<o;a++)s.set(n[a],e),e+=n[a].byteLength;return s}},{key:"hdlr",value:function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])}},{key:"mdat",value:function(e){return t.box(t.types.mdat,e)}},{key:"mdhd",value:function(e,i){i*=e;var n=Math.floor(i/(fn+1)),r=Math.floor(i%(fn+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}},{key:"mdia",value:function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))}},{key:"mfhd",value:function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}},{key:"minf",value:function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))}},{key:"moof",value:function(e,i,n){return t.box(t.types.moof,t.mfhd(e),t.traf(n,i))}},{key:"moov",value:function(e){var i=e.length,n=[];while(i--)n[i]=t.trak(e[i]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(t.mvex(e)))}},{key:"mvex",value:function(e){var i=e.length,n=[];while(i--)n[i]=t.trex(e[i]);return t.box.apply(null,[t.types.mvex].concat(n))}},{key:"mvhd",value:function(e,i){i*=e;var n=Math.floor(i/(fn+1)),r=Math.floor(i%(fn+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)}},{key:"sdtp",value:function(e){var i,n,r=e.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,a[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,a)}},{key:"stbl",value:function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))}},{key:"avc1",value:function(e){var i,n,r,a=[],o=[];for(i=0;i<e.sps.length;i++)n=e.sps[i],r=n.byteLength,a.push(r>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(n));for(i=0;i<e.pps.length;i++)n=e.pps[i],r=n.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));var s=t.box(t.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|e.sps.length].concat(a).concat([e.pps.length]).concat(o))),l=e.width,u=e.height,c=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}},{key:"esds",value:function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))}},{key:"mp4a",value:function(e){var i=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),t.box(t.types.esds,t.esds(e)))}},{key:"mp3",value:function(e){var i=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))}},{key:"stsd",value:function(e){return"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))}},{key:"tkhd",value:function(e){var i=e.id,n=e.duration*e.timescale,r=e.width,a=e.height,o=Math.floor(n/(fn+1)),s=Math.floor(n%(fn+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,a>>8&255,255&a,0,0]))}},{key:"traf",value:function(e,i){var n=t.sdtp(e),r=e.id,a=Math.floor(i/(fn+1)),o=Math.floor(i%(fn+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),t.trun(e,n.length+16+20+8+16+8+8),n)}},{key:"trak",value:function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))}},{key:"trex",value:function(e){var i=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(e,i){var n,r,a,o,s,l,u=e.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(i+=8+d,f.set(["video"===e.type?1:0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),n=0;n<c;n++)r=u[n],a=r.duration,o=r.size,s=r.flags,l=r.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return t.box(t.types.trun,f)}},{key:"initSegment",value:function(e){t.types||t.init();var i=t.moov(e),n=new Uint8Array(t.FTYP.byteLength+i.byteLength);return n.set(t.FTYP),n.set(i,t.FTYP.byteLength),n}}]),t}();hn.types=void 0,hn.HDLR_TYPES=void 0,hn.STTS=void 0,hn.STSC=void 0,hn.STCO=void 0,hn.STSZ=void 0,hn.VMHD=void 0,hn.SMHD=void 0,hn.STSD=void 0,hn.FTYP=void 0,hn.DINF=void 0;function pn(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t*e*i;return n?Math.round(r):r}function vn(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return pn(t,1e3,1/9e4,e)}var gn=null,mn=null,yn=function(){function t(e,i,n){if((0,h.default)(this,t),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=i,this.typeSupported=n,this.ISGenerated=!1,null===gn){var r=navigator.userAgent||"",a=r.match(/Chrome\/(\d+)/i);gn=a?parseInt(a[1]):0}if(null===mn){var o=navigator.userAgent.match(/Safari\/(\d+)/i);mn=o?parseInt(o[1]):0}}return(0,p.default)(t,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(t){M.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t}},{key:"resetNextTimestamp",value:function(){M.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}},{key:"resetInitSegment",value:function(){M.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}},{key:"getVideoStartPts",value:function(t){var e=!1,i=t.reduce((function(t,i){var n=i.pts-t;return n<-4294967296?(e=!0,bn(t,i.pts)):n>0?t:i.pts}),t[0].pts);return e&&M.debug("PTS rollover detected"),i}},{key:"remux",value:function(t,e,i,n,r,a,o,s){var l,u,c,d,f,h,p=r,v=r,g=t.pid>-1,m=e.pid>-1,y=e.samples.length,b=t.samples.length>0,_=o&&y>0||y>1,w=(!g||b)&&(!m||_)||this.ISGenerated||o;if(w){this.ISGenerated||(c=this.generateIS(t,e,r,a));var k,S=this.isVideoContiguous,T=-1;if(_&&(T=function(t){for(var e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!S&&this.config.forceKeyFrameOnDiscontinuity))if(h=!0,T>0){M.warn("[mp4-remuxer]: Dropped ".concat(T," out of ").concat(y," video samples due to a missing keyframe"));var E=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(T),e.dropped+=T,v+=(e.samples[0].pts-E)/e.inputTimeScale,k=v}else-1===T&&(M.warn("[mp4-remuxer]: No keyframe found out of ".concat(y," video samples")),h=!1);if(this.ISGenerated){if(b&&_){var A=this.getVideoStartPts(e.samples),x=bn(t.samples[0].pts,A)-A,L=x/e.inputTimeScale;p+=Math.max(0,L),v+=Math.max(0,-L)}if(b){if(t.samplerate||(M.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),c=this.generateIS(t,e,r,a)),u=this.remuxAudio(t,p,this.isAudioContiguous,a,m||_||s===he.AUDIO?v:void 0),_){var I=u?u.endPTS-u.startPTS:0;e.inputTimeScale||(M.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),c=this.generateIS(t,e,r,a)),l=this.remuxVideo(e,v,S,I)}}else _&&(l=this.remuxVideo(e,v,S,0));l&&(l.firstKeyFrame=T,l.independent=-1!==T,l.firstKeyFramePTS=k)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(f=_n(i,r,this._initPTS,this._initDTS)),n.samples.length&&(d=wn(n,r,this._initPTS))),{audio:u,video:l,initSegment:c,independent:h,text:d,id3:f}}},{key:"generateIS",value:function(t,e,i,n){var r,a,o,s=t.samples,l=e.samples,u=this.typeSupported,c={},d=this._initPTS,f=!d||n,h="audio/mp4";if(f&&(r=a=1/0),t.config&&s.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":u.mpeg?(h="audio/mpeg",t.codec=""):u.mp3&&(t.codec="mp3");break}c.audio={id:"audio",container:h,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&u.mpeg?new Uint8Array(0):hn.initSegment([t]),metadata:{channelCount:t.channelCount}},f&&(o=t.inputTimeScale,d&&o===d.timescale?f=!1:r=a=s[0].pts-Math.round(o*i))}if(e.sps&&e.pps&&l.length&&(e.timescale=e.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:hn.initSegment([e]),metadata:{width:e.width,height:e.height}},f))if(o=e.inputTimeScale,d&&o===d.timescale)f=!1;else{var p=this.getVideoStartPts(l),v=Math.round(o*i);a=Math.min(a,bn(l[0].dts,p)-v),r=Math.min(r,p-v)}if(Object.keys(c).length)return this.ISGenerated=!0,f?(this._initPTS={baseTime:r,timescale:o},this._initDTS={baseTime:a,timescale:o}):r=o=void 0,{tracks:c,initPTS:r,timescale:o}}},{key:"remuxVideo",value:function(t,e,i,n){var r,a,o=t.inputTimeScale,s=t.samples,l=[],u=s.length,c=this._initPTS,d=this.nextAvcDts,f=8,h=this.videoSampleDuration,p=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,g=!1;if(!i||null===d){var m=e*o,y=s[0].pts-bn(s[0].dts,s[0].pts);d=m-y}for(var b=c.baseTime*o/c.timescale,_=0;_<u;_++){var w=s[_];w.pts=bn(w.pts-b,d),w.dts=bn(w.dts-b,d),w.dts<s[_>0?_-1:_].dts&&(g=!0)}g&&s.sort((function(t,e){var i=t.dts-e.dts,n=t.pts-e.pts;return i||n})),r=s[0].dts,a=s[s.length-1].dts;var k=a-r,S=k?Math.round(k/(u-1)):h||t.inputTimeScale/30;if(i){var T=r-d,A=T>S,C=T<-1;if((A||C)&&(A?M.warn("AVC: ".concat(vn(T,!0)," ms (").concat(T,"dts) hole between fragments detected, filling it")):M.warn("AVC: ".concat(vn(-T,!0)," ms (").concat(T,"dts) overlapping between fragments detected")),!C||d>s[0].pts)){r=d;var D=s[0].pts-T;s[0].dts=r,s[0].pts=D,M.log("Video: First PTS/DTS adjusted: ".concat(vn(D,!0),"/").concat(vn(r,!0),", delta: ").concat(vn(T,!0)," ms"))}}r=Math.max(0,r);for(var O=0,R=0,P=0;P<u;P++){for(var F=s[P],B=F.units,N=B.length,U=0,$=0;$<N;$++)U+=B[$].data.length;R+=U,O+=N,F.length=U,F.dts=Math.max(F.dts,r),p=Math.min(F.pts,p),v=Math.max(F.pts,v)}a=s[u-1].dts;var j,H=R+4*O+8;try{j=new Uint8Array(H)}catch(bt){return void this.observer.emit(x.ERROR,x.ERROR,{type:L.MUX_ERROR,details:I.REMUX_ALLOC_ERROR,fatal:!1,error:bt,bytes:H,reason:"fail allocating video mdat ".concat(H)})}var G=new DataView(j.buffer);G.setUint32(0,H),j.set(hn.types.mdat,4);for(var V=!1,K=Number.POSITIVE_INFINITY,z=Number.POSITIVE_INFINITY,Y=Number.NEGATIVE_INFINITY,W=Number.NEGATIVE_INFINITY,Q=0;Q<u;Q++){for(var q=s[Q],X=q.units,J=0,Z=0,tt=X.length;Z<tt;Z++){var et=X[Z],it=et.data,nt=et.data.byteLength;G.setUint32(f,nt),f+=4,j.set(it,f),f+=nt,J+=4+nt}var rt=void 0;if(Q<u-1)h=s[Q+1].dts-q.dts,rt=s[Q+1].pts-q.pts;else{var at=this.config,ot=Q>0?q.dts-s[Q-1].dts:S;if(rt=Q>0?q.pts-s[Q-1].pts:S,at.stretchShortVideoTrack&&null!==this.nextAudioPts){var st=Math.floor(at.maxBufferHole*o),lt=(n?p+n*o:this.nextAudioPts)-q.pts;lt>st?(h=lt-ot,h<0?h=ot:V=!0,M.log("[mp4-remuxer]: It is approximately ".concat(lt/90," ms to the next segment; using duration ").concat(h/90," ms for the last video frame."))):h=ot}else h=ot}var ut=Math.round(q.pts-q.dts);K=Math.min(K,h),Y=Math.max(Y,h),z=Math.min(z,rt),W=Math.max(W,rt),l.push(new Sn(q.key,h,J,ut))}if(l.length)if(gn){if(gn<70){var ct=l[0].flags;ct.dependsOn=2,ct.isNonSync=0}}else if(mn&&W-z<Y-K&&S/Y<.025&&0===l[0].cts){M.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var dt=r,ft=0,ht=l.length;ft<ht;ft++){var pt=dt+l[ft].duration,vt=dt+l[ft].cts;if(ft<ht-1){var gt=pt+l[ft+1].cts;l[ft].duration=gt-vt}else l[ft].duration=ft?l[ft-1].duration:S;l[ft].cts=0,dt=pt}}h=V||!h?S:h,this.nextAvcDts=d=a+h,this.videoSampleDuration=h,this.isVideoContiguous=!0;var mt=hn.moof(t.sequenceNumber++,r,E({},t,{samples:l})),yt={data1:mt,data2:j,startPTS:p/o,endPTS:(v+h)/o,startDTS:r/o,endDTS:d/o,type:"video",hasAudio:!1,hasVideo:!0,nb:l.length,dropped:t.dropped};return t.samples=[],t.dropped=0,yt}},{key:"remuxAudio",value:function(t,e,i,n,r){var a=t.inputTimeScale,o=t.samplerate?t.samplerate:a,s=a/o,l="aac"===t.segmentCodec?1024:1152,u=l*s,c=this._initPTS,d="mp3"===t.segmentCodec&&this.typeSupported.mpeg,f=[],h=void 0!==r,p=t.samples,v=d?0:8,g=this.nextAudioPts||-1,m=e*a,y=c.baseTime*a/c.timescale;if(this.isAudioContiguous=i=i||p.length&&g>0&&(n&&Math.abs(m-g)<9e3||Math.abs(bn(p[0].pts-y,m)-g)<20*u),p.forEach((function(t){t.pts=bn(t.pts-y,m)})),!i||g<0){if(p=p.filter((function(t){return t.pts>=0})),!p.length)return;g=0===r?0:n&&!h?Math.max(0,m):p[0].pts}if("aac"===t.segmentCodec)for(var b=this.config.maxAudioFramesDrift,_=0,w=g;_<p.length;_++){var k=p[_],S=k.pts,T=S-w,A=Math.abs(1e3*T/a);if(T<=-b*u&&h)0===_&&(M.warn("Audio frame @ ".concat((S/a).toFixed(3),"s overlaps nextAudioPts by ").concat(Math.round(1e3*T/a)," ms.")),this.nextAudioPts=g=w=S);else if(T>=b*u&&A<1e4&&h){var C=Math.round(T/u);w=S-C*u,w<0&&(C--,w+=u),0===_&&(this.nextAudioPts=g=w),M.warn("[mp4-remuxer]: Injecting ".concat(C," audio frame @ ").concat((w/a).toFixed(3),"s due to ").concat(Math.round(1e3*T/a)," ms gap."));for(var D=0;D<C;D++){var O=Math.max(w,0),R=dn.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);R||(M.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),R=k.unit.subarray()),p.splice(_,0,{unit:R,pts:O}),w+=u,_++}}k.pts=w,w+=u}var P,F=null,B=null,N=0,U=p.length;while(U--)N+=p[U].unit.byteLength;for(var $=0,j=p.length;$<j;$++){var H=p[$],G=H.unit,V=H.pts;if(null!==B){var K=f[$-1];K.duration=Math.round((V-B)/s)}else{if(i&&"aac"===t.segmentCodec&&(V=g),F=V,!(N>0))return;N+=v;try{P=new Uint8Array(N)}catch(tt){return void this.observer.emit(x.ERROR,x.ERROR,{type:L.MUX_ERROR,details:I.REMUX_ALLOC_ERROR,fatal:!1,error:tt,bytes:N,reason:"fail allocating audio mdat ".concat(N)})}if(!d){var z=new DataView(P.buffer);z.setUint32(0,N),P.set(hn.types.mdat,4)}}P.set(G,v);var Y=G.byteLength;v+=Y,f.push(new Sn(!0,l,Y,0)),B=V}var W=f.length;if(W){var Q=f[f.length-1];this.nextAudioPts=g=B+s*Q.duration;var q=d?new Uint8Array(0):hn.moof(t.sequenceNumber++,F/s,E({},t,{samples:f}));t.samples=[];var X=F/a,J=g/a,Z={data1:q,data2:P,startPTS:X,endPTS:J,startDTS:X,endDTS:J,type:"audio",hasAudio:!0,hasVideo:!1,nb:W};return this.isAudioContiguous=!0,Z}}},{key:"remuxEmptyAudio",value:function(t,e,i,n){var r=t.inputTimeScale,a=t.samplerate?t.samplerate:r,o=r/a,s=this.nextAudioPts,l=this._initDTS,u=9e4*l.baseTime/l.timescale,c=(null!==s?s:n.startDTS*r)+u,d=n.endDTS*r+u,f=1024*o,h=Math.ceil((d-c)/f),p=dn.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(M.warn("[mp4-remuxer]: remux empty Audio"),p){for(var v=[],g=0;g<h;g++){var m=c+g*f;v.push({unit:p,pts:m,dts:m})}return t.samples=v,this.remuxAudio(t,e,i,!1)}M.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")}}]),t}();function bn(t,e){var i;if(null===e)return t;i=e<t?-8589934592:8589934592;while(Math.abs(t-e)>4294967296)t+=i;return t}function _n(t,e,i,n){var r=t.samples.length;if(r){for(var a=t.inputTimeScale,o=0;o<r;o++){var s=t.samples[o];s.pts=bn(s.pts-9e4*i.baseTime/i.timescale,e*a)/a,s.dts=bn(s.dts-9e4*n.baseTime/n.timescale,e*a)/a}var l=t.samples;return t.samples=[],{samples:l}}}function wn(t,e,i){var n=t.samples.length;if(n){for(var r=t.inputTimeScale,a=0;a<n;a++){var o=t.samples[a];o.pts=bn(o.pts-9e4*i.baseTime/i.timescale,e*r)/r}t.samples.sort((function(t,e){return t.pts-e.pts}));var s=t.samples;return t.samples=[],{samples:s}}}var kn,Sn=(0,p.default)((function t(e,i,n,r){(0,h.default)(this,t),this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=i,this.size=n,this.cts=r,this.flags=new Tn(e)})),Tn=(0,p.default)((function t(e){(0,h.default)(this,t),this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1})),En=function(){function t(){(0,h.default)(this,t),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}return(0,p.default)(t,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(t){this.initPTS=t,this.lastEndTime=null}},{key:"resetNextTimestamp",value:function(){this.lastEndTime=null}},{key:"resetInitSegment",value:function(t,e,i,n){this.audioCodec=e,this.videoCodec=i,this.generateInitSegment(function(t,e){if(!t||!e)return t;var i=e.keyId;if(i&&e.isCommonEncryption){var n=Ct(t,["moov","trak"]);n.forEach((function(t){var e=Ct(t,["mdia","minf","stbl","stsd"])[0],n=e.subarray(8),r=Ct(n,["enca"]),a=r.length>0;a||(r=Ct(n,["encv"])),r.forEach((function(t){var e=a?t.subarray(28):t.subarray(78),n=Ct(e,["sinf"]);n.forEach((function(t){var e=Rt(t);if(e){var n=e.subarray(8,24);n.some((function(t){return 0!==t}))||(M.log("[eme] Patching keyId in 'enc".concat(a?"a":"v",">sinf>>tenc' box: ").concat(wt.hexDump(n)," -> ").concat(wt.hexDump(i))),e.set(i,8))}}))}))}))}return t}(t,n)),this.emitInitSegment=!0}},{key:"generateInitSegment",value:function(t){var e=this.audioCodec,i=this.videoCodec;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var n=this.initData=Ot(t);e||(e=An(n.audio,G.AUDIO)),i||(i=An(n.video,G.VIDEO));var r={};n.audio&&n.video?r.audiovideo={container:"video/mp4",codec:e+","+i,initSegment:t,id:"main"}:n.audio?r.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:n.video?r.video={container:"video/mp4",codec:i,initSegment:t,id:"main"}:M.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=r}},{key:"remux",value:function(t,e,i,n,r,a){var o,s,l=this.initPTS,u=this.lastEndTime,c={audio:void 0,video:void 0,text:n,id3:i,initSegment:void 0};A(u)||(u=this.lastEndTime=r||0);var d=e.samples;if(null==d||!d.length)return c;var f={initPTS:void 0,timescale:1},h=this.initData;if(null!=(o=h)&&o.length||(this.generateInitSegment(d),h=this.initData),null==(s=h)||!s.length)return M.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),c;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1);var p=function(t,e){for(var i=0,n=0,r=0,a=Ct(t,["moof","traf"]),o=0;o<a.length;o++){var s=a[o],l=Ct(s,["tfhd"])[0],u=xt(l,4),c=e[u];if(c){var d=c.default,f=xt(l,0)|(null==d?void 0:d.flags),h=null==d?void 0:d.duration;8&f&&(h=xt(l,2&f?12:8));for(var p=c.timescale||9e4,v=Ct(s,["trun"]),g=0;g<v.length;g++){if(i=Pt(v[g]),!i&&h){var m=xt(v[g],4);i=h*m}c.type===G.VIDEO?n+=i/p:c.type===G.AUDIO&&(r+=i/p)}}}if(0===n&&0===r){for(var y=0,b=Ct(t,["sidx"]),_=0;_<b.length;_++){var w=Dt(b[_]);null!=w&&w.references&&(y+=w.references.reduce((function(t,e){return t+e.info.duration||0}),0))}return y}return n||r}(d,h),v=function(t,e){return Ct(e,["moof","traf"]).reduce((function(e,i){var n=Ct(i,["tfdt"])[0],r=n[0],a=Ct(i,["tfhd"]).reduce((function(e,i){var a=xt(i,4),o=t[a];if(o){var s=xt(n,4);if(1===r){if(s===kt)return M.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),e;s*=kt+1,s+=xt(n,8)}var l=o.timescale||9e4,u=s/l;if(isFinite(u)&&(null===e||u<e))return u}return e}),null);return null!==a&&isFinite(a)&&(null===e||a<e)?a:e}),null)}(h,d),g=null===v?r:v;(function(t,e,i,n){if(null===t)return!0;var r=Math.max(n,1),a=e-t.baseTime/t.timescale;return Math.abs(a-i)>r}(l,g,r,p)||f.timescale!==l.timescale&&a)&&(f.initPTS=g-r,l&&1===l.timescale&&M.warn("Adjusting initPTS by ".concat(f.initPTS-l.baseTime)),this.initPTS=l={baseTime:f.initPTS,timescale:1});var m=t?g-l.baseTime/l.timescale:u,y=m+p;(function(t,e,i){Ct(e,["moof","traf"]).forEach((function(e){Ct(e,["tfhd"]).forEach((function(n){var r=xt(n,4),a=t[r];if(a){var o=a.timescale||9e4;Ct(e,["tfdt"]).forEach((function(t){var e=t[0],n=xt(t,4);if(0===e)n-=i*o,n=Math.max(n,0),It(t,4,n);else{n*=Math.pow(2,32),n+=xt(t,8),n-=i*o,n=Math.max(n,0);var r=Math.floor(n/(kt+1)),a=Math.floor(n%(kt+1));It(t,4,r),It(t,8,a)}}))}}))}))})(h,d,l.baseTime/l.timescale),p>0?this.lastEndTime=y:(M.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var b=!!h.audio,_=!!h.video,w="";b&&(w+="audio"),_&&(w+="video");var k={data1:d,startPTS:m,startDTS:m,endPTS:y,endDTS:y,type:w,hasAudio:b,hasVideo:_,nb:1,dropped:0};return c.audio="audio"===k.type?k:void 0,c.video="audio"!==k.type?k:void 0,c.initSegment=f,c.id3=_n(i,r,l,l),n.samples.length&&(c.text=wn(n,r,l)),c}}]),t}();function An(t,e){var i=null==t?void 0:t.codec;return i&&i.length>4?i:"hvc1"===i||"hev1"===i?"hvc1.1.6.L120.90":"av01"===i?"av01.0.04M.08":"avc1"===i||e===G.VIDEO?"avc1.42e01e":"mp4a.40.5"}try{kn=self.performance.now.bind(self.performance)}catch(ma){M.debug("Unable to use Performance API on this environment"),kn="undefined"!==typeof self&&self.Date.now}var xn=[{demux:Gi,remux:En},{demux:nn,remux:yn},{demux:ji,remux:yn},{demux:cn,remux:yn}],Ln=function(){function t(e,i,n,r,a){(0,h.default)(this,t),this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=i,this.config=n,this.vendor=r,this.id=a}return(0,p.default)(t,[{key:"configure",value:function(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()}},{key:"push",value:function(t,e,i,n){var r=this,a=i.transmuxing;a.executeStart=kn();var o=new Uint8Array(t),s=this.currentTransmuxState,l=this.transmuxConfig;n&&(this.currentTransmuxState=n);var u=n||s,c=u.contiguous,d=u.discontinuity,f=u.trackSwitch,h=u.accurateTimeOffset,p=u.timeOffset,v=u.initSegmentChange,g=l.audioCodec,m=l.videoCodec,y=l.defaultInitPts,b=l.duration,_=l.initSegmentData,w=function(t,e){var i=null;t.byteLength>0&&null!=e&&null!=e.key&&null!==e.iv&&null!=e.method&&(i=e);return i}(o,e);if(w&&"AES-128"===w.method){var k=this.getDecrypter();if(!k.isSync())return this.decryptionPromise=k.webCryptoDecrypt(o,w.key.buffer,w.iv.buffer).then((function(t){var e=r.push(t,null,i);return r.decryptionPromise=null,e})),this.decryptionPromise;var S=k.softwareDecrypt(o,w.key.buffer,w.iv.buffer),T=i.part>-1;if(T&&(S=k.flush()),!S)return a.executeEnd=kn(),In(i);o=new Uint8Array(S)}var E=this.needsProbing(d,f);if(E){var A=this.configureTransmuxer(o);if(A)return M.warn("[transmuxer] ".concat(A.message)),this.observer.emit(x.ERROR,x.ERROR,{type:L.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,fatal:!1,error:A,reason:A.message}),a.executeEnd=kn(),In(i)}(d||f||v||E)&&this.resetInitSegment(_,g,m,b,e),(d||v||E)&&this.resetInitialTimestamp(y),c||this.resetContiguity();var C=this.transmux(o,w,p,h,i),D=this.currentTransmuxState;return D.contiguous=!0,D.discontinuity=!1,D.trackSwitch=!1,a.executeEnd=kn(),C}},{key:"flush",value:function(t){var e=this,i=t.transmuxing;i.executeStart=kn();var n=this.decrypter,r=this.currentTransmuxState,a=this.decryptionPromise;if(a)return a.then((function(){return e.flush(t)}));var o=[],s=r.timeOffset;if(n){var l=n.flush();l&&o.push(this.push(l,null,t))}var u=this.demuxer,c=this.remuxer;if(!u||!c)return i.executeEnd=kn(),[In(t)];var d=u.flush(s);return Cn(d)?d.then((function(i){return e.flushRemux(o,i,t),o})):(this.flushRemux(o,d,t),o)}},{key:"flushRemux",value:function(t,e,i){var n=e.audioTrack,r=e.videoTrack,a=e.id3Track,o=e.textTrack,s=this.currentTransmuxState,l=s.accurateTimeOffset,u=s.timeOffset;M.log("[transmuxer.ts]: Flushed fragment ".concat(i.sn).concat(i.part>-1?" p: "+i.part:""," of level ").concat(i.level));var c=this.remuxer.remux(n,r,a,o,u,l,!0,this.id);t.push({remuxResult:c,chunkMeta:i}),i.transmuxing.executeEnd=kn()}},{key:"resetInitialTimestamp",value:function(t){var e=this.demuxer,i=this.remuxer;e&&i&&(e.resetTimeStamp(t),i.resetTimeStamp(t))}},{key:"resetContiguity",value:function(){var t=this.demuxer,e=this.remuxer;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())}},{key:"resetInitSegment",value:function(t,e,i,n,r){var a=this.demuxer,o=this.remuxer;a&&o&&(a.resetInitSegment(t,e,i,n),o.resetInitSegment(t,e,i,r))}},{key:"destroy",value:function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}},{key:"transmux",value:function(t,e,i,n,r){var a;return a=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,i,n,r):this.transmuxUnencrypted(t,i,n,r),a}},{key:"transmuxUnencrypted",value:function(t,e,i,n){var r=this.demuxer.demux(t,e,!1,!this.config.progressive),a=r.audioTrack,o=r.videoTrack,s=r.id3Track,l=r.textTrack,u=this.remuxer.remux(a,o,s,l,e,i,!1,this.id);return{remuxResult:u,chunkMeta:n}}},{key:"transmuxSampleAes",value:function(t,e,i,n,r){var a=this;return this.demuxer.demuxSampleAes(t,e,i).then((function(t){var e=a.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,i,n,!1,a.id);return{remuxResult:e,chunkMeta:r}}))}},{key:"configureTransmuxer",value:function(t){for(var e,i=this.config,n=this.observer,r=this.typeSupported,a=this.vendor,o=0,s=xn.length;o<s;o++)if(xn[o].demux.probe(t)){e=xn[o];break}if(!e)return new Error("Failed to find demuxer by probing fragment data");var l=this.demuxer,u=this.remuxer,c=e.remux,d=e.demux;u&&u instanceof c||(this.remuxer=new c(n,i,r,a)),l&&l instanceof d||(this.demuxer=new d(n,i,r),this.probe=d.probe)}},{key:"needsProbing",value:function(t,e){return!this.demuxer||!this.remuxer||t||e}},{key:"getDecrypter",value:function(){var t=this.decrypter;return t||(t=this.decrypter=new Ei(this.config)),t}}]),t}();var In=function(t){return{remuxResult:{},chunkMeta:t}};function Cn(t){return"then"in t&&t.then instanceof Function}var Dn=(0,p.default)((function t(e,i,n,r,a){(0,h.default)(this,t),this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=i,this.initSegmentData=n,this.duration=r,this.defaultInitPts=a||null})),On=(0,p.default)((function t(e,i,n,r,a,o){(0,h.default)(this,t),this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=i,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=a,this.initSegmentChange=o})),Rn={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,i="~";function n(){}function r(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function a(t,e,n,a,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new r(n,a||t,o),l=i?i+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function o(t,e){0===--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,n,r=[];if(0===this._eventsCount)return r;for(n in t=this._events)e.call(t,n)&&r.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},s.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},s.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,r,a,o){var s=i?i+t:t;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,a),!0;case 6:return c.fn.call(c.context,e,n,r,a,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,r);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,n,r){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||o(this,a);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==e||r&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:o(this,a)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s})(Rn);var Pn=Rn.exports,Mn=b(Pn),Fn=Qt()||{isTypeSupported:function(){return!1}},Bn=function(){function t(e,i,n,r){var a=this;(0,h.default)(this,t),this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var o=e.config;this.hls=e,this.id=i,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=n,this.onFlush=r;var s=function(t,e){e=e||{},e.frag=a.frag,e.id=a.id,t===x.ERROR&&(a.error=e.error),a.hls.trigger(t,e)};this.observer=new Mn,this.observer.on(x.FRAG_DECRYPTED,s),this.observer.on(x.ERROR,s);var l={mp4:Fn.isTypeSupported("video/mp4"),mpeg:Fn.isTypeSupported("audio/mpeg"),mp3:Fn.isTypeSupported('audio/mp4; codecs="mp3"')},u=navigator.vendor;if(this.useWorker&&"undefined"!==typeof Worker){var c=o.workerPath||function(){return"function"===typeof __HLS_WORKER_BUNDLE__}();if(c){try{o.workerPath?(M.log("loading Web Worker ".concat(o.workerPath,' for "').concat(i,'"')),this.workerContext=function(t){var e=new self.URL(t,self.location.href).href,i=new self.Worker(e);return{worker:i,scriptURL:e}}(o.workerPath)):(M.log('injecting Web Worker for "'.concat(i,'"')),this.workerContext=function(){var t=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(".concat(__HLS_WORKER_BUNDLE__.toString(),")(true);")],{type:"text/javascript"}),e=self.URL.createObjectURL(t),i=new self.Worker(e);return{worker:i,objectURL:e}}()),this.onwmsg=function(t){return a.onWorkerMessage(t)};var d=this.workerContext.worker;d.addEventListener("message",this.onwmsg),d.onerror=function(t){var e=new Error("".concat(t.message,"  (").concat(t.filename,":").concat(t.lineno,")"));o.enableWorker=!1,M.warn('Error in "'.concat(i,'" Web Worker, fallback to inline')),a.hls.trigger(x.ERROR,{type:L.OTHER_ERROR,details:I.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:e})},d.postMessage({cmd:"init",typeSupported:l,vendor:u,id:i,config:JSON.stringify(o)})}catch(ma){M.warn('Error setting up "'.concat(i,'" Web Worker, fallback to inline'),ma),this.resetWorker(),this.error=null,this.transmuxer=new Ln(this.observer,l,o,u,i)}return}}this.transmuxer=new Ln(this.observer,l,o,u,i)}return(0,p.default)(t,[{key:"resetWorker",value:function(){if(this.workerContext){var t=this.workerContext,e=t.worker,i=t.objectURL;i&&self.URL.revokeObjectURL(i),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}},{key:"destroy",value:function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}},{key:"push",value:function(t,e,i,n,r,a,o,s,l,u){var c,d,f=this;l.transmuxing.start=self.performance.now();var h=this.transmuxer,p=a?a.start:r.start,v=r.decryptdata,g=this.frag,m=!(g&&r.cc===g.cc),y=!(g&&l.level===g.level),b=g?l.sn-g.sn:-1,_=this.part?l.part-this.part.index:-1,w=0===b&&l.id>1&&l.id===(null==g?void 0:g.stats.chunkCount),k=!y&&(1===b||0===b&&(1===_||w&&_<=0)),S=self.performance.now();(y||b||0===r.stats.parsing.start)&&(r.stats.parsing.start=S),!a||!_&&k||(a.stats.parsing.start=S);var T=!(g&&(null==(c=r.initSegment)?void 0:c.url)===(null==(d=g.initSegment)?void 0:d.url)),E=new On(m,k,s,y,p,T);if(!k||m||T){M.log("[transmuxer-interface, ".concat(r.type,"]: Starting new transmux session for sn: ").concat(l.sn," p: ").concat(l.part," level: ").concat(l.level," id: ").concat(l.id,"\n        discontinuity: ").concat(m,"\n        trackSwitch: ").concat(y,"\n        contiguous: ").concat(k,"\n        accurateTimeOffset: ").concat(s,"\n        timeOffset: ").concat(p,"\n        initSegmentChange: ").concat(T));var A=new Dn(i,n,e,o,u);this.configureTransmuxer(A)}if(this.frag=r,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:t,decryptdata:v,chunkMeta:l,state:E},t instanceof ArrayBuffer?[t]:[]);else if(h){var x=h.push(t,v,l,E);Cn(x)?(h.async=!0,x.then((function(t){f.handleTransmuxComplete(t)})).catch((function(t){f.transmuxerError(t,l,"transmuxer-interface push error")}))):(h.async=!1,this.handleTransmuxComplete(x))}}},{key:"flush",value:function(t){var e=this;t.transmuxing.start=self.performance.now();var i=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:t});else if(i){var n=i.flush(t),r=Cn(n);r||i.async?(Cn(n)||(n=Promise.resolve(n)),n.then((function(i){e.handleFlushResult(i,t)})).catch((function(i){e.transmuxerError(i,t,"transmuxer-interface flush error")}))):this.handleFlushResult(n,t)}}},{key:"transmuxerError",value:function(t,e,i){this.hls&&(this.error=t,this.hls.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:t,err:t,reason:i}))}},{key:"handleFlushResult",value:function(t,e){var i=this;t.forEach((function(t){i.handleTransmuxComplete(t)})),this.onFlush(e)}},{key:"onWorkerMessage",value:function(t){var e=t.data,i=this.hls;switch(e.event){case"init":var n,r=null==(n=this.workerContext)?void 0:n.objectURL;r&&self.URL.revokeObjectURL(r);break;case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":M[e.data.logType]&&M[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data);break}}},{key:"configureTransmuxer",value:function(t){var e=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:t}):e&&e.configure(t)}},{key:"handleTransmuxComplete",value:function(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)}}]),t}(),Nn=function(){function t(e,i,n,r){(0,h.default)(this,t),this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=i,this.fragmentTracker=n,this.hls=r}return(0,p.default)(t,[{key:"destroy",value:function(){this.media=null,this.hls=this.fragmentTracker=null}},{key:"poll",value:function(t,e){var i=this.config,n=this.media,r=this.stalled;if(null!==n){var a=n.currentTime,o=n.seeking,s=this.seeking&&!o,l=!this.seeking&&o;if(this.seeking=o,a===t){if(l||s)this.stalled=null;else if(!(n.paused&&!o||n.ended||0===n.playbackRate)&&pi.getBuffered(n).length){var u=pi.bufferInfo(n,a,0),c=u.len>0,d=u.nextStart||0;if(c||d){if(o){var f=u.len>2,h=!d||e&&e.start<=a||d-a>2&&!this.fragmentTracker.getPartialFragment(a);if(f||h)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var p,v=Math.max(d,u.start||0)-a,g=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,m=null==g||null==(p=g.details)?void 0:p.live,y=m?2*g.details.targetduration:2,b=this.fragmentTracker.getPartialFragment(a);if(v>0&&(v<=y||b))return void this._trySkipBufferHole(b)}var _=self.performance.now();if(null!==r){var w=_-r;if(o||!(w>=250)||(this._reportStall(u),this.media)){var k=pi.bufferInfo(n,a,i.maxBufferHole);this._tryFixBufferStall(k,w)}}else this.stalled=_}}}else if(this.moved=!0,null!==r){if(this.stallReported){var S=self.performance.now()-r;M.warn("playback not stuck anymore @".concat(a,", after ").concat(Math.round(S),"ms")),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}}},{key:"_tryFixBufferStall",value:function(t,e){var i=this.config,n=this.fragmentTracker,r=this.media;if(null!==r){var a=r.currentTime,o=n.getPartialFragment(a);if(o){var s=this._trySkipBufferHole(o);if(s||!this.media)return}(t.len>i.maxBufferHole||t.nextStart&&t.nextStart-a<i.maxBufferHole)&&e>1e3*i.highBufferWatchdogPeriod&&(M.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}}},{key:"_reportStall",value:function(t){var e=this.hls,i=this.media,n=this.stallReported;if(!n&&i){this.stallReported=!0;var r=new Error("Playback stalling at @".concat(i.currentTime," due to low buffer (").concat(JSON.stringify(t),")"));M.warn(r.message),e.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:t.len})}}},{key:"_trySkipBufferHole",value:function(t){var e=this.config,i=this.hls,n=this.media;if(null===n)return 0;var r=n.currentTime,a=pi.bufferInfo(n,r,0),o=r<a.start?a.start:a.nextStart;if(o){var s=a.len<=e.maxBufferHole,l=a.len>0&&a.len<1&&n.readyState<3,u=o-r;if(u>0&&(s||l)){if(u>e.maxBufferHole){var c=this.fragmentTracker,d=!1;if(0===r){var f=c.getAppendedFrag(0,he.MAIN);f&&o<f.end&&(d=!0)}if(!d){var h=t||c.getAppendedFrag(r,he.MAIN);if(h){var p=!1,v=h.end;while(v<o){var g=c.getPartialFragment(v);if(!g){p=!0;break}v+=g.duration}if(p)return 0}}}var m=Math.max(o+.05,r+.1);if(M.warn("skipping hole, adjusting currentTime from ".concat(r," to ").concat(m)),this.moved=!0,this.stalled=null,n.currentTime=m,t&&!t.gap){var y=new Error("fragment loaded with buffer holes, seeking from ".concat(r," to ").concat(m));i.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:y,reason:y.message,frag:t})}return m}}return 0}},{key:"_tryNudgeBuffer",value:function(){var t=this.config,e=this.hls,i=this.media,n=this.nudgeRetry;if(null!==i){var r=i.currentTime;if(this.nudgeRetry++,n<t.nudgeMaxRetry){var a=r+(n+1)*t.nudgeOffset,o=new Error("Nudging 'currentTime' from ".concat(r," to ").concat(a));M.warn(o.message),i.currentTime=a,e.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{var s=new Error("Playhead still not moving while enough data buffered @".concat(r," after ").concat(t.nudgeMaxRetry," nudges"));M.error(s.message),e.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.BUFFER_STALLED_ERROR,error:s,fatal:!0})}}}}]),t}(),Un=function(t){(0,u.default)(i,t);var e=y(i);function i(t,n,r){var a;return(0,h.default)(this,i),a=e.call(this,t,n,r,"[stream-controller]",he.MAIN),a.audioCodecSwap=!1,a.gapController=null,a.level=-1,a._forceStartLoad=!1,a.altAudio=!1,a.audioOnly=!1,a.fragPlaying=null,a.onvplaying=null,a.onvseeked=null,a.fragLastKbps=0,a.couldBacktrack=!1,a.backtrackFragment=null,a.audioCodecSwitch=!1,a.videoBuffer=null,a._registerListeners(),a}return(0,p.default)(i,[{key:"_registerListeners",value:function(){var t=this.hls;t.on(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(x.MANIFEST_LOADING,this.onManifestLoading,this),t.on(x.MANIFEST_PARSED,this.onManifestParsed,this),t.on(x.LEVEL_LOADING,this.onLevelLoading,this),t.on(x.LEVEL_LOADED,this.onLevelLoaded,this),t.on(x.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(x.ERROR,this.onError,this),t.on(x.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(x.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(x.BUFFER_CREATED,this.onBufferCreated,this),t.on(x.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(x.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(x.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(x.MANIFEST_LOADING,this.onManifestLoading,this),t.off(x.MANIFEST_PARSED,this.onManifestParsed,this),t.off(x.LEVEL_LOADED,this.onLevelLoaded,this),t.off(x.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(x.ERROR,this.onError,this),t.off(x.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(x.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(x.BUFFER_CREATED,this.onBufferCreated,this),t.off(x.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(x.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(x.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.onMediaDetaching()}},{key:"startLoad",value:function(t){if(this.levels){var e=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var n=i.startLevel;-1===n&&(i.config.testBandwidth&&this.levels.length>1?(n=0,this.bitrateTest=!0):n=i.nextAutoLevel),this.level=i.nextLoadLevel=n,this.loadedmetadata=!1}e>0&&-1===t&&(this.log("Override startPosition with lastCurrentTime @".concat(e.toFixed(3))),t=e),this.state=xi.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=xi.STOPPED}},{key:"stopLoad",value:function(){this._forceStartLoad=!1,(0,l.default)((0,d.default)(i.prototype),"stopLoad",this).call(this)}},{key:"doTick",value:function(){switch(this.state){case xi.WAITING_LEVEL:var t,e=this.levels,i=this.level,n=null==e||null==(t=e[i])?void 0:t.details;if(n&&(!n.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(n))break;this.state=xi.IDLE;break}break;case xi.FRAG_LOADING_WAITING_RETRY:var r,a=self.performance.now(),o=this.retryDate;(!o||a>=o||null!=(r=this.media)&&r.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=xi.IDLE);break}this.state===xi.IDLE&&this.doTickIdle(),this.onTickEnd()}},{key:"onTickEnd",value:function(){(0,l.default)((0,d.default)(i.prototype),"onTickEnd",this).call(this),this.checkBuffer(),this.checkFragmentChanged()}},{key:"doTickIdle",value:function(){var t=this.hls,e=this.levelLastLoaded,i=this.levels,n=this.media,r=t.config,a=t.nextLoadLevel;if(null!==e&&(n||!this.startFragRequested&&r.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&null!=i&&i[a]){var o=i[a],s=this.getMainFwdBufferInfo();if(null!==s){var l=this.getLevelDetails();if(l&&this._streamEnded(s,l)){var u={};return this.altAudio&&(u.type="video"),this.hls.trigger(x.BUFFER_EOS,u),void(this.state=xi.ENDED)}t.loadLevel!==a&&-1===t.manualLevel&&this.log("Adapting to level ".concat(a," from level ").concat(this.level)),this.level=t.nextLoadLevel=a;var c=o.details;if(!c||this.state===xi.WAITING_LEVEL||c.live&&this.levelLastLoaded!==a)return this.level=a,void(this.state=xi.WAITING_LEVEL);var d=s.len,f=this.getMaxBufferLength(o.maxBitrate);if(!(d>=f)){this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);var h=this.backtrackFragment?this.backtrackFragment.start:s.end,p=this.getNextFragment(h,c);if(this.couldBacktrack&&!this.fragPrevious&&p&&"initSegment"!==p.sn&&this.fragmentTracker.getState(p)!==ii.OK){var v,g=(null!=(v=this.backtrackFragment)?v:p).sn,m=g-c.startSN,y=c.fragments[m-1];y&&p.cc===y.cc&&(p=y,this.fragmentTracker.removeFragment(y))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,h)){var b=p.gap;if(!b){var _=this.audioOnly&&!this.altAudio?G.AUDIO:G.VIDEO,w=(_===G.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;w&&this.afterBufferFlushed(w,_,he.MAIN)}p=this.getNextFragmentLoopLoading(p,c,s,he.MAIN,f)}p&&(!p.initSegment||p.initSegment.data||this.bitrateTest||(p=p.initSegment),this.loadFragment(p,o,h))}}}}},{key:"loadFragment",value:function(t,e,n){var r=this.fragmentTracker.getState(t);this.fragCurrent=t,r===ii.NOT_LOADED||r===ii.PARTIAL?"initSegment"===t.sn?this._loadInitSegment(t,e):this.bitrateTest?(this.log("Fragment ".concat(t.sn," of level ").concat(t.level," is being downloaded to test bitrate and will not be buffered")),this._loadBitrateTestFrag(t,e)):(this.startFragRequested=!0,(0,l.default)((0,d.default)(i.prototype),"loadFragment",this).call(this,t,e,n)):this.clearTrackerIfNeeded(t)}},{key:"getBufferedFrag",value:function(t){return this.fragmentTracker.getBufferedFrag(t,he.MAIN)}},{key:"followingBufferedFrag",value:function(t){return t?this.getBufferedFrag(t.end+.5):null}},{key:"immediateLevelSwitch",value:function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"nextLevelSwitch",value:function(){var t=this.levels,e=this.media;if(null!=e&&e.readyState){var i,n=this.getAppendedFrag(e.currentTime);n&&n.start>1&&this.flushMainBuffer(0,n.start-1);var r=this.getLevelDetails();if(null!=r&&r.live){var a=this.getMainFwdBufferInfo();if(!a||a.len<2*r.targetduration)return}if(!e.paused&&t){var o=this.hls.nextLoadLevel,s=t[o],l=this.fragLastKbps;i=l&&this.fragCurrent?this.fragCurrent.duration*s.maxBitrate/(1e3*l)+1:0}else i=0;var u=this.getBufferedFrag(e.currentTime+i);if(u){var c=this.followingBufferedFrag(u);if(c){this.abortCurrentFrag();var d=c.maxStartPTS?c.maxStartPTS:c.start,f=c.duration,h=Math.max(u.end,d+Math.min(Math.max(f-this.config.maxFragLookUpTolerance,.5*f),.75*f));this.flushMainBuffer(h,Number.POSITIVE_INFINITY)}}}}},{key:"abortCurrentFrag",value:function(){var t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case xi.KEY_LOADING:case xi.FRAG_LOADING:case xi.FRAG_LOADING_WAITING_RETRY:case xi.PARSING:case xi.PARSED:this.state=xi.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}},{key:"flushMainBuffer",value:function(t,e){(0,l.default)((0,d.default)(i.prototype),"flushMainBuffer",this).call(this,t,e,this.altAudio?"video":null)}},{key:"onMediaAttached",value:function(t,e){(0,l.default)((0,d.default)(i.prototype),"onMediaAttached",this).call(this,t,e);var n=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new Nn(this.config,n,this.fragmentTracker,this.hls)}},{key:"onMediaDetaching",value:function(){var t=this.media;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),(0,l.default)((0,d.default)(i.prototype),"onMediaDetaching",this).call(this)}},{key:"onMediaPlaying",value:function(){this.tick()}},{key:"onMediaSeeked",value:function(){var t=this.media,e=t?t.currentTime:null;A(e)&&this.log("Media seeked to ".concat(e.toFixed(3)));var i=this.getMainFwdBufferInfo();null!==i&&0!==i.len?this.tick():this.warn('Main forward buffer length on "seeked" event '.concat(i?i.len:"empty",")"))}},{key:"onManifestLoading",value:function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(x.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}},{key:"onManifestParsed",value:function(t,e){var i,n=!1,r=!1;e.levels.forEach((function(t){i=t.audioCodec,i&&(-1!==i.indexOf("mp4a.40.2")&&(n=!0),-1!==i.indexOf("mp4a.40.5")&&(r=!0))})),this.audioCodecSwitch=n&&r&&!function(){var t,e=Ii();return"function"===typeof(null==e||null==(t=e.prototype)?void 0:t.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}},{key:"onLevelLoading",value:function(t,e){var i=this.levels;if(i&&this.state===xi.IDLE){var n=i[e.level];(!n.details||n.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(n.details))&&(this.state=xi.WAITING_LEVEL)}}},{key:"onLevelLoaded",value:function(t,e){var i,n=this.levels,r=e.level,a=e.details,o=a.totalduration;if(n){this.log("Level ".concat(r," loaded [").concat(a.startSN,",").concat(a.endSN,"]").concat(a.lastPartSn?"[part-".concat(a.lastPartSn,"-").concat(a.lastPartIndex,"]"):"",", cc [").concat(a.startCC,", ").concat(a.endCC,"] duration:").concat(o));var s=n[r],l=this.fragCurrent;!l||this.state!==xi.FRAG_LOADING&&this.state!==xi.FRAG_LOADING_WAITING_RETRY||l.level===e.level&&l.urlId===s.urlId||!l.loader||this.abortCurrentFrag();var u=0;if(a.live||null!=(i=s.details)&&i.live){if(a.fragments[0]||(a.deltaUpdateFailed=!0),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,s.details)}if(s.details=a,this.levelLastLoaded=r,this.hls.trigger(x.LEVEL_UPDATED,{details:a,level:r}),this.state===xi.WAITING_LEVEL){if(this.waitForCdnTuneIn(a))return;this.state=xi.IDLE}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,u),this.tick()}else this.warn("Levels were reset while loading level ".concat(r))}},{key:"_handleFragmentLoadProgress",value:function(t){var e,i=t.frag,n=t.part,r=t.payload,a=this.levels;if(a){var o=a[i.level],s=o.details;if(!s)return this.warn("Dropping fragment ".concat(i.sn," of level ").concat(i.level," after level details were reset")),void this.fragmentTracker.removeFragment(i);var l=o.videoCodec,u=s.PTSKnown||!s.live,c=null==(e=i.initSegment)?void 0:e.data,d=this._getAudioCodec(o),f=this.transmuxer=this.transmuxer||new Bn(this.hls,he.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),h=n?n.index:-1,p=-1!==h,v=new vi(i.level,i.sn,i.stats.chunkCount,r.byteLength,h,p),g=this.initPTS[i.cc];f.push(r,c,d,l,i,n,s.totalduration,u,v,g)}else this.warn("Levels were reset while fragment load was in progress. Fragment ".concat(i.sn," of level ").concat(i.level," will not be buffered"))}},{key:"onAudioTrackSwitching",value:function(t,e){var i=this.altAudio,n=!!e.url;if(!n){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r&&(this.log("Switching to main audio track, cancel main fragment load"),r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var a=this.hls;i&&(a.trigger(x.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),a.trigger(x.AUDIO_TRACK_SWITCHED,e)}}},{key:"onAudioTrackSwitched",value:function(t,e){var i=e.id,n=!!this.hls.audioTracks[i].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()}},{key:"onBufferCreated",value:function(t,e){var i,n,r=e.tracks,a=!1;for(var o in r){var s=r[o];if("main"===s.id){if(n=o,i=s,"video"===o){var l=r[o];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&i?(this.log("Alternate track found, use ".concat(n,".buffered to schedule main fragment loading")),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}},{key:"onFragBuffered",value:function(t,e){var i=e.frag,n=e.part;if(!i||i.type===he.MAIN){if(this.fragContextChanged(i))return this.warn("Fragment ".concat(i.sn).concat(n?" p: "+n.index:""," of level ").concat(i.level," finished buffering, but was aborted. state: ").concat(this.state)),void(this.state===xi.PARSED&&(this.state=xi.IDLE));var r=n?n.stats:i.stats;this.fragLastKbps=Math.round(8*r.total/(r.buffering.end-r.loading.first)),"initSegment"!==i.sn&&(this.fragPrevious=i),this.fragBufferedComplete(i,n)}}},{key:"onError",value:function(t,e){var i;if(e.fatal)this.state=xi.ERROR;else switch(e.details){case I.FRAG_GAP:case I.FRAG_PARSING_ERROR:case I.FRAG_DECRYPT_ERROR:case I.FRAG_LOAD_ERROR:case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_ERROR:case I.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(he.MAIN,e);break;case I.LEVEL_LOAD_ERROR:case I.LEVEL_LOAD_TIMEOUT:case I.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==xi.WAITING_LEVEL||(null==(i=e.context)?void 0:i.type)!==fe.LEVEL||(this.state=xi.IDLE);break;case I.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case I.INTERNAL_EXCEPTION:this.recoverWorkerError(e);break}}},{key:"checkBuffer",value:function(){var t=this.media,e=this.gapController;if(t&&e&&t.readyState){if(this.loadedmetadata||!pi.getBuffered(t).length){var i=this.state!==xi.IDLE?this.fragCurrent:null;e.poll(this.lastCurrentTime,i)}this.lastCurrentTime=t.currentTime}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=xi.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}},{key:"onBufferFlushed",value:function(t,e){var i=e.type;if(i!==G.AUDIO||this.audioOnly&&!this.altAudio){var n=(i===G.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,i,he.MAIN)}}},{key:"onLevelsUpdated",value:function(t,e){this.levels=e.levels}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"seekToStartPos",value:function(){var t=this.media;if(t){var e=t.currentTime,i=this.startPosition;if(i>=0&&e<i){if(t.seeking)return void this.log("could not seek to ".concat(i,", already seeking at ").concat(e));var n=pi.getBuffered(t),r=n.length?n.start(0):0,a=r-i;a>0&&(a<this.config.maxBufferHole||a<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by ".concat(a," to match buffer start")),i+=a,this.startPosition=i),this.log("seek to target start position ".concat(i," from current time ").concat(e)),t.currentTime=i}}}},{key:"_getAudioCodec",value:function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}},{key:"_loadBitrateTestFrag",value:function(t,e){var i=this;t.bitrateTest=!0,this._doFragLoad(t,e).then((function(n){var r=i.hls;if(n&&!i.fragContextChanged(t)){e.fragmentError=0,i.state=xi.IDLE,i.startFragRequested=!1,i.bitrateTest=!1;var a=t.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),r.trigger(x.FRAG_LOADED,n),t.bitrateTest=!1}}))}},{key:"_handleTransmuxComplete",value:function(t){var e,i="main",n=this.hls,r=t.remuxResult,a=t.chunkMeta,o=this.getCurrentContext(a);if(o){var s=o.frag,l=o.part,u=o.level,c=r.video,d=r.text,f=r.id3,h=r.initSegment,p=u.details,v=this.altAudio?void 0:r.audio;if(this.fragContextChanged(s))this.fragmentTracker.removeFragment(s);else{if(this.state=xi.PARSING,h){if(null!=h&&h.tracks){var g=s.initSegment||s;this._bufferInitSegment(u,h.tracks,g,a),n.trigger(x.FRAG_PARSING_INIT_SEGMENT,{frag:g,id:i,tracks:h.tracks})}var m=h.initPTS,y=h.timescale;A(m)&&(this.initPTS[s.cc]={baseTime:m,timescale:y},n.trigger(x.INIT_PTS_FOUND,{frag:s,id:i,initPTS:m,timescale:y}))}if(c&&!1!==r.independent){if(p){var b=c.startPTS,_=c.endPTS,w=c.startDTS,k=c.endDTS;if(l)l.elementaryStreams[c.type]={startPTS:b,endPTS:_,startDTS:w,endDTS:k};else if(c.firstKeyFrame&&c.independent&&1===a.id&&(this.couldBacktrack=!0),c.dropped&&c.independent){var S=this.getMainFwdBufferInfo(),T=(S?S.end:this.getLoadPosition())+this.config.maxBufferHole,E=c.firstKeyFramePTS?c.firstKeyFramePTS:b;if(T<E-this.config.maxBufferHole)return void this.backtrack(s);s.setElementaryStreamInfo(c.type,s.start,_,s.start,k,!0)}s.setElementaryStreamInfo(c.type,b,_,w,k),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(c,s,l,a)}}else if(!1===r.independent)return void this.backtrack(s);if(v){var L=v.startPTS,I=v.endPTS,C=v.startDTS,D=v.endDTS;l&&(l.elementaryStreams[G.AUDIO]={startPTS:L,endPTS:I,startDTS:C,endDTS:D}),s.setElementaryStreamInfo(G.AUDIO,L,I,C,D),this.bufferFragmentData(v,s,l,a)}if(p&&null!=f&&null!=(e=f.samples)&&e.length){var O={id:i,frag:s,details:p,samples:f.samples};n.trigger(x.FRAG_PARSING_METADATA,O)}if(p&&d){var R={id:i,frag:s,details:p,samples:d.samples};n.trigger(x.FRAG_PARSING_USERDATA,R)}}}else this.resetWhenMissingContext(a)}},{key:"_bufferInitSegment",value:function(t,e,i,n){var r=this;if(this.state===xi.PARSING){this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;var a=e.audio,o=e.video,s=e.audiovideo;if(a){var l=t.audioCodec,u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==a.metadata.channelCount&&-1===u.indexOf("firefox")&&(l="mp4a.40.5")),-1!==u.indexOf("android")&&"audio/mpeg"!==a.container&&(l="mp4a.40.2",this.log("Android: force audio codec to ".concat(l))),t.audioCodec&&t.audioCodec!==l&&this.log('Swapping manifest audio codec "'.concat(t.audioCodec,'" for "').concat(l,'"')),a.levelCodec=l,a.id="main",this.log("Init audio buffer, container:".concat(a.container,", codecs[selected/level/parsed]=[").concat(l||"","/").concat(t.audioCodec||"","/").concat(a.codec,"]"))}o&&(o.levelCodec=t.videoCodec,o.id="main",this.log("Init video buffer, container:".concat(o.container,", codecs[level/parsed]=[").concat(t.videoCodec||"","/").concat(o.codec,"]"))),s&&this.log("Init audiovideo buffer, container:".concat(s.container,", codecs[level/parsed]=[").concat(t.attrs.CODECS||"","/").concat(s.codec,"]")),this.hls.trigger(x.BUFFER_CODECS,e),Object.keys(e).forEach((function(t){var a=e[t],o=a.initSegment;null!=o&&o.byteLength&&r.hls.trigger(x.BUFFER_APPENDING,{type:t,data:o,frag:i,part:null,chunkMeta:n,parent:i.type})})),this.tick()}}},{key:"getMainFwdBufferInfo",value:function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,he.MAIN)}},{key:"backtrack",value:function(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=xi.IDLE}},{key:"checkFragmentChanged",value:function(){var t=this.media,e=null;if(t&&t.readyState>1&&!1===t.seeking){var i=t.currentTime;if(pi.isBuffered(t,i)?e=this.getAppendedFrag(i):pi.isBuffered(t,i+.1)&&(e=this.getAppendedFrag(i+.1)),e){this.backtrackFragment=null;var n=this.fragPlaying,r=e.level;n&&e.sn===n.sn&&n.level===r&&e.urlId===n.urlId||(this.fragPlaying=e,this.hls.trigger(x.FRAG_CHANGED,{frag:e}),n&&n.level===r||this.hls.trigger(x.LEVEL_SWITCHED,{level:r}))}}}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"currentFrag",get:function(){var t=this.media;return t?this.fragPlaying||this.getAppendedFrag(t.currentTime):null}},{key:"currentProgramDateTime",get:function(){var t=this.media;if(t){var e=t.currentTime,i=this.currentFrag;if(i&&A(e)&&A(i.programDateTime)){var n=i.programDateTime+1e3*(e-i.start);return new Date(n)}}return null}},{key:"currentLevel",get:function(){var t=this.currentFrag;return t?t.level:-1}},{key:"nextBufferedFrag",get:function(){var t=this.currentFrag;return t?this.followingBufferedFrag(t):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),i}(Li),$n=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,h.default)(this,t),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=i,this.totalWeight_=n}return(0,p.default)(t,[{key:"sample",value:function(t,e){var i=Math.pow(this.alpha_,t);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=t}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}]),t}(),jn=function(){function t(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;(0,h.default)(this,t),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new $n(e),this.fast_=new $n(i),this.defaultTTFB_=r,this.ttfb_=new $n(e)}return(0,p.default)(t,[{key:"update",value:function(t,e){var i=this.slow_,n=this.fast_,r=this.ttfb_;i.halfLife!==t&&(this.slow_=new $n(t,i.getEstimate(),i.getTotalWeight())),n.halfLife!==e&&(this.fast_=new $n(e,n.getEstimate(),n.getTotalWeight())),r.halfLife!==t&&(this.ttfb_=new $n(t,r.getEstimate(),r.getTotalWeight()))}},{key:"sample",value:function(t,e){t=Math.max(t,this.minDelayMs_);var i=8*e,n=t/1e3,r=i/n;this.fast_.sample(n,r),this.slow_.sample(n,r)}},{key:"sampleTTFB",value:function(t){var e=t/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(i,Math.max(t,5))}},{key:"canEstimate",value:function(){return this.fast_.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"getEstimateTTFB",value:function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}},{key:"destroy",value:function(){}}]),t}(),Hn=function(){function t(e){(0,h.default)(this,t),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var i=e.config;this.bwEstimator=new jn(i.abrEwmaSlowVoD,i.abrEwmaFastVoD,i.abrEwmaDefaultEstimate),this.registerListeners()}return(0,p.default)(t,[{key:"registerListeners",value:function(){var t=this.hls;t.on(x.FRAG_LOADING,this.onFragLoading,this),t.on(x.FRAG_LOADED,this.onFragLoaded,this),t.on(x.FRAG_BUFFERED,this.onFragBuffered,this),t.on(x.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(x.LEVEL_LOADED,this.onLevelLoaded,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(x.FRAG_LOADING,this.onFragLoading,this),t.off(x.FRAG_LOADED,this.onFragLoaded,this),t.off(x.FRAG_BUFFERED,this.onFragBuffered,this),t.off(x.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(x.LEVEL_LOADED,this.onLevelLoaded,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}},{key:"onFragLoading",value:function(t,e){var i,n=e.frag;this.ignoreFragment(n)||(this.fragCurrent=n,this.partCurrent=null!=(i=e.part)?i:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}},{key:"onLevelSwitching",value:function(t,e){this.clearTimer()}},{key:"getTimeToLoadFrag",value:function(t,e,i,n){var r=t+i/e,a=n?this.lastLevelLoadSec:0;return r+a}},{key:"onLevelLoaded",value:function(t,e){var i=this.hls.config,n=e.stats,r=n.total,a=n.bwEstimate;A(r)&&A(a)&&(this.lastLevelLoadSec=8*r/a),e.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}},{key:"_abandonRulesCheck",value:function(){var t=this.fragCurrent,e=this.partCurrent,i=this.hls,n=i.autoLevelEnabled,r=i.media;if(t&&r){var a=performance.now(),o=e?e.stats:t.stats,s=e?e.duration:t.duration,l=a-o.loading.start;if(o.aborted||o.loaded&&o.loaded===o.total||0===t.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(n&&!r.paused&&r.playbackRate&&r.readyState){var u=i.mainForwardBufferInfo;if(null!==u){var c=this.bwEstimator.getEstimateTTFB(),d=Math.abs(r.playbackRate);if(!(l<=Math.max(c,s/(2*d)*1e3))){var f=u.len/d;if(!(f>=2*s/d)){var h=o.loading.first?o.loading.first-o.loading.start:-1,p=o.loaded&&h>-1,v=this.bwEstimator.getEstimate(),g=i.levels,m=i.minAutoLevel,y=g[t.level],b=o.total||Math.max(o.loaded,Math.round(s*y.maxBitrate/8)),_=l-h;_<1&&p&&(_=Math.min(l,8*o.loaded/v));var w=p?1e3*o.loaded/_:0,k=w?(b-o.loaded)/w:8*b/v+c/1e3;if(!(k<=f)){var S,T=w?8*w:v,E=Number.POSITIVE_INFINITY;for(S=t.level-1;S>m;S--){var L=g[S].maxBitrate;if(E=this.getTimeToLoadFrag(c/1e3,T,s*L,!g[S].details),E<f)break}E>=k||E>10*s||(i.nextLoadLevel=S,p?this.bwEstimator.sample(l-Math.min(c,h),o.loaded):this.bwEstimator.sampleTTFB(l),this.clearTimer(),M.warn("[abr] Fragment ".concat(t.sn).concat(e?" part "+e.index:""," of level ").concat(t.level," is loading too slowly;\n      Time to underbuffer: ").concat(f.toFixed(3)," s\n      Estimated load time for current fragment: ").concat(k.toFixed(3)," s\n      Estimated load time for down switch fragment: ").concat(E.toFixed(3)," s\n      TTFB estimate: ").concat(h,"\n      Current BW estimate: ").concat(A(v)?(v/1024).toFixed(3):"Unknown"," Kb/s\n      New BW estimate: ").concat((this.bwEstimator.getEstimate()/1024).toFixed(3)," Kb/s\n      Aborting and switching to level ").concat(S)),t.loader&&(this.fragCurrent=this.partCurrent=null,t.abortRequests()),i.trigger(x.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:o}))}}}}}}}},{key:"onFragLoaded",value:function(t,e){var i=e.frag,n=e.part,r=n?n.stats:i.stats;if(i.type===he.MAIN&&this.bwEstimator.sampleTTFB(r.loading.first-r.loading.start),!this.ignoreFragment(i)){if(this.clearTimer(),this.lastLoadedFragLevel=i.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var a=n?n.duration:i.duration,o=this.hls.levels[i.level],s=(o.loaded?o.loaded.bytes:0)+r.loaded,l=(o.loaded?o.loaded.duration:0)+a;o.loaded={bytes:s,duration:l},o.realBitrate=Math.round(8*s/l)}if(i.bitrateTest){var u={stats:r,frag:i,part:n,id:i.type};this.onFragBuffered(x.FRAG_BUFFERED,u),i.bitrateTest=!1}}}},{key:"onFragBuffered",value:function(t,e){var i=e.frag,n=e.part,r=null!=n&&n.stats.loaded?n.stats:i.stats;if(!r.aborted&&!this.ignoreFragment(i)){var a=r.parsing.end-r.loading.start-Math.min(r.loading.first-r.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,r.loaded),r.bwEstimate=this.bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}}},{key:"ignoreFragment",value:function(t){return t.type!==he.MAIN||"initSegment"===t.sn}},{key:"clearTimer",value:function(){self.clearInterval(this.timer)}},{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this.bwEstimator;if(-1!==t&&!e.canEstimate())return t;var i=this.getNextABRAutoLevel();if(-1!==t){var n=this.hls.levels;if(n.length>Math.max(t,i)&&n[t].loadError<=n[i].loadError)return t}return-1!==t&&(i=Math.min(t,i)),i},set:function(t){this._nextAutoLevel=t}},{key:"getNextABRAutoLevel",value:function(){var t=this.fragCurrent,e=this.partCurrent,i=this.hls,n=i.maxAutoLevel,r=i.config,a=i.minAutoLevel,o=i.media,s=e?e.duration:t?t.duration:0,l=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,u=this.bwEstimator?this.bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,c=i.mainForwardBufferInfo,d=(c?c.len:0)/l,f=this.findBestLevel(u,a,n,d,r.abrBandWidthFactor,r.abrBandWidthUpFactor);if(f>=0)return f;M.trace("[abr] ".concat(d?"rebuffering expected":"buffer is empty",", finding optimal quality level"));var h=s?Math.min(s,r.maxStarvationDelay):r.maxStarvationDelay,p=r.abrBandWidthFactor,v=r.abrBandWidthUpFactor;if(!d){var g=this.bitrateTestDelay;if(g){var m=s?Math.min(s,r.maxLoadingDelay):r.maxLoadingDelay;h=m-g,M.trace("[abr] bitrate test took ".concat(Math.round(1e3*g),"ms, set first fragment max fetchDuration to ").concat(Math.round(1e3*h)," ms")),p=v=1}}return f=this.findBestLevel(u,a,n,d+h,p,v),Math.max(f,0)}},{key:"findBestLevel",value:function(t,e,i,n,r,a){for(var o,s=this.fragCurrent,l=this.partCurrent,u=this.lastLoadedFragLevel,c=this.hls.levels,d=c[u],f=!(null==d||null==(o=d.details)||!o.live),h=null==d?void 0:d.codecSet,p=l?l.duration:s?s.duration:0,v=this.bwEstimator.getEstimateTTFB()/1e3,g=e,m=-1,y=i;y>=e;y--){var b=c[y];if(!b||h&&b.codecSet!==h)b&&(g=Math.min(y,g),m=Math.max(y,m));else{-1!==m&&M.trace("[abr] Skipped level(s) ".concat(g,"-").concat(m,' with CODECS:"').concat(c[m].attrs.CODECS,'"; not compatible with "').concat(d.attrs.CODECS,'"'));var _=b.details,w=(l?null==_?void 0:_.partTarget:null==_?void 0:_.averagetargetduration)||p,k=void 0;k=y<=u?r*t:a*t;var S=c[y].maxBitrate,T=this.getTimeToLoadFrag(v,k,S*w,void 0===_);if(M.trace("[abr] level:".concat(y," adjustedbw-bitrate:").concat(Math.round(k-S)," avgDuration:").concat(w.toFixed(1)," maxFetchDuration:").concat(n.toFixed(1)," fetchDuration:").concat(T.toFixed(1))),k>S&&(0===T||!A(T)||f&&!this.bitrateTestDelay||T<n))return y}}return-1}}]),t}(),Gn=function(){function t(){(0,h.default)(this,t),this.chunks=[],this.dataLength=0}return(0,p.default)(t,[{key:"push",value:function(t){this.chunks.push(t),this.dataLength+=t.length}},{key:"flush",value:function(){var t,e=this.chunks,i=this.dataLength;return e.length?(t=1===e.length?e[0]:function(t,e){for(var i=new Uint8Array(e),n=0,r=0;r<t.length;r++){var a=t[r];i.set(a,n),n+=a.length}return i}(e,i),this.reset(),t):new Uint8Array(0)}},{key:"reset",value:function(){this.chunks.length=0,this.dataLength=0}}]),t}();var Vn=function(t){(0,u.default)(i,t);var e=y(i);function i(t,n,r){var a;return(0,h.default)(this,i),a=e.call(this,t,n,r,"[audio-stream-controller]",he.AUDIO),a.videoBuffer=null,a.videoTrackCC=-1,a.waitingVideoCC=-1,a.bufferedTrack=null,a.switchingTrack=null,a.trackId=-1,a.waitingData=null,a.mainDetails=null,a.bufferFlushed=!1,a.cachedTrackLoadedData=null,a._registerListeners(),a}return(0,p.default)(i,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}},{key:"_registerListeners",value:function(){var t=this.hls;t.on(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(x.MANIFEST_LOADING,this.onManifestLoading,this),t.on(x.LEVEL_LOADED,this.onLevelLoaded,this),t.on(x.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(x.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(x.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(x.ERROR,this.onError,this),t.on(x.BUFFER_RESET,this.onBufferReset,this),t.on(x.BUFFER_CREATED,this.onBufferCreated,this),t.on(x.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(x.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(x.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(x.MANIFEST_LOADING,this.onManifestLoading,this),t.off(x.LEVEL_LOADED,this.onLevelLoaded,this),t.off(x.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(x.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(x.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(x.ERROR,this.onError,this),t.off(x.BUFFER_RESET,this.onBufferReset,this),t.off(x.BUFFER_CREATED,this.onBufferCreated,this),t.off(x.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(x.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(x.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onInitPtsFound",value:function(t,e){var i=e.frag,n=e.id,r=e.initPTS,a=e.timescale;if("main"===n){var o=i.cc;this.initPTS[i.cc]={baseTime:r,timescale:a},this.log("InitPTS for cc: ".concat(o," found from main: ").concat(r)),this.videoTrackCC=o,this.state===xi.WAITING_INIT_PTS&&this.tick()}}},{key:"startLoad",value:function(t){if(!this.levels)return this.startPosition=t,void(this.state=xi.STOPPED);var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===t?(this.log("Override startPosition with lastCurrentTime @".concat(e.toFixed(3))),t=e,this.state=xi.IDLE):(this.loadedmetadata=!1,this.state=xi.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}},{key:"doTick",value:function(){switch(this.state){case xi.IDLE:this.doTickIdle();break;case xi.WAITING_TRACK:var t,e=this.levels,n=this.trackId,r=null==e||null==(t=e[n])?void 0:t.details;if(r){if(this.waitForCdnTuneIn(r))break;this.state=xi.WAITING_INIT_PTS}break;case xi.FRAG_LOADING_WAITING_RETRY:var a,o=performance.now(),s=this.retryDate;(!s||o>=s||null!=(a=this.media)&&a.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=xi.IDLE);break;case xi.WAITING_INIT_PTS:var u=this.waitingData;if(u){var c=u.frag,f=u.part,h=u.cache,p=u.complete;if(void 0!==this.initPTS[c.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=xi.FRAG_LOADING;var v=h.flush(),g={frag:c,part:f,payload:v,networkDetails:null};this._handleFragmentLoadProgress(g),p&&(0,l.default)((0,d.default)(i.prototype),"_handleFragmentLoadComplete",this).call(this,g)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc (".concat(c.cc,") cancelled because video is at cc ").concat(this.videoTrackCC)),this.clearWaitingFragment();else{var m=this.getLoadPosition(),y=pi.bufferInfo(this.mediaBuffer,m,this.config.maxBufferHole),b=ze(y.end,this.config.maxFragLookUpTolerance,c);b<0&&(this.log("Waiting fragment cc (".concat(c.cc,") @ ").concat(c.start," cancelled because another fragment at ").concat(y.end," is needed")),this.clearWaitingFragment())}}else this.state=xi.IDLE}this.onTickEnd()}},{key:"clearWaitingFragment",value:function(){var t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=xi.IDLE)}},{key:"resetLoadingState",value:function(){this.clearWaitingFragment(),(0,l.default)((0,d.default)(i.prototype),"resetLoadingState",this).call(this)}},{key:"onTickEnd",value:function(){var t=this.media;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)}},{key:"doTickIdle",value:function(){var t=this.hls,e=this.levels,i=this.media,n=this.trackId,r=t.config;if(null!=e&&e[n]&&(i||!this.startFragRequested&&r.startFragPrefetch)){var a=e[n],o=a.details;if(!o||o.live&&this.levelLastLoaded!==n||this.waitForCdnTuneIn(o))this.state=xi.WAITING_TRACK;else{var s=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&s&&(this.bufferFlushed=!1,this.afterBufferFlushed(s,G.AUDIO,he.AUDIO));var l=this.getFwdBufferInfo(s,he.AUDIO);if(null!==l){var u=this.bufferedTrack,c=this.switchingTrack;if(!c&&this._streamEnded(l,o))return t.trigger(x.BUFFER_EOS,{type:"audio"}),void(this.state=xi.ENDED);var d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,he.MAIN),f=l.len,h=this.getMaxBufferLength(null==d?void 0:d.len);if(!(f>=h)||c){var p=o.fragments,v=p[0].start,g=l.end;if(c&&i){var m=this.getLoadPosition();u&&c.attrs!==u.attrs&&(g=m),o.PTSKnown&&m<v&&(l.end>v||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=v+.05)}var y=this.getNextFragment(g,o),b=!1;if(y&&this.isLoopLoading(y,g)&&(b=!!y.gap,y=this.getNextFragmentLoopLoading(y,o,l,he.MAIN,h)),y){var _=d&&y.start>d.end+o.targetduration;if(_||(null==d||!d.len)&&l.len){var w=this.getAppendedFrag(y.start,he.MAIN);if(null===w)return;if(b||(b=!!w.gap||!!_&&0===d.len),_&&!b||b&&l.nextStart&&l.nextStart<w.end)return}this.loadFragment(y,a,g)}else this.bufferFlushed=!0}}}}}},{key:"getMaxBufferLength",value:function(t){var e=(0,l.default)((0,d.default)(i.prototype),"getMaxBufferLength",this).call(this);return t?Math.min(Math.max(e,t),this.config.maxMaxBufferLength):e}},{key:"onMediaDetaching",value:function(){this.videoBuffer=null,(0,l.default)((0,d.default)(i.prototype),"onMediaDetaching",this).call(this)}},{key:"onAudioTracksUpdated",value:function(t,e){var i=e.audioTracks;this.resetTransmuxer(),this.levels=i.map((function(t){return new De(t)}))}},{key:"onAudioTrackSwitching",value:function(t,e){var i=!!e.url;this.trackId=e.id;var n=this.fragCurrent;n&&(n.abortRequests(),this.removeUnbufferedFrags(n.start)),this.resetLoadingState(),i?this.setInterval(100):this.resetTransmuxer(),i?(this.switchingTrack=e,this.state=xi.IDLE):(this.switchingTrack=null,this.bufferedTrack=e,this.state=xi.STOPPED),this.tick()}},{key:"onManifestLoading",value:function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}},{key:"onLevelLoaded",value:function(t,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(x.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}},{key:"onAudioTrackLoaded",value:function(t,e){var i;if(null!=this.mainDetails){var n=this.levels,r=e.details,a=e.id;if(n){this.log("Track ".concat(a," loaded [").concat(r.startSN,",").concat(r.endSN,"]").concat(r.lastPartSn?"[part-".concat(r.lastPartSn,"-").concat(r.lastPartIndex,"]"):"",",duration:").concat(r.totalduration));var o=n[a],s=0;if(r.live||null!=(i=o.details)&&i.live){var l=this.mainDetails;if(r.fragments[0]||(r.deltaUpdateFailed=!0),r.deltaUpdateFailed||!l)return;!o.details&&r.hasProgramDateTime&&l.hasProgramDateTime?(wi(r,l),s=r.fragments[0].start):s=this.alignPlaylists(r,o.details)}o.details=r,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&r.live||this.setStartPosition(o.details,s),this.state!==xi.WAITING_TRACK||this.waitForCdnTuneIn(r)||(this.state=xi.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level ".concat(a))}else this.cachedTrackLoadedData=e}},{key:"_handleFragmentLoadProgress",value:function(t){var e,i=t.frag,n=t.part,r=t.payload,a=this.config,o=this.trackId,s=this.levels;if(s){var l=s[o];if(l){var u=l.details;if(!u)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(i.start);var c=a.defaultAudioCodec||l.audioCodec||"mp4a.40.2",d=this.transmuxer;d||(d=this.transmuxer=new Bn(this.hls,he.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var f=this.initPTS[i.cc],h=null==(e=i.initSegment)?void 0:e.data;if(void 0!==f){var p=n?n.index:-1,v=-1!==p,g=new vi(i.level,i.sn,i.stats.chunkCount,r.byteLength,p,v);d.push(r,h,c,"",i,n,u.totalduration,!1,g,f)}else{this.log("Unknown video PTS for cc ".concat(i.cc,", waiting for video PTS before demuxing audio frag ").concat(i.sn," of [").concat(u.startSN," ,").concat(u.endSN,"],track ").concat(o));var m=this.waitingData=this.waitingData||{frag:i,part:n,cache:new Gn,complete:!1},y=m.cache;y.push(new Uint8Array(r)),this.waitingVideoCC=this.videoTrackCC,this.state=xi.WAITING_INIT_PTS}}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment ".concat(i.sn," of level ").concat(i.level," will not be buffered"))}},{key:"_handleFragmentLoadComplete",value:function(t){this.waitingData?this.waitingData.complete=!0:(0,l.default)((0,d.default)(i.prototype),"_handleFragmentLoadComplete",this).call(this,t)}},{key:"onBufferReset",value:function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}},{key:"onBufferCreated",value:function(t,e){var i=e.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}},{key:"onFragBuffered",value:function(t,e){var i,n=e.frag,r=e.part;if(n.type===he.AUDIO)if(this.fragContextChanged(n))this.warn("Fragment ".concat(n.sn).concat(r?" p: "+r.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state,", audioSwitch: ").concat(this.switchingTrack?this.switchingTrack.name:"false"));else{if("initSegment"!==n.sn){this.fragPrevious=n;var a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(x.AUDIO_TRACK_SWITCHED,S({},a)))}this.fragBufferedComplete(n,r)}else this.loadedmetadata||n.type!==he.MAIN||null!=(i=this.videoBuffer||this.media)&&i.buffered.length&&(this.loadedmetadata=!0)}},{key:"onError",value:function(t,e){var n;if(e.fatal)this.state=xi.ERROR;else switch(e.details){case I.FRAG_GAP:case I.FRAG_PARSING_ERROR:case I.FRAG_DECRYPT_ERROR:case I.FRAG_LOAD_ERROR:case I.FRAG_LOAD_TIMEOUT:case I.KEY_LOAD_ERROR:case I.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(he.AUDIO,e);break;case I.AUDIO_TRACK_LOAD_ERROR:case I.AUDIO_TRACK_LOAD_TIMEOUT:case I.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==xi.WAITING_TRACK||(null==(n=e.context)?void 0:n.type)!==fe.AUDIO_TRACK||(this.state=xi.IDLE);break;case I.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,(0,l.default)((0,d.default)(i.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case I.INTERNAL_EXCEPTION:this.recoverWorkerError(e);break}}},{key:"onBufferFlushed",value:function(t,e){var i=e.type;i===G.AUDIO&&(this.bufferFlushed=!0,this.state===xi.ENDED&&(this.state=xi.IDLE))}},{key:"_handleTransmuxComplete",value:function(t){var e,i="audio",n=this.hls,r=t.remuxResult,a=t.chunkMeta,o=this.getCurrentContext(a);if(o){var s=o.frag,l=o.part,u=o.level,c=u.details,d=r.audio,f=r.text,h=r.id3,p=r.initSegment;if(!this.fragContextChanged(s)&&c){if(this.state=xi.PARSING,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=p&&p.tracks){var v=s.initSegment||s;this._bufferInitSegment(p.tracks,v,a),n.trigger(x.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:i,tracks:p.tracks})}if(d){var g=d.startPTS,m=d.endPTS,y=d.startDTS,b=d.endDTS;l&&(l.elementaryStreams[G.AUDIO]={startPTS:g,endPTS:m,startDTS:y,endDTS:b}),s.setElementaryStreamInfo(G.AUDIO,g,m,y,b),this.bufferFragmentData(d,s,l,a)}if(null!=h&&null!=(e=h.samples)&&e.length){var _=E({id:i,frag:s,details:c},h);n.trigger(x.FRAG_PARSING_METADATA,_)}if(f){var w=E({id:i,frag:s,details:c},f);n.trigger(x.FRAG_PARSING_USERDATA,w)}}else this.fragmentTracker.removeFragment(s)}else this.resetWhenMissingContext(a)}},{key:"_bufferInitSegment",value:function(t,e,i){if(this.state===xi.PARSING){t.video&&delete t.video;var n=t.audio;if(n){n.levelCodec=n.codec,n.id="audio",this.log("Init audio buffer, container:".concat(n.container,", codecs[parsed]=[").concat(n.codec,"]")),this.hls.trigger(x.BUFFER_CODECS,t);var r=n.initSegment;if(null!=r&&r.byteLength){var a={type:"audio",frag:e,part:null,chunkMeta:i,parent:e.type,data:r};this.hls.trigger(x.BUFFER_APPENDING,a)}this.tick()}}}},{key:"loadFragment",value:function(t,e,n){var r,a=this.fragmentTracker.getState(t);(this.fragCurrent=t,this.switchingTrack||a===ii.NOT_LOADED||a===ii.PARTIAL)?"initSegment"===t.sn?this._loadInitSegment(t,e):null!=(r=e.details)&&r.live&&!this.initPTS[t.cc]?(this.log("Waiting for video PTS in continuity counter ".concat(t.cc," of live stream before loading audio fragment ").concat(t.sn," of level ").concat(this.trackId)),this.state=xi.WAITING_INIT_PTS):(this.startFragRequested=!0,(0,l.default)((0,d.default)(i.prototype),"loadFragment",this).call(this,t,e,n)):this.clearTrackerIfNeeded(t)}},{key:"completeAudioSwitch",value:function(t){var e=this.hls,n=this.media,r=this.bufferedTrack,a=null==r?void 0:r.attrs,o=t.attrs;n&&a&&(a.CHANNELS!==o.CHANNELS||a.NAME!==o.NAME||a.LANGUAGE!==o.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),(0,l.default)((0,d.default)(i.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=t,this.switchingTrack=null,e.trigger(x.AUDIO_TRACK_SWITCHED,S({},t))}}]),i}(Li),Kn=function(t){(0,u.default)(i,t);var e=y(i);function i(t){var n;return(0,h.default)(this,i),n=e.call(this,t,"[audio-track-controller]"),n.tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.currentTrack=null,n.selectDefaultTrack=!0,n.registerListeners(),n}return(0,p.default)(i,[{key:"registerListeners",value:function(){var t=this.hls;t.on(x.MANIFEST_LOADING,this.onManifestLoading,this),t.on(x.MANIFEST_PARSED,this.onManifestParsed,this),t.on(x.LEVEL_LOADING,this.onLevelLoading,this),t.on(x.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(x.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(x.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(x.MANIFEST_LOADING,this.onManifestLoading,this),t.off(x.MANIFEST_PARSED,this.onManifestParsed,this),t.off(x.LEVEL_LOADING,this.onLevelLoading,this),t.off(x.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(x.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(x.ERROR,this.onError,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,(0,l.default)((0,d.default)(i.prototype),"destroy",this).call(this)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(t,e){this.tracks=e.audioTracks||[]}},{key:"onAudioTrackLoaded",value:function(t,e){var i=e.id,n=e.groupId,r=e.details,a=this.tracksInGroup[i];if(a&&a.groupId===n){var o=a.details;a.details=e.details,this.log("audio-track ".concat(i,' "').concat(a.name,'" lang:').concat(a.lang," group:").concat(n," loaded [").concat(r.startSN,"-").concat(r.endSN,"]")),i===this.trackId&&this.playlistLoaded(i,e,o)}else this.warn("Track with id:".concat(i," and group:").concat(n," not found in active group ").concat(a.groupId))}},{key:"onLevelLoading",value:function(t,e){this.switchLevel(e.level)}},{key:"onLevelSwitching",value:function(t,e){this.switchLevel(e.level)}},{key:"switchLevel",value:function(t){var e=this.hls.levels[t];if(null!=e&&e.audioGroupIds){var i=e.audioGroupIds[e.urlId];if(this.groupId!==i){this.groupId=i||null;var n=this.tracks.filter((function(t){return!i||t.groupId===i}));this.selectDefaultTrack&&!n.some((function(t){return t.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=n;var r={audioTracks:n};this.log("Updating audio tracks, ".concat(n.length," track(s) found in group:").concat(i)),this.hls.trigger(x.AUDIO_TRACKS_UPDATED,r),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}}},{key:"onError",value:function(t,e){!e.fatal&&e.context&&e.context.type===fe.AUDIO_TRACK&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))}},{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}},{key:"setAudioTrack",value:function(t){var e=this.tracksInGroup;if(t<0||t>=e.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var i=this.currentTrack;e[this.trackId];var n=e[t],r=n.groupId,a=n.name;if(this.log("Switching to audio-track ".concat(t,' "').concat(a,'" lang:').concat(n.lang," group:").concat(r)),this.trackId=t,this.currentTrack=n,this.selectDefaultTrack=!1,this.hls.trigger(x.AUDIO_TRACK_SWITCHING,S({},n)),!n.details||n.details.live){var o=this.switchParams(n.url,null==i?void 0:i.details);this.loadPlaylist(o)}}}},{key:"selectInitialTrack",value:function(){var t=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{var i=new Error("No track found for running audio group-ID: ".concat(this.groupId," track count: ").concat(t.length));this.warn(i.message),this.hls.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:i})}}},{key:"findTrackId",value:function(t){for(var e=this.tracksInGroup,i=0;i<e.length;i++){var n=e[i];if(!this.selectDefaultTrack||n.default){if(!t||void 0!==t.attrs["STABLE-RENDITION-ID"]&&t.attrs["STABLE-RENDITION-ID"]===n.attrs["STABLE-RENDITION-ID"])return n.id;if(t.name===n.name&&t.lang===n.lang)return n.id}}return-1}},{key:"loadPlaylist",value:function(t){(0,l.default)((0,d.default)(i.prototype),"loadPlaylist",this).call(this);var e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){var n=e.id,r=e.groupId,a=e.url;if(t)try{a=t.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(o))}this.log("loading audio-track playlist ".concat(n,' "').concat(e.name,'" lang:').concat(e.lang," group:").concat(r)),this.clearTimer(),this.hls.trigger(x.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:r,deliveryDirectives:t||null})}}}]),i}(Je);function zn(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!Yn(t[i].attrs,e[i].attrs))return!1;return!0}function Yn(t,e){var i=t["STABLE-RENDITION-ID"];return i?i===e["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some((function(i){return t[i]!==e[i]}))}var Wn=function(t){(0,u.default)(i,t);var e=y(i);function i(t,n,r){var a;return(0,h.default)(this,i),a=e.call(this,t,n,r,"[subtitle-stream-controller]",he.SUBTITLE),a.levels=[],a.currentTrackId=-1,a.tracksBuffered=[],a.mainDetails=null,a._registerListeners(),a}return(0,p.default)(i,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.mainDetails=null}},{key:"_registerListeners",value:function(){var t=this.hls;t.on(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(x.MANIFEST_LOADING,this.onManifestLoading,this),t.on(x.LEVEL_LOADED,this.onLevelLoaded,this),t.on(x.ERROR,this.onError,this),t.on(x.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(x.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(x.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(x.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(x.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(x.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var t=this.hls;t.off(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(x.MANIFEST_LOADING,this.onManifestLoading,this),t.off(x.LEVEL_LOADED,this.onLevelLoaded,this),t.off(x.ERROR,this.onError,this),t.off(x.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(x.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(x.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(x.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(x.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(x.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"startLoad",value:function(t){this.stopLoad(),this.state=xi.IDLE,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}},{key:"onManifestLoading",value:function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}},{key:"onMediaDetaching",value:function(){this.tracksBuffered=[],(0,l.default)((0,d.default)(i.prototype),"onMediaDetaching",this).call(this)}},{key:"onLevelLoaded",value:function(t,e){this.mainDetails=e.details}},{key:"onSubtitleFragProcessed",value:function(t,e){var i=e.frag,n=e.success;if(this.fragPrevious=i,this.state=xi.IDLE,n){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var a,o=i.start,s=0;s<r.length;s++)if(o>=r[s].start&&o<=r[s].end){a=r[s];break}var l=i.start+i.duration;a?a.end=l:(a={start:o,end:l},r.push(a)),this.fragmentTracker.fragBuffered(i)}}}},{key:"onBufferFlushing",value:function(t,e){var i=e.startOffset,n=e.endOffset;if(0===i&&n!==Number.POSITIVE_INFINITY){var r=this.currentTrackId,a=this.levels;if(!a.length||!a[r]||!a[r].details)return;var o=a[r].details,s=o.targetduration,l=n-s;if(l<=0)return;e.endOffsetSubtitles=Math.max(0,l),this.tracksBuffered.forEach((function(t){for(var e=0;e<t.length;)if(t[e].end<=l)t.shift();else{if(!(t[e].start<l))break;t[e].start=l,e++}})),this.fragmentTracker.removeFragmentsInRange(i,l,he.SUBTITLE)}}},{key:"onFragBuffered",value:function(t,e){var i;this.loadedmetadata||e.frag.type!==he.MAIN||null!=(i=this.media)&&i.buffered.length&&(this.loadedmetadata=!0)}},{key:"onError",value:function(t,e){var i=e.frag;(null==i?void 0:i.type)===he.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==xi.STOPPED&&(this.state=xi.IDLE))}},{key:"onSubtitleTracksUpdated",value:function(t,e){var i=this,n=e.subtitleTracks;zn(this.levels,n)?this.levels=n.map((function(t){return new De(t)})):(this.tracksBuffered=[],this.levels=n.map((function(t){var e=new De(t);return i.tracksBuffered[e.id]=[],e})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,he.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null)}},{key:"onSubtitleTrackSwitch",value:function(t,e){if(this.currentTrackId=e.id,this.levels.length&&-1!==this.currentTrackId){var i=this.levels[this.currentTrackId];null!=i&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.setInterval(500)}else this.clearInterval()}},{key:"onSubtitleTrackLoaded",value:function(t,e){var i,n=e.details,r=e.id,a=this.currentTrackId,o=this.levels;if(o.length){var s=o[a];if(!(r>=o.length||r!==a)&&s){this.mediaBuffer=this.mediaBufferTimeRanges;var l=0;if(n.live||null!=(i=s.details)&&i.live){var u=this.mainDetails;if(n.deltaUpdateFailed||!u)return;var c=u.fragments[0];s.details?(l=this.alignPlaylists(n,s.details),0===l&&c&&(l=c.start,Fe(n,l))):n.hasProgramDateTime&&u.hasProgramDateTime?(wi(n,u),l=n.fragments[0].start):c&&(l=c.start,Fe(n,l))}if(s.details=n,this.levelLastLoaded=r,this.startFragRequested||!this.mainDetails&&n.live||this.setStartPosition(s.details,l),this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===xi.IDLE){var d=Ke(null,n.fragments,this.media.currentTime,0);d||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0)}}}}},{key:"_handleFragmentLoadComplete",value:function(t){var e=this,i=t.frag,n=t.payload,r=i.decryptdata,a=this.hls;if(!this.fragContextChanged(i)&&n&&n.byteLength>0&&r&&r.key&&r.iv&&"AES-128"===r.method){var o=performance.now();this.decrypter.decrypt(new Uint8Array(n),r.key.buffer,r.iv.buffer).catch((function(t){throw a.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:i}),t})).then((function(t){var e=performance.now();a.trigger(x.FRAG_DECRYPTED,{frag:i,payload:t,stats:{tstart:o,tdecrypt:e}})})).catch((function(t){e.warn("".concat(t.name,": ").concat(t.message)),e.state=xi.IDLE}))}}},{key:"doTick",value:function(){if(this.media){if(this.state===xi.IDLE){var t=this.currentTrackId,e=this.levels,i=e[t];if(!e.length||!i||!i.details)return;var n=i.details,r=n.targetduration,a=this.config,o=this.getLoadPosition(),s=pi.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],o-r,a.maxBufferHole),l=s.end,u=s.len,c=this.getFwdBufferInfo(this.media,he.MAIN),d=this.getMaxBufferLength(null==c?void 0:c.len)+r;if(u>d)return;var f=n.fragments,h=f.length,p=n.edge,v=null,g=this.fragPrevious;if(l<p){var m=a.maxFragLookUpTolerance;v=Ke(g,f,Math.max(f[0].start,l),m),!v&&g&&g.start<f[0].start&&(v=f[0])}else v=f[h-1];if(!v)return;v=this.mapToInitFragWhenRequired(v),this.fragmentTracker.getState(v)===ii.NOT_LOADED&&this.loadFragment(v,i,l)}}else this.state=xi.IDLE}},{key:"getMaxBufferLength",value:function(t){var e=(0,l.default)((0,d.default)(i.prototype),"getMaxBufferLength",this).call(this);return t?Math.max(e,t):e}},{key:"loadFragment",value:function(t,e,n){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t,e):(this.startFragRequested=!0,(0,l.default)((0,d.default)(i.prototype),"loadFragment",this).call(this,t,e,n))}},{key:"mediaBufferTimeRanges",get:function(){return new Qn(this.tracksBuffered[this.currentTrackId]||[])}}]),i}(Li),Qn=(0,p.default)((function t(e){(0,h.default)(this,t),this.buffered=void 0;var i=function(t,i,n){if(i>>>=0,i>n-1)throw new DOMException("Failed to execute '".concat(t,"' on 'TimeRanges': The index provided (").concat(i,") is greater than the maximum bound (").concat(n,")"));return e[i][t]};this.buffered={get length(){return e.length},end:function(t){return i("end",t,e.length)},start:function(t){return i("start",t,e.length)}}})),qn=function(t){(0,u.default)(i,t);var e=y(i);function i(t){var n;return(0,h.default)(this,i),n=e.call(this,t,"[subtitle-track-controller]"),n.media=null,n.tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.selectDefaultTrack=!0,n.queuedDefaultTrack=-1,n.trackChangeListener=function(){return n.onTextTracksChanged()},n.asyncPollTrackChange=function(){return n.pollTrackChange(0)},n.useTextTrackPolling=!1,n.subtitlePollingInterval=-1,n._subtitleDisplay=!0,n.registerListeners(),n}return(0,p.default)(i,[{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,(0,l.default)((0,d.default)(i.prototype),"destroy",this).call(this)}},{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"registerListeners",value:function(){var t=this.hls;t.on(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(x.MANIFEST_LOADING,this.onManifestLoading,this),t.on(x.MANIFEST_PARSED,this.onManifestParsed,this),t.on(x.LEVEL_LOADING,this.onLevelLoading,this),t.on(x.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(x.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(x.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(x.MANIFEST_LOADING,this.onManifestLoading,this),t.off(x.MANIFEST_PARSED,this.onManifestParsed,this),t.off(x.LEVEL_LOADING,this.onLevelLoading,this),t.off(x.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(x.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(x.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}},{key:"pollTrackChange",value:function(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,t)}},{key:"onMediaDetaching",value:function(){if(this.media){self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);var t=Xn(this.media.textTracks);t.forEach((function(t){be(t)})),this.subtitleTrack=-1,this.media=null}}},{key:"onManifestLoading",value:function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(t,e){this.tracks=e.subtitleTracks}},{key:"onSubtitleTrackLoaded",value:function(t,e){var i=e.id,n=e.details,r=this.trackId,a=this.tracksInGroup[r];if(a){var o=a.details;a.details=e.details,this.log("subtitle track ".concat(i," loaded [").concat(n.startSN,"-").concat(n.endSN,"]")),i===this.trackId&&this.playlistLoaded(i,e,o)}else this.warn("Invalid subtitle track id ".concat(i))}},{key:"onLevelLoading",value:function(t,e){this.switchLevel(e.level)}},{key:"onLevelSwitching",value:function(t,e){this.switchLevel(e.level)}},{key:"switchLevel",value:function(t){var e=this.hls.levels[t];if(null!=e&&e.textGroupIds){var i=e.textGroupIds[e.urlId],n=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==i){var r=this.tracks.filter((function(t){return!i||t.groupId===i}));this.tracksInGroup=r;var a=this.findTrackId(null==n?void 0:n.name)||this.findTrackId();this.groupId=i||null;var o={subtitleTracks:r};this.log("Updating subtitle tracks, ".concat(r.length,' track(s) found in "').concat(i,'" group-id')),this.hls.trigger(x.SUBTITLE_TRACKS_UPDATED,o),-1!==a&&this.setSubtitleTrack(a,n)}else this.shouldReloadPlaylist(n)&&this.setSubtitleTrack(this.trackId,n)}}},{key:"findTrackId",value:function(t){for(var e=this.tracksInGroup,i=0;i<e.length;i++){var n=e[i];if((!this.selectDefaultTrack||n.default)&&(!t||t===n.name))return n.id}return-1}},{key:"onError",value:function(t,e){!e.fatal&&e.context&&e.context.type===fe.SUBTITLE_TRACK&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1;var e=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(t,e)}},{key:"loadPlaylist",value:function(t){(0,l.default)((0,d.default)(i.prototype),"loadPlaylist",this).call(this);var e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){var n=e.id,r=e.groupId,a=e.url;if(t)try{a=t.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(o))}this.log("Loading subtitle playlist for id ".concat(n)),this.hls.trigger(x.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:r,deliveryDirectives:t||null})}}},{key:"toggleTrackModes",value:function(t){var e=this,i=this.media,n=this.trackId;if(i){var r=Xn(i.textTracks),a=r.filter((function(t){return t.groupId===e.groupId}));if(-1===t)[].slice.call(r).forEach((function(t){t.mode="disabled"}));else{var o=a[n];o&&(o.mode="disabled")}var s=a[t];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}}},{key:"setSubtitleTrack",value:function(t,e){var i,n=this.tracksInGroup;if(this.media){if(this.trackId!==t&&this.toggleTrackModes(t),!(this.trackId===t&&(-1===t||null!=(i=n[t])&&i.details)||t<-1||t>=n.length)){this.clearTimer();var r=n[t];if(this.log("Switching to subtitle-track ".concat(t)+(r?' "'.concat(r.name,'" lang:').concat(r.lang," group:").concat(r.groupId):"")),this.trackId=t,r){var a=r.id,o=r.groupId,s=void 0===o?"":o,l=r.name,u=r.type,c=r.url;this.hls.trigger(x.SUBTITLE_TRACK_SWITCH,{id:a,groupId:s,name:l,type:u,url:c});var d=this.switchParams(r.url,null==e?void 0:e.details);this.loadPlaylist(d)}else this.hls.trigger(x.SUBTITLE_TRACK_SWITCH,{id:t})}}else this.queuedDefaultTrack=t}},{key:"onTextTracksChanged",value:function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=Xn(this.media.textTracks),i=0;i<e.length;i++)if("hidden"===e[i].mode)t=i;else if("showing"===e[i].mode){t=i;break}this.subtitleTrack!==t&&(this.subtitleTrack=t)}}}]),i}(Je);function Xn(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];"subtitles"!==n.kind&&"captions"!==n.kind||!n.label||e.push(t[i])}return e}var Jn=function(){function t(e){(0,h.default)(this,t),this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}return(0,p.default)(t,[{key:"append",value:function(t,e){var i=this.queues[e];i.push(t),1===i.length&&this.buffers[e]&&this.executeNext(e)}},{key:"insertAbort",value:function(t,e){var i=this.queues[e];i.unshift(t),this.executeNext(e)}},{key:"appendBlocker",value:function(t){var e,i=new Promise((function(t){e=t})),n={execute:e,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(n,t),i}},{key:"executeNext",value:function(t){var e=this.buffers,i=this.queues,n=e[t],r=i[t];if(r.length){var a=r[0];try{a.execute()}catch(o){M.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(o),null!=n&&n.updating||(r.shift(),this.executeNext(t))}}}},{key:"shiftAndExecuteNext",value:function(t){this.queues[t].shift(),this.executeNext(t)}},{key:"current",value:function(t){return this.queues[t][0]}}]),t}(),Zn=Qt(),tr=/([ha]vc.)(?:\.[^.,]+)+/,er=function(){function t(e){var i=this;(0,h.default)(this,t),this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var t=i.media,e=i.mediaSource;M.log("[buffer-controller]: Media source opened"),t&&(t.removeEventListener("emptied",i._onMediaEmptied),i.updateMediaElementDuration(),i.hls.trigger(x.MEDIA_ATTACHED,{media:t})),e&&e.removeEventListener("sourceopen",i._onMediaSourceOpen),i.checkPendingTracks()},this._onMediaSourceClose=function(){M.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){M.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var t=i.media,e=i._objectUrl;t&&t.src!==e&&M.error("Media element src was set while attaching MediaSource (".concat(e," > ").concat(t.src,")"))},this.hls=e,this._initSourceBuffer(),this.registerListeners()}return(0,p.default)(t,[{key:"hasSourceTypes",value:function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}},{key:"destroy",value:function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}},{key:"registerListeners",value:function(){var t=this.hls;t.on(x.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(x.MANIFEST_LOADING,this.onManifestLoading,this),t.on(x.MANIFEST_PARSED,this.onManifestParsed,this),t.on(x.BUFFER_RESET,this.onBufferReset,this),t.on(x.BUFFER_APPENDING,this.onBufferAppending,this),t.on(x.BUFFER_CODECS,this.onBufferCodecs,this),t.on(x.BUFFER_EOS,this.onBufferEos,this),t.on(x.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(x.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(x.FRAG_PARSED,this.onFragParsed,this),t.on(x.FRAG_CHANGED,this.onFragChanged,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(x.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(x.MANIFEST_LOADING,this.onManifestLoading,this),t.off(x.MANIFEST_PARSED,this.onManifestParsed,this),t.off(x.BUFFER_RESET,this.onBufferReset,this),t.off(x.BUFFER_APPENDING,this.onBufferAppending,this),t.off(x.BUFFER_CODECS,this.onBufferCodecs,this),t.off(x.BUFFER_EOS,this.onBufferEos,this),t.off(x.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(x.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(x.FRAG_PARSED,this.onFragParsed,this),t.off(x.FRAG_CHANGED,this.onFragChanged,this)}},{key:"_initSourceBuffer",value:function(){this.sourceBuffer={},this.operationQueue=new Jn(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}},{key:"onManifestLoading",value:function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}},{key:"onManifestParsed",value:function(t,e){var i=2;(e.audio&&!e.video||!e.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,M.log("".concat(this.bufferCodecEventsExpected," bufferCodec event(s) expected"))}},{key:"onMediaAttaching",value:function(t,e){var i=this.media=e.media;if(i&&Zn){var n=this.mediaSource=new Zn;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),i.src=self.URL.createObjectURL(n),this._objectUrl=i.src,i.addEventListener("emptied",this._onMediaEmptied)}}},{key:"onMediaDetaching",value:function(){var t=this.media,e=this.mediaSource,i=this._objectUrl;if(e){if(M.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(ma){M.warn("[buffer-controller]: onMediaDetaching: ".concat(ma.message," while calling endOfStream"))}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),t&&(t.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),t.src===i?(t.removeAttribute("src"),t.load()):M.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(x.MEDIA_DETACHED,void 0)}},{key:"onBufferReset",value:function(){var t=this;this.getSourceBufferTypes().forEach((function(e){var i=t.sourceBuffer[e];try{i&&(t.removeBufferListeners(e),t.mediaSource&&t.mediaSource.removeSourceBuffer(i),t.sourceBuffer[e]=void 0)}catch(ma){M.warn("[buffer-controller]: Failed to reset the ".concat(e," buffer"),ma)}})),this._initSourceBuffer()}},{key:"onBufferCodecs",value:function(t,e){var i=this,n=this.getSourceBufferTypes().length;Object.keys(e).forEach((function(t){if(n){var r=i.tracks[t];if(r&&"function"===typeof r.buffer.changeType){var a=e[t],o=a.id,s=a.codec,l=a.levelCodec,u=a.container,c=a.metadata,d=(r.levelCodec||r.codec).replace(tr,"$1"),f=(l||s).replace(tr,"$1");if(d!==f){var h="".concat(u,";codecs=").concat(l||s);i.appendChangeType(t,h),M.log("[buffer-controller]: switching codec ".concat(d," to ").concat(f)),i.tracks[t]={buffer:r.buffer,codec:s,container:u,levelCodec:l,metadata:c,id:o}}}}else i.pendingTracks[t]=e[t]})),n||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}},{key:"appendChangeType",value:function(t,e){var i=this,n=this.operationQueue,r={execute:function(){var r=i.sourceBuffer[t];r&&(M.log("[buffer-controller]: changing ".concat(t," sourceBuffer type to ").concat(e)),r.changeType(e)),n.shiftAndExecuteNext(t)},onStart:function(){},onComplete:function(){},onError:function(e){M.warn("[buffer-controller]: Failed to change ".concat(t," SourceBuffer type"),e)}};n.append(r,t)}},{key:"onBufferAppending",value:function(t,e){var i=this,n=this.hls,r=this.operationQueue,a=this.tracks,o=e.data,s=e.type,l=e.frag,u=e.part,c=e.chunkMeta,d=c.buffering[s],f=self.performance.now();d.start=f;var h=l.stats.buffering,p=u?u.stats.buffering:null;0===h.start&&(h.start=f),p&&0===p.start&&(p.start=f);var v=a.audio,g=!1;"audio"===s&&"audio/mpeg"===(null==v?void 0:v.container)&&(g=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);var m=l.start,y={execute:function(){if(d.executeStart=self.performance.now(),g){var t=i.sourceBuffer[s];if(t){var e=m-t.timestampOffset;Math.abs(e)>=.1&&(M.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to ".concat(m," (delta: ").concat(e,") sn: ").concat(l.sn,")")),t.timestampOffset=m)}}i.appendExecutor(o,s)},onStart:function(){},onComplete:function(){var t=self.performance.now();d.executeEnd=d.end=t,0===h.first&&(h.first=t),p&&0===p.first&&(p.first=t);var e=i.sourceBuffer,n={};for(var r in e)n[r]=pi.getBuffered(e[r]);i.appendError=0,i.hls.trigger(x.BUFFER_APPENDED,{type:s,frag:l,part:u,chunkMeta:c,parent:l.type,timeRanges:n})},onError:function(t){M.error("[buffer-controller]: Error encountered while trying to append to the ".concat(s," SourceBuffer"),t);var e={type:L.MEDIA_ERROR,parent:l.type,details:I.BUFFER_APPEND_ERROR,frag:l,part:u,chunkMeta:c,error:t,err:t,fatal:!1};t.code===DOMException.QUOTA_EXCEEDED_ERR?e.details=I.BUFFER_FULL_ERROR:(i.appendError++,e.details=I.BUFFER_APPEND_ERROR,i.appendError>n.config.appendErrorMaxRetry&&(M.error("[buffer-controller]: Failed ".concat(n.config.appendErrorMaxRetry," times to append segment in sourceBuffer")),e.fatal=!0)),n.trigger(x.ERROR,e)}};r.append(y,s)}},{key:"onBufferFlushing",value:function(t,e){var i=this,n=this.operationQueue,r=function(t){return{execute:i.removeExecutor.bind(i,t,e.startOffset,e.endOffset),onStart:function(){},onComplete:function(){i.hls.trigger(x.BUFFER_FLUSHED,{type:t})},onError:function(e){M.warn("[buffer-controller]: Failed to remove from ".concat(t," SourceBuffer"),e)}}};e.type?n.append(r(e.type),e.type):this.getSourceBufferTypes().forEach((function(t){n.append(r(t),t)}))}},{key:"onFragParsed",value:function(t,e){var i=this,n=e.frag,r=e.part,a=[],o=r?r.elementaryStreams:n.elementaryStreams;o[G.AUDIOVIDEO]?a.push("audiovideo"):(o[G.AUDIO]&&a.push("audio"),o[G.VIDEO]&&a.push("video"));0===a.length&&M.warn("Fragments must have at least one ElementaryStreamType set. type: ".concat(n.type," level: ").concat(n.level," sn: ").concat(n.sn)),this.blockBuffers((function(){var t=self.performance.now();n.stats.buffering.end=t,r&&(r.stats.buffering.end=t);var e=r?r.stats:n.stats;i.hls.trigger(x.FRAG_BUFFERED,{frag:n,part:r,stats:e,id:n.type})}),a)}},{key:"onFragChanged",value:function(t,e){this.flushBackBuffer()}},{key:"onBufferEos",value:function(t,e){var i=this,n=this.getSourceBufferTypes().reduce((function(t,n){var r=i.sourceBuffer[n];return!r||e.type&&e.type!==n||(r.ending=!0,r.ended||(r.ended=!0,M.log("[buffer-controller]: ".concat(n," sourceBuffer now EOS")))),t&&!(r&&!r.ended)}),!0);n&&(M.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers((function(){i.getSourceBufferTypes().forEach((function(t){var e=i.sourceBuffer[t];e&&(e.ending=!1)}));var t=i.mediaSource;t&&"open"===t.readyState?(M.log("[buffer-controller]: Calling mediaSource.endOfStream()"),t.endOfStream()):t&&M.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ".concat(t.readyState))})))}},{key:"onLevelUpdated",value:function(t,e){var i=e.details;i.fragments.length&&(this.details=i,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}},{key:"flushBackBuffer",value:function(){var t=this.hls,e=this.details,i=this.media,n=this.sourceBuffer;if(i&&null!==e){var r=this.getSourceBufferTypes();if(r.length){var a=e.live&&null!==t.config.liveBackBufferLength?t.config.liveBackBufferLength:t.config.backBufferLength;if(A(a)&&!(a<0)){var o=i.currentTime,s=e.levelTargetDuration,l=Math.max(a,s),u=Math.floor(o/s)*s-l;r.forEach((function(i){var r=n[i];if(r){var a=pi.getBuffered(r);if(a.length>0&&u>a.start(0)){if(t.trigger(x.BACK_BUFFER_REACHED,{bufferEnd:u}),e.live)t.trigger(x.LIVE_BACK_BUFFER_REACHED,{bufferEnd:u});else if(r.ended&&a.end(a.length-1)-o<2*s)return void M.info("[buffer-controller]: Cannot flush ".concat(i," back buffer while SourceBuffer is in ended state"));t.trigger(x.BUFFER_FLUSHING,{startOffset:0,endOffset:u,type:i})}}}))}}}}},{key:"updateMediaElementDuration",value:function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var t=this.details,e=this.hls,i=this.media,n=this.mediaSource,r=t.fragments[0].start+t.totalduration,a=i.duration,o=A(n.duration)?n.duration:0;t.live&&e.config.liveDurationInfinity?(M.log("[buffer-controller]: Media Source duration is set to Infinity"),n.duration=1/0,this.updateSeekableRange(t)):(r>o&&r>a||!A(a))&&(M.log("[buffer-controller]: Updating Media Source duration to ".concat(r.toFixed(3))),n.duration=r)}}},{key:"updateSeekableRange",value:function(t){var e=this.mediaSource,i=t.fragments,n=i.length;if(n&&t.live&&null!=e&&e.setLiveSeekableRange){var r=Math.max(0,i[0].start),a=Math.max(r,r+t.totalduration);e.setLiveSeekableRange(r,a)}}},{key:"checkPendingTracks",value:function(){var t=this.bufferCodecEventsExpected,e=this.operationQueue,i=this.pendingTracks,n=Object.keys(i).length;if(n&&!t||2===n){this.createSourceBuffers(i),this.pendingTracks={};var r=this.getSourceBufferTypes();if(r.length)this.hls.trigger(x.BUFFER_CREATED,{tracks:this.tracks}),r.forEach((function(t){e.executeNext(t)}));else{var a=new Error("could not create source buffer for media codec(s)");this.hls.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}}},{key:"createSourceBuffers",value:function(t){var e=this.sourceBuffer,i=this.mediaSource;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(var n in t)if(!e[n]){var r=t[n];if(!r)throw Error("source buffer exists for track ".concat(n,", however track does not"));var a=r.levelCodec||r.codec,o="".concat(r.container,";codecs=").concat(a);M.log("[buffer-controller]: creating sourceBuffer(".concat(o,")"));try{var s=e[n]=i.addSourceBuffer(o),l=n;this.addBufferListener(l,"updatestart",this._onSBUpdateStart),this.addBufferListener(l,"updateend",this._onSBUpdateEnd),this.addBufferListener(l,"error",this._onSBUpdateError),this.tracks[n]={buffer:s,codec:a,container:r.container,levelCodec:r.levelCodec,metadata:r.metadata,id:r.id}}catch(ma){M.error("[buffer-controller]: error while trying to add sourceBuffer: ".concat(ma.message)),this.hls.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:ma,mimeType:o})}}}},{key:"_onSBUpdateStart",value:function(t){var e=this.operationQueue,i=e.current(t);i.onStart()}},{key:"_onSBUpdateEnd",value:function(t){var e=this.operationQueue,i=e.current(t);i.onComplete(),e.shiftAndExecuteNext(t)}},{key:"_onSBUpdateError",value:function(t,e){var i=new Error("".concat(t," SourceBuffer error"));M.error("[buffer-controller]: ".concat(i),e),this.hls.trigger(x.ERROR,{type:L.MEDIA_ERROR,details:I.BUFFER_APPENDING_ERROR,error:i,fatal:!1});var n=this.operationQueue.current(t);n&&n.onError(e)}},{key:"removeExecutor",value:function(t,e,i){var n=this.media,r=this.mediaSource,a=this.operationQueue,o=this.sourceBuffer,s=o[t];if(!n||!r||!s)return M.warn("[buffer-controller]: Attempting to remove from the ".concat(t," SourceBuffer, but it does not exist")),void a.shiftAndExecuteNext(t);var l=A(n.duration)?n.duration:1/0,u=A(r.duration)?r.duration:1/0,c=Math.max(0,e),d=Math.min(i,l,u);d>c&&!s.ending?(s.ended=!1,M.log("[buffer-controller]: Removing [".concat(c,",").concat(d,"] from the ").concat(t," SourceBuffer")),s.remove(c,d)):a.shiftAndExecuteNext(t)}},{key:"appendExecutor",value:function(t,e){var i=this.operationQueue,n=this.sourceBuffer,r=n[e];if(!r)return M.warn("[buffer-controller]: Attempting to append to the ".concat(e," SourceBuffer, but it does not exist")),void i.shiftAndExecuteNext(e);r.ended=!1,r.appendBuffer(t)}},{key:"blockBuffers",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSourceBufferTypes();if(!i.length)return M.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);var n=this.operationQueue,r=i.map((function(t){return n.appendBlocker(t)}));Promise.all(r).then((function(){t(),i.forEach((function(t){var i=e.sourceBuffer[t];null!=i&&i.updating||n.shiftAndExecuteNext(t)}))}))}},{key:"getSourceBufferTypes",value:function(){return Object.keys(this.sourceBuffer)}},{key:"addBufferListener",value:function(t,e,i){var n=this.sourceBuffer[t];if(n){var r=i.bind(this,t);this.listeners[t].push({event:e,listener:r}),n.addEventListener(e,r)}}},{key:"removeBufferListeners",value:function(t){var e=this.sourceBuffer[t];e&&this.listeners[t].forEach((function(t){e.removeEventListener(t.event,t.listener)}))}}]),t}(),ir={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},nr=function(t){var e=t;return ir.hasOwnProperty(t)&&(e=ir[t]),String.fromCharCode(e)},rr={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ar={17:2,18:4,21:6,22:8,23:10,19:13,20:15},or={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},sr={25:2,26:4,29:6,30:8,31:10,27:13,28:15},lr=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],ur=function(){function t(){(0,h.default)(this,t),this.time=null,this.verboseLevel=0}return(0,p.default)(t,[{key:"log",value:function(t,e){if(this.verboseLevel>=t){var i="function"===typeof e?e():e;M.log("".concat(this.time," [").concat(t,"] ").concat(i))}}}]),t}(),cr=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].toString(16));return e},dr=function(){function t(e,i,n,r,a){(0,h.default)(this,t),this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=i||!1,this.italics=n||!1,this.background=r||"black",this.flash=a||!1}return(0,p.default)(t,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(t){for(var e=["foreground","underline","italics","background","flash"],i=0;i<e.length;i++){var n=e[i];t.hasOwnProperty(n)&&(this[n]=t[n])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}},{key:"copy",value:function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),t}(),fr=function(){function t(e,i,n,r,a,o){(0,h.default)(this,t),this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new dr(i,n,r,a,o)}return(0,p.default)(t,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(t,e){this.uchar=t,this.penState.copy(e)}},{key:"setPenState",value:function(t){this.penState.copy(t)}},{key:"equals",value:function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}},{key:"copy",value:function(t){this.uchar=t.uchar,this.penState.copy(t.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),t}(),hr=function(){function t(e){(0,h.default)(this,t),this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var i=0;i<100;i++)this.chars.push(new fr);this.logger=e,this.pos=0,this.currPenState=new dr}return(0,p.default)(t,[{key:"equals",value:function(t){for(var e=!0,i=0;i<100;i++)if(!this.chars[i].equals(t.chars[i])){e=!1;break}return e}},{key:"copy",value:function(t){for(var e=0;e<100;e++)this.chars[e].copy(t.chars[e])}},{key:"isEmpty",value:function(){for(var t=!0,e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t}},{key:"setCursor",value:function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=100)}},{key:"moveCursor",value:function(t){var e=this.pos+t;if(t>1)for(var i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(t){var e=this;t>=144&&this.backSpace();var i=nr(t);this.pos>=100?this.logger.log(0,(function(){return"Cannot insert "+t.toString(16)+" ("+i+") at position "+e.pos+". Skipping it!"})):(this.chars[this.pos].setChar(i,this.currPenState),this.moveCursor(1))}},{key:"clearFromPos",value:function(t){var e;for(e=t;e<100;e++)this.chars[e].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var t=[],e=!0,i=0;i<100;i++){var n=this.chars[i].uchar;" "!==n&&(e=!1),t.push(n)}return e?"":t.join("")}},{key:"setPenStyles",value:function(t){this.currPenState.setStyles(t);var e=this.chars[this.pos];e.setPenState(this.currPenState)}}]),t}(),pr=function(){function t(e){(0,h.default)(this,t),this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var i=0;i<15;i++)this.rows.push(new hr(e));this.logger=e,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}return(0,p.default)(t,[{key:"reset",value:function(){for(var t=0;t<15;t++)this.rows[t].clear();this.currRow=14}},{key:"equals",value:function(t){for(var e=!0,i=0;i<15;i++)if(!this.rows[i].equals(t.rows[i])){e=!1;break}return e}},{key:"copy",value:function(t){for(var e=0;e<15;e++)this.rows[e].copy(t.rows[e])}},{key:"isEmpty",value:function(){for(var t=!0,e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t}},{key:"backSpace",value:function(){var t=this.rows[this.currRow];t.backSpace()}},{key:"clearToEndOfRow",value:function(){var t=this.rows[this.currRow];t.clearToEndOfRow()}},{key:"insertChar",value:function(t){var e=this.rows[this.currRow];e.insertChar(t)}},{key:"setPen",value:function(t){var e=this.rows[this.currRow];e.setPenStyles(t)}},{key:"moveCursor",value:function(t){var e=this.rows[this.currRow];e.moveCursor(t)}},{key:"setCursor",value:function(t){this.logger.log(2,"setCursor: "+t);var e=this.rows[this.currRow];e.setCursor(t)}},{key:"setPAC",value:function(t){this.logger.log(2,(function(){return"pacData = "+JSON.stringify(t)}));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var i=0;i<15;i++)this.rows[i].clear();var n=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var a=r.rows[n].cueStartTime,o=this.logger.time;if(a&&null!==o&&a<o)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(r.rows[n+s])}}this.currRow=e;var l=this.rows[this.currRow];if(null!==t.indent){var u=t.indent,c=Math.max(u-1,0);l.setCursor(t.indent),t.color=l.chars[c].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)}},{key:"setBkgData",value:function(t){this.logger.log(2,(function(){return"bkgData = "+JSON.stringify(t)})),this.backSpace(),this.setPen(t),this.insertChar(32)}},{key:"setRollUpRows",value:function(t){this.nrRollUpRows=t}},{key:"rollUp",value:function(){var t=this;if(null!==this.nrRollUpRows){this.logger.log(1,(function(){return t.getDisplayText()}));var e=this.currRow+1-this.nrRollUpRows,i=this.rows.splice(e,1)[0];i.clear(),this.rows.splice(this.currRow,0,i),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")}},{key:"getDisplayText",value:function(t){t=t||!1;for(var e=[],i="",n=-1,r=0;r<15;r++){var a=this.rows[r].getTextString();a&&(n=r+1,t?e.push("Row "+n+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(i=t?"["+e.join(" | ")+"]":e.join("\n")),i}},{key:"getTextAndFormat",value:function(){return this.rows}}]),t}(),vr=function(){function t(e,i,n){(0,h.default)(this,t),this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=i,this.mode=null,this.verbose=0,this.displayedMemory=new pr(n),this.nonDisplayedMemory=new pr(n),this.lastOutputScreen=new pr(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}return(0,p.default)(t,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(t){this.outputFilter=t}},{key:"setPAC",value:function(t){this.writeScreen.setPAC(t)}},{key:"setBkgData",value:function(t){this.writeScreen.setBkgData(t)}},{key:"setMode",value:function(t){t!==this.mode&&(this.mode=t,this.logger.log(2,(function(){return"MODE="+t})),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}},{key:"insertChars",value:function(t){for(var e=this,i=0;i<t.length;i++)this.writeScreen.insertChar(t[i]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(function(){return n+": "+e.writeScreen.getDisplayText(!0)})),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(function(){return"DISPLAYED: "+e.displayedMemory.getDisplayText(!0)})),this.outputDataUpdate())}},{key:"ccRCL",value:function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}},{key:"ccFON",value:function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}},{key:"ccCR",value:function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}},{key:"ccENM",value:function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){var t=this;if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(function(){return"DISP: "+t.displayedMemory.getDisplayText()}))}this.outputDataUpdate(!0)}},{key:"ccTO",value:function(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}},{key:"ccMIDROW",value:function(t){var e={flash:!1};if(e.underline=t%2===1,e.italics=t>=46,e.italics)e.foreground="white";else{var i=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}},{key:"outputDataUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}]),t}(),gr=function(){function t(e,i,n){(0,h.default)(this,t),this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var r=new ur;this.channels=[null,new vr(e,i,r),new vr(e+1,n,r)],this.cmdHistory=br(),this.logger=r}return(0,p.default)(t,[{key:"getHandler",value:function(t){return this.channels[t].getHandler()}},{key:"setHandler",value:function(t,e){this.channels[t].setHandler(e)}},{key:"addData",value:function(t,e){var i,n,r,a=!1;this.logger.time=t;for(var o=0;o<e.length;o+=2)if(n=127&e[o],r=127&e[o+1],0!==n||0!==r){if(this.logger.log(3,"["+cr([e[o],e[o+1]])+"] -> ("+cr([n,r])+")"),i=this.parseCmd(n,r),i||(i=this.parseMidrow(n,r)),i||(i=this.parsePAC(n,r)),i||(i=this.parseBackgroundAttributes(n,r)),!i&&(a=this.parseChars(n,r),a)){var s=this.currentChannel;if(s&&s>0){var l=this.channels[s];l.insertChars(a)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}i||a||this.logger.log(2,"Couldn't parse cleaned data "+cr([n,r])+" orig: "+cr([e[o],e[o+1]]))}}},{key:"parseCmd",value:function(t,e){var i=this.cmdHistory,n=(20===t||28===t||21===t||29===t)&&e>=32&&e<=47,r=(23===t||31===t)&&e>=33&&e<=35;if(!n&&!r)return!1;if(yr(t,e,i))return mr(null,null,i),this.logger.log(3,"Repeated command ("+cr([t,e])+") is dropped"),!0;var a=20===t||21===t||23===t?1:2,o=this.channels[a];return 20===t||21===t||28===t||29===t?32===e?o.ccRCL():33===e?o.ccBS():34===e?o.ccAOF():35===e?o.ccAON():36===e?o.ccDER():37===e?o.ccRU(2):38===e?o.ccRU(3):39===e?o.ccRU(4):40===e?o.ccFON():41===e?o.ccRDC():42===e?o.ccTR():43===e?o.ccRTD():44===e?o.ccEDM():45===e?o.ccCR():46===e?o.ccENM():47===e&&o.ccEOC():o.ccTO(e-32),mr(t,e,i),this.currentChannel=a,!0}},{key:"parseMidrow",value:function(t,e){var i=0;if((17===t||25===t)&&e>=32&&e<=47){if(i=17===t?1:2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var n=this.channels[i];return!!n&&(n.ccMIDROW(e),this.logger.log(3,"MIDROW ("+cr([t,e])+")"),!0)}return!1}},{key:"parsePAC",value:function(t,e){var i,n=this.cmdHistory,r=(t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127,a=(16===t||24===t)&&e>=64&&e<=95;if(!r&&!a)return!1;if(yr(t,e,n))return mr(null,null,n),!0;var o=t<=23?1:2;i=e>=64&&e<=95?1===o?rr[t]:or[t]:1===o?ar[t]:sr[t];var s=this.channels[o];return!!s&&(s.setPAC(this.interpretPAC(i,e)),mr(t,e,n),this.currentChannel=o,!0)}},{key:"interpretPAC",value:function(t,e){var i,n={color:null,italics:!1,indent:null,underline:!1,row:t};return i=e>95?e-96:e-64,n.underline=1===(1&i),i<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((i-16)/2),n}},{key:"parseChars",value:function(t,e){var i,n,r=null,a=null;(t>=25?(i=2,a=t-8):(i=1,a=t),a>=17&&a<=19)?(n=17===a?e+80:18===a?e+112:e+144,this.logger.log(2,"Special char '"+nr(n)+"' in channel "+i),r=[n]):t>=32&&t<=127&&(r=0===e?[t]:[t,e]);if(r){var o=cr(r);this.logger.log(3,"Char codes =  "+o.join(",")),mr(t,e,this.cmdHistory)}return r}},{key:"parseBackgroundAttributes",value:function(t,e){var i,n=(16===t||24===t)&&e>=32&&e<=47,r=(23===t||31===t)&&e>=45&&e<=47;if(!n&&!r)return!1;var a={};16===t||24===t?(i=Math.floor((e-32)/2),a.background=lr[i],e%2===1&&(a.background=a.background+"_semi")):45===e?a.background="transparent":(a.foreground="black",47===e&&(a.underline=!0));var o=t<=23?1:2,s=this.channels[o];return s.setBkgData(a),mr(t,e,this.cmdHistory),!0}},{key:"reset",value:function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory=br()}},{key:"cueSplitAtTime",value:function(t){for(var e=0;e<this.channels.length;e++){var i=this.channels[e];i&&i.cueSplitAtTime(t)}}}]),t}();function mr(t,e,i){i.a=t,i.b=e}function yr(t,e,i){return i.a===t&&i.b===e}function br(){return{a:null,b:null}}var _r=function(){function t(e,i){(0,h.default)(this,t),this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=i}return(0,p.default)(t,[{key:"dispatchCue",value:function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}},{key:"newCue",value:function(t,e,i){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}},{key:"reset",value:function(){this.cueRanges=[],this.startTime=null}}]),t}(),wr=function(){if("undefined"!==typeof self&&self.VTTCue)return self.VTTCue;var t=["","lr","rl"],e=["start","middle","end","left","right"];function i(t,e){if("string"!==typeof e)return!1;if(!Array.isArray(t))return!1;var i=e.toLowerCase();return!!~t.indexOf(i)&&i}function n(t){return i(e,t)}function r(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)t[o]=a[o]}return t}function a(e,a,o){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var u="",c=!1,d=e,f=a,h=o,p=null,v="",g=!0,m="auto",y="start",b=50,_="middle",w=50,k="middle";Object.defineProperty(s,"id",r({},l,{get:function(){return u},set:function(t){u=""+t}})),Object.defineProperty(s,"pauseOnExit",r({},l,{get:function(){return c},set:function(t){c=!!t}})),Object.defineProperty(s,"startTime",r({},l,{get:function(){return d},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},l,{get:function(){return f},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},l,{get:function(){return h},set:function(t){h=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},l,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},l,{get:function(){return v},set:function(e){var n=function(e){return i(t,e)}(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");v=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},l,{get:function(){return g},set:function(t){g=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},l,{get:function(){return m},set:function(t){if("number"!==typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},l,{get:function(){return y},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},l,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},l,{get:function(){return _},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},l,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},l,{get:function(){return k},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");k=e,this.hasBeenReset=!0}})),s.displayState=void 0}return a.prototype.getCueAsHTML=function(){var t=self.WebVTT;return t.convertCueToDOMTree(self,this.text)},a}(),kr=function(){function t(){(0,h.default)(this,t)}return(0,p.default)(t,[{key:"decode",value:function(t,e){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}]),t}();function Sr(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+parseFloat(n||0)}var i=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return i?parseFloat(i[2])>59?e(i[2],i[3],0,i[4]):e(i[1],i[2],i[3],i[4]):null}var Tr=function(){function t(){(0,h.default)(this,t),this.values=Object.create(null)}return(0,p.default)(t,[{key:"set",value:function(t,e){this.get(t)||""===e||(this.values[t]=e)}},{key:"get",value:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e}},{key:"has",value:function(t){return t in this.values}},{key:"alt",value:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}}},{key:"integer",value:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))}},{key:"percent",value:function(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){var i=parseFloat(e);if(i>=0&&i<=100)return this.set(t,i),!0}return!1}}]),t}();function Er(t,e,i,n){var r=n?t.split(n):[t];for(var a in r)if("string"===typeof r[a]){var o=r[a].split(i);if(2===o.length){var s=o[0],l=o[1];e(s,l)}}}var Ar=new wr(0,0,""),xr="middle"===Ar.align?"middle":"center";function Lr(t,e,i){var n=t;function r(){var e=Sr(t);if(null===e)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.slice(3),a(),e.endTime=r(),a(),function(t,e){var n=new Tr;Er(t,(function(t,e){var r;switch(t){case"region":for(var a=i.length-1;a>=0;a--)if(i[a].id===e){n.set(t,i[a].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":r=e.split(","),n.integer(t,r[0]),n.percent(t,r[0])&&n.set("snapToLines",!1),n.alt(t,r[0],["auto"]),2===r.length&&n.alt("lineAlign",r[1],["start",xr,"end"]);break;case"position":r=e.split(","),n.percent(t,r[0]),2===r.length&&n.alt("positionAlign",r[1],["start",xr,"end","line-left","line-right","auto"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start",xr,"end","left","right"]);break}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");var r=n.get("line","auto");"auto"===r&&-1===Ar.line&&(r=-1),e.line=r,e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align",xr);var a=n.get("position","auto");"auto"===a&&50===Ar.position&&(a="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=a}(t,e)}function Ir(t){return t.replace(/<br(?: \/)?>/gi,"\n")}var Cr=function(){function t(){(0,h.default)(this,t),this.state="INITIAL",this.buffer="",this.decoder=new kr,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}return(0,p.default)(t,[{key:"parse",value:function(t){var e=this;function i(){var t=e.buffer,i=0;t=Ir(t);while(i<t.length&&"\r"!==t[i]&&"\n"!==t[i])++i;var n=t.slice(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.slice(i),n}function n(t){Er(t,(function(t,e){}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var r="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;r=i();var a=r.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==a||!a[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}var o=!1;while(e.buffer){if(!/\r\n|\n/.test(e.buffer))return this;switch(o?o=!1:r=i(),e.state){case"HEADER":/:/.test(r)?n(r):r||(e.state="ID");continue;case"NOTE":r||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){e.state="NOTE";break}if(!r)continue;if(e.cue=new wr(0,0,""),e.state="CUE",-1===r.indexOf("--\x3e")){e.cue.id=r;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{Lr(r,e.cue,e.regionList)}catch(l){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(o=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=r;continue;case"BADCUE":r||(e.state="ID")}}}catch(l){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}},{key:"flush",value:function(){try{if((this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state||"BADWEBVTT"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){this.onparsingerror&&this.onparsingerror(t)}return this.onflush&&this.onflush(),this}}]),t}(),Dr=/\r\n|\n\r|\n|\r/g,Or=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.slice(i,i+e.length)===e},Rr=function(t){var e=5381,i=t.length;while(i)e=33*e^t.charCodeAt(--i);return(e>>>0).toString()};function Pr(t,e,i){return Rr(t.toString())+Rr(e.toString())+Rr(i)}function Mr(t,e,i,n,r,a,o){var s,l=new Cr,u=bt(new Uint8Array(t)).trim().replace(Dr,"\n").split("\n"),c=[],d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return pn(t,9e4,1/e)}(e.baseTime,e.timescale),f="00:00.000",h=0,p=0,v=!0;l.oncue=function(t){var e=i[n],a=i.ccOffset,o=(h-d)/9e4;null!=e&&e.new&&(void 0!==p?a=i.ccOffset=e.start:function(t,e,i){var n=t[e],r=t[n.prevCC];if(!r||!r.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,void(n.new=!1);while(null!=(a=r)&&a.new){var a;t.ccOffset+=n.start-r.start,n.new=!1,n=r,r=t[n.prevCC]}t.presentationOffset=i}(i,n,o)),o&&(a=o-i.presentationOffset);var s=t.endTime-t.startTime,l=bn(9e4*(t.startTime+a-p),9e4*r)/9e4;t.startTime=Math.max(l,0),t.endTime=Math.max(l+s,0);var u=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(u)),t.id||(t.id=Pr(t.startTime,t.endTime,u)),t.endTime>0&&c.push(t)},l.onparsingerror=function(t){s=t},l.onflush=function(){s?o(s):a(c)},u.forEach((function(t){if(v){if(Or(t,"X-TIMESTAMP-MAP=")){v=!1,t.slice(16).split(",").forEach((function(t){Or(t,"LOCAL:")?f=t.slice(6):Or(t,"MPEGTS:")&&(h=parseInt(t.slice(7)))}));try{p=function(t){var e=parseInt(t.slice(-3)),i=parseInt(t.slice(-6,-4)),n=parseInt(t.slice(-9,-7)),r=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!A(e)||!A(i)||!A(n)||!A(r))throw Error("Malformed X-TIMESTAMP-MAP: Local:".concat(t));return e+=1e3*i,e+=6e4*n,e+=36e5*r,e}(f)/1e3}catch(e){s=e}return}""===t&&(v=!1)}l.parse(t+"\n")})),l.flush()}var Fr=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Br=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Nr={left:"start",center:"center",right:"end",start:"start",end:"end"};function Ur(t,e,i,n){var r=Ct(new Uint8Array(t),["mdat"]);if(0!==r.length){var a=r.map((function(t){return bt(t)})),o=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pn(t,e,1/i,n)}(e.baseTime,1,e.timescale);try{a.forEach((function(t){return i(function(t,e){var i=new DOMParser,n=i.parseFromString(t,"text/xml"),r=n.getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");var a={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(a).reduce((function(t,e){return t[e]=r.getAttribute("ttp:".concat(e))||a[e],t}),{}),s="preserve"!==r.getAttribute("xml:space"),l=jr($r(r,"styling","style")),u=jr($r(r,"layout","region")),c=$r(r,"body","[begin]");return[].map.call(c,(function(t){var i=function t(e,i){return[].slice.call(e.childNodes).reduce((function(e,n,r){var a;return"br"===n.nodeName&&r?e+"\n":null!=(a=n.childNodes)&&a.length?t(n,i):i?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent}),"")}(t,s);if(!i||!t.hasAttribute("begin"))return null;var n=Vr(t.getAttribute("begin"),o),r=Vr(t.getAttribute("dur"),o),a=Vr(t.getAttribute("end"),o);if(null===n)throw Gr(t);if(null===a){if(null===r)throw Gr(t);a=n+r}var c=new wr(n-e,a-e,i);c.id=Pr(c.startTime,c.endTime,c.text);var d=u[t.getAttribute("region")],f=l[t.getAttribute("style")],h=function(t,e,i){var n="http://www.w3.org/ns/ttml#styling",r=null,a=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;a&&i.hasOwnProperty(a)&&(r=i[a]);return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(i,a){var o=Hr(e,n,a)||Hr(t,n,a)||Hr(r,n,a);return o&&(i[a]=o),i}),{})}(d,f,l),p=h.textAlign;if(p){var v=Nr[p];v&&(c.lineAlign=v),c.align=p}return E(c,h),c})).filter((function(t){return null!==t}))}(t,o))}))}catch(s){n(s)}}else n(new Error("Could not parse IMSC1 mdat"))}function $r(t,e,i){var n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(i)):[]}function jr(t){return t.reduce((function(t,e){var i=e.getAttribute("xml:id");return i&&(t[i]=e),t}),{})}function Hr(t,e,i){return t&&t.hasAttributeNS(e,i)?t.getAttributeNS(e,i):null}function Gr(t){return new Error("Could not parse ttml timestamp ".concat(t))}function Vr(t,e){if(!t)return null;var i=Sr(t);return null===i&&(Fr.test(t)?i=function(t,e){var i=Fr.exec(t),n=(0|i[4])+(0|i[5])/e.subFrameRate;return 3600*(0|i[1])+60*(0|i[2])+(0|i[3])+n/e.frameRate}(t,e):Br.test(t)&&(i=function(t,e){var i=Br.exec(t),n=Number(i[1]),r=i[2];switch(r){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}(t,e))),i}var Kr=function(){function t(e){if((0,h.default)(this,t),this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=Wr(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var i=new _r(this,"textTrack1"),n=new _r(this,"textTrack2"),r=new _r(this,"textTrack3"),a=new _r(this,"textTrack4");this.cea608Parser1=new gr(1,i,n),this.cea608Parser2=new gr(3,r,a)}e.on(x.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(x.MANIFEST_LOADING,this.onManifestLoading,this),e.on(x.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(x.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(x.FRAG_LOADING,this.onFragLoading,this),e.on(x.FRAG_LOADED,this.onFragLoaded,this),e.on(x.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(x.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(x.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(x.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(x.BUFFER_FLUSHING,this.onBufferFlushing,this)}return(0,p.default)(t,[{key:"destroy",value:function(){var t=this.hls;t.off(x.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(x.MANIFEST_LOADING,this.onManifestLoading,this),t.off(x.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(x.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(x.FRAG_LOADING,this.onFragLoading,this),t.off(x.FRAG_LOADED,this.onFragLoaded,this),t.off(x.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(x.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(x.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(x.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(x.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}},{key:"addCues",value:function(t,e,i,n,r){for(var a=!1,o=r.length;o--;){var s=r[o],l=Yr(s[0],s[1],e,i);if(l>=0&&(s[0]=Math.min(s[0],e),s[1]=Math.max(s[1],i),a=!0,l/(i-e)>.5))return}if(a||r.push([e,i]),this.config.renderTextTracksNatively){var u=this.captionsTracks[t];this.Cues.newCue(u,e,i,n)}else{var c=this.Cues.newCue(null,e,i,n);this.hls.trigger(x.CUES_PARSED,{type:"captions",cues:c,track:t})}}},{key:"onInitPtsFound",value:function(t,e){var i=this,n=e.frag,r=e.id,a=e.initPTS,o=e.timescale,s=this.unparsedVttFrags;"main"===r&&(this.initPTS[n.cc]={baseTime:a,timescale:o}),s.length&&(this.unparsedVttFrags=[],s.forEach((function(t){i.onFragLoaded(x.FRAG_LOADED,t)})))}},{key:"getExistingTrack",value:function(t){var e=this.media;if(e)for(var i=0;i<e.textTracks.length;i++){var n=e.textTracks[i];if(n[t])return n}return null}},{key:"createCaptionsTrack",value:function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)}},{key:"createNativeTrack",value:function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,i=this.captionsTracks,n=this.media,r=e[t],a=r.label,o=r.languageCode,s=this.getExistingTrack(t);if(s)i[t]=s,be(i[t]),me(i[t],n);else{var l=this.createTextTrack("captions",a,o);l&&(l[t]=!0,i[t]=l)}}}},{key:"createNonNativeTrack",value:function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var i=e.label,n={_id:t,label:i,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(x.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}}},{key:"createTextTrack",value:function(t,e,i){var n=this.media;if(n)return n.addTextTrack(t,e,i)}},{key:"onMediaAttaching",value:function(t,e){this.media=e.media,this._cleanTracks()}},{key:"onMediaDetaching",value:function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){be(t[e]),delete t[e]})),this.nonNativeCaptionsTracks={}}},{key:"onManifestLoading",value:function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=Wr(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}},{key:"_cleanTracks",value:function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var i=0;i<e.length;i++)be(e[i])}}},{key:"onSubtitleTracksUpdated",value:function(t,e){var i=this,n=e.subtitleTracks||[],r=n.some((function(t){return"stpp.ttml.im1t"===t.textCodec}));if(this.config.enableWebVTT||r&&this.config.enableIMSC1){var a=zn(this.tracks,n);if(a)return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){var o=this.media?this.media.textTracks:null;this.tracks.forEach((function(t,e){var n;if(o&&e<o.length){for(var r=null,a=0;a<o.length;a++)if(zr(o[a],t)){r=o[a];break}r&&(n=r)}if(n)be(n);else{var s=i._captionsOrSubtitlesFromCharacteristics(t);n=i.createTextTrack(s,t.name,t.lang),n&&(n.mode="disabled")}n&&(n.groupId=t.groupId,i.textTracks.push(n))}))}else if(this.tracks.length){var s=this.tracks.map((function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}}));this.hls.trigger(x.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}}},{key:"_captionsOrSubtitlesFromCharacteristics",value:function(t){if(t.attrs.CHARACTERISTICS){var e=/transcribes-spoken-dialog/gi.test(t.attrs.CHARACTERISTICS),i=/describes-music-and-sound/gi.test(t.attrs.CHARACTERISTICS);if(e&&i)return"captions"}return"subtitles"}},{key:"onManifestLoaded",value:function(t,e){var i=this;this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((function(t){var e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(e){var n="textTrack".concat(e[1]),r=i.captionsProperties[n];r&&(r.label=t.name,t.lang&&(r.languageCode=t.lang),r.media=t)}}))}},{key:"closedCaptionsForLevel",value:function(t){var e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]}},{key:"onFragLoading",value:function(t,e){var i=this.cea608Parser1,n=this.cea608Parser2,r=this.lastSn,a=this.lastPartIndex;if(this.enabled&&i&&n&&e.frag.type===he.MAIN){var o,s,l=e.frag.sn,u=null!=(o=null==e||null==(s=e.part)?void 0:s.index)?o:-1;l===r+1||l===r&&u===a+1||(i.reset(),n.reset()),this.lastSn=l,this.lastPartIndex=u}}},{key:"onFragLoaded",value:function(t,e){var i=e.frag,n=e.payload,r=this.initPTS,a=this.unparsedVttFrags;if(i.type===he.SUBTITLE)if(n.byteLength){if(!r[i.cc])return a.push(e),void(r.length&&this.hls.trigger(x.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Missing initial subtitle PTS")}));var o=i.decryptdata,s="stats"in e;if(null==o||!o.encrypted||s){var l=this.tracks[i.level],u=this.vttCCs;u[i.cc]||(u[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),l&&"stpp.ttml.im1t"===l.textCodec?this._parseIMSC1(i,n):this._parseVTTs(i,n,u)}}else this.hls.trigger(x.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}},{key:"_parseIMSC1",value:function(t,e){var i=this,n=this.hls;Ur(e,this.initPTS[t.cc],(function(e){i._appendCues(e,t.level),n.trigger(x.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(e){M.log("Failed to parse IMSC1: ".concat(e)),n.trigger(x.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))}},{key:"_parseVTTs",value:function(t,e,i){var n,r=this,a=this.hls,o=null!=(n=t.initSegment)&&n.data?Mt(t.initSegment.data,new Uint8Array(e)):e;Mr(o,this.initPTS[t.cc],i,t.cc,t.start,(function(e){r._appendCues(e,t.level),a.trigger(x.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(i){r._fallbackToIMSC1(t,e),M.log("Failed to parse VTT cue: ".concat(i)),a.trigger(x.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:i})}))}},{key:"_fallbackToIMSC1",value:function(t,e){var i=this,n=this.tracks[t.level];n.textCodec||Ur(e,this.initPTS[t.cc],(function(){n.textCodec="stpp.ttml.im1t",i._parseIMSC1(t,e)}),(function(){n.textCodec="wvtt"}))}},{key:"_appendCues",value:function(t,e){var i=this.hls;if(this.config.renderTextTracksNatively){var n=this.textTracks[e];if(!n||"disabled"===n.mode)return;t.forEach((function(t){return ye(n,t)}))}else{var r=this.tracks[e];if(!r)return;var a=r.default?"default":"subtitles"+e;i.trigger(x.CUES_PARSED,{type:"subtitles",cues:t,track:a})}}},{key:"onFragDecrypted",value:function(t,e){var i=e.frag;if(i.type===he.SUBTITLE){if(!this.initPTS[i.cc])return void this.unparsedVttFrags.push(e);this.onFragLoaded(x.FRAG_LOADED,e)}}},{key:"onSubtitleTracksCleared",value:function(){this.tracks=[],this.captionsTracks={}}},{key:"onFragParsingUserdata",value:function(t,e){var i=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&i&&n){var r=e.frag,a=e.samples;if(r.type!==he.MAIN||"NONE"!==this.closedCaptionsForLevel(r))for(var o=0;o<a.length;o++){var s=a[o].bytes;if(s){var l=this.extractCea608Data(s);i.addData(a[o].pts,l[0]),n.addData(a[o].pts,l[1])}}}}},{key:"onBufferFlushing",value:function(t,e){var i=e.startOffset,n=e.endOffset,r=e.endOffsetSubtitles,a=e.type,o=this.media;if(o&&!(o.currentTime<n)){if(!a||"video"===a){var s=this.captionsTracks;Object.keys(s).forEach((function(t){return _e(s[t],i,n)}))}if(this.config.renderTextTracksNatively&&0===i&&void 0!==r){var l=this.textTracks;Object.keys(l).forEach((function(t){return _e(l[t],i,r)}))}}}},{key:"extractCea608Data",value:function(t){for(var e=[[],[]],i=31&t[0],n=2,r=0;r<i;r++){var a=t[n++],o=127&t[n++],s=127&t[n++];if(0!==o||0!==s){var l=0!==(4&a);if(l){var u=3&a;0!==u&&1!==u||(e[u].push(o),e[u].push(s))}}}return e}}]),t}();function zr(t,e){return!!t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function Yr(t,e,i,n){return Math.min(e,n)-Math.max(t,i)}function Wr(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}var Qr=function(){function t(e){(0,h.default)(this,t),this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}return(0,p.default)(t,[{key:"setStreamController",value:function(t){this.streamController=t}},{key:"destroy",value:function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}},{key:"registerListeners",value:function(){var t=this.hls;t.on(x.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(x.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(x.MANIFEST_PARSED,this.onManifestParsed,this),t.on(x.BUFFER_CODECS,this.onBufferCodecs,this),t.on(x.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"unregisterListener",value:function(){var t=this.hls;t.off(x.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(x.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(x.MANIFEST_PARSED,this.onManifestParsed,this),t.off(x.BUFFER_CODECS,this.onBufferCodecs,this),t.off(x.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"onFpsDropLevelCapping",value:function(t,e){var i=this.hls.levels[e.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}},{key:"onMediaAttaching",value:function(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null}},{key:"onManifestParsed",value:function(t,e){var i=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,i.config.capLevelToPlayerSize&&e.video&&this.startCapping()}},{key:"onBufferCodecs",value:function(t,e){var i=this.hls;i.config.capLevelToPlayerSize&&e.video&&this.startCapping()}},{key:"onMediaDetaching",value:function(){this.stopCapping()}},{key:"detectPlayerSize",value:function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var t=this.hls.levels;if(t.length){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}},{key:"getMaxLevel",value:function(e){var i=this,n=this.hls.levels;if(!n.length)return-1;var r=n.filter((function(t,n){return i.isLevelAllowed(t)&&n<=e}));return this.clientRect=null,t.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}},{key:"startCapping",value:function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"stopCapping",value:function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}},{key:"getDimensions",value:function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var i=t.getBoundingClientRect();e.width=i.width,e.height=i.height,e.width||e.height||(e.width=i.right-i.left||t.width||0,e.height=i.bottom-i.top||t.height||0)}return this.clientRect=e,e}},{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(e){}return t}},{key:"isLevelAllowed",value:function(t){var e=this.restrictedLevels;return!e.some((function(e){return t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height}))}}],[{key:"getMaxLevelByMediaSize",value:function(t,e,i){if(null==t||!t.length)return-1;for(var n=function(t,e){return!e||(t.width!==e.width||t.height!==e.height)},r=t.length-1,a=0;a<t.length;a+=1){var o=t[a];if((o.width>=e||o.height>=i)&&n(o,t[a+1])){r=a;break}}return r}}]),t}(),qr=function(){function t(e){(0,h.default)(this,t),this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}return(0,p.default)(t,[{key:"setStreamController",value:function(t){this.streamController=t}},{key:"registerListeners",value:function(){this.hls.on(x.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"unregisterListeners",value:function(){this.hls.off(x.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}},{key:"onMediaAttaching",value:function(t,e){var i=this.hls.config;if(i.capLevelOnFPSDrop){var n=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=n,n&&"function"===typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}},{key:"checkFPS",value:function(t,e,i){var n=performance.now();if(e){if(this.lastTime){var r=n-this.lastTime,a=i-this.lastDroppedFrames,o=e-this.lastDecodedFrames,s=1e3*a/r,l=this.hls;if(l.trigger(x.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:i}),s>0&&a>l.config.fpsDroppedMonitoringThreshold*o){var u=l.currentLevel;M.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(x.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=i,this.lastDecodedFrames=e}}},{key:"checkFPSInterval",value:function(){var t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}}]),t}(),Xr=function(){function t(e){(0,h.default)(this,t),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=t.CDMCleanupPromise?[t.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=M.debug.bind(M,"[eme]"),this.log=M.log.bind(M,"[eme]"),this.warn=M.warn.bind(M,"[eme]"),this.error=M.error.bind(M,"[eme]"),this.hls=e,this.config=e.config,this.registerListeners()}return(0,p.default)(t,[{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached();var t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}},{key:"registerListeners",value:function(){this.hls.on(x.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(x.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(x.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(x.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"unregisterListeners",value:function(){this.hls.off(x.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(x.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(x.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(x.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"getLicenseServerUrl",value:function(t){var e=this.config,i=e.drmSystems,n=e.widevineLicenseUrl,r=i[t];if(r)return r.licenseUrl;if(t===X.WIDEVINE&&n)return n;throw new Error('no license server URL configured for key-system "'.concat(t,'"'))}},{key:"getServerCertificateUrl",value:function(t){var e=this.config.drmSystems,i=e[t];if(i)return i.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'.concat(t,'"]'))}},{key:"attemptKeySystemAccess",value:function(t){var e=this,i=this.hls.levels,n=function(t,e,i){return!!t&&i.indexOf(t)===e},r=i.map((function(t){return t.audioCodec})).filter(n),a=i.map((function(t){return t.videoCodec})).filter(n);return r.length+a.length===0&&a.push("avc1.42e01e"),new Promise((function(i,n){(function t(o){var s=o.shift();e.getMediaKeysPromise(s,r,a).then((function(t){return i({keySystem:s,mediaKeys:t})})).catch((function(e){o.length?t(o):n(e instanceof Jr?e:new Jr({type:L.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message))}))})(t)}))}},{key:"requestMediaKeySystemAccess",value:function(t,e){var i=this.config.requestMediaKeySystemAccessFunc;if("function"!==typeof i){var n="Configured requestMediaKeySystemAccess is not a function ".concat(i);return null===nt&&"http:"===self.location.protocol&&(n="navigator.requestMediaKeySystemAccess is not available over insecure protocol ".concat(location.protocol)),Promise.reject(new Error(n))}return i(t,e)}},{key:"getMediaKeysPromise",value:function(t,e,i){var n=this,r=function(t,e,i,n){var r;switch(t){case X.FAIRPLAY:r=["cenc","sinf"];break;case X.WIDEVINE:case X.PLAYREADY:r=["cenc"];break;case X.CLEARKEY:r=["cenc","keyids"];break;default:throw new Error("Unknown key-system: ".concat(t))}return function(t,e,i,n){var r={initDataTypes:t,persistentState:n.persistentState||"not-allowed",distinctiveIdentifier:n.distinctiveIdentifier||"not-allowed",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map((function(t){return{contentType:'audio/mp4; codecs="'.concat(t,'"'),robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null}})),videoCapabilities:i.map((function(t){return{contentType:'video/mp4; codecs="'.concat(t,'"'),robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}}))};return[r]}(r,e,i,n)}(t,e,i,this.config.drmSystemOptions),a=this.keySystemAccessPromises[t],o=null==a?void 0:a.keySystemAccess;if(!o){this.log('Requesting encrypted media "'.concat(t,'" key-system access with config: ').concat(JSON.stringify(r))),o=this.requestMediaKeySystemAccess(t,r);var s=this.keySystemAccessPromises[t]={keySystemAccess:o};return o.catch((function(e){n.log('Failed to obtain access to key-system "'.concat(t,'": ').concat(e))})),o.then((function(e){n.log('Access for key-system "'.concat(e.keySystem,'" obtained'));var i=n.fetchServerCertificate(t);return n.log('Create media-keys for "'.concat(t,'"')),s.mediaKeys=e.createMediaKeys().then((function(e){return n.log('Media-keys created for "'.concat(t,'"')),i.then((function(i){return i?n.setMediaKeysServerCertificate(e,t,i):e}))})),s.mediaKeys.catch((function(e){n.error('Failed to create media-keys for "'.concat(t,'"}: ').concat(e))})),s.mediaKeys}))}return o.then((function(){return a.mediaKeys}))}},{key:"createMediaKeySessionContext",value:function(t){var e=t.decryptdata,i=t.keySystem,n=t.mediaKeys;this.log('Creating key-system session "'.concat(i,'" keyId: ').concat(wt.hexDump(e.keyId||[])));var r=n.createSession(),a={decryptdata:e,keySystem:i,mediaKeys:n,mediaKeysSession:r,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}},{key:"renewKeySession",value:function(t){var e=t.decryptdata;if(e.pssh){var i=this.createMediaKeySessionContext(t),n=this.getKeyIdString(e);this.keyIdToKeySessionPromise[n]=this.generateRequestWithPreferredKeySession(i,"cenc",e.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}},{key:"getKeyIdString",value:function(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return wt.hexDump(t.keyId)}},{key:"updateKeySession",value:function(t,e){var i,n=t.mediaKeysSession;return this.log('Updating key-session "'.concat(n.sessionId,'" for keyID ').concat(wt.hexDump((null==(i=t.decryptdata)?void 0:i.keyId)||[]),"\n      } (data length: ").concat(e?e.byteLength:e,")")),n.update(e)}},{key:"selectKeySystemFormat",value:function(t){var e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: ".concat(t.sn," ").concat(t.type,": ").concat(t.level,") key formats ").concat(e.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise}},{key:"getKeyFormatPromise",value:function(t){var e=this;return new Promise((function(i,n){var r=it(e.config),a=t.map(Z).filter((function(t){return!!t&&-1!==r.indexOf(t)}));return e.getKeySystemSelectionPromise(a).then((function(t){var e=t.keySystem,r=et(e);r?i(r):n(new Error('Unable to find format for key-system "'.concat(e,'"')))})).catch(n)}))}},{key:"loadKey",value:function(t){var e=this,i=t.keyInfo.decryptdata,n=this.getKeyIdString(i),r="(keyId: ".concat(n,' format: "').concat(i.keyFormat,'" method: ').concat(i.method," uri: ").concat(i.uri,")");this.log("Starting session for key ".concat(r));var a=this.keyIdToKeySessionPromise[n];return a||(a=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(i).then((function(n){var a=n.keySystem,o=n.mediaKeys;return e.throwIfDestroyed(),e.log("Handle encrypted media sn: ".concat(t.frag.sn," ").concat(t.frag.type,": ").concat(t.frag.level," using key ").concat(r)),e.attemptSetMediaKeys(a,o).then((function(){e.throwIfDestroyed();var t=e.createMediaKeySessionContext({keySystem:a,mediaKeys:o,decryptdata:i});return e.generateRequestWithPreferredKeySession(t,"cenc",i.pssh,"playlist-key")}))})),a.catch((function(t){return e.handleError(t)}))),a}},{key:"throwIfDestroyed",value:function(){if(!this.hls)throw new Error("invalid state")}},{key:"handleError",value:function(t){this.hls&&(this.error(t.message),t instanceof Jr?this.hls.trigger(x.ERROR,t.data):this.hls.trigger(x.ERROR,{type:L.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}},{key:"getKeySystemForKeyPromise",value:function(t){var e=this.getKeyIdString(t),i=this.keyIdToKeySessionPromise[e];if(!i){var n=Z(t.keyFormat),r=n?[n]:it(this.config);return this.attemptKeySystemAccess(r)}return i}},{key:"getKeySystemSelectionPromise",value:function(t){if(t.length||(t=it(this.config)),0===t.length)throw new Jr({type:L.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options ".concat(JSON.stringify({drmSystems:this.config.drmSystems})));return this.attemptKeySystemAccess(t)}},{key:"_onMediaEncrypted",value:function(t){var e=this,i=t.initDataType,n=t.initData;if(this.debug('"'.concat(t.type,'" event: init data type: "').concat(i,'"')),null!==n){var r,a;if("sinf"===i&&this.config.drmSystems[X.FAIRPLAY]){var o=Et(new Uint8Array(n));try{var s=W(JSON.parse(o).sinf),l=Rt(new Uint8Array(s));if(!l)return;r=l.subarray(8,24),a=X.FAIRPLAY}catch(m){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var u=function(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;var e={version:0,systemId:"",kids:null,data:null},i=new DataView(t),n=i.getUint32(0);if(t.byteLength!==n&&n>44)return null;var r=i.getUint32(4);if(1886614376!==r)return null;if(e.version=i.getUint32(8)>>>24,e.version>1)return null;e.systemId=wt.hexDump(new Uint8Array(t,12,16));var a=i.getUint32(28);if(0===e.version){if(n-32<a)return null;e.data=new Uint8Array(t,32,a)}else if(1===e.version){e.kids=[];for(var o=0;o<a;o++)e.kids.push(new Uint8Array(t,32+16*o,16))}return e}(n);if(null===u)return;0===u.version&&u.systemId===tt.WIDEVINE&&u.data&&(r=u.data.subarray(8,24)),a=function(t){if(t===tt.WIDEVINE)return X.WIDEVINE}(u.systemId)}if(a&&r){for(var c=wt.hexDump(r),d=this.keyIdToKeySessionPromise,f=this.mediaKeySessions,h=d[c],p=function(t){var a=f[t],o=a.decryptdata;if(o.pssh||!o.keyId)return"continue";var s=wt.hexDump(o.keyId);return c===s||-1!==o.uri.replace(/-/g,"").indexOf(c)?(h=d[s],delete d[s],o.pssh=new Uint8Array(n),o.keyId=r,h=d[c]=h.then((function(){return e.generateRequestWithPreferredKeySession(a,i,n,"encrypted-event-key-match")})),"break"):void 0},v=0;v<f.length;v++){var g=p(v);if("continue"!==g&&"break"===g)break}h||(h=d[c]=this.getKeySystemSelectionPromise([a]).then((function(t){var a,o=t.keySystem,s=t.mediaKeys;e.throwIfDestroyed();var l=new Ht("ISO-23001-7",c,null!=(a=et(o))?a:"");return l.pssh=new Uint8Array(n),l.keyId=r,e.attemptSetMediaKeys(o,s).then((function(){e.throwIfDestroyed();var t=e.createMediaKeySessionContext({decryptdata:l,keySystem:o,mediaKeys:s});return e.generateRequestWithPreferredKeySession(t,i,n,"encrypted-event-no-match")}))}))),h.catch((function(t){return e.handleError(t)}))}}}},{key:"_onWaitingForKey",value:function(t){this.log('"'.concat(t.type,'" event'))}},{key:"attemptSetMediaKeys",value:function(t,e){var i=this,n=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'.concat(t,'"'));var r=Promise.all(n).then((function(){if(!i.media)throw new Error("Attempted to set mediaKeys without media element attached");return i.media.setMediaKeys(e)}));return this.setMediaKeysQueue.push(r),r.then((function(){i.log('Media-keys set for "'.concat(t,'"')),n.push(r),i.setMediaKeysQueue=i.setMediaKeysQueue.filter((function(t){return-1===n.indexOf(t)}))}))}},{key:"generateRequestWithPreferredKeySession",value:function(t,e,i,n){var r,a,o=this,s=null==(r=this.config.drmSystems)||null==(a=r[t.keySystem])?void 0:a.generateRequest;if(s)try{var l=s.call(this.hls,e,i,t);if(!l)throw new Error("Invalid response from configured generateRequest filter");e=l.initDataType,i=t.decryptdata.pssh=l.initData?new Uint8Array(l.initData):null}catch(h){var u;if(this.warn(h.message),null!=(u=this.hls)&&u.config.debug)throw h}if(null===i)return this.log('Skipping key-session request for "'.concat(n,'" (no initData)')),Promise.resolve(t);var c=this.getKeyIdString(t.decryptdata);this.log('Generating key-session request for "'.concat(n,'": ').concat(c," (init data type: ").concat(e," length: ").concat(i?i.byteLength:null,")"));var d=new Mn;t.mediaKeysSession.onmessage=function(e){var i=t.mediaKeysSession;if(i){var n=e.messageType,r=e.message;o.log('"'.concat(n,'" message event for session "').concat(i.sessionId,'" message size: ').concat(r.byteLength)),"license-request"===n||"license-renewal"===n?o.renewLicense(t,r).catch((function(t){o.handleError(t),d.emit("error",t)})):"license-release"===n?t.keySystem===X.FAIRPLAY&&(o.updateKeySession(t,q("acknowledged")),o.removeSession(t)):o.warn('unhandled media key message type "'.concat(n,'"'))}else d.emit("error",new Error("invalid state"))},t.mediaKeysSession.onkeystatuseschange=function(e){var i=t.mediaKeysSession;if(i){o.onKeyStatusChange(t);var n=t.keyStatus;d.emit("keyStatus",n),"expired"===n&&(o.warn("".concat(t.keySystem," expired for key ").concat(c)),o.renewKeySession(t))}else d.emit("error",new Error("invalid state"))};var f=new Promise((function(t,e){d.on("error",e),d.on("keyStatus",(function(i){i.startsWith("usable")?t():"output-restricted"===i?e(new Jr({type:L.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===i?e(new Jr({type:L.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'.concat(i,'"'))):"expired"===i?e(new Error("key expired while generating request")):o.warn('unhandled key status change "'.concat(i,'"'))}))}));return t.mediaKeysSession.generateRequest(e,i).then((function(){var e;o.log('Request generated for key-session "'.concat(null==(e=t.mediaKeysSession)?void 0:e.sessionId,'" keyId: ').concat(c))})).catch((function(t){throw new Jr({type:L.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_NO_SESSION,error:t,fatal:!1},"Error generating key-session request: ".concat(t))})).then((function(){return f})).catch((function(e){throw d.removeAllListeners(),o.removeSession(t),e})).then((function(){return d.removeAllListeners(),t}))}},{key:"onKeyStatusChange",value:function(t){var e=this;t.mediaKeysSession.keyStatuses.forEach((function(i,n){e.log('key status change "'.concat(i,'" for keyStatuses keyId: ').concat(wt.hexDump("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))," session keyId: ").concat(wt.hexDump(new Uint8Array(t.decryptdata.keyId||[]))," uri: ").concat(t.decryptdata.uri)),t.keyStatus=i}))}},{key:"fetchServerCertificate",value:function(t){var e=this.config,i=e.loader,n=new i(e),r=this.getServerCertificateUrl(t);return r?(this.log('Fetching serverCertificate for "'.concat(t,'"')),new Promise((function(i,a){var o={responseType:"arraybuffer",url:r},s=e.certLoadPolicy.default,l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:function(t,e,n,r){i(t.data)},onError:function(e,i,n,s){a(new Jr({type:L.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:n,response:S({url:o.url,data:void 0},e)},'"'.concat(t,'" certificate request failed (').concat(r,"). Status: ").concat(e.code," (").concat(e.text,")")))},onTimeout:function(e,i,n){a(new Jr({type:L.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:n,response:{url:o.url,data:void 0}},'"'.concat(t,'" certificate request timed out (').concat(r,")")))},onAbort:function(t,e,i){a(new Error("aborted"))}};n.load(o,l,u)}))):Promise.resolve()}},{key:"setMediaKeysServerCertificate",value:function(t,e,i){var n=this;return new Promise((function(r,a){t.setServerCertificate(i).then((function(a){n.log("setServerCertificate ".concat(a?"success":"not supported by CDM"," (").concat(null==i?void 0:i.byteLength,') on "').concat(e,'"')),r(t)})).catch((function(t){a(new Jr({type:L.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message))}))}))}},{key:"renewLicense",value:function(t,e){var i=this;return this.requestLicense(t,new Uint8Array(e)).then((function(e){return i.updateKeySession(t,new Uint8Array(e)).catch((function(t){throw new Jr({type:L.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:t,fatal:!0},t.message)}))}))}},{key:"setupLicenseXHR",value:function(t,e,i,n){var r=this,a=this.config.licenseXhrSetup;return a?Promise.resolve().then((function(){if(!i.decryptdata)throw new Error("Key removed");return a.call(r.hls,t,e,i,n)})).catch((function(o){if(!i.decryptdata)throw o;return t.open("POST",e,!0),a.call(r.hls,t,e,i,n)})).then((function(i){t.readyState||t.open("POST",e,!0);var r=i||n;return{xhr:t,licenseChallenge:r}})):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:n}))}},{key:"requestLicense",value:function(t,e){var i=this,n=this.config.keyLoadPolicy.default;return new Promise((function(r,a){var o=i.getLicenseServerUrl(t.keySystem);i.log("Sending license request to URL: ".concat(o));var s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=function(){if(!i.hls||!t.mediaKeysSession)return a(new Error("invalid state"));if(4===s.readyState)if(200===s.status){i._requestLicenseFailureCount=0;var l=s.response;i.log("License received ".concat(l instanceof ArrayBuffer?l.byteLength:l));var u=i.config.licenseResponseCallback;if(u)try{l=u.call(i.hls,s,o,t)}catch(h){i.error(h)}r(l)}else{var c=n.errorRetry,d=c?c.maxNumRetry:0;if(i._requestLicenseFailureCount++,i._requestLicenseFailureCount>d||s.status>=400&&s.status<500)a(new Jr({type:L.KEY_SYSTEM_ERROR,details:I.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:{url:o,data:void 0,code:s.status,text:s.statusText}},"License Request XHR failed (".concat(o,"). Status: ").concat(s.status," (").concat(s.statusText,")")));else{var f=d-i._requestLicenseFailureCount+1;i.warn("Retrying license request, ".concat(f," attempts left")),i.requestLicense(t,e).then(r,a)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=s,i.setupLicenseXHR(s,o,t,e).then((function(t){var e=t.xhr,i=t.licenseChallenge;e.send(i)}))}))}},{key:"onMediaAttached",value:function(t,e){if(this.config.emeEnabled){var i=e.media;this.media=i,i.addEventListener("encrypted",this.onMediaEncrypted),i.addEventListener("waitingforkey",this.onWaitingForKey)}}},{key:"onMediaDetached",value:function(){var e=this,i=this.media,n=this.mediaKeySessions;i&&(i.removeEventListener("encrypted",this.onMediaEncrypted),i.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Ht.clearKeyUriToKeyIdMap();var r=n.length;t.CDMCleanupPromise=Promise.all(n.map((function(t){return e.removeSession(t)})).concat(null==i?void 0:i.setMediaKeys(null).catch((function(t){e.log("Could not clear media keys: ".concat(t,". media.src: ").concat(null==i?void 0:i.src))})))).then((function(){r&&(e.log("finished closing key sessions and clearing media keys"),n.length=0)})).catch((function(t){e.log("Could not close sessions and clear media keys: ".concat(t,". media.src: ").concat(null==i?void 0:i.src))}))}},{key:"onManifestLoading",value:function(){this.keyFormatPromise=null}},{key:"onManifestLoaded",value:function(t,e){var i=e.sessionKeys;if(i&&this.config.emeEnabled&&!this.keyFormatPromise){var n=i.reduce((function(t,e){return-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t}),[]);this.log("Selecting key-system from session-keys ".concat(n.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(n)}}},{key:"removeSession",value:function(t){var e=this,i=t.mediaKeysSession,n=t.licenseXhr;if(i){this.log("Remove licenses and keys and close session ".concat(i.sessionId)),i.onmessage=null,i.onkeystatuseschange=null,n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;var r=this.mediaKeySessions.indexOf(t);return r>-1&&this.mediaKeySessions.splice(r,1),i.remove().catch((function(t){e.log("Could not remove session: ".concat(t))})).then((function(){return i.close()})).catch((function(t){e.log("Could not close session: ".concat(t))}))}}}]),t}();Xr.CDMCleanupPromise=void 0;var Jr=function(t){(0,u.default)(i,t);var e=y(i);function i(t,n){var r;return(0,h.default)(this,i),r=e.call(this,n),r.data=void 0,t.error||(t.error=new Error(n)),r.data=t,t.err=t.error,r}return(0,p.default)(i)}((0,s.default)(Error)),Zr={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},ta=function(){function t(e){var i=this;(0,h.default)(this,t),this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){i.initialized&&(i.starved=!0),i.buffering=!0},this.onPlaying=function(){i.initialized||(i.initialized=!0),i.buffering=!1},this.applyPlaylistData=function(t){try{i.apply(t,{ot:Zr.MANIFEST,su:!i.initialized})}catch(e){M.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=function(t){try{var e=t.frag,n=i.hls.levels[e.level],r=i.getObjectType(e),a={d:1e3*e.duration,ot:r};r!==Zr.VIDEO&&r!==Zr.AUDIO&&r!=Zr.MUXED||(a.br=n.bitrate/1e3,a.tb=i.getTopBandwidth(r)/1e3,a.bl=i.getBufferLength(r)),i.apply(t,a)}catch(o){M.warn("Could not generate segment CMCD data.",o)}},this.hls=e;var n=this.config=e.config,r=n.cmcd;null!=r&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||t.uuid(),this.cid=r.contentId,this.useHeaders=!0===r.useHeaders,this.registerListeners())}return(0,p.default)(t,[{key:"registerListeners",value:function(){var t=this.hls;t.on(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(x.MEDIA_DETACHED,this.onMediaDetached,this),t.on(x.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t.off(x.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(x.MEDIA_DETACHED,this.onMediaDetached,this),t.off(x.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}},{key:"onMediaAttached",value:function(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}},{key:"onMediaDetached",value:function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}},{key:"onBufferCreated",value:function(t,e){var i,n;this.audioBuffer=null==(i=e.tracks.audio)?void 0:i.buffer,this.videoBuffer=null==(n=e.tracks.video)?void 0:n.buffer}},{key:"createData",value:function(){var t;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}},{key:"apply",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E(i,this.createData());var n=i.ot===Zr.INIT||i.ot===Zr.VIDEO||i.ot===Zr.MUXED;if(this.starved&&n&&(i.bs=!0,i.su=!0,this.starved=!1),null==i.su&&(i.su=this.buffering),this.useHeaders){var r=t.toHeaders(i);if(!Object.keys(r).length)return;e.headers||(e.headers={}),E(e.headers,r)}else{var a=t.toQuery(i);if(!a)return;e.url=t.appendQueryToUri(e.url,a)}}},{key:"getObjectType",value:function(t){var e=t.type;return"subtitle"===e?Zr.TIMED_TEXT:"initSegment"===t.sn?Zr.INIT:"audio"===e?Zr.AUDIO:"main"===e?this.hls.audioTracks.length?Zr.VIDEO:Zr.MUXED:void 0}},{key:"getTopBandwidth",value:function(t){var e,i=0,n=this.hls;if(t===Zr.AUDIO)e=n.audioTracks;else{var r=n.maxAutoLevel,a=r>-1?r+1:n.levels.length;e=n.levels.slice(0,a)}var o,s=g(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.bitrate>i&&(i=l.bitrate)}}catch(ma){s.e(ma)}finally{s.f()}return i>0?i:NaN}},{key:"getBufferLength",value:function(t){var e=this.hls.media,i=t===Zr.AUDIO?this.audioBuffer:this.videoBuffer;if(!i||!e)return NaN;var n=pi.bufferInfo(i,e.currentTime,this.config.maxBufferHole);return 1e3*n.len}},{key:"createPlaylistLoader",value:function(){var t=this.config.pLoader,e=this.applyPlaylistData,i=t||this.config.loader;return function(){function t(e){(0,h.default)(this,t),this.loader=void 0,this.loader=new i(e)}return(0,p.default)(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(t,i,n){e(t),this.loader.load(t,i,n)}}]),t}()}},{key:"createFragmentLoader",value:function(){var t=this.config.fLoader,e=this.applyFragmentData,i=t||this.config.loader;return function(){function t(e){(0,h.default)(this,t),this.loader=void 0,this.loader=new i(e)}return(0,p.default)(t,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(t,i,n){e(t),this.loader.load(t,i,n)}}]),t}()}}],[{key:"uuid",value:function(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)}},{key:"serialize",value:function(t){var e,i=[],n=function(t){return!Number.isNaN(t)&&null!=t&&""!==t&&!1!==t},r=function(t){return Math.round(t)},a=function(t){return 100*r(t/100)},o={br:r,d:r,bl:a,dl:a,mtp:a,nor:function(t){return encodeURIComponent(t)},rtp:a,tb:r},s=Object.keys(t||{}).sort(),l=g(s);try{for(l.s();!(e=l.n()).done;){var u=e.value,c=t[u];if(n(c)&&(("v"!==u||1!==c)&&("pr"!=u||1!==c))){var d=o[u];d&&(c=d(c));var f=(0,v.default)(c),h=void 0;h="ot"===u||"sf"===u||"st"===u?"".concat(u,"=").concat(c):"boolean"===f?u:"number"===f?"".concat(u,"=").concat(c):"".concat(u,"=").concat(JSON.stringify(c)),i.push(h)}}}catch(ma){l.e(ma)}finally{l.f()}return i.join(",")}},{key:"toHeaders",value:function(e){for(var i=Object.keys(e),n={},r=["Object","Request","Session","Status"],a=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},s=0,l=i;s<l.length;s++){var u=l[s],c=null!=o[u]?o[u]:1;a[c][u]=e[u]}for(var d=0;d<a.length;d++){var f=t.serialize(a[d]);f&&(n["CMCD-".concat(r[d])]=f)}return n}},{key:"toQuery",value:function(e){return"CMCD=".concat(encodeURIComponent(t.serialize(e)))}},{key:"appendQueryToUri",value:function(t,e){if(!e)return t;var i=t.includes("?")?"&":"?";return"".concat(t).concat(i).concat(e)}}]),t}(),ea=function(){function t(e){(0,h.default)(this,t),this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=M.log.bind(M,"[content-steering]:"),this.registerListeners()}return(0,p.default)(t,[{key:"registerListeners",value:function(){var t=this.hls;t.on(x.MANIFEST_LOADING,this.onManifestLoading,this),t.on(x.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(x.MANIFEST_PARSED,this.onManifestParsed,this),t.on(x.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var t=this.hls;t&&(t.off(x.MANIFEST_LOADING,this.onManifestLoading,this),t.off(x.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(x.MANIFEST_PARSED,this.onManifestParsed,this),t.off(x.ERROR,this.onError,this))}},{key:"startLoad",value:function(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){var t=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,t)}else this.loadSteeringManifest(this.uri)}},{key:"stopLoad",value:function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}},{key:"destroy",value:function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"removeLevel",value:function(t){var e=this.levels;e&&(this.levels=e.filter((function(e){return e!==t})))}},{key:"onManifestLoading",value:function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"onManifestLoaded",value:function(t,e){var i=e.contentSteering;null!==i&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}},{key:"onManifestParsed",value:function(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}},{key:"onError",value:function(t,e){var i=e.errorAction;if((null==i?void 0:i.action)===We.SendAlternateToPenaltyBox&&i.flags===Qe.MoveAllAlternatesMatchingHost){var n=this.pathwayPriority,r=this.pathwayId;this.penalizedPathways[r]||(this.penalizedPathways[r]=performance.now()),!n&&this.levels&&(n=this.levels.reduce((function(t,e){return-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t}),[])),n&&n.length>1&&(this.updatePathwayPriority(n),i.resolved=this.pathwayId!==r)}}},{key:"filterParsedLevels",value:function(t){this.levels=t;var e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){var i=t[0].pathwayId;this.log("No levels found in Pathway ".concat(this.pathwayId,'. Setting initial Pathway to "').concat(i,'"')),e=this.getLevelsForPathway(i),this.pathwayId=i}return e.length!==t.length?(this.log("Found ".concat(e.length,"/").concat(t.length,' levels in Pathway "').concat(this.pathwayId,'"')),e):t}},{key:"getLevelsForPathway",value:function(t){return null===this.levels?[]:this.levels.filter((function(e){return t===e.pathwayId}))}},{key:"updatePathwayPriority",value:function(t){var e;this.pathwayPriority=t;var i=this.penalizedPathways,n=performance.now();Object.keys(i).forEach((function(t){n-i[t]>3e5&&delete i[t]}));for(var r=0;r<t.length;r++){var a=t[r];if(!i[a]){if(a===this.pathwayId)return;var o=this.hls.nextLoadLevel,s=this.hls.levels[o];if(e=this.getLevelsForPathway(a),e.length>0){this.log('Setting Pathway to "'.concat(a,'"')),this.pathwayId=a,this.hls.trigger(x.LEVELS_UPDATED,{levels:e});var l=this.hls.levels[o];s&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==s.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==s.bitrate&&this.log("Unstable Pathways change from bitrate ".concat(s.bitrate," to ").concat(l.bitrate)),this.hls.nextLoadLevel=o);break}}}}},{key:"clonePathways",value:function(t){var e=this,i=this.levels;if(i){var n={},a={};t.forEach((function(t){var o=t.ID,s=t["BASE-ID"],l=t["URI-REPLACEMENT"];if(!i.some((function(t){return t.pathwayId===o}))){var u=e.getLevelsForPathway(s).map((function(t){var e=E({},t);e.details=void 0,e.url=na(t.uri,t.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l);var i=new N(t.attrs);i["PATHWAY-ID"]=o;var r=i.AUDIO&&"".concat(i.AUDIO,"_clone_").concat(o),s=i.SUBTITLES&&"".concat(i.SUBTITLES,"_clone_").concat(o);r&&(n[i.AUDIO]=r,i.AUDIO=r),s&&(a[i.SUBTITLES]=s,i.SUBTITLES=s),e.attrs=i;var u=new De(e);return ti(u,"audio",r),ti(u,"text",s),u}));i.push.apply(i,(0,r.default)(u)),ia(e.audioTracks,n,l,o),ia(e.subtitleTracks,a,l,o)}}))}}},{key:"loadSteeringManifest",value:function(t){var e,i=this,n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);try{e=new self.URL(t)}catch(d){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: ".concat(t))}if("data:"!==e.protocol){var a=0|(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate);e.searchParams.set("_HLS_pathway",this.pathwayId),e.searchParams.set("_HLS_throughput",""+a)}var o={responseType:"json",url:e.href},s=n.steeringManifestLoadPolicy.default,l=s.errorRetry||s.timeoutRetry||{},u={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},c={onSuccess:function(t,n,r,a){i.log('Loaded steering manifest: "'.concat(e,'"'));var o=t.data;if(1===o.VERSION){i.updated=performance.now(),i.timeToLoad=o.TTL;var s=o["RELOAD-URI"],l=o["PATHWAY-CLONES"],u=o["PATHWAY-PRIORITY"];if(s)try{i.uri=new self.URL(s,e).href}catch(d){return i.enabled=!1,void i.log("Failed to parse Steering Manifest RELOAD-URI: ".concat(s))}i.scheduleRefresh(i.uri||r.url),l&&i.clonePathways(l),u&&i.updatePathwayPriority(u)}else i.log("Steering VERSION ".concat(o.VERSION," not supported!"))},onError:function(t,e,n,r){if(i.log("Error loading steering manifest: ".concat(t.code," ").concat(t.text," (").concat(e.url,")")),i.stopLoad(),410===t.code)return i.enabled=!1,void i.log("Steering manifest ".concat(e.url," no longer available"));var a=1e3*i.timeToLoad;if(429!==t.code)i.scheduleRefresh(i.uri||e.url,a);else{var o=i.loader;if("function"===typeof(null==o?void 0:o.getResponseHeader)){var s=o.getResponseHeader("Retry-After");s&&(a=1e3*parseFloat(s))}i.log("Steering manifest ".concat(e.url," rate limited"))}},onTimeout:function(t,e,n){i.log("Timeout loading steering manifest (".concat(e.url,")")),i.scheduleRefresh(i.uri||e.url)}};this.log("Requesting steering manifest: ".concat(e)),this.loader.load(o,u,c)}},{key:"scheduleRefresh",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3*this.timeToLoad;self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout((function(){e.loadSteeringManifest(t)}),i)}}]),t}();function ia(t,e,i,n){t&&Object.keys(e).forEach((function(a){var o=t.filter((function(t){return t.groupId===a})).map((function(t){var r=E({},t);return r.details=void 0,r.attrs=new N(r.attrs),r.url=r.attrs.URI=na(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",i),r.groupId=r.attrs["GROUP-ID"]=e[a],r.attrs["PATHWAY-ID"]=n,r}));t.push.apply(t,(0,r.default)(o))}))}function na(t,e,i,n){var r,a=n.HOST,o=n.PARAMS,s=n[i];e&&(r=null==s?void 0:s[e],r&&(t=r));var l=new self.URL(t);return a&&!r&&(l.host=a),o&&Object.keys(o).sort().forEach((function(t){t&&l.searchParams.set(t,o[t])})),l.href}var ra=/^age:\s*[\d.]+\s*$/im,aa=function(){function t(e){(0,h.default)(this,t),this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new H,this.retryDelay=0}return(0,p.default)(t,[{key:"destroy",value:function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}},{key:"abortInternal",value:function(){var t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))}},{key:"abort",value:function(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}},{key:"load",value:function(t,e,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=i,this.loadInternal()}},{key:"loadInternal",value:function(){var t=this,e=this.config,i=this.context;if(e){var n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0;var a=this.xhrSetup;a?Promise.resolve().then((function(){if(!t.stats.aborted)return a(n,i.url)})).catch((function(t){return n.open("GET",i.url,!0),a(n,i.url)})).then((function(){t.stats.aborted||t.openAndSendXhr(n,i,e)})).catch((function(e){t.callbacks.onError({code:n.status,text:e.message},i,n,r)})):this.openAndSendXhr(n,i,e)}}},{key:"openAndSendXhr",value:function(t,e,i){t.readyState||t.open("GET",e.url,!0);var n=this.context.headers,r=i.loadPolicy,a=r.maxTimeToFirstByteMs,o=r.maxLoadTimeMs;if(n)for(var s in n)t.setRequestHeader(s,n[s]);e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),i.timeout=a&&A(a)?a:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),t.send()}},{key:"readystatechange",value:function(){var t=this.context,e=this.loader,i=this.stats;if(t&&e){var n=e.readyState,r=this.config;if(!i.aborted&&n>=2&&(0===i.loading.first&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),r.timeout!==r.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),r.timeout=r.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),4===n)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;var a=e.status,o="text"!==e.responseType;if(a>=200&&a<300&&(o&&e.response||null!==e.responseText)){i.loading.end=Math.max(self.performance.now(),i.loading.first);var s=o?e.response:e.responseText,l="arraybuffer"===e.responseType?s.byteLength:s.length;if(i.loaded=i.total=l,i.bwEstimate=8e3*i.total/(i.loading.end-i.loading.first),!this.callbacks)return;var u=this.callbacks.onProgress;if(u&&u(i,t,s,e),!this.callbacks)return;var c={url:e.responseURL,data:s,code:a};this.callbacks.onSuccess(c,i,t,e)}else{var d=r.loadPolicy.errorRetry,f=i.retry;Ge(d,f,!1,a)?this.retry(d):(M.error("".concat(a," while loading ").concat(t.url)),this.callbacks.onError({code:a,text:e.statusText},t,e,i))}}}}},{key:"loadtimeout",value:function(){var t,e=null==(t=this.config)?void 0:t.loadPolicy.timeoutRetry,i=this.stats.retry;if(Ge(e,i,!0))this.retry(e);else{M.warn("timeout while loading ".concat(this.context.url));var n=this.callbacks;n&&(this.abortInternal(),n.onTimeout(this.stats,this.context,this.loader))}}},{key:"retry",value:function(t){var e=this.context,i=this.stats;this.retryDelay=je(t,i.retry),i.retry++,M.warn("".concat(status?"HTTP Status "+status:"Timeout"," while loading ").concat(e.url,", retrying ").concat(i.retry,"/").concat(t.maxNumRetry," in ").concat(this.retryDelay,"ms")),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}},{key:"loadprogress",value:function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)}},{key:"getCacheAge",value:function(){var t=null;if(this.loader&&ra.test(this.loader.getAllResponseHeaders())){var e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t}},{key:"getResponseHeader",value:function(t){return this.loader&&new RegExp("^".concat(t,":\\s*[\\d.]+\\s*$"),"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}]),t}();var oa=/(\d+)-(\d+)\/(\d+)/,sa=function(){function t(e){(0,h.default)(this,t),this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||la,this.controller=new self.AbortController,this.stats=new H}return(0,p.default)(t,[{key:"destroy",value:function(){this.loader=this.callbacks=null,this.abortInternal()}},{key:"abortInternal",value:function(){var t=this.response;null!=t&&t.ok||(this.stats.aborted=!0,this.controller.abort())}},{key:"abort",value:function(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}},{key:"load",value:function(t,e,i){var n=this,r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();var a=function(t,e){var i={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(E({},t.headers))};t.rangeEnd&&i.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1));return i}(t,this.controller.signal),o=i.onProgress,s="arraybuffer"===t.responseType,l=s?"byteLength":"length",u=e.loadPolicy,c=u.maxTimeToFirstByteMs,d=u.maxLoadTimeMs;this.context=t,this.config=e,this.callbacks=i,this.request=this.fetchSetup(t,a),self.clearTimeout(this.requestTimeout),e.timeout=c&&A(c)?c:d,this.requestTimeout=self.setTimeout((function(){n.abortInternal(),i.onTimeout(r,t,n.response)}),e.timeout),self.fetch(this.request).then((function(a){n.response=n.loader=a;var l=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(n.requestTimeout),e.timeout=d,n.requestTimeout=self.setTimeout((function(){n.abortInternal(),i.onTimeout(r,t,n.response)}),d-(l-r.loading.start)),!a.ok){var u=a.status,c=a.statusText;throw new ua(c||"fetch, bad network response",u,a)}return r.loading.first=l,r.total=function(t){var e=t.get("Content-Range");if(e){var i=function(t){var e=oa.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}(e);if(A(i))return i}var n=t.get("Content-Length");if(n)return parseInt(n)}(a.headers)||r.total,o&&A(e.highWaterMark)?n.loadProgressively(a,r,t,e.highWaterMark,o):s?a.arrayBuffer():"json"===t.responseType?a.json():a.text()})).then((function(a){var s=n.response;self.clearTimeout(n.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);var u=a[l];u&&(r.loaded=r.total=u);var c={url:s.url,data:a,code:s.status};o&&!A(e.highWaterMark)&&o(r,t,a,s),i.onSuccess(c,r,t,s)})).catch((function(e){if(self.clearTimeout(n.requestTimeout),!r.aborted){var a=e&&e.code||0,o=e?e.message:null;i.onError({code:a,text:o},t,e?e.details:null,r)}}))}},{key:"getCacheAge",value:function(){var t=null;if(this.response){var e=this.response.headers.get("age");t=e?parseFloat(e):null}return t}},{key:"getResponseHeader",value:function(t){return this.response?this.response.headers.get(t):null}},{key:"loadProgressively",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,a=new Gn,o=t.body.getReader(),s=function s(){return o.read().then((function(o){if(o.done)return a.dataLength&&r(e,i,a.flush(),t),Promise.resolve(new ArrayBuffer(0));var l=o.value,u=l.length;return e.loaded+=u,u<n||a.dataLength?(a.push(l),a.dataLength>=n&&r(e,i,a.flush(),t)):r(e,i,l,t),s()})).catch((function(){return Promise.reject()}))};return s()}}]),t}();function la(t,e){return new self.Request(t.url,e)}var ua=function(t){(0,u.default)(i,t);var e=y(i);function i(t,n,r){var a;return(0,h.default)(this,i),a=e.call(this,t),a.code=void 0,a.details=void 0,a.code=n,a.details=r,a}return(0,p.default)(i)}((0,s.default)(Error)),ca=/\s/,da={newCue:function(t,e,i,n){for(var r,a,o,s,l,u=[],c=self.VTTCue||self.TextTrackCue,d=0;d<n.rows.length;d++)if(r=n.rows[d],o=!0,s=0,l="",!r.isEmpty()){for(var f,h=0;h<r.chars.length;h++)ca.test(r.chars[h].uchar)&&o?s++:(l+=r.chars[h].uchar,o=!1);r.cueStartTime=e,e===i&&(i+=1e-4),s>=16?s--:s++;var p=Ir(l.trim()),v=Pr(e,i,p);null!=t&&null!=(f=t.cues)&&f.getCueById(v)||(a=new c(e,i,p),a.id=v,a.line=d+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*s/32)),u.push(a))}return t&&u.length&&(u.sort((function(t,e){return"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line})),u.forEach((function(e){return ye(t,e)}))),u}},fa=S(S({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:aa,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Hn,bufferController:er,capLevelController:Qr,errorController:qe,fpsController:qr,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:nt,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function(){return{cueHandler:da,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:Wn,subtitleTrackController:qn,timelineController:Kr,audioStreamController:Vn,audioTrackController:Kn,emeController:Xr,cmcdController:ta,contentSteeringController:ea});function ha(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var i=pa(t),n=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((function(t){var r="".concat("level"===t?"playlist":t,"LoadPolicy"),a=void 0===e[r],o=[];n.forEach((function(n){var s="".concat(t,"Loading").concat(n),l=e[s];if(void 0!==l&&a){o.push(s);var u=i[r].default;switch(e[r]={default:u},n){case"TimeOut":u.maxLoadTimeMs=l,u.maxTimeToFirstByteMs=l;break;case"MaxRetry":u.errorRetry.maxNumRetry=l,u.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":u.errorRetry.retryDelayMs=l,u.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":u.errorRetry.maxRetryDelayMs=l,u.timeoutRetry.maxRetryDelayMs=l;break}}})),o.length&&M.warn('hls.js config: "'.concat(o.join('", "'),'" setting(s) are deprecated, use "').concat(r,'": ').concat(JSON.stringify(e[r])))})),S(S({},i),e)}function pa(t){return t&&"object"===(0,v.default)(t)?Array.isArray(t)?t.map(pa):Object.keys(t).reduce((function(e,i){return e[i]=pa(t[i]),e}),{}):t}function va(t){var e=t.loader;if(e!==sa&&e!==aa)M.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1;else{var i=function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}();i&&(t.loader=sa,t.progressive=!0,t.enableSoftwareAES=!0,M.log("[config]: Progressive streaming enabled, using FetchLoader"))}}var ga=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.default)(this,t),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Mn,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,P(e.debug||!1,"Hls instance");var i=this.config=ha(t.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,i.progressive&&va(i);var n=i.abrController,r=i.bufferController,a=i.capLevelController,o=i.errorController,s=i.fpsController,l=new o(this),u=this.abrController=new n(this),c=this.bufferController=new r(this),d=this.capLevelController=new a(this),f=new s(this),p=new ge(this),v=new Ae(this),g=i.contentSteeringController,m=g?new g(this):null,y=this.levelController=new Ze(this,m),b=new ni(this),_=new di(this.config),w=this.streamController=new Un(this,b,_);d.setStreamController(w),f.setStreamController(w);var k=[p,y,w];m&&k.splice(1,0,m),this.networkControllers=k;var S=[u,c,d,f,v,b];this.audioTrackController=this.createController(i.audioTrackController,k);var T=i.audioStreamController;T&&k.push(new T(this,b,_)),this.subtitleTrackController=this.createController(i.subtitleTrackController,k);var E=i.subtitleStreamController;E&&k.push(new E(this,b,_)),this.createController(i.timelineController,S),_.emeController=this.emeController=this.createController(i.emeController,S),this.cmcdController=this.createController(i.cmcdController,S),this.latencyController=this.createController(xe,S),this.coreComponents=S,k.push(l);var A=l.onErrorOut;"function"===typeof A&&this.on(x.ERROR,A,l)}return(0,p.default)(t,[{key:"createController",value:function(t,e){if(t){var i=new t(this);return e&&e.push(i),i}return null}},{key:"on",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.on(t,e,i)}},{key:"once",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.once(t,e,i)}},{key:"removeAllListeners",value:function(t){this._emitter.removeAllListeners(t)}},{key:"off",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,n=arguments.length>3?arguments[3]:void 0;this._emitter.off(t,e,i,n)}},{key:"listeners",value:function(t){return this._emitter.listeners(t)}},{key:"emit",value:function(t,e,i){return this._emitter.emit(t,e,i)}},{key:"trigger",value:function(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(i){M.error("An internal error happened while handling event "+t+'. Error message: "'+i.message+'". Here is a stacktrace:',i),this.trigger(x.ERROR,{type:L.OTHER_ERROR,details:I.INTERNAL_EXCEPTION,fatal:!1,event:t,error:i})}return!1}},{key:"listenerCount",value:function(t){return this._emitter.listenerCount(t)}},{key:"destroy",value:function(){M.log("destroy"),this.trigger(x.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(t){return t.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(t){return t.destroy()})),this.coreComponents.length=0;var t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}},{key:"attachMedia",value:function(t){M.log("attachMedia"),this._media=t,this.trigger(x.MEDIA_ATTACHING,{media:t})}},{key:"detachMedia",value:function(){M.log("detachMedia"),this.trigger(x.MEDIA_DETACHING,void 0),this._media=null}},{key:"loadSource",value:function(t){this.stopLoad();var e=this.media,i=this.url,n=this.url=w.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});M.log("loadSource:".concat(n)),e&&i&&(i!==n||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(x.MANIFEST_LOADING,{url:t})}},{key:"startLoad",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;M.log("startLoad(".concat(t,")")),this.networkControllers.forEach((function(e){e.startLoad(t)}))}},{key:"stopLoad",value:function(){M.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))}},{key:"swapAudioCodec",value:function(){M.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){M.log("recoverMediaError");var t=this._media;this.detachMedia(),t&&this.attachMedia(t)}},{key:"removeLevel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.levelController.removeLevel(t,e)}},{key:"levels",get:function(){var t=this.levelController.levels;return t||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){M.log("set currentLevel:".concat(t)),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){M.log("set nextLevel:".concat(t)),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){M.log("set loadLevel:".concat(t)),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){M.log("set firstLevel:".concat(t)),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){M.log("set startLevel:".concat(t)),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){this._autoLevelCapping!==t&&(M.log("set autoLevelCapping:".concat(t)),this._autoLevelCapping=t)}},{key:"bandwidthEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(t){Le.indexOf(t)>-1&&(this._maxHdcpLevel=t)}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var t=this.levels,e=this.config.minAutoBitrate;if(!t)return 0;for(var i=t.length,n=0;n<i;n++)if(t[n].maxBitrate>=e)return n;return 0}},{key:"maxAutoLevel",get:function(){var t,e=this.levels,i=this.autoLevelCapping,n=this.maxHdcpLevel;if(t=-1===i&&e&&e.length?e.length-1:i,n)for(var r=t;r--;){var a=e[r].attrs["HDCP-LEVEL"];if(a&&a<=n)return r}return t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(t){this.config.lowLatencyMode=t}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.3"}},{key:"isSupported",value:function(){return function(){var t=Qt();if(!t)return!1;var e=Ii(),i=t&&"function"===typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove;return!!i&&!!n}()}},{key:"Events",get:function(){return x}},{key:"ErrorTypes",get:function(){return L}},{key:"ErrorDetails",get:function(){return I}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:fa},set:function(e){t.defaultConfig=e}}]),t}();e.default=ga,ga.defaultConfig=void 0},"87fd":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={indexAnchor:{text:"",color:"#606266",size:14,bgColor:"#dedede",height:32}}},"88f6":function(t,e,i){"use strict";i.r(e);var n=i("cad4"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},8962:function(t,e,i){var n=i("9f70");function r(){return"undefined"!==typeof Reflect&&Reflect.get?(t.exports=r=Reflect.get.bind(),t.exports.__esModule=!0,t.exports["default"]=t.exports):(t.exports=r=function(t,e,i){var r=n(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:i):a.value}},t.exports.__esModule=!0,t.exports["default"]=t.exports),r.apply(this,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},"89eb":function(t,e,i){"use strict";i.r(e);var n=i("4981"),r=i("381a");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"1a0b307a",null,!1,n["a"],void 0);e["default"]=s.exports},"8a29":function(t,e,i){"use strict";i.r(e);var n=i("2a7e"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"8aaa":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={fade:{enter:{opacity:0},"enter-to":{opacity:1},leave:{opacity:1},"leave-to":{opacity:0}},"fade-up":{enter:{opacity:0,transform:"translateY(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(100%)"}},"fade-down":{enter:{opacity:0,transform:"translateY(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(-100%)"}},"fade-left":{enter:{opacity:0,transform:"translateX(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(-100%)"}},"fade-right":{enter:{opacity:0,transform:"translateX(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(100%)"}},"slide-up":{enter:{transform:"translateY(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(100%)"}},"slide-down":{enter:{transform:"translateY(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(-100%)"}},"slide-left":{enter:{transform:"translateX(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(-100%)"}},"slide-right":{enter:{transform:"translateX(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(100%)"}},zoom:{enter:{transform:"scale(0.95)"},"enter-to":{transform:"scale(1)"},leave:{transform:"scale(1)"},"leave-to":{transform:"scale(0.95)"}},"fade-zoom":{enter:{opacity:0,transform:"scale(0.95)"},"enter-to":{opacity:1,transform:"scale(1)"},leave:{opacity:1,transform:"scale(1)"},"leave-to":{opacity:0,transform:"scale(0.95)"}}}},"8bbf":function(t,e){t.exports=Vue},"8d38":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={numberKeyboard:{mode:"number",dotDisabled:!1,random:!1}}},"8d59":function(t,e,i){"use strict";i.r(e);var n=i("9203"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"8d96":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={album:{urls:function(){return[]},keyName:"",singleSize:180,multipleSize:70,space:6,singleMode:"scaleToFill",multipleMode:"aspectFill",maxCount:9,previewFullImage:!0,rowCount:3,showMore:!0}}},"8e19":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("c973")),o=n(i("c2f9")),s={name:"u-row",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],data:function(){return{}},computed:{uJustify:function(){return"end"==this.justify||"start"==this.justify?"flex-"+this.justify:"around"==this.justify||"between"==this.justify?"space-"+this.justify:this.justify},uAlignItem:function(){return"top"==this.align?"flex-start":"bottom"==this.align?"flex-end":this.align},rowStyle:function(){var t={alignItems:this.uAlignItem,justifyContent:this.uJustify};return this.gutter&&(t.marginLeft=uni.$u.addUnit(-Number(this.gutter)/2),t.marginRight=uni.$u.addUnit(-Number(this.gutter)/2)),uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}},methods:{clickHandler:function(t){this.$emit("click")},getComponentWidth:function(){var t=this;return(0,a.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.$u.sleep();case 2:return e.abrupt("return",new Promise((function(e){t.$uGetRect(".u-row").then((function(t){e(t.width)}))})));case 3:case"end":return e.stop()}}),e)})))()}}};e.default=s},"8ea8":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("c973")),o=(n(i("8aaa")),function(t){return{enter:"u-".concat(t,"-enter u-").concat(t,"-enter-active"),"enter-to":"u-".concat(t,"-enter-to u-").concat(t,"-enter-active"),leave:"u-".concat(t,"-leave u-").concat(t,"-leave-active"),"leave-to":"u-".concat(t,"-leave-to u-").concat(t,"-leave-active")}}),s={methods:{clickHandler:function(){this.$emit("click")},vueEnter:function(){var t=this,e=o(this.mode);this.status="enter",this.$emit("beforeEnter"),this.inited=!0,this.display=!0,this.classes=e.enter,this.$nextTick((0,a.default)(r.default.mark((function i(){return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.$emit("enter"),t.transitionEnded=!1,t.$emit("afterEnter"),t.classes=e["enter-to"];case 4:case"end":return i.stop()}}),i)}))))},vueLeave:function(){var t=this;if(this.display){var e=o(this.mode);this.status="leave",this.$emit("beforeLeave"),this.classes=e.leave,this.$nextTick((function(){t.transitionEnded=!1,t.$emit("leave"),setTimeout(t.onTransitionEnd,t.duration),t.classes=e["leave-to"]}))}},onTransitionEnd:function(){this.transitionEnded||(this.transitionEnded=!0,this.$emit("leave"===this.status?"afterLeave":"afterEnter"),!this.show&&this.display&&(this.display=!1,this.inited=!1))}}};e.default=s},"8fbb":function(t,e,i){"use strict";i.r(e);var n=i("c14e"),r=i("32b6");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"0f0cb6d2",null,!1,n["a"],void 0);e["default"]=s.exports},"903d":function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("c973")),o=n(i("448a")),s=i("801f"),l={namespaced:!0,state:{searchList:null,searchHomeList:null,chapterInfo:null,ComicVal:null,onloadComicValImg:[],listcount:0},mutations:{addType:function(t,e){var i;e.data.forEach((function(t){t.type=e.type})),t.searchList||(t.searchList=[]),(i=t.searchList).push.apply(i,(0,o.default)(e.data)),t.listcount=e.count},addHomeType:function(t,e){var i;e.data.forEach((function(t){t.type=e.type})),t.searchHomeList=[],(i=t.searchHomeList).push.apply(i,(0,o.default)(e.data))},setComicVal:function(t,e){t.ComicVal=e.data},changeOnloadComicValImg:function(t){t.ComicVal.length&&t.onloadComicValImg.push(t.ComicVal.shift())},resetComicval:function(t,e){t.ComicVal=e,t.onloadComicValImg=[]},resetsearchList:function(t,e){t.searchList=e}},actions:{comicgetlist:function(t,e){return(0,a.default)(r.default.mark((function i(){var n;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,s.getsearchComic)(e);case 2:return n=i.sent,n.data&&t.commit("addType",{data:n.data,type:"comic",count:n.count}),i.abrupt("return",n.code);case 5:case"end":return i.stop()}}),i)})))()},homecomicgetlist:function(t,e){return(0,a.default)(r.default.mark((function i(){return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,n){(0,s.getsearchComic)(e).then((function(e){e.data&&t.commit("addHomeType",{data:e.data,type:"comic",count:e.count}),i(e)})).catch((function(t){n(t)}))})));case 1:case"end":return i.stop()}}),i)})))()},getsearchComicContentfun:function(e,i){var n=this;return(0,a.default)(r.default.mark((function a(){var o;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,s.getsearchComicContent)(i);case 2:return o=r.sent,o.data&&(t("log",o.data," at store/modules/comic.js:84"),e.commit("setComicVal",{data:o.data}),e.commit("changeOnloadComicValImg"),t("log",n.state," at store/modules/comic.js:87")),r.abrupt("return",o.code);case 5:case"end":return r.stop()}}),a)})))()}},getters:{comiclist:function(t){return t.searchHomeList?t.searchHomeList:[]},comicchapter:function(t){return t.chapterInfo?t.chapterInfo:null},onloadComicValImg:function(t){return t.chapterInfo?t.chapterInfo:null}}},u=l;e.default=u}).call(this,i("0de9")["default"])},"905a":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uTransition:i("e176").default,uIcon:i("be49").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("u-transition",{attrs:{mode:"fade",show:t.show,duration:t.fade?1e3:0,_i:0}},[i("view",{staticClass:t._$s(1,"sc","u-image"),style:t._$s(1,"s",[t.wrapStyle,t.backgroundStyle]),attrs:{_i:1},on:{click:t.onClick}},[t._$s(2,"i",!t.isError)?i("image",{staticClass:t._$s(2,"sc","u-image__image"),style:t._$s(2,"s",{borderRadius:"circle"==t.shape?"10000px":t.$u.addUnit(t.radius),width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)}),attrs:{src:t._$s(2,"a-src",t.src),mode:t._$s(2,"a-mode",t.mode),"show-menu-by-longpress":t._$s(2,"a-show-menu-by-longpress",t.showMenuByLongpress),"lazy-load":t._$s(2,"a-lazy-load",t.lazyLoad),_i:2},on:{error:t.onErrorHandler,load:t.onLoadHandler}}):t._e(),t._$s(3,"i",t.showLoading&&t.loading)?i("view",{staticClass:t._$s(3,"sc","u-image__loading"),style:t._$s(3,"s",{borderRadius:"circle"==t.shape?"50%":t.$u.addUnit(t.radius),backgroundColor:this.bgColor,width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)}),attrs:{_i:3}},[t._t("loading",[i("u-icon",{attrs:{name:t.loadingIcon,width:t.width,height:t.height,_i:5}})],{_i:4})],2):t._e(),t._$s(6,"i",t.showError&&t.isError&&!t.loading)?i("view",{staticClass:t._$s(6,"sc","u-image__error"),style:t._$s(6,"s",{borderRadius:"circle"==t.shape?"50%":t.$u.addUnit(t.radius),width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)}),attrs:{_i:6}},[t._t("error",[i("u-icon",{attrs:{name:t.errorIcon,width:t.width,height:t.height,_i:8}})],{_i:7})],2):t._e()])])},a=[]},9152:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,i,n,r){var a,o,s=8*r-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=i?r-1:0,f=i?-1:1,h=t[e+d];for(d+=f,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+t[e+d],d+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+t[e+d],d+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=u}return(h?-1:1)*o*Math.pow(2,a-n)},e.write=function(t,e,i,n,r,a){var o,s,l,u=8*a-r-1,c=(1<<u)-1,d=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,p=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),e+=o+d>=1?f/l:f*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(e*l-1)*Math.pow(2,r),o+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;t[i+h]=255&s,h+=p,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;t[i+h]=255&o,h+=p,o/=256,u-=8);t[i+h-p]|=128*v}},"919e":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","content"),attrs:{_i:0}})},r=[]},9203:function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("ad2a")),a=n(i("66ae")),o=n(i("4e51")),s=n(i("c851")),l=n(i("9949")),u={name:"mescroll-uni",mixins:[l.default],components:{MescrollTop:s.default},props:{down:Object,up:Object,i18n:Object,top:[String,Number],topbar:[Boolean,String],bottom:[String,Number],safearea:Boolean,fixed:{type:Boolean,default:!0},height:[String,Number],bottombar:{type:Boolean,default:!0},disableScroll:Boolean},data:function(){return{mescroll:{optDown:{},optUp:{}},viewId:"id_"+Math.random().toString(36).substr(2,16),downHight:0,downRate:0,downLoadType:0,upLoadType:0,isShowEmpty:!1,isShowToTop:!1,scrollTop:0,scrollAnim:!1,windowTop:0,windowBottom:0,windowHeight:0,statusBarHeight:0}},watch:{height:function(){this.setClientHeight()}},computed:{isFixed:function(){return!this.height&&this.fixed},scrollHeight:function(){return this.isFixed?"auto":this.height?this.toPx(this.height)+"px":"100%"},numTop:function(){return this.toPx(this.top)},fixedTop:function(){return this.isFixed?this.numTop+this.windowTop+"px":0},padTop:function(){return this.isFixed?0:this.numTop+"px"},numBottom:function(){return this.toPx(this.bottom)},fixedBottom:function(){return this.isFixed?this.numBottom+this.windowBottom+"px":0},padBottom:function(){return this.isFixed?0:this.numBottom+"px"},isDownReset:function(){return 3===this.downLoadType||4===this.downLoadType},transition:function(){return this.isDownReset?"transform 300ms":""},translateY:function(){return this.downHight>0?"translateY("+this.downHight+"px)":""},scrollable:function(){return!this.disableScroll&&(0===this.downLoadType||this.isDownReset)},isDownLoading:function(){return 3===this.downLoadType},downRotate:function(){return"rotate("+360*this.downRate+"deg)"},downText:function(){if(!this.mescroll)return"";switch(this.downLoadType){case 1:return this.mescroll.optDown.textInOffset;case 2:return this.mescroll.optDown.textOutOffset;case 3:return this.mescroll.optDown.textLoading;case 4:return this.mescroll.isDownEndSuccess?this.mescroll.optDown.textSuccess:0==this.mescroll.isDownEndSuccess?this.mescroll.optDown.textErr:this.mescroll.optDown.textInOffset;default:return this.mescroll.optDown.textInOffset}}},methods:{toPx:function(t){if("string"===typeof t)if(-1!==t.indexOf("px"))if(-1!==t.indexOf("rpx"))t=t.replace("rpx","");else{if(-1===t.indexOf("upx"))return Number(t.replace("px",""));t=t.replace("upx","")}else if(-1!==t.indexOf("%")){var e=Number(t.replace("%",""))/100;return this.windowHeight*e}return t?uni.upx2px(Number(t)):0},scroll:function(t){var e=this;this.mescroll.scroll(t.detail,(function(){e.$emit("scroll",e.mescroll)}))},emptyClick:function(){this.$emit("emptyclick",this.mescroll)},toTopClick:function(){this.mescroll.scrollTo(0,this.mescroll.optUp.toTop.duration),this.$emit("topclick",this.mescroll)},setClientHeight:function(){var t=this;this.isExec||(this.isExec=!0,this.$nextTick((function(){t.getClientInfo((function(e){t.isExec=!1,e?t.mescroll.setClientHeight(e.height):3!=t.clientNum&&(t.clientNum=null==t.clientNum?1:t.clientNum+1,setTimeout((function(){t.setClientHeight()}),100*t.clientNum))}))})))},getClientInfo:function(t){var e=uni.createSelectorQuery().in(this),i=e.select("#"+this.viewId);i.boundingClientRect((function(e){t(e)})).exec()}},created:function(){var e=this,i={down:{inOffset:function(){e.downLoadType=1},outOffset:function(){e.downLoadType=2},onMoving:function(t,i,n){e.downHight=n,e.downRate=i},showLoading:function(t,i){e.downLoadType=3,e.downHight=i},beforeEndDownScroll:function(t){return e.downLoadType=4,t.optDown.beforeEndDelay},endDownScroll:function(){e.downLoadType=4,e.downHight=0,e.downResetTimer&&clearTimeout(e.downResetTimer),e.downResetTimer=setTimeout((function(){4===e.downLoadType&&(e.downLoadType=0)}),300)},callback:function(t){e.$emit("down",t)}},up:{showLoading:function(){e.upLoadType=1},showNoMore:function(){e.upLoadType=2},hideUpScroll:function(t){e.upLoadType=t.optUp.hasNext?0:3},empty:{onShow:function(t){e.isShowEmpty=t}},toTop:{onShow:function(t){e.isShowToTop=t}},callback:function(t){e.$emit("up",t),e.setClientHeight()}}},n=o.default.getType(),s={type:n};r.default.extend(s,e.i18n),r.default.extend(s,a.default.i18n),r.default.extend(i,s[n]),r.default.extend(i,{down:a.default.down,up:a.default.up});var l=JSON.parse(JSON.stringify({down:e.down,up:e.up}));r.default.extend(l,i),e.mescroll=new r.default(l),e.mescroll.viewId=e.viewId,e.mescroll.i18n=s,e.$emit("init",e.mescroll);var u=uni.getSystemInfoSync();u.windowTop&&(e.windowTop=u.windowTop),u.windowBottom&&(e.windowBottom=u.windowBottom),u.windowHeight&&(e.windowHeight=u.windowHeight),u.statusBarHeight&&(e.statusBarHeight=u.statusBarHeight),e.mescroll.setBodyHeight(u.windowHeight),e.mescroll.resetScrollTo((function(i,n){if(e.scrollAnim=0!==n,"string"!==typeof i){var r=e.mescroll.getScrollTop();0===n||300===n?(e.scrollTop=r,e.$nextTick((function(){e.scrollTop=i}))):e.mescroll.getStep(r,i,(function(t){e.scrollTop=t}),n)}else e.getClientInfo((function(n){var r,a=n.top;-1==i.indexOf("#")&&-1==i.indexOf(".")?r="#"+i:(r=i,-1!=i.indexOf(">>>")&&(r=i.split(">>>")[1].trim())),uni.createSelectorQuery().select(r).boundingClientRect((function(i){if(i){var n=e.mescroll.getScrollTop(),o=i.top-a;o+=n,e.isFixed||(o-=e.numTop),e.scrollTop=n,e.$nextTick((function(){e.scrollTop=o}))}else t("error",r+" does not exist"," at components/mescroll-uni/mescroll-uni.vue:422")})).exec()}))})),e.up&&e.up.toTop&&null!=e.up.toTop.safearea||(e.mescroll.optUp.toTop.safearea=e.safearea),uni.$on("setMescrollGlobalOption",(function(t){if(t){var i=t.i18n?t.i18n.type:null;if(i&&e.mescroll.i18n.type!=i&&(e.mescroll.i18n.type=i,o.default.setType(i),r.default.extend(t,e.mescroll.i18n[i])),t.down){var n=r.default.extend({},t.down);e.mescroll.optDown=r.default.extend(n,e.mescroll.optDown)}if(t.up){var a=r.default.extend({},t.up);e.mescroll.optUp=r.default.extend(a,e.mescroll.optUp)}}}))},mounted:function(){this.setClientHeight()},destroyed:function(){uni.$off("setMescrollGlobalOption")}};e.default=u}).call(this,i("0de9")["default"])},9222:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uLoadingIcon:i("4693").default,uIcon:i("be49").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:t._$s(0,"sc","u-button u-reset-button"),class:t._$s(0,"c",t.bemClass),style:t._$s(0,"s",[t.baseColor,t.$u.addStyle(t.customStyle)]),attrs:{"hover-start-time":t._$s(0,"a-hover-start-time",Number(t.hoverStartTime)),"hover-stay-time":t._$s(0,"a-hover-stay-time",Number(t.hoverStayTime)),"form-type":t._$s(0,"a-form-type",t.formType),"open-type":t._$s(0,"a-open-type",t.openType),"app-parameter":t._$s(0,"a-app-parameter",t.appParameter),"hover-stop-propagation":t._$s(0,"a-hover-stop-propagation",t.hoverStopPropagation),"send-message-title":t._$s(0,"a-send-message-title",t.sendMessageTitle),"send-message-path":t._$s(0,"a-send-message-path",t.sendMessagePath),lang:t._$s(0,"a-lang",t.lang),"data-name":t._$s(0,"a-data-name",t.dataName),"session-from":t._$s(0,"a-session-from",t.sessionFrom),"send-message-img":t._$s(0,"a-send-message-img",t.sendMessageImg),"show-message-card":t._$s(0,"a-show-message-card",t.showMessageCard),"hover-class":t._$s(0,"a-hover-class",t.disabled||t.loading?"":"u-button--active"),_i:0},on:{getphonenumber:t.getphonenumber,getuserinfo:t.getuserinfo,error:t.error,opensetting:t.opensetting,launchapp:t.launchapp,click:t.clickHandler}},[t._$s(1,"i",t.loading)?[i("u-loading-icon",{attrs:{mode:t.loadingMode,size:1.15*t.loadingSize,color:t.loadingColor,_i:2}}),i("text",{staticClass:t._$s(3,"sc","u-button__loading-text"),style:t._$s(3,"s",[{fontSize:t.textSize+"px"}]),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.loadingText||t.text)))])]:[t._$s(5,"i",t.icon)?i("u-icon",{attrs:{name:t.icon,color:t.iconColorCom,size:1.35*t.textSize,customStyle:{marginRight:"2px"},_i:5}}):t._e(),t._t("default",[i("text",{staticClass:t._$s(7,"sc","u-button__text"),style:t._$s(7,"s",[{fontSize:t.textSize+"px"}]),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.text)))])],{_i:6})]],2)},a=[]},"924e":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),a=n(i("03b2")),o=(i("801f"),i("26cb"));function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={components:{Wnavbar:a.default},data:function(){return{upbotton:{show:!1,chapterId:"",title:"",id:""},downbotton:{show:!1,chapterId:"",title:"",id:""},searchData:{chapterId:"",title:"",fictionId:""},bookList:{}}},onLoad:function(t){this.searchData.chapterId=t.chapterId,this.searchData.title=t.title,this.searchData.fictionId=t.id,this.downbotton.id=t.id,this.upbotton.id=t.id,this.chapterInfo?this.showbotton(this.chapterInfo.chapterList):this.getBookChaptervuex(this.searchData),this.getsearchBookContentvuex(this.searchData)},methods:l(l(l({},(0,o.mapActions)({getsearchBookContentvuex:"book/getsearchBookContentfun",getBookChaptervuex:"chapter/getsearchBookChapterfun"})),(0,o.mapMutations)({resetbookval:"book/resetbookval"})),{},{showbotton:function(t){var e=this;t.forEach((function(i,n){var r,a,o,s,l,u;i.chapterId==e.searchData.chapterId&&(e.upbotton.show=!(null===(r=t[n-1])||void 0===r||!r.chapterId),e.upbotton.chapterId=null===(a=t[n-1])||void 0===a?void 0:a.chapterId,e.upbotton.title=null===(o=t[n-1])||void 0===o?void 0:o.title,e.downbotton.show=!(null===(s=t[n+1])||void 0===s||!s.chapterId),e.downbotton.chapterId=null===(l=t[n+1])||void 0===l?void 0:l.chapterId,e.downbotton.title=null===(u=t[n+1])||void 0===u?void 0:u.title)}))},bottonClick:function(t){var e;this.resetbookval(null),e=1==t?"/pageB/BookContent/content?chapterId=".concat(this.upbotton.chapterId,"&title=").concat(this.upbotton.title,"&id=").concat(this.upbotton.id):"/pageB/BookContent/content?chapterId=".concat(this.downbotton.chapterId,"&title=").concat(this.downbotton.title,"&id=").concat(this.downbotton.id),uni.redirectTo({url:e})}}),computed:l({},(0,o.mapState)({chapterInfo:function(t){return t.chapter.chapterInfo},bookval:function(t){return t.book.bookval}})),watch:{chapterInfo:{handler:function(t,e){this.showbotton(t.chapterList)},deep:!0}},beforeDestroy:function(){this.resetbookval(null)}};e.default=u},"927b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={popup:{show:!1,overlay:!0,mode:"bottom",duration:300,closeable:!1,overlayStyle:function(){},closeOnClickOverlay:!0,zIndex:10075,safeAreaInsetBottom:!0,safeAreaInsetTop:!1,closeIconPos:"top-right",round:0,zoom:!0,bgColor:"",overlayOpacity:.5}}},"92fb":function(t,e,i){"use strict";i.r(e);var n=i("9e10"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},"949a":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n(i("393a")),n(i("0678"));var r=n(i("6c7c")),a={name:"u-button",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{}},computed:{bemClass:function(){return this.color?this.bem("button",["shape","size"],["disabled","plain","hairline"]):this.bem("button",["type","shape","size"],["disabled","plain","hairline"])},loadingColor:function(){return this.plain?this.color?this.color:uni.$u.config.color["u-".concat(this.type)]:"info"===this.type?"#c9c9c9":"rgb(200, 200, 200)"},iconColorCom:function(){return this.iconColor?this.iconColor:this.plain?this.color?this.color:this.type:"info"===this.type?"#000000":"#ffffff"},baseColor:function(){var t={};return this.color&&(t.color=this.plain?this.color:"white",this.plain||(t["background-color"]=this.color),-1!==this.color.indexOf("gradient")?(t.borderTopWidth=0,t.borderRightWidth=0,t.borderBottomWidth=0,t.borderLeftWidth=0,this.plain||(t.backgroundImage=this.color)):(t.borderColor=this.color,t.borderWidth="1px",t.borderStyle="solid")),t},nvueTextStyle:function(){var t={};return"info"===this.type&&(t.color="#323233"),this.color&&(t.color=this.plain?this.color:"white"),t.fontSize=this.textSize+"px",t},textSize:function(){var t=14,e=this.size;return"large"===e&&(t=16),"normal"===e&&(t=14),"small"===e&&(t=12),"mini"===e&&(t=10),t}},methods:{clickHandler:function(){var t=this;this.disabled||this.loading||uni.$u.throttle((function(){t.$emit("click")}),this.throttleTime)},getphonenumber:function(t){this.$emit("getphonenumber",t)},getuserinfo:function(t){this.$emit("getuserinfo",t)},error:function(t){this.$emit("error",t)},opensetting:function(t){this.$emit("opensetting",t)},launchapp:function(t){this.$emit("launchapp",t)}}};e.default=a},9523:function(t,e,i){var n=i("a395");t.exports=function(t,e,i){return e=n(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},t.exports.__esModule=!0,t.exports["default"]=t.exports},9533:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={checkbox:{name:"",shape:"",size:"",checkbox:!1,disabled:"",activeColor:"",inactiveColor:"",iconSize:"",iconColor:"",label:"",labelSize:"",labelColor:"",labelDisabled:""}}},"954e":function(t,e,i){"use strict";i.r(e);var n=i("554d"),r=i("39cc");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},"95ee":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{show:{type:Boolean,default:uni.$u.props.transition.show},mode:{type:String,default:uni.$u.props.transition.mode},duration:{type:[String,Number],default:uni.$u.props.transition.duration},timingFunction:{type:String,default:uni.$u.props.transition.timingFunction}}};e.default=n},9641:function(t,e,i){"use strict";i.r(e);var n=i("14b1"),r=i("b907");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"b55bbdec",null,!1,n["a"],void 0);e["default"]=s.exports},"970b":function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports["default"]=t.exports},"971f":function(t,e,i){"use strict";i.r(e);var n=i("b663"),r=i("13b0");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"361197e0",null,!1,n["a"],void 0);e["default"]=s.exports},9949:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{wxsProp:{optDown:{},scrollTop:0,bodyHeight:0,isDownScrolling:!1,isUpScrolling:!1,isScrollBody:!0,isUpBoth:!0,t:0},callProp:{callType:"",t:0}}},methods:{wxsCall:function(t){"setWxsProp"===t.type?this.wxsProp={optDown:this.mescroll.optDown,scrollTop:this.mescroll.getScrollTop(),bodyHeight:this.mescroll.getBodyHeight(),isDownScrolling:this.mescroll.isDownScrolling,isUpScrolling:this.mescroll.isUpScrolling,isUpBoth:this.mescroll.optUp.isBoth,isScrollBody:this.mescroll.isScrollBody,t:Date.now()}:"setLoadType"===t.type?(this.downLoadType=t.downLoadType,this.$set(this.mescroll,"downLoadType",this.downLoadType),this.$set(this.mescroll,"isDownEndSuccess",null)):"triggerDownScroll"===t.type?this.mescroll.triggerDownScroll():"endDownScroll"===t.type?this.mescroll.endDownScroll():"triggerUpScroll"===t.type&&this.mescroll.triggerUpScroll(!0)}},mounted:function(){var t=this;this.mescroll.optDown.afterLoading=function(){t.callProp={callType:"showLoading",t:Date.now()}},this.mescroll.optDown.afterEndDownScroll=function(){t.callProp={callType:"endDownScroll",t:Date.now()};var e=300+(t.mescroll.optDown.beforeEndDelay||0);setTimeout((function(){4!==t.downLoadType&&0!==t.downLoadType||(t.callProp={callType:"clearTransform",t:Date.now()}),t.$set(t.mescroll,"downLoadType",t.downLoadType)}),e)},this.wxsCall({type:"setWxsProp"})}},r=n;e.default=r},"9af9":function(t,e,i){"use strict";i.r(e);var n=i("3499"),r=i("b100");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"09d26f3a",null,!1,n["a"],void 0);e["default"]=s.exports},"9b42":function(t,e){t.exports=function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a,o,s=[],l=!0,u=!1;try{if(a=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=a.call(i)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=i["return"]&&(o=i["return"](),Object(o)!==o))return}finally{if(u)throw r}}return s}},t.exports.__esModule=!0,t.exports["default"]=t.exports},"9b5a":function(t,e,i){"use strict";i.r(e);var n=i("aebe"),r=i("0739");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},"9c20":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={downScroll:i("23bf").default,uTabs:i("4964").default,uniSearchBar:i("954e").default,uGrid:i("f84c").default,uGridItem:i("4d07").default,uIcon:i("be49").default,uLoadingIcon:i("4693").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","content"),attrs:{_i:0}},[i("downScroll",{ref:"downscroll",attrs:{_i:1},on:{downLoadFun:t.loadXHRFun}},[i("u-tabs",{attrs:{itemStyle:"width:19%;height:80rpx",scrollable:!1,list:t.list1,_i:2},on:{click:t.clickTabs}}),i("view",{attrs:{_i:3},on:{click:t.searchfocus}},[i("uni-search-bar",{attrs:{placeholder:"\u641c\u7d22",focus:t.focus,readonly:!0,_i:4}})],1),i("u-grid",{attrs:{border:!1,col:"4",_i:5}},t._l(t._$s(6,"f",{forItems:t.baseList}),(function(e,n,r,a){return i("u-grid-item",{key:t._$s(6,"f",{forIndex:r,key:n}),attrs:{_i:"6-"+a},on:{click:function(i){return t.gridClick(e)}}},[i("u-icon",{attrs:{customStyle:{paddingTop:"20rpx"},name:e.name,size:22,_i:"7-"+a}}),i("text",{staticClass:t._$s("8-"+a,"sc","grid-text"),attrs:{_i:"8-"+a}},[t._v(t._$s("8-"+a,"t0-0",t._s(e.title)))])],1)})),1),t._$s(9,"i",t.loading)?i("view",[i("u-loading-icon",{attrs:{vertical:!0,_i:10}})],1):t._e(),t._$s(11,"i",!t.loading)?i("view",[i("homeItem",{attrs:{title:"\u5c0f\u8bf4-"+t.booksearchOption.key,data:t.searchBookList,type:"book",_i:12}}),i("homeItem",{attrs:{title:"\u6f2b\u753b-"+t.comicsearchOption.key,data:t.searchComicList,type:"comic",_i:13}}),i("homeItem",{attrs:{title:"\u89c6\u9891-"+t.videosearchOption.key,data:t.searchVideoList,type:"video",_i:14}})],1):t._e()],1)],1)},a=[]},"9d3e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={tabs:{duration:300,list:function(){return[]},lineColor:"#3c9cff",activeStyle:function(){return{color:"#303133"}},inactiveStyle:function(){return{color:"#606266"}},lineWidth:20,lineHeight:3,lineBgSize:"cover",itemStyle:function(){return{height:"44px"}},scrollable:!0,current:0,keyName:"name"}}},"9e10":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{selectList:{type:Array,default:[]},placeholder:{value:String,default:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"},value:{type:String,default:""},button:{value:String,default:"outside"},showSeachIcon:{value:Boolean,default:!0},showSeachBth:{value:Boolean,default:!0},radius:{value:String,default:60}},data:function(){return{showSelectList:!1,selectIndex:0,isFocus:!0,inputVal:"",searchName:"\u53d6\u6d88",isDelShow:!1}},methods:{selectItem:function(t){this.selectIndex=t,this.showSelectList=!this.showSelectList},selectClick:function(){this.showSelectList=!this.showSelectList},triggerConfirm:function(){var t={keyword:this.inputVal};this.selectList.length>0&&(t.selectIndex=this.selectIndex),this.$emit("confirm",t)},inputChange:function(t){var e=t.detail.value;this.$emit("input",e),this.inputVal&&(this.isDelShow=!0)},focus:function(){this.inputVal&&(this.isDelShow=!0)},blur:function(){this.isFocus=!1,uni.hideKeyboard()},clear:function(){uni.hideKeyboard(),this.isFocus=!1,this.inputVal="",this.$emit("input","")},getFocus:function(){this.isFocus=!0},search:function(){var t={keyword:this.inputVal};this.selectList.length>0&&(t.selectIndex=this.selectIndex),this.$emit("search",t)}},watch:{inputVal:function(t){t?this.searchName="\u641c\u7d22":(this.searchName="\u53d6\u6d88",this.isDelShow=!1)},value:function(t){this.inputVal=t.trim()}}};e.default=n},"9e46":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("abd9")),a=n(i("19b8")),o={name:"u--text",mixins:[uni.$u.mpMixin,a.default,uni.$u.mixin],components:{uvText:r.default}};e.default=o},"9e83":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={tabbar:{value:null,safeAreaInsetBottom:!0,border:!0,zIndex:1,activeColor:"#1989fa",inactiveColor:"#7d7e80",fixed:!0,placeholder:!0}}},"9ebd":function(t,e,i){"use strict";i.r(e);var n=i("c290"),r=i("ca69");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},"9f70":function(t,e,i){var n=i("36c6");t.exports=function(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=n(t),null===t)break;return t},t.exports.__esModule=!0,t.exports["default"]=t.exports},"9f7c":function(t,e,i){"use strict";i.r(e);var n=i("1eda"),r=i("6db5");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"4a13efb0",null,!1,n["a"],void 0);e["default"]=s.exports},"9f9f":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("c973")),o=n(i("e7fa")),s={name:"u-sticky",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],data:function(){return{cssSticky:!1,stickyTop:0,elId:uni.$u.guid(),left:0,width:"auto",height:"auto",fixed:!1}},computed:{style:function(){var t={};return this.disabled?t.position="static":this.cssSticky?(t.position="sticky",t.zIndex=this.uZindex,t.top=uni.$u.addUnit(this.stickyTop)):t.height=this.fixed?this.height+"px":"auto",t.backgroundColor=this.bgColor,uni.$u.deepMerge(uni.$u.addStyle(this.customStyle),t)},stickyContent:function(){var t={};return this.cssSticky||(t.position=this.fixed?"fixed":"static",t.top=this.stickyTop+"px",t.left=this.left+"px",t.width="auto"==this.width?"auto":this.width+"px",t.zIndex=this.uZindex),t},uZindex:function(){return this.zIndex?this.zIndex:uni.$u.zIndex.sticky}},mounted:function(){this.init()},methods:{init:function(){this.getStickyTop(),this.checkSupportCssSticky(),this.cssSticky||!this.disabled&&this.initObserveContent()},initObserveContent:function(){var t=this;this.$uGetRect("#"+this.elId).then((function(e){t.height=e.height,t.left=e.left,t.width=e.width,t.$nextTick((function(){t.observeContent()}))}))},observeContent:function(){var t=this;this.disconnectObserver("contentObserver");var e=uni.createIntersectionObserver({thresholds:[.95,.98,1]});e.relativeToViewport({top:-this.stickyTop}),e.observe("#".concat(this.elId),(function(e){t.setFixed(e.boundingClientRect.top)})),this.contentObserver=e},setFixed:function(t){var e=t<=this.stickyTop;this.fixed=e},disconnectObserver:function(t){var e=this[t];e&&e.disconnect()},getStickyTop:function(){this.stickyTop=uni.$u.getPx(this.offsetTop)+uni.$u.getPx(this.customNavHeight)},checkSupportCssSticky:function(){var t=this;return(0,a.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"android"===uni.$u.os()&&Number(uni.$u.sys().system)>8&&(t.cssSticky=!0),e.next=3,t.checkComputedStyle();case 3:t.cssSticky=e.sent,"ios"===uni.$u.os()&&(t.cssSticky=!0);case 5:case"end":return e.stop()}}),e)})))()},checkComputedStyle:function(){var t=this;return new Promise((function(e){uni.createSelectorQuery().in(t).select(".u-sticky").fields({computedStyle:["position"]}).exec((function(t){e("sticky"===t[0].position)}))}))},checkCssStickyForH5:function(){}},beforeDestroy:function(){this.disconnectObserver("contentObserver")}};e.default=s},a0a5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={cellGroup:{title:"",border:!0,customStyle:{}}}},a128:function(t,e,i){var n=i("36c6"),r=i("4a4b"),a=i("c5f7"),o=i("b17c");function s(e){var i="function"===typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!a(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof i){if(i.has(t))return i.get(t);i.set(t,e)}function e(){return o(t,arguments,n(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r(e,t)},t.exports.__esModule=!0,t.exports["default"]=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports["default"]=t.exports},a179:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("b6c5")),a={name:"u-empty",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{icons:{car:"\u8d2d\u7269\u8f66\u4e3a\u7a7a",page:"\u9875\u9762\u4e0d\u5b58\u5728",search:"\u6ca1\u6709\u641c\u7d22\u7ed3\u679c",address:"\u6ca1\u6709\u6536\u8d27\u5730\u5740",wifi:"\u6ca1\u6709WiFi",order:"\u8ba2\u5355\u4e3a\u7a7a",coupon:"\u6ca1\u6709\u4f18\u60e0\u5238",favor:"\u6682\u65e0\u6536\u85cf",permission:"\u65e0\u6743\u9650",history:"\u65e0\u5386\u53f2\u8bb0\u5f55",news:"\u65e0\u65b0\u95fb\u5217\u8868",message:"\u6d88\u606f\u5217\u8868\u4e3a\u7a7a",list:"\u5217\u8868\u4e3a\u7a7a",data:"\u6570\u636e\u4e3a\u7a7a",comment:"\u6682\u65e0\u8bc4\u8bba"}}},computed:{emptyStyle:function(){var t={};return t.marginTop=uni.$u.addUnit(this.marginTop),uni.$u.deepMerge(uni.$u.addStyle(this.customStyle),t)},textStyle:function(){var t={};return t.color=this.textColor,t.fontSize=uni.$u.addUnit(this.textSize),t},isSrc:function(){return this.icon.indexOf("/")>=0}}};e.default=a},a20d:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uLine:i("b640").default,uLoadingIcon:i("4693").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","u-loadmore"),style:t._$s(0,"s",[t.$u.addStyle(t.customStyle),{backgroundColor:t.bgColor,marginBottom:t.$u.addUnit(t.marginBottom),marginTop:t.$u.addUnit(t.marginTop),height:t.$u.addUnit(t.height)}]),attrs:{_i:0}},[t._$s(1,"i",t.line)?i("u-line",{attrs:{length:"140rpx",color:t.lineColor,hairline:!1,dashed:t.dashed,_i:1}}):t._e(),i("view",{staticClass:t._$s(2,"sc","u-loadmore__content"),class:t._$s(2,"c","loadmore"==t.status||"nomore"==t.status?"u-more":""),attrs:{_i:2}},[t._$s(3,"i","loading"===t.status&&t.icon)?i("view",{staticClass:t._$s(3,"sc","u-loadmore__content__icon-wrap"),attrs:{_i:3}},[i("u-loading-icon",{attrs:{color:t.iconColor,size:t.iconSize,mode:t.loadingIcon,_i:4}})],1):t._e(),i("text",{staticClass:t._$s(5,"sc","u-line-1"),class:t._$s(5,"c",["nomore"==t.status&&1==t.isDot?"u-loadmore__content__dot-text":"u-loadmore__content__text"]),style:t._$s(5,"s",[t.loadTextStyle]),attrs:{_i:5},on:{click:t.loadMore}},[t._v(t._$s(5,"t0-0",t._s(t.showText)))])]),t._$s(6,"i",t.line)?i("u-line",{attrs:{length:"140rpx",color:t.lineColor,hairline:!1,dashed:t.dashed,_i:6}}):t._e()],1)},a=[]},a210:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={notify:{top:0,type:"primary",color:"#ffffff",bgColor:"",message:"",duration:3e3,fontSize:15,safeAreaInsetTop:!1}}},a289:function(t,e,i){"use strict";i.r(e);var n=i("9f9f"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},a2e3:function(t,e,i){"use strict";i.r(e);var n=i("adba"),r=i("0dc7");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"f501f07a",null,!1,n["a"],void 0);e["default"]=s.exports},a317:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={search:{shape:"round",bgColor:"#f2f2f2",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",clearabled:!0,focus:!1,showAction:!0,actionStyle:function(){return{}},actionText:"\u641c\u7d22",inputAlign:"left",inputStyle:function(){return{}},disabled:!1,borderColor:"transparent",searchIconColor:"#909399",searchIconSize:22,color:"#606266",placeholderColor:"#909399",searchIcon:"search",margin:"0",animation:!1,value:"",maxlength:"-1",height:32,label:null}}},a34a:function(t,e,i){var n=i("7037"),r=i("7ec2")();t.exports=r;try{regeneratorRuntime=r}catch(a){"object"===("undefined"===typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},a395:function(t,e,i){var n=i("7037")["default"],r=i("e50d");t.exports=function(t){var e=r(t,"string");return"symbol"===n(e)?e:String(e)},t.exports.__esModule=!0,t.exports["default"]=t.exports},a3ba:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),a=n(i("b316")),o=n(i("b9d3")),s=n(i("8d96")),l=n(i("3e48")),u=n(i("ece6")),c=n(i("ba98")),d=n(i("ec94")),f=n(i("01bb")),h=n(i("2be0")),p=n(i("1e5b")),v=n(i("ae61")),g=n(i("ede3")),m=n(i("a0a5")),y=n(i("9533")),b=n(i("62b9")),_=n(i("2568")),w=n(i("106f")),k=n(i("e9d1")),S=n(i("dbc9")),T=n(i("172b")),E=n(i("e9df")),A=n(i("37ea")),x=n(i("5005")),L=n(i("14f2")),I=n(i("1f81")),C=n(i("3b41")),D=n(i("6b5d")),O=n(i("017f")),R=n(i("f187")),P=n(i("026b")),M=n(i("5c75")),F=n(i("0fcf")),B=n(i("64ff")),N=n(i("cef5")),U=n(i("87fd")),$=n(i("293e")),j=n(i("7974")),H=n(i("453c")),G=n(i("8180")),V=n(i("dc8e")),K=n(i("451c")),z=n(i("7f2b")),Y=n(i("4188")),W=n(i("a5d3")),Q=n(i("bb4d")),q=n(i("c225")),X=n(i("aba2")),J=n(i("e75e")),Z=n(i("246e")),tt=n(i("06b8")),et=n(i("a210")),it=n(i("4d64")),nt=n(i("8d38")),rt=n(i("e2bf")),at=n(i("7beb")),ot=n(i("19a6")),st=n(i("927b")),lt=n(i("5f7f")),ut=n(i("7033")),ct=n(i("da98")),dt=n(i("dcdc")),ft=n(i("0361")),ht=n(i("3af4")),pt=n(i("f577")),vt=n(i("a317")),gt=n(i("1e6c")),mt=n(i("65d6")),yt=n(i("b2a6")),bt=n(i("1300")),_t=n(i("dd1f")),wt=n(i("448e")),kt=n(i("8240")),St=n(i("62c2")),Tt=n(i("31c8")),Et=n(i("2f28")),At=n(i("ac67")),xt=n(i("c198")),Lt=n(i("7b17")),It=n(i("9e83")),Ct=n(i("bb55")),Dt=n(i("9d3e")),Ot=n(i("4c8b")),Rt=n(i("a55c")),Pt=n(i("2a62")),Mt=n(i("19a5")),Ft=n(i("f59f")),Bt=n(i("5058")),Nt=n(i("f72c")),Ut=n(i("84a2"));function $t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function jt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$t(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}a.default.color;var Ht=jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt(jt({},o.default),s.default),l.default),u.default),c.default),d.default),f.default),h.default),p.default),v.default),g.default),m.default),y.default),b.default),_.default),w.default),k.default),S.default),T.default),E.default),A.default),x.default),L.default),I.default),C.default),D.default),O.default),R.default),P.default),M.default),F.default),B.default),N.default),U.default),$.default),j.default),H.default),G.default),V.default),K.default),z.default),Y.default),W.default),Q.default),q.default),X.default),J.default),Z.default),tt.default),et.default),it.default),nt.default),rt.default),at.default),ot.default),st.default),lt.default),ut.default),ct.default),dt.default),ft.default),ht.default),pt.default),vt.default),gt.default),mt.default),yt.default),bt.default),_t.default),wt.default),kt.default),St.default),Tt.default),Et.default),At.default),xt.default),Lt.default),It.default),Ct.default),Dt.default),Ot.default),Rt.default),Pt.default),Mt.default),Ft.default),Bt.default),Nt.default),Ut.default);e.default=Ht},a3ca:function(t,e,i){"use strict";i.r(e);var n=i("31db"),r=i("7655");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"6d96a680",null,!1,n["a"],void 0);e["default"]=s.exports},a407:function(t,e,i){"use strict";i.r(e);var n=i("faf7"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},a436:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.deepMerge=function t(){var e={};function i(i,n){"object"===(0,r.default)(e[n])&&"object"===(0,r.default)(i)?e[n]=t(e[n],i):"object"===(0,r.default)(i)?e[n]=t({},i):e[n]=i}for(var n=0,a=arguments.length;n<a;n++)s(arguments[n],i);return e},e.forEach=s,e.isArray=o,e.isBoolean=function(t){return"boolean"===typeof t},e.isDate=function(t){return"[object Date]"===a.call(t)},e.isObject=function(t){return null!==t&&"object"===(0,r.default)(t)},e.isPlainObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.isURLSearchParams=function(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams},e.isUndefined=function(t){return"undefined"===typeof t};var r=n(i("7037")),a=Object.prototype.toString;function o(t){return"[object Array]"===a.call(t)}function s(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==(0,r.default)(t)&&(t=[t]),o(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}},a55c:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={text:{type:"",show:!0,text:"",prefixIcon:"",suffixIcon:"",mode:"",href:"",format:"",call:!1,openType:"",bold:!1,block:!1,lines:"",color:"#303133",size:15,iconStyle:function(){return{fontSize:"15px"}},decoration:"none",margin:0,lineHeight:"",align:"left",wordWrap:"normal"}}},a5d3:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("b316")),a=r.default.color,o={loadingIcon:{show:!0,color:a["u-tips-color"],textColor:a["u-tips-color"],vertical:!1,mode:"spinner",size:24,textSize:15,text:"",timingFunction:"ease-in-out",duration:1200,inactiveColor:""}};e.default=o},a5de:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{show:{type:Boolean,default:uni.$u.props.popup.show},overlay:{type:Boolean,default:uni.$u.props.popup.overlay},mode:{type:String,default:uni.$u.props.popup.mode},duration:{type:[String,Number],default:uni.$u.props.popup.duration},closeable:{type:Boolean,default:uni.$u.props.popup.closeable},overlayStyle:{type:[Object,String],default:uni.$u.props.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:uni.$u.props.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:uni.$u.props.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:uni.$u.props.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:uni.$u.props.popup.safeAreaInsetTop},closeIconPos:{type:String,default:uni.$u.props.popup.closeIconPos},round:{type:[Boolean,String,Number],default:uni.$u.props.popup.round},zoom:{type:Boolean,default:uni.$u.props.popup.zoom},bgColor:{type:String,default:uni.$u.props.popup.bgColor},overlayOpacity:{type:[Number,String],default:uni.$u.props.popup.overlayOpacity}}};e.default=n},a66c:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a7b7")),a={name:"u-loading-icon",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}},computed:{otherBorderColor:function(){var t=uni.$u.colorGradient(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:t:"transparent"}},watch:{show:function(t){}},mounted:function(){this.init()},methods:{init:function(){var t=this;setTimeout((function(){t.show&&t.addEventListenerToWebview()}),20)},addEventListenerToWebview:function(){var t=this,e=getCurrentPages(),i=e[e.length-1],n=i.$getAppWebview();n.addEventListener("hide",(function(){t.webviewHide=!0})),n.addEventListener("show",(function(){t.webviewHide=!1}))}}};e.default=a},a6c0:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uBadge:i("971f").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","u-tabs"),attrs:{_i:0}},[i("view",{staticClass:t._$s(1,"sc","u-tabs__wrapper"),attrs:{_i:1}},[t._t("left",null,{_i:2}),i("view",{staticClass:t._$s(3,"sc","u-tabs__wrapper__scroll-view-wrapper"),attrs:{_i:3}},[i("scroll-view",{ref:"u-tabs__wrapper__scroll-view",staticClass:t._$s(4,"sc","u-tabs__wrapper__scroll-view"),attrs:{"scroll-x":t._$s(4,"a-scroll-x",t.scrollable),"scroll-left":t._$s(4,"a-scroll-left",t.scrollLeft),_i:4}},[i("view",{ref:"u-tabs__wrapper__nav",staticClass:t._$s(5,"sc","u-tabs__wrapper__nav"),attrs:{_i:5}},[t._l(t._$s(6,"f",{forItems:t.list}),(function(e,n,r,a){return i("view",{key:t._$s(6,"f",{forIndex:r,key:n}),ref:t._$s("6-"+a,"ref","u-tabs__wrapper__nav__item-"+n),refInFor:!0,staticClass:t._$s("6-"+a,"sc","u-tabs__wrapper__nav__item"),class:t._$s("6-"+a,"c",["u-tabs__wrapper__nav__item-"+n,e.disabled&&"u-tabs__wrapper__nav__item--disabled"]),style:t._$s("6-"+a,"s",[t.$u.addStyle(t.itemStyle),{flex:t.scrollable?"":1}]),attrs:{_i:"6-"+a},on:{click:function(i){return t.clickHandler(e,n)}}},[i("text",{staticClass:t._$s("7-"+a,"sc","u-tabs__wrapper__nav__item__text"),class:t._$s("7-"+a,"c",[e.disabled&&"u-tabs__wrapper__nav__item__text--disabled"]),style:t._$s("7-"+a,"s",[t.textStyle(n)]),attrs:{_i:"7-"+a}},[t._v(t._$s("7-"+a,"t0-0",t._s(e[t.keyName])))]),i("u-badge",{attrs:{show:!(!e.badge||!(e.badge.show||e.badge.isDot||e.badge.value)),isDot:e.badge&&e.badge.isDot||t.propsBadge.isDot,value:e.badge&&e.badge.value||t.propsBadge.value,max:e.badge&&e.badge.max||t.propsBadge.max,type:e.badge&&e.badge.type||t.propsBadge.type,showZero:e.badge&&e.badge.showZero||t.propsBadge.showZero,bgColor:e.badge&&e.badge.bgColor||t.propsBadge.bgColor,color:e.badge&&e.badge.color||t.propsBadge.color,shape:e.badge&&e.badge.shape||t.propsBadge.shape,numberType:e.badge&&e.badge.numberType||t.propsBadge.numberType,inverted:e.badge&&e.badge.inverted||t.propsBadge.inverted,customStyle:"margin-left: 4px;",_i:"8-"+a}})],1)})),i("view",{ref:"u-tabs__wrapper__nav__line",staticClass:t._$s(9,"sc","u-tabs__wrapper__nav__line"),style:t._$s(9,"s",[{width:t.$u.addUnit(t.lineWidth),transform:"translate("+t.lineOffsetLeft+"px)",transitionDuration:(t.firstTime?0:t.duration)+"ms",height:t.$u.addUnit(t.lineHeight),background:t.lineColor,backgroundSize:t.lineBgSize}]),attrs:{_i:9}})],2)])]),t._t("right",null,{_i:10})],2)])},a=[]},a74f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default="plus"},a7b7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{show:{type:Boolean,default:uni.$u.props.loadingIcon.show},color:{type:String,default:uni.$u.props.loadingIcon.color},textColor:{type:String,default:uni.$u.props.loadingIcon.textColor},vertical:{type:Boolean,default:uni.$u.props.loadingIcon.vertical},mode:{type:String,default:uni.$u.props.loadingIcon.mode},size:{type:[String,Number],default:uni.$u.props.loadingIcon.size},textSize:{type:[String,Number],default:uni.$u.props.loadingIcon.textSize},text:{type:[String,Number],default:uni.$u.props.loadingIcon.text},timingFunction:{type:String,default:uni.$u.props.loadingIcon.timingFunction},duration:{type:[String,Number],default:uni.$u.props.loadingIcon.duration},inactiveColor:{type:String,default:uni.$u.props.loadingIcon.inactiveColor}}};e.default=n},a883:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"category",data:function(){return{height:0,scrollTop:0,scrollHeight:0,categoryActive:0,activeStyle:{color:this.activeTextColor,backgroundColor:this.activeBackgroundColor}}},props:{defaultActive:{type:Number,default:0},categoryList:{type:Array,default:function(){return null}},subCategoryList:{type:Array,default:function(){return null}},activeTextColor:{type:String,default:"#F24544"},activeBackgroundColor:{type:String,default:"#e5e5e5"},label:{type:String,default:"name"},imgSrc:{type:String,default:"logo"},categoryMainClick:{},categorySubClick:{}},methods:{scroll:function(t){this.scrollHeight=t.detail.scrollHeight},categoryClickMain:function(t,e){this.$emit("categoryMainClick",t),this.categoryActive=e,this.scrollTop=-this.scrollHeight*e},categoryClickSub:function(t){this.$emit("categorySubClick",t)}},mounted:function(){var t=this;this.categoryActive=this.defaultActive,uni.getSystemInfo({success:function(e){t.height=e.windowHeight}})},watch:{subCategoryList:function(t,e){}}};e.default=n},a8a0:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-list uni-border-top-bottom"),attrs:{_i:0}},[t._$s(1,"i",t.border)?i("view",{staticClass:t._$s(1,"sc","uni-list--border-top"),attrs:{_i:1}}):t._e(),t._t("default",null,{_i:2}),t._$s(3,"i",t.border)?i("view",{staticClass:t._$s(3,"sc","uni-list--border-bottom"),attrs:{_i:3}}):t._e()],2)},r=[]},a8bd:function(t,e,i){"use strict";function n(){this.handlers=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){this.handlers.forEach((function(e){null!==e&&t(e)}))};var r=n;e.default=r},a963:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("b8cd")),a=n(i("e32c")),o={name:"u--image",mixins:[uni.$u.mpMixin,a.default,uni.$u.mixin],components:{uvImage:r.default}};e.default=o},aac3:function(t){t.exports=JSON.parse('{"uni-search-bar.cancel":"\u53d6\u6d88","uni-search-bar.placeholder":"\u8acb\u8f38\u5165\u641c\u7d22\u5167\u5bb9"}')},ab13:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{option:{type:Object,default:function(){return{}}},value:!1,modelValue:!1},computed:{left:function(){return this.option.left?this.addUnit(this.option.left):"auto"},right:function(){return this.option.left?"auto":this.addUnit(this.option.right)},isShow:function(){return this.value}},methods:{addUnit:function(t){return t?"number"===typeof t?t+"rpx":t:0},toTopClick:function(){this.$emit("input",!1),this.$emit("click")}}};e.default=n},aba2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={modal:{show:!1,title:"",content:"",confirmText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",showConfirmButton:!0,showCancelButton:!1,confirmColor:"#2979ff",cancelColor:"#606266",buttonReverse:!1,zoom:!0,asyncClose:!1,closeOnClickOverlay:!1,negativeTop:0,width:"650rpx",confirmButtonShape:""}}},abd9:function(t,e,i){"use strict";i.r(e);var n=i("e41d"),r=i("e14a");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"6bfb644b",null,!1,n["a"],void 0);e["default"]=s.exports},ac67:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={swiper:{list:function(){return[]},indicator:!1,indicatorActiveColor:"#FFFFFF",indicatorInactiveColor:"rgba(255, 255, 255, 0.35)",indicatorStyle:"",indicatorMode:"line",autoplay:!0,current:0,currentItemId:"",interval:3e3,duration:300,circular:!1,previousMargin:0,nextMargin:0,acceleration:!1,displayMultipleItems:1,easingFunction:"default",keyName:"url",imgMode:"aspectFill",height:130,bgColor:"#f3f4f6",radius:4,loading:!1,showTitle:!1}}},ac95:function(t){t.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"}')},ad2a:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=n(i("7037"));function a(t,e){var i=this;i.version="1.3.7",i.options=t||{},i.isScrollBody=e||!1,i.isDownScrolling=!1,i.isUpScrolling=!1;var n=i.options.down&&i.options.down.callback;i.initDownScroll(),i.initUpScroll(),setTimeout((function(){(i.optDown.use||i.optDown.native)&&i.optDown.auto&&n&&(i.optDown.autoShowLoading?i.triggerDownScroll():i.optDown.callback&&i.optDown.callback(i)),i.isUpAutoLoad||setTimeout((function(){i.optUp.use&&i.optUp.auto&&!i.isUpAutoLoad&&i.triggerUpScroll()}),100)}),30)}a.prototype.extendDownScroll=function(t){a.extend(t,{use:!0,auto:!0,native:!1,autoShowLoading:!1,isLock:!1,offset:80,startTop:100,inOffsetRate:1,outOffsetRate:.2,bottomOffset:20,minAngle:45,textInOffset:"\u4e0b\u62c9\u5237\u65b0",textOutOffset:"\u91ca\u653e\u66f4\u65b0",textLoading:"\u52a0\u8f7d\u4e2d ...",textSuccess:"\u52a0\u8f7d\u6210\u529f",textErr:"\u52a0\u8f7d\u5931\u8d25",beforeEndDelay:0,bgColor:"transparent",textColor:"gray",inited:null,inOffset:null,outOffset:null,onMoving:null,beforeLoading:null,showLoading:null,afterLoading:null,beforeEndDownScroll:null,endDownScroll:null,afterEndDownScroll:null,callback:function(t){t.resetUpScroll()}})},a.prototype.extendUpScroll=function(t){a.extend(t,{use:!0,auto:!0,isLock:!1,isBoth:!0,callback:null,page:{num:0,size:10,time:null},noMoreSize:5,offset:150,textLoading:"\u52a0\u8f7d\u4e2d ...",textNoMore:"-- END --",bgColor:"transparent",textColor:"gray",inited:null,showLoading:null,showNoMore:null,hideUpScroll:null,errDistance:60,toTop:{src:null,offset:1e3,duration:300,btnClick:null,onShow:null,zIndex:9990,left:null,right:20,bottom:120,safearea:!1,width:72,radius:"50%"},empty:{use:!0,icon:null,tip:"~ \u6682\u65e0\u76f8\u5173\u6570\u636e ~",btnText:"",btnClick:null,onShow:null,fixed:!1,top:"100rpx",zIndex:99},onScroll:!1})},a.extend=function(t,e){if(!t)return e;for(var i in e)if(null==t[i]){var n=e[i];null!=n&&"object"===(0,r.default)(n)?t[i]=a.extend({},n):t[i]=n}else"object"===(0,r.default)(t[i])&&a.extend(t[i],e[i]);return t},a.prototype.hasColor=function(t){if(!t)return!1;var e=t.toLowerCase();return"#fff"!=e&&"#ffffff"!=e&&"transparent"!=e&&"white"!=e},a.prototype.initDownScroll=function(){var t=this;t.optDown=t.options.down||{},!t.optDown.textColor&&t.hasColor(t.optDown.bgColor)&&(t.optDown.textColor="#fff"),t.extendDownScroll(t.optDown),t.isScrollBody&&t.optDown.native?t.optDown.use=!1:t.optDown.native=!1,t.downHight=0,t.optDown.use&&t.optDown.inited&&setTimeout((function(){t.optDown.inited(t)}),0)},a.prototype.touchstartEvent=function(t){this.optDown.use&&(this.startPoint=this.getPoint(t),this.startTop=this.getScrollTop(),this.startAngle=0,this.lastPoint=this.startPoint,this.maxTouchmoveY=this.getBodyHeight()-this.optDown.bottomOffset,this.inTouchend=!1)},a.prototype.touchmoveEvent=function(t){if(this.optDown.use){var e=this,i=e.getScrollTop(),n=e.getPoint(t),r=n.y-e.startPoint.y;if(r>0&&(e.isScrollBody&&i<=0||!e.isScrollBody&&(i<=0||i<=e.optDown.startTop&&i===e.startTop))&&!e.inTouchend&&!e.isDownScrolling&&!e.optDown.isLock&&(!e.isUpScrolling||e.isUpScrolling&&e.optUp.isBoth)){if(e.startAngle||(e.startAngle=e.getAngle(e.lastPoint,n)),e.startAngle<e.optDown.minAngle)return;if(e.maxTouchmoveY>0&&n.y>=e.maxTouchmoveY)return e.inTouchend=!0,void e.touchendEvent();e.preventDefault(t);var a=n.y-e.lastPoint.y;e.downHight<e.optDown.offset?(1!==e.movetype&&(e.movetype=1,e.isDownEndSuccess=null,e.optDown.inOffset&&e.optDown.inOffset(e),e.isMoveDown=!0),e.downHight+=a*e.optDown.inOffsetRate):(2!==e.movetype&&(e.movetype=2,e.optDown.outOffset&&e.optDown.outOffset(e),e.isMoveDown=!0),e.downHight+=a>0?a*e.optDown.outOffsetRate:a),e.downHight=Math.round(e.downHight);var o=e.downHight/e.optDown.offset;e.optDown.onMoving&&e.optDown.onMoving(e,o,e.downHight)}e.lastPoint=n}},a.prototype.touchendEvent=function(t){if(this.optDown.use)if(this.isMoveDown)this.downHight>=this.optDown.offset?this.triggerDownScroll():(this.downHight=0,this.endDownScrollCall(this)),this.movetype=0,this.isMoveDown=!1;else if(!this.isScrollBody&&this.getScrollTop()===this.startTop){var e=this.getPoint(t).y-this.startPoint.y<0;if(e){var i=this.getAngle(this.getPoint(t),this.startPoint);i>80&&this.triggerUpScroll(!0)}}},a.prototype.getPoint=function(t){return t?t.touches&&t.touches[0]?{x:t.touches[0].pageX,y:t.touches[0].pageY}:t.changedTouches&&t.changedTouches[0]?{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}:{x:t.clientX,y:t.clientY}:{x:0,y:0}},a.prototype.getAngle=function(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y),r=Math.sqrt(i*i+n*n),a=0;return 0!==r&&(a=Math.asin(n/r)/Math.PI*180),a},a.prototype.triggerDownScroll=function(){this.optDown.beforeLoading&&this.optDown.beforeLoading(this)||(this.showDownScroll(),!this.optDown.native&&this.optDown.callback&&this.optDown.callback(this))},a.prototype.showDownScroll=function(){this.isDownScrolling=!0,this.optDown.native?(uni.startPullDownRefresh(),this.showDownLoadingCall(0)):(this.downHight=this.optDown.offset,this.showDownLoadingCall(this.downHight))},a.prototype.showDownLoadingCall=function(t){this.optDown.showLoading&&this.optDown.showLoading(this,t),this.optDown.afterLoading&&this.optDown.afterLoading(this,t)},a.prototype.onPullDownRefresh=function(){this.isDownScrolling=!0,this.showDownLoadingCall(0),this.optDown.callback&&this.optDown.callback(this)},a.prototype.endDownScroll=function(){if(this.optDown.native)return this.isDownScrolling=!1,this.endDownScrollCall(this),void uni.stopPullDownRefresh();var t=this,e=function(){t.downHight=0,t.isDownScrolling=!1,t.endDownScrollCall(t),t.isScrollBody||(t.setScrollHeight(0),t.scrollTo(0,0))},i=0;t.optDown.beforeEndDownScroll&&(i=t.optDown.beforeEndDownScroll(t),null==t.isDownEndSuccess&&(i=0)),"number"===typeof i&&i>0?setTimeout(e,i):e()},a.prototype.endDownScrollCall=function(){this.optDown.endDownScroll&&this.optDown.endDownScroll(this),this.optDown.afterEndDownScroll&&this.optDown.afterEndDownScroll(this)},a.prototype.lockDownScroll=function(t){null==t&&(t=!0),this.optDown.isLock=t},a.prototype.lockUpScroll=function(t){null==t&&(t=!0),this.optUp.isLock=t},a.prototype.initUpScroll=function(){var t=this;t.optUp=t.options.up||{use:!1},!t.optUp.textColor&&t.hasColor(t.optUp.bgColor)&&(t.optUp.textColor="#fff"),t.extendUpScroll(t.optUp),!1!==t.optUp.use&&(t.optUp.hasNext=!0,t.startNum=t.optUp.page.num+1,t.optUp.inited&&setTimeout((function(){t.optUp.inited(t)}),0))},a.prototype.onReachBottom=function(){this.isScrollBody&&!this.isUpScrolling&&!this.optUp.isLock&&this.optUp.hasNext&&this.triggerUpScroll()},a.prototype.onPageScroll=function(t){this.isScrollBody&&(this.setScrollTop(t.scrollTop),t.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn())},a.prototype.scroll=function(t,e){this.setScrollTop(t.scrollTop),this.setScrollHeight(t.scrollHeight),null==this.preScrollY&&(this.preScrollY=0),this.isScrollUp=t.scrollTop-this.preScrollY>0,this.preScrollY=t.scrollTop,this.isScrollUp&&this.triggerUpScroll(!0),t.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn(),this.optUp.onScroll&&e&&e()},a.prototype.triggerUpScroll=function(t){if(!this.isUpScrolling&&this.optUp.use&&this.optUp.callback){if(!0===t){var e=!1;if(!this.optUp.hasNext||this.optUp.isLock||this.isDownScrolling||this.getScrollBottom()<=this.optUp.offset&&(e=!0),!1===e)return}this.showUpScroll(),this.optUp.page.num++,this.isUpAutoLoad=!0,this.num=this.optUp.page.num,this.size=this.optUp.page.size,this.time=this.optUp.page.time,this.optUp.callback(this)}},a.prototype.showUpScroll=function(){this.isUpScrolling=!0,this.optUp.showLoading&&this.optUp.showLoading(this)},a.prototype.showNoMore=function(){this.optUp.hasNext=!1,this.optUp.showNoMore&&this.optUp.showNoMore(this)},a.prototype.hideUpScroll=function(){this.optUp.hideUpScroll&&this.optUp.hideUpScroll(this)},a.prototype.endUpScroll=function(t){null!=t&&(t?this.showNoMore():this.hideUpScroll()),this.isUpScrolling=!1},a.prototype.resetUpScroll=function(t){if(this.optUp&&this.optUp.use){var e=this.optUp.page;this.prePageNum=e.num,this.prePageTime=e.time,e.num=this.startNum,e.time=null,this.isDownScrolling||!1===t||(null==t?(this.removeEmpty(),this.showUpScroll()):this.showDownScroll()),this.isUpAutoLoad=!0,this.num=e.num,this.size=e.size,this.time=e.time,this.optUp.callback&&this.optUp.callback(this)}},a.prototype.setPageNum=function(t){this.optUp.page.num=t-1},a.prototype.setPageSize=function(t){this.optUp.page.size=t},a.prototype.endByPage=function(t,e,i){var n;this.optUp.use&&null!=e&&(n=this.optUp.page.num<e),this.endSuccess(t,n,i)},a.prototype.endBySize=function(t,e,i){var n;if(this.optUp.use&&null!=e){var r=(this.optUp.page.num-1)*this.optUp.page.size+t;n=r<e}this.endSuccess(t,n,i)},a.prototype.endSuccess=function(t,e,i){var n=this;if(n.isDownScrolling&&(n.isDownEndSuccess=!0,n.endDownScroll()),n.optUp.use){var r;if(null!=t){var a=n.optUp.page.num,o=n.optUp.page.size;if(1===a&&i&&(n.optUp.page.time=i),t<o||!1===e)if(n.optUp.hasNext=!1,0===t&&1===a)r=!1,n.showEmpty();else{var s=(a-1)*o+t;r=!(s<n.optUp.noMoreSize),n.removeEmpty()}else r=!1,n.optUp.hasNext=!0,n.removeEmpty()}n.endUpScroll(r)}},a.prototype.endErr=function(t){if(this.isDownScrolling){this.isDownEndSuccess=!1;var e=this.optUp.page;e&&this.prePageNum&&(e.num=this.prePageNum,e.time=this.prePageTime),this.endDownScroll()}this.isUpScrolling&&(this.optUp.page.num--,this.endUpScroll(!1),this.isScrollBody&&0!==t&&(t||(t=this.optUp.errDistance),this.scrollTo(this.getScrollTop()-t,0)))},a.prototype.showEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!0)},a.prototype.removeEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!1)},a.prototype.showTopBtn=function(){this.topBtnShow||(this.topBtnShow=!0,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!0))},a.prototype.hideTopBtn=function(){this.topBtnShow&&(this.topBtnShow=!1,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!1))},a.prototype.getScrollTop=function(){return this.scrollTop||0},a.prototype.setScrollTop=function(t){this.scrollTop=t},a.prototype.scrollTo=function(t,e){this.myScrollTo&&this.myScrollTo(t,e)},a.prototype.resetScrollTo=function(t){this.myScrollTo=t},a.prototype.getScrollBottom=function(){return this.getScrollHeight()-this.getClientHeight()-this.getScrollTop()},a.prototype.getStep=function(t,e,i,n,r){var a=e-t;if(0!==n&&0!==a){n=n||300,r=r||30;var o=n/r,s=a/o,l=0,u=setInterval((function(){l<o-1?(t+=s,i&&i(t,u),l++):(i&&i(e,u),clearInterval(u))}),r)}else i&&i(e)},a.prototype.getClientHeight=function(t){var e=this.clientHeight||0;return 0===e&&!0!==t&&(e=this.getBodyHeight()),e},a.prototype.setClientHeight=function(t){this.clientHeight=t},a.prototype.getScrollHeight=function(){return this.scrollHeight||0},a.prototype.setScrollHeight=function(t){this.scrollHeight=t},a.prototype.getBodyHeight=function(){return this.bodyHeight||0},a.prototype.setBodyHeight=function(t){this.bodyHeight=t},a.prototype.preventDefault=function(t){t&&t.cancelable&&!t.defaultPrevented&&t.preventDefault()}},ad2d:function(t,e,i){"use strict";i.r(e);var n=i("ebba"),r=i("4740");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},adba:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroll-view",{staticClass:t._$s(0,"sc","u-list"),style:t._$s(0,"s",[t.listStyle]),attrs:{"scroll-into-view":t._$s(0,"a-scroll-into-view",t.scrollIntoView),"scroll-top":t._$s(0,"a-scroll-top",Number(t.scrollTop)),"lower-threshold":t._$s(0,"a-lower-threshold",Number(t.lowerThreshold)),"upper-threshold":t._$s(0,"a-upper-threshold",Number(t.upperThreshold)),"show-scrollbar":t._$s(0,"a-show-scrollbar",t.showScrollbar),"enable-back-to-top":t._$s(0,"a-enable-back-to-top",t.enableBackToTop),"scroll-with-animation":t._$s(0,"a-scroll-with-animation",t.scrollWithAnimation),_i:0},on:{scroll:t.onScroll,scrolltolower:t.scrolltolower,scrolltoupper:t.scrolltoupper}},[i("view",[t._t("default",null,{_i:2})],2)])},r=[]},ae61:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={carKeyboard:{random:!1}}},aebe:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uniIcons:i("b14c").default,uniBadge:i("193d").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-list-item"),class:t._$s(0,"c",{"uni-list-item--disabled":t.disabled}),style:t._$s(0,"s",{"background-color":t.customStyle.backgroundColor}),attrs:{"hover-class":t._$s(0,"a-hover-class",!t.clickable&&!t.link||t.disabled||t.showSwitch?"":"uni-list-item--hover"),_i:0},on:{click:t.onClick}},[t._$s(1,"i",!t.isFirstChild)?i("view",{staticClass:t._$s(1,"sc","border--left"),class:t._$s(1,"c",{"uni-list--border":t.border}),attrs:{_i:1}}):t._e(),i("view",{staticClass:t._$s(2,"sc","uni-list-item__container"),class:t._$s(2,"c",{"container--right":t.showArrow||t.link,"flex--direction":"column"===t.direction}),style:t._$s(2,"s",{paddingTop:t.padding.top,paddingLeft:t.padding.left,paddingRight:t.padding.right,paddingBottom:t.padding.bottom}),attrs:{_i:2}},[t._t("header",[i("view",{staticClass:t._$s(4,"sc","uni-list-item__header"),attrs:{_i:4}},[t._$s(5,"i",t.thumb)?i("view",{staticClass:t._$s(5,"sc","uni-list-item__icon"),attrs:{_i:5}},[i("image",{staticClass:t._$s(6,"sc","uni-list-item__icon-img"),class:t._$s(6,"c",["uni-list--"+t.thumbSize]),attrs:{src:t._$s(6,"a-src",t.thumb),_i:6}})]):t._$s(7,"e",t.showExtraIcon)?i("view",{staticClass:t._$s(7,"sc","uni-list-item__icon"),attrs:{_i:7}},[i("uni-icons",{attrs:{customPrefix:t.extraIcon.customPrefix,color:t.extraIcon.color,size:t.extraIcon.size,type:t.extraIcon.type,_i:8}})],1):t._e()])],{_i:3}),t._t("body",[i("view",{staticClass:t._$s(10,"sc","uni-list-item__content"),class:t._$s(10,"c",{"uni-list-item__content--center":t.thumb||t.showExtraIcon||t.showBadge||t.showSwitch}),attrs:{_i:10}},[t._$s(11,"i",t.title)?i("text",{staticClass:t._$s(11,"sc","uni-list-item__content-title"),class:t._$s(11,"c",[0!==t.ellipsis&&t.ellipsis<=2?"uni-ellipsis-"+t.ellipsis:""]),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.title)))]):t._e(),t._$s(12,"i",t.note)?i("text",{staticClass:t._$s(12,"sc","uni-list-item__content-note"),attrs:{_i:12}},[t._v(t._$s(12,"t0-0",t._s(t.note)))]):t._e()])],{_i:9}),t._t("footer",[t._$s(14,"i",t.rightText||t.showBadge||t.showSwitch)?i("view",{staticClass:t._$s(14,"sc","uni-list-item__extra"),class:t._$s(14,"c",{"flex--justify":"column"===t.direction}),attrs:{_i:14}},[t._$s(15,"i",t.rightText)?i("text",{staticClass:t._$s(15,"sc","uni-list-item__extra-text"),attrs:{_i:15}},[t._v(t._$s(15,"t0-0",t._s(t.rightText)))]):t._e(),t._$s(16,"i",t.showBadge)?i("uni-badge",{attrs:{type:t.badgeType,text:t.badgeText,"custom-style":t.badgeStyle,_i:16}}):t._e(),t._$s(17,"i",t.showSwitch)?i("switch",{attrs:{disabled:t._$s(17,"a-disabled",t.disabled),checked:t._$s(17,"a-checked",t.switchChecked),_i:17},on:{change:t.onSwitchChange}}):t._e()],1):t._e()],{_i:13})],2),t._$s(18,"i",t.showArrow||t.link)?i("uni-icons",{staticClass:t._$s(18,"sc","uni-icon-wrapper"),attrs:{size:16,color:"#bbb",type:"arrowright",_i:18}}):t._e()],1)},a=[]},aebf:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{color:{type:String,default:uni.$u.props.link.color},fontSize:{type:[String,Number],default:uni.$u.props.link.fontSize},underLine:{type:Boolean,default:uni.$u.props.link.underLine},href:{type:String,default:uni.$u.props.link.href},mpTips:{type:String,default:uni.$u.props.link.mpTips},lineColor:{type:String,default:uni.$u.props.link.lineColor},text:{type:String,default:uni.$u.props.link.text}}};e.default=n},af2a:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{isDot:{type:Boolean,default:uni.$u.props.badge.isDot},value:{type:[Number,String],default:uni.$u.props.badge.value},show:{type:Boolean,default:uni.$u.props.badge.show},max:{type:[Number,String],default:uni.$u.props.badge.max},type:{type:String,default:uni.$u.props.badge.type},showZero:{type:Boolean,default:uni.$u.props.badge.showZero},bgColor:{type:[String,null],default:uni.$u.props.badge.bgColor},color:{type:[String,null],default:uni.$u.props.badge.color},shape:{type:String,default:uni.$u.props.badge.shape},numberType:{type:String,default:uni.$u.props.badge.numberType},offset:{type:Array,default:uni.$u.props.badge.offset},inverted:{type:Boolean,default:uni.$u.props.badge.inverted},absolute:{type:Boolean,default:uni.$u.props.badge.absolute}}};e.default=n},af5d:function(t,e,i){"use strict";i.r(e);var n=i("8323"),r=i("0fd0");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"72cb839f",null,!1,n["a"],void 0);e["default"]=s.exports},af67:function(t,e){t.exports={props:{customStyle:{type:[Object,String],default:function(){return{}}},customClass:{type:String,default:""},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"}},data:function(){return{}},onLoad:function(){this.$u.getRect=this.$uGetRect},created:function(){this.$u.getRect=this.$uGetRect},computed:{$u:function(){return uni.$u.deepMerge(uni.$u,{props:void 0,http:void 0,mixin:void 0})},bem:function(){return function(t,e,i){var n=this,r="u-".concat(t,"--"),a={};return e&&e.map((function(t){a[r+n[t]]=!0})),i&&i.map((function(t){n[t]?a[r+t]=n[t]:delete a[r+t]})),Object.keys(a)}}},methods:{openPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"url",e=this[t];e&&uni[this.linkType]({url:e})},$uGetRect:function(t,e){var i=this;return new Promise((function(n){uni.createSelectorQuery().in(i)[e?"selectAll":"select"](t).boundingClientRect((function(t){e&&Array.isArray(t)&&t.length&&n(t),!e&&t&&n(t)})).exec()}))},getParentData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.parent||(this.parent={}),this.parent=uni.$u.$parent.call(this,e),this.parent.children&&-1===this.parent.children.indexOf(this)&&this.parent.children.push(this),this.parent&&this.parentData&&Object.keys(this.parentData).map((function(e){t.parentData[e]=t.parent[e]}))},preventEvent:function(t){t&&"function"===typeof t.stopPropagation&&t.stopPropagation()},noop:function(t){this.preventEvent(t)}},onReachBottom:function(){uni.$emit("uOnReachBottom")},beforeDestroy:function(){var t=this;if(this.parent&&uni.$u.test.array(this.parent.children)){var e=this.parent.children;e.map((function(i,n){i===t&&e.splice(n,1)}))}}}},b062:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{safeAreaInsetTop:{type:Boolean,default:uni.$u.props.navbar.safeAreaInsetTop},placeholder:{type:Boolean,default:uni.$u.props.navbar.placeholder},fixed:{type:Boolean,default:uni.$u.props.navbar.fixed},border:{type:Boolean,default:uni.$u.props.navbar.border},leftIcon:{type:String,default:uni.$u.props.navbar.leftIcon},leftText:{type:String,default:uni.$u.props.navbar.leftText},rightText:{type:String,default:uni.$u.props.navbar.rightText},rightIcon:{type:String,default:uni.$u.props.navbar.rightIcon},title:{type:[String,Number],default:uni.$u.props.navbar.title},bgColor:{type:String,default:uni.$u.props.navbar.bgColor},titleWidth:{type:[String,Number],default:uni.$u.props.navbar.titleWidth},height:{type:[String,Number],default:uni.$u.props.navbar.height},leftIconSize:{type:[String,Number],default:uni.$u.props.navbar.leftIconSize},leftIconColor:{type:String,default:uni.$u.props.navbar.leftIconColor},autoBack:{type:Boolean,default:uni.$u.props.navbar.autoBack},titleStyle:{type:[String,Object],default:uni.$u.props.navbar.titleStyle}}};e.default=n},b0c1:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-card"),class:t._$s(0,"c",{"uni-card--full":t.isFull,"uni-card--shadow":t.isShadow,"uni-card--border":t.border}),style:t._$s(0,"s",{margin:t.isFull?0:t.margin,padding:t.spacing,"box-shadow":t.isShadow?t.shadow:""}),attrs:{_i:0}},[t._t("cover",[t._$s(2,"i",t.cover)?i("view",{staticClass:t._$s(2,"sc","uni-card__cover"),attrs:{_i:2}},[i("image",{staticClass:t._$s(3,"sc","uni-card__cover-image"),attrs:{src:t._$s(3,"a-src",t.cover),_i:3},on:{click:function(e){return t.onClick("cover")}}})]):t._e()],{_i:1}),t._t("title",[t._$s(5,"i",t.title||t.extra)?i("view",{staticClass:t._$s(5,"sc","uni-card__header"),attrs:{_i:5}},[i("view",{staticClass:t._$s(6,"sc","uni-card__header-box"),attrs:{_i:6},on:{click:function(e){return t.onClick("title")}}},[t._$s(7,"i",t.thumbnail)?i("view",{staticClass:t._$s(7,"sc","uni-card__header-avatar"),attrs:{_i:7}},[i("image",{staticClass:t._$s(8,"sc","uni-card__header-avatar-image"),attrs:{src:t._$s(8,"a-src",t.thumbnail),_i:8}})]):t._e(),i("view",{staticClass:t._$s(9,"sc","uni-card__header-content"),attrs:{_i:9}},[i("text",{staticClass:t._$s(10,"sc","uni-card__header-content-title uni-ellipsis"),attrs:{_i:10}},[t._v(t._$s(10,"t0-0",t._s(t.title)))]),t._$s(11,"i",t.title&&t.subTitle)?i("text",{staticClass:t._$s(11,"sc","uni-card__header-content-subtitle uni-ellipsis"),attrs:{_i:11}},[t._v(t._$s(11,"t0-0",t._s(t.subTitle)))]):t._e()])]),i("view",{staticClass:t._$s(12,"sc","uni-card__header-extra"),attrs:{_i:12},on:{click:function(e){return t.onClick("extra")}}},[i("text",{staticClass:t._$s(13,"sc","uni-card__header-extra-text"),attrs:{_i:13}},[t._v(t._$s(13,"t0-0",t._s(t.extra)))])])]):t._e()],{_i:4}),i("view",{staticClass:t._$s(14,"sc","uni-card__content"),style:t._$s(14,"s",{padding:t.padding}),attrs:{_i:14},on:{click:function(e){return t.onClick("content")}}},[t._t("default",null,{_i:15})],2),i("view",{staticClass:t._$s(16,"sc","uni-card__actions"),attrs:{_i:16},on:{click:function(e){return t.onClick("actions")}}},[t._t("actions",null,{_i:17})],2)],2)},r=[]},b100:function(t,e,i){"use strict";i.r(e);var n=i("8638"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},b14c:function(t,e,i){"use strict";i.r(e);var n=i("ea336"),r=i("3ea5");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},b17c:function(t,e,i){var n=i("4a4b"),r=i("6f8f");function a(e,i,o){return r()?(t.exports=a=Reflect.construct.bind(),t.exports.__esModule=!0,t.exports["default"]=t.exports):(t.exports=a=function(t,e,i){var r=[null];r.push.apply(r,e);var a=Function.bind.apply(t,r),o=new a;return i&&n(o,i.prototype),o},t.exports.__esModule=!0,t.exports["default"]=t.exports),a.apply(null,arguments)}t.exports=a,t.exports.__esModule=!0,t.exports["default"]=t.exports},b230:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{anchor:{type:[String,Number],default:uni.$u.props.listItem.anchor}}};e.default=n},b2a6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={slider:{value:0,blockSize:18,min:0,max:100,step:1,activeColor:"#2979ff",inactiveColor:"#c0c4cc",blockColor:"#ffffff",showValue:!1,disabled:!1,blockStyle:function(){}}}},b316:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={v:"2.0.36",version:"2.0.36",type:["primary","success","info","error","warning"],color:{"u-primary":"#2979ff","u-warning":"#ff9900","u-success":"#19be6b","u-error":"#fa3534","u-info":"#909399","u-main-color":"#303133","u-content-color":"#606266","u-tips-color":"#909399","u-light-color":"#c0c4cc"},unit:"px"};e.default=n},b389:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),a=n(i("1513")),o=n(i("04b1")),s=n(i("1cc7")),l=i("a436");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d=function(t,e){var i={};return t.forEach((function(t){(0,l.isUndefined)(e[t])||(i[t]=e[t])})),i};e.default=function(t){return new Promise((function(e,i){var n,r=(0,a.default)((0,o.default)(t.baseURL,t.url),t.params),u={url:r,header:t.header,complete:function(n){t.fullPath=r,n.config=t;try{"string"===typeof n.data&&(n.data=JSON.parse(n.data))}catch(a){}(0,s.default)(e,i,n)}};if("UPLOAD"===t.method){delete u.header["content-type"],delete u.header["Content-Type"];var f={filePath:t.filePath,name:t.name};n=uni.uploadFile(c(c(c({},u),f),d(["files","timeout","formData"],t)))}else if("DOWNLOAD"===t.method)(0,l.isUndefined)(t.timeout)||(u.timeout=t.timeout),n=uni.downloadFile(u);else{n=uni.request(c(c({},u),d(["data","method","timeout","dataType","responseType","sslVerify","firstIpv4"],t)))}t.getTask&&t.getTask(n,t)}))}},b581:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("fffe")),a={name:"u-loading-page",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{}},methods:{}};e.default=a},b639:function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i("1fb5"),r=i("9152"),a=i("e3db");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=l.prototype):(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,i){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,i);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return u(this,t,e,i)}function u(t,e,i,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);l.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=l.prototype):t=f(t,e);return t}(t,e,i,n):"string"===typeof e?function(t,e,i){"string"===typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,i);t=s(t,n);var r=t.write(e,i);r!==n&&(t=t.slice(0,r));return t}(t,e,i):function(t,e){if(l.isBuffer(e)){var i=0|h(e.length);return t=s(t,i),0===t.length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||function(t){return t!==t}(e.length)?s(t,0):f(t,e);if("Buffer"===e.type&&a(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(c(e),t=s(t,e<0?0:0|h(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function f(t,e){var i=e.length<0?0:0|h(e.length);t=s(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function h(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return j(t).length;default:if(n)return $(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return I(this,e,i);case"utf8":case"utf-8":return A(this,e,i);case"ascii":return x(this,e,i);case"latin1":case"binary":return L(this,e,i);case"base64":return E(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function g(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function m(t,e,i,n,r){if(0===t.length)return-1;if("string"===typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"===typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:y(t,e,i,n,r);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):y(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,i,n,r){var a,o=1,s=t.length,l=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,i/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var c=-1;for(a=i;a<s;a++)if(u(t,a)===u(e,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(i+l>s&&(i=s-l),a=i;a>=0;a--){for(var d=!0,f=0;f<l;f++)if(u(t,a+f)!==u(e,f)){d=!1;break}if(d)return a}return-1}function b(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[i+o]=s}return o}function _(t,e,i,n){return H($(e,t.length-i),t,i,n)}function w(t,e,i,n){return H(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function k(t,e,i,n){return w(t,e,i,n)}function S(t,e,i,n){return H(j(e),t,i,n)}function T(t,e,i,n){return H(function(t,e){for(var i,n,r,a=[],o=0;o<t.length;++o){if((e-=2)<0)break;i=t.charCodeAt(o),n=i>>8,r=i%256,a.push(r),a.push(n)}return a}(e,t.length-i),t,i,n)}function E(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function A(t,e,i){i=Math.min(t.length,i);var n=[],r=e;while(r<i){var a,o,s,l,u=t[r],c=null,d=u>239?4:u>223?3:u>191?2:1;if(r+d<=i)switch(d){case 1:u<128&&(c=u);break;case 2:a=t[r+1],128===(192&a)&&(l=(31&u)<<6|63&a,l>127&&(c=l));break;case 3:a=t[r+1],o=t[r+2],128===(192&a)&&128===(192&o)&&(l=(15&u)<<12|(63&a)<<6|63&o,l>2047&&(l<55296||l>57343)&&(c=l));break;case 4:a=t[r+1],o=t[r+2],s=t[r+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s,l>65535&&l<1114112&&(c=l))}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var i="",n=0;while(n<e)i+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return i}(n)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=o(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,i){return u(null,t,e,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,i){return function(t,e,i,n){return c(e),e<=0?s(t,e):void 0!==i?"string"===typeof n?s(t,e).fill(i,n):s(t,e).fill(i):s(t,e)}(null,t,e,i)},l.allocUnsafe=function(t){return d(null,t)},l.allocUnsafeSlow=function(t){return d(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,a=Math.min(i,n);r<a;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=l.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var o=t[i];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):v.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,i,n,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,r>>>=0,this===t)return 0;for(var a=r-n,o=i-e,s=Math.min(a,o),u=this.slice(n,r),c=t.slice(e,i),d=0;d<s;++d)if(u[d]!==c[d]){a=u[d],o=c[d];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return m(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return m(this,t,e,i,!1)},l.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"===typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,t,e,i);case"utf8":case"utf-8":return _(this,t,e,i);case"ascii":return w(this,t,e,i);case"latin1":case"binary":return k(this,t,e,i);case"base64":return S(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function L(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function I(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",a=e;a<i;++a)r+=U(t[a]);return r}function C(t,e,i){for(var n=t.slice(e,i),r="",a=0;a<n.length;a+=2)r+=String.fromCharCode(n[a]+256*n[a+1]);return r}function D(t,e,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,i,n,r,a){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<a)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function R(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,a=Math.min(t.length-i,2);r<a;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function P(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,a=Math.min(t.length-i,4);r<a;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function M(t,e,i,n,r,a){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function F(t,e,i,n,a){return a||M(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function B(t,e,i,n,a){return a||M(t,0,i,8),r.write(t,e,i,n,52,8),i+8}l.prototype.slice=function(t,e){var i,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=l.prototype;else{var r=e-t;i=new l(r,void 0);for(var a=0;a<r;++a)i[a]=this[a+t]}return i},l.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);var n=this[t],r=1,a=0;while(++a<e&&(r*=256))n+=this[t+a]*r;return n},l.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);var n=this[t+--e],r=1;while(e>0&&(r*=256))n+=this[t+--e]*r;return n},l.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);var n=this[t],r=1,a=0;while(++a<e&&(r*=256))n+=this[t+a]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);var n=e,r=1,a=this[t+--n];while(n>0&&(r*=256))a+=this[t+--n]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*e)),a},l.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;O(this,t,e,i,r,0)}var a=1,o=0;this[e]=255&t;while(++o<i&&(a*=256))this[e+o]=t/a&255;return e+i},l.prototype.writeUIntBE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;O(this,t,e,i,r,0)}var a=i-1,o=1;this[e+a]=255&t;while(--a>=0&&(o*=256))this[e+a]=t/o&255;return e+i},l.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);O(this,t,e,i,r-1,-r)}var a=0,o=1,s=0;this[e]=255&t;while(++a<i&&(o*=256))t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+i},l.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);O(this,t,e,i,r-1,-r)}var a=i-1,o=1,s=0;this[e+a]=255&t;while(--a>=0&&(o*=256))t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,i){return F(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return F(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return B(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return B(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,a=n-i;if(this===t&&i<e&&e<n)for(r=a-1;r>=0;--r)t[r+e]=this[r+i];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+a),e);return a},l.prototype.fill=function(t,e,i,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,i=this.length):"string"===typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var a;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"===typeof t)for(a=e;a<i;++a)this[a]=t;else{var o=l.isBuffer(t)?t:$(new l(t,n).toString()),s=o.length;for(a=0;a<i-e;++a)this[a+e]=o[a%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,e){var i;e=e||1/0;for(var n=t.length,r=null,a=[],o=0;o<n;++o){if(i=t.charCodeAt(o),i>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&a.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&a.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;a.push(i)}else if(i<2048){if((e-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function j(t){return n.toByteArray(function(t){if(t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}(t))}function H(t,e,i,n){for(var r=0;r<n;++r){if(r+i>=e.length||r>=t.length)break;e[r+i]=t[r]}return r}}).call(this,i("c8ba"))},b640:function(t,e,i){"use strict";i.r(e);var n=i("fc48"),r=i("0550");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"408c4a9a",null,!1,n["a"],void 0);e["default"]=s.exports},b663:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.show&&(0!==Number(t.value)||t.showZero||t.isDot))?i("text",{staticClass:t._$s(0,"sc","u-badge"),class:t._$s(0,"c",[t.isDot?"u-badge--dot":"u-badge--not-dot",t.inverted&&"u-badge--inverted","horn"===t.shape&&"u-badge--horn","u-badge--"+t.type+(t.inverted?"--inverted":"")]),style:t._$s(0,"s",[t.$u.addStyle(t.customStyle),t.badgeStyle]),attrs:{_i:0}},[t._v(t._$s(0,"t0-0",t._s(t.isDot?"":t.showValue)))]):t._e()},r=[]},b6c5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{icon:{type:String,default:uni.$u.props.empty.icon},text:{type:String,default:uni.$u.props.empty.text},textColor:{type:String,default:uni.$u.props.empty.textColor},textSize:{type:[String,Number],default:uni.$u.props.empty.textSize},iconColor:{type:String,default:uni.$u.props.empty.iconColor},iconSize:{type:[String,Number],default:uni.$u.props.empty.iconSize},mode:{type:String,default:uni.$u.props.empty.mode},width:{type:[String,Number],default:uni.$u.props.empty.width},height:{type:[String,Number],default:uni.$u.props.empty.height},show:{type:Boolean,default:uni.$u.props.empty.show},marginTop:{type:[String,Number],default:uni.$u.props.empty.marginTop}}};e.default=n},b81f:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),a=n(i("95ee")),o=n(i("8ea8"));function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={name:"u-transition",data:function(){return{inited:!1,viewStyle:{},status:"",transitionEnded:!1,display:!1,classes:""}},computed:{mergeStyle:function(){var t=this.viewStyle,e=this.customStyle;return l(l({transitionDuration:"".concat(this.duration,"ms"),transitionTimingFunction:this.timingFunction},uni.$u.addStyle(e)),t)}},mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default,a.default],watch:{show:{handler:function(t){t?this.vueEnter():this.vueLeave()},immediate:!0}}};e.default=u},b8cd:function(t,e,i){"use strict";i.r(e);var n=i("905a"),r=i("88f6");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"d7bd0f22",null,!1,n["a"],void 0);e["default"]=s.exports},b907:function(t,e,i){"use strict";i.r(e);var n=i("a179"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},b9d3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={actionSheet:{show:!1,title:"",description:"",actions:function(){return[]},index:"",cancelText:"",closeOnClickAction:!0,safeAreaInsetBottom:!0,openType:"",closeOnClickOverlay:!0,round:0}}},b9eb:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"wList",props:["type","data","id","name"],data:function(){return{show:!1,list:{}}},methods:{huadong:function(t){},selectClickChapter:function(e){var i;t("log",e," at components/Wpopup/wList.nvue:37"),"video"==this.type&&(i="/pageB/VideoContent/content?chapterPath=".concat(e.chapterPath,"&title=").concat(this.name)),"book"==this.type&&(i="/pageB/BookContent/content?chapterId=".concat(e.chapterId,"&title=").concat(e.title,"&id=").concat(this.id.fictionId)),"comic"==this.type&&(i="/pageB/comicContent/content?chapterId=".concat(e.chapterId,"&title=").concat(e.title,"&id=").concat(this.id.cartoonId)),uni.navigateTo({url:i}),this.$emit("popupClose")}}};e.default=i}).call(this,i("0de9")["default"])},ba98:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={avatarGroup:{urls:function(){return[]},maxCount:5,shape:"circle",mode:"scaleToFill",showMore:!0,size:40,keyName:"",gap:.5,extraValue:0}}},bb47:function(t,e,i){"use strict";i.r(e);var n=i("097c"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},bb4d:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={loadingPage:{loadingText:"\u6b63\u5728\u52a0\u8f7d",image:"",loadingMode:"circle",loading:!1,bgColor:"#ffffff",color:"#C8C8C8",fontSize:19,iconSize:28,loadingColor:"#C8C8C8"}}},bb55:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={tabbarItem:{name:null,icon:"",badge:null,dot:!1,text:"",badgeStyle:"top: 6px;right:2px;"}}},bb78:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("55ea")),a=n(i("5313")),o=n(i("fdf2")),s={en:r.default,"zh-Hans":a.default,"zh-Hant":o.default};e.default=s},be0b:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("77ee")),a={name:"u-loadmore",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{dotText:"\u25cf"}},computed:{loadTextStyle:function(){return{color:this.color,fontSize:uni.$u.addUnit(this.fontSize),lineHeight:uni.$u.addUnit(this.fontSize),backgroundColor:this.bgColor}},showText:function(){var t="";return t="loadmore"==this.status?this.loadmoreText:"loading"==this.status?this.loadingText:"nomore"==this.status&&this.isDot?this.dotText:this.nomoreText,t}},methods:{loadMore:function(){"loadmore"==this.status&&this.$emit("loadmore")}}};e.default=a},be49:function(t,e,i){"use strict";i.r(e);var n=i("25f0"),r=i("ea33");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"53601e10",null,!1,n["a"],void 0);e["default"]=s.exports},be50:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("6e6c")),a=n(i("e49d")),o={name:"u-icon",data:function(){return{}},mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],computed:{uClasses:function(){var t=[];return t.push(this.customPrefix+"-"+this.name),this.color&&uni.$u.config.type.includes(this.color)&&t.push("u-icon__icon--"+this.color),t},iconStyle:function(){var t={};return t={fontSize:uni.$u.addUnit(this.size),lineHeight:uni.$u.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:uni.$u.addUnit(this.top)},this.color&&!uni.$u.config.type.includes(this.color)&&(t.color=this.color),t},isImg:function(){return-1!==this.name.indexOf("/")},imgStyle:function(){var t={};return t.width=this.width?uni.$u.addUnit(this.width):uni.$u.addUnit(this.size),t.height=this.height?uni.$u.addUnit(this.height):uni.$u.addUnit(this.size),t},icon:function(){return r.default["uicon-"+this.name]||this.name}},methods:{clickHandler:function(t){this.$emit("click",this.index),this.stop&&this.preventEvent(t)}}};e.default=o},bef1:function(t,e,i){"use strict";i.r(e);var n=i("e1ca"),r=i("d18f");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"5c0a651e",null,!1,n["a"],void 0);e["default"]=s.exports},c135:function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports["default"]=t.exports},c14e:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("text",{staticClass:t._$s(0,"sc","u-link"),style:t._$s(0,"s",[t.linkStyle,t.$u.addStyle(t.customStyle)]),attrs:{_i:0},on:{click:function(e){return e.stopPropagation(),t.openLink(e)}}},[t._v(t._$s(0,"t0-0",t._s(t.text)))])},r=[]},c191:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("dc07")),a={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data:function(){return{icons:r.default.glyphs}},computed:{unicode:function(){var t=this,e=this.icons.find((function(e){return e.font_class===t.type}));return e?unescape("%u".concat(e.unicode)):""},iconSize:function(){return function(t){return"number"===typeof t||/^[0-9]*$/g.test(t)?t+"px":t}(this.size)}},methods:{_onClick:function(){this.$emit("click")}}};e.default=a},c198:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={swiperIndicator:{length:0,current:0,indicatorActiveColor:"",indicatorInactiveColor:"",indicatorMode:"line"}}},c225:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={loadmore:{status:"loadmore",bgColor:"transparent",icon:!0,fontSize:14,iconSize:17,color:"#606266",loadingIcon:"spinner",loadmoreText:"\u52a0\u8f7d\u66f4\u591a",loadingText:"\u6b63\u5728\u52a0\u8f7d...",nomoreText:"\u6ca1\u6709\u66f4\u591a\u4e86",isDot:!1,iconColor:"#b7b7b7",marginTop:10,marginBottom:10,height:"auto",line:!1,lineColor:"#E6E8EB",dashed:!1}}},c240:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports["default"]=t.exports},c290:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={nxSearch:i("eba3").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",[i("nx-search",{attrs:{selectList:t.selectList,button:"inside",_i:2},on:{search:t.doSearch,confirm:t.doSearc},model:{value:t._$s(2,"v-model",t.keyword),callback:function(e){t.keyword=e},expression:"keyword"}})],1)])},a=[]},c2cb:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={onLaunch:function(){t("log","App Launch"," at App.vue:4")},onShow:function(){t("log","App Show"," at App.vue:17")},onHide:function(){t("log","App Hide"," at App.vue:20")}};e.default=i}).call(this,i("0de9")["default"])},c2f9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{gutter:{type:[String,Number],default:uni.$u.props.row.gutter},justify:{type:String,default:uni.$u.props.row.justify},align:{type:String,default:uni.$u.props.row.align}}};e.default=n},c3a7:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:t._$s(1,"sc","nav"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","nav-left"),attrs:{_i:2}},[i("scroll-view",{style:t._$s(3,"s","height:"+t.height+"px"),attrs:{_i:3}},t._l(t._$s(4,"f",{forItems:t.categoryList}),(function(e,n,r,a){return i("view",{key:t._$s(4,"f",{forIndex:r,key:n}),staticClass:t._$s("4-"+a,"sc","nav-left-item"),style:t._$s("4-"+a,"s",n==t.categoryActive?"color:"+t.activeTextColor+";background-color:"+t.activeBackgroundColor:""),attrs:{_i:"4-"+a},on:{click:function(i){return t.categoryClickMain(e,n)}}},[t._v(t._$s("4-"+a,"t0-0",t._s(e[t.label])))])})),0)]),i("view",{staticClass:t._$s(5,"sc","nav-right"),attrs:{_i:5}},[i("scroll-view",{style:t._$s(6,"s","height:"+t.height+"px"),attrs:{"scroll-top":t._$s(6,"a-scroll-top",t.scrollTop),_i:6},on:{scroll:t.scroll}},t._l(t._$s(7,"f",{forItems:t.subCategoryList}),(function(e,n,r,a){return i("view",{key:t._$s(7,"f",{forIndex:r,key:n}),staticClass:t._$s("7-"+a,"sc","nav-right-item"),attrs:{_i:"7-"+a},on:{click:function(i){return t.categoryClickSub(e)}}},[i("image",{attrs:{src:t._$s("8-"+a,"a-src",e[t.imgSrc]),_i:"8-"+a}}),i("view",[t._v(t._$s("9-"+a,"t0-0",t._s(e[t.label])))])])})),0)])])])},r=[]},c4b4:function(t,e,i){"use strict";i.r(e);var n=i("0c0d"),r=i("4190");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"599ead9e",null,!1,n["a"],void 0);e["default"]=s.exports},c57b:function(t,e,i){"use strict";i.r(e);var n=i("ead4");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var a=i("f0c5"),o=Object(a["a"])(n["default"],void 0,void 0,!1,null,null,null,!1,void 0,void 0);e["default"]=o.exports},c5f7:function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.__esModule=!0,t.exports["default"]=t.exports},c650:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{ref:"u-grid",staticClass:this._$s(0,"sc","u-grid"),style:this._$s(0,"s",[this.gridStyle]),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},r=[]},c851:function(t,e,i){"use strict";i.r(e);var n=i("1ca7"),r=i("222a");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},c94a:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.inited)?i("view",{ref:"u-transition",staticClass:t._$s(0,"sc","u-transition"),class:t._$s(0,"c",t.classes),style:t._$s(0,"s",[t.mergeStyle]),attrs:{_i:0},on:{touchmove:t.noop,click:t.clickHandler}},[t._t("default",null,{_i:1})],2):t._e()},r=[]},c970:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={data:function(){return{title:"Hello"}},onLoad:function(){},methods:{}}},c973:function(t,e){function i(t,e,i,n,r,a,o){try{var s=t[a](o),l=s.value}catch(u){return void i(u)}s.done?e(l):Promise.resolve(l).then(n,r)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){i(o,r,a,s,l,"next",t)}function l(t){i(o,r,a,s,l,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports["default"]=t.exports},ca28:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uNavbar:i("9af9").default},r=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","wbar-class"),attrs:{_i:0}},[e("u-navbar",{attrs:{height:"80rpx",title:this.title,fixed:!1,placeholder:!0,bgColor:"#FFFFFF",_i:1},on:{leftClick:this.leftClick}})],1)},a=[]},ca69:function(t,e,i){"use strict";i.r(e);var n=i("d0ac"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},ca81:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("aebf")),a={name:"u-link",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],computed:{linkStyle:function(){var t={color:this.color,fontSize:uni.$u.addUnit(this.fontSize),lineHeight:uni.$u.addUnit(uni.$u.getPx(this.fontSize)+2),textDecoration:this.underLine?"underline":"none"};return t}},methods:{openLink:function(){plus.runtime.openURL(this.href),this.$emit("click")}}};e.default=a},cad4:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("e32c")),a={name:"u-image",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{},show:!1}},watch:{src:{immediate:!0,handler:function(t){t?(this.isError=!1,this.loading=!0):this.isError=!0}}},computed:{wrapStyle:function(){var t={};return t.width=this.$u.addUnit(this.width),t.height=this.$u.addUnit(this.height),t.borderRadius="circle"==this.shape?"10000px":uni.$u.addUnit(this.radius),t.overflow=this.borderRadius>0?"hidden":"visible",uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}},mounted:function(){this.show=!0},methods:{onClick:function(){this.$emit("click")},onErrorHandler:function(t){this.loading=!1,this.isError=!0,this.$emit("error",t)},onLoadHandler:function(t){this.loading=!1,this.isError=!1,this.$emit("load",t),this.removeBgColor()},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}};e.default=a},cc5f:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("d7d7")),a={name:"u-grid",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{index:0,width:0}},watch:{parentData:function(){this.children.length&&this.children.map((function(t){"function"==typeof t.updateParentData&&t.updateParentData()}))}},created:function(){this.children=[]},computed:{parentData:function(){return[this.hoverClass,this.col,this.size,this.border]},gridStyle:function(){var t={};switch(this.align){case"left":t.justifyContent="flex-start";break;case"center":t.justifyContent="center";break;case"right":t.justifyContent="flex-end";break;default:t.justifyContent="flex-start"}return uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}},methods:{childClick:function(t){this.$emit("click",t)}}};e.default=a},cd0d:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,a=n(i("9523")),o=n(i("e7b3")),s=(r={name:"u-collapse",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],watch:{needInit:function(){this.init()}},created:function(){this.children=[]},computed:{needInit:function(){return[this.accordion,this.value]}}},(0,a.default)(r,"watch",{parentData:function(){this.children.length&&this.children.map((function(t){"function"===typeof t.updateParentData&&t.updateParentData()}))}}),(0,a.default)(r,"methods",{init:function(){this.children.map((function(t){t.init()}))},onChange:function(t){var e=this,i=[];this.children.map((function(n,r){e.accordion?(n.expanded=n===t&&!t.expanded,n.setContentAnimate()):n===t&&(n.expanded=!n.expanded,n.setContentAnimate()),i.push({name:n.name||r,status:n.expanded?"open":"close"})})),this.$emit("change",i),this.$emit(t.expanded?"open":"close",t.name)}}),r);e.default=s},cdd3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{title:{type:String,default:uni.$u.props.collapseItem.title},value:{type:String,default:uni.$u.props.collapseItem.value},label:{type:String,default:uni.$u.props.collapseItem.label},disabled:{type:Boolean,default:uni.$u.props.collapseItem.disabled},isLink:{type:Boolean,default:uni.$u.props.collapseItem.isLink},clickable:{type:Boolean,default:uni.$u.props.collapseItem.clickable},border:{type:Boolean,default:uni.$u.props.collapseItem.border},align:{type:String,default:uni.$u.props.collapseItem.align},name:{type:[String,Number],default:uni.$u.props.collapseItem.name},icon:{type:String,default:uni.$u.props.collapseItem.icon},duration:{type:Number,default:uni.$u.props.collapseItem.duration}}};e.default=n},ce52:function(t,e,i){"use strict";i.r(e);var n=i("873a"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},ce53:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{color:{type:String,default:uni.$u.props.line.color},length:{type:[String,Number],default:uni.$u.props.line.length},direction:{type:String,default:uni.$u.props.line.direction},hairline:{type:Boolean,default:uni.$u.props.line.hairline},margin:{type:[String,Number],default:uni.$u.props.line.margin},dashed:{type:Boolean,default:uni.$u.props.line.dashed}}};e.default=n},cef5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={image:{src:"",mode:"aspectFill",width:"300",height:"225",shape:"square",radius:0,lazyLoad:!0,showMenuByLongpress:!0,loadingIcon:"photo",errorIcon:"error-circle",showLoading:!0,showError:!0,fade:!0,webp:!1,duration:500,bgColor:"#f3f4f6"}}},d096:function(t,e,i){"use strict";i.r(e);var n=i("2013b"),r=i("a289");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"fd44e92e",null,!1,n["a"],void 0);e["default"]=s.exports},d0ac:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("eba3")),a={components:{nxSearch:r.default},data:function(){return{selectList:[{id:1,name:"\u5c0f\u8bf4"},{id:2,name:"\u6f2b\u753b"},{id:3,name:"\u89c6\u9891"}],keyword:""}},onLoad:function(){},methods:{doSearch:function(t){var e=null;0==t.selectIndex&&(e="/pageA/dataList/dataList?type=".concat("book","&name=",t.keyword,"&title=",1)),1==t.selectIndex&&(e="/pageA/dataList/dataList?type=".concat("comic","&name=",t.keyword,"&title=",1)),2==t.selectIndex&&(e="/pageA/dataList/dataList?type=".concat("video","&name=",t.keyword,"&title=",1)),uni.navigateTo({url:e})},doSearc:function(t){this.doSearch(t)}}};e.default=a},d0da:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={data:function(){return{}},onLoad:function(){},methods:{}}},d0eb:function(t,e,i){"use strict";i.r(e);var n=i("7e06"),r=i("2c31");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"149865cc",null,!1,n["a"],void 0);e["default"]=s.exports},d18f:function(t,e,i){"use strict";i.r(e);var n=i("d0da"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},d1a1:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.videoList=e.comicList=e.bookList=void 0;e.bookList=[{name:"\u7384\u5e7b\u5947\u5e7b",logo:"",type:"book"},{name:"\u5973\u751f\u9891\u9053",logo:"",type:"book"},{name:"\u90fd\u5e02\u8a00\u60c5",logo:"",type:"book"},{name:"\u7f51\u6e38\u7ade\u6280",logo:"",type:"book"},{name:"\u5386\u53f2\u519b\u4e8b",logo:"",type:"book"},{name:"\u79d1\u5e7b\u7075\u5f02",logo:"",type:"book"},{name:"\u6b66\u4fa0\u4ed9\u4fa0",logo:"",type:"book"},{name:"\u7a7f\u8d8a\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u7384\u5e7b\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u7f51\u6e38\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u4fee\u771f\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u79d1\u5e7b\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u90fd\u5e02\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u5176\u4ed6\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u540c\u4eba\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u5192\u9669",logo:"",type:"book"},{name:"\u7a7f\u8d8a",logo:"",type:"book"},{name:"\u5947\u5e7b",logo:"",type:"book"},{name:"\u6821\u56ed",logo:"",type:"book"},{name:"\u5f02\u754c",logo:"",type:"book"},{name:"\u5f02\u4e16\u754c",logo:"",type:"book"},{name:"\u604b\u7231",logo:"",type:"book"},{name:"\u540c\u4eba\u4f5c\u54c1",logo:"",type:"book"},{name:"\u9b54\u6cd5",logo:"",type:"book"},{name:"\u9b54\u5e7b",logo:"",type:"book"},{name:"\u767e\u5408",logo:"",type:"book"},{name:"\u9752\u6625",logo:"",type:"book"},{name:"\u7f51\u6e38\u52a8\u6f2b",logo:"",type:"book"},{name:"\u5176\u4ed6\u7c7b\u578b",logo:"",type:"book"},{name:"\u7384\u5e7b\u9b54\u6cd5",logo:"",type:"book"},{name:"\u6b66\u4fa0\u4fee\u771f",logo:"",type:"book"},{name:"\u795e\u8bdd",logo:"",type:"book"},{name:"\u795e\u9b3c",logo:"",type:"book"},{name:"\u8f7b\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u79d1\u5e7b",logo:"",type:"book"},{name:"\u5e7b\u60f3",logo:"",type:"book"},{name:"\u7eaf\u7231",logo:"",type:"book"},{name:"\u60ac\u7591",logo:"",type:"book"},{name:"\u4fa6\u63a2",logo:"",type:"book"},{name:"\u6050\u6016",logo:"",type:"book"},{name:"\u7231\u60c5",logo:"",type:"book"},{name:"\u641e\u7b11",logo:"",type:"book"},{name:"\u795e\u79d8",logo:"",type:"book"},{name:"\u683c\u6597",logo:"",type:"book"},{name:"\u6218\u6597",logo:"",type:"book"},{name:"\u65e5\u672c\u6587\u5b66",logo:"",type:"book"},{name:"\u6218\u4e89",logo:"",type:"book"},{name:"\u540e\u5bab",logo:"",type:"book"},{name:"\u604b\u7231\u559c\u5267",logo:"",type:"book"},{name:"\u4fa6\u63a2\u63a8\u7406",logo:"",type:"book"},{name:"\u5176\u4ed6",logo:"",type:"book"},{name:"\u5b8c\u672c\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u8f6c\u751f",logo:"",type:"book"},{name:"\u8f7b\u6587\u5b66",logo:"",type:"book"},{name:"\u5e7d\u9ed8",logo:"",type:"book"},{name:"\u9ed1\u6697",logo:"",type:"book"},{name:"\u60ca\u609a",logo:"",type:"book"},{name:"\u6697\u9ed1",logo:"",type:"book"},{name:"\u72af\u7f6a",logo:"",type:"book"}];e.comicList=[{name:"\u9738\u603b",logo:"",type:"comic"},{name:"\u604b\u7231",logo:"",type:"comic"},{name:"\u7384\u5e7b",logo:"",type:"comic"},{name:"\u70ed\u8840",logo:"",type:"comic"},{name:"\u53e4\u98ce",logo:"",type:"comic"},{name:"\u641e\u7b11",logo:"",type:"comic"},{name:"\u751f\u6d3b",logo:"",type:"comic"},{name:"\u5192\u9669",logo:"",type:"comic"},{name:"\u6b22\u4e50\u5411",logo:"",type:"comic"},{name:"\u683c\u6597",logo:"",type:"comic"},{name:"\u540e\u5bab",logo:"",type:"comic"},{name:"\u7a7f\u8d8a",logo:"",type:"comic"},{name:"\u52a8\u4f5c",logo:"",type:"comic"},{name:"\u4fee\u771f",logo:"",type:"comic"},{name:"\u7075\u5f02",logo:"",type:"comic"},{name:"\u6821\u56ed",logo:"",type:"comic"},{name:"\u79d1\u5e7b",logo:"",type:"comic"},{name:"\u7ade\u6280",logo:"",type:"comic"},{name:"\u60ac\u7591",logo:"",type:"comic"},{name:"\u52b1\u5fd7",logo:"",type:"comic"},{name:"\u6050\u6016",logo:"",type:"comic"},{name:"\u67b6\u7a7a",logo:"",type:"comic"},{name:"\u771f\u4eba",logo:"",type:"comic"},{name:"\u60ca\u609a",logo:"",type:"comic"},{name:"\u6218\u4e89",logo:"",type:"comic"},{name:"\u8f7b\u5c0f\u8bf4",logo:"",type:"comic"},{name:"\u989c\u827a",logo:"",type:"comic"},{name:"\u540c\u4eba",logo:"",type:"comic"},{name:"\u673a\u6218",logo:"",type:"comic"},{name:"\u4e1c\u65b9",logo:"",type:"comic"},{name:"\u7eaf\u7231",logo:"",type:"comic"},{name:"\u5b85\u7cfb",logo:"",type:"comic"},{name:"\u7f8e\u98df",logo:"",type:"comic"},{name:"\u5355\u884c",logo:"",type:"comic"},{name:"\u6cdb\u7231",logo:"",type:"comic"},{name:"\u3086\u308a",logo:"",type:"comic"},{name:"TS",logo:"",type:"comic"},{name:"\u795e\u9b3c",logo:"",type:"comic"},{name:"\u8282\u64cd",logo:"",type:"comic"},{name:"\u8230\u5a18",logo:"",type:"comic"},{name:"\u7231\u60c5",logo:"",type:"comic"},{name:"\u5947\u5e7b",logo:"",type:"comic"},{name:"\u804c\u573a",logo:"",type:"comic"},{name:"\u79c0\u5409",logo:"",type:"comic"},{name:"\u840c\u7cfb",logo:"",type:"comic"},{name:"\u6cbb\u6108",logo:"",type:"comic"},{name:"\u9b54\u6cd5",logo:"",type:"comic"},{name:"\u6b66\u4fa0",logo:"",type:"comic"},{name:"\u60ca\u609a",logo:"",type:"comic"},{name:"\u5386\u53f2",logo:"",type:"comic"},{name:"\u4ed9\u4fa0",logo:"",type:"comic"},{name:"\u4fa6\u63a2",logo:"",type:"comic"},{name:"\u798f\u745e",logo:"",type:"comic"},{name:"\u897f\u65b9",logo:"",type:"comic"},{name:"\u9b54\u5e7b",logo:"",type:"comic"},{name:"\u5176\u4ed6",logo:"",type:"comic"},{name:"\u751f\u5b58",logo:"",type:"comic"},{name:"\u97f3\u4e50",logo:"",type:"comic"},{name:"\u821e\u8e48",logo:"",type:"comic"},{name:"\u56db\u683c",logo:"",type:"comic"}];e.videoList=[{name:"\u52a8\u6f2b\u7535\u5f71",logo:"",type:"video"},{name:"\u52a8\u4f5c",logo:"",type:"video"},{name:"\u79d1\u5e7b",logo:"",type:"video"},{name:"\u5176\u5b83",logo:"",type:"video"},{name:"\u52a8\u6f2b",logo:"",type:"video"},{name:"\u7eaa\u5f55\u7247",logo:"",type:"video"},{name:"\u65e5\u97e9\u52a8\u6f2b",logo:"",type:"video"},{name:"\u6b27\u7f8e\u52a8\u6f2b",logo:"",type:"video"},{name:"\u56fd\u4ea7\u52a8\u6f2b",logo:"",type:"video"},{name:"\u5267\u60c5\u52a8\u753b",logo:"",type:"video"},{name:"\u5947\u5e7b",logo:"",type:"video"},{name:"\u5267\u60c5",logo:"",type:"video"},{name:"\u4f26\u7406",logo:"",type:"video"},{name:"\u7efc\u827a",logo:"",type:"video"},{name:"\u56fd\u4ea7",logo:"",type:"video"},{name:"\u56fd\u4ea7\u5267",logo:"",type:"video"},{name:"\u771f\u4eba\u79c0",logo:"",type:"video"},{name:"\u559c\u5267",logo:"",type:"video"},{name:"\u7231\u60c5",logo:"",type:"video"},{name:"\u6b27\u7f8e",logo:"",type:"video"},{name:"\u5927\u9646\u7efc\u827a",logo:"",type:"video"},{name:"\u97e9\u56fd\u5267",logo:"",type:"video"},{name:"\u6d77\u5916\u5267",logo:"",type:"video"},{name:"\u6218\u4e89\u7247",logo:"",type:"video"},{name:"\u6050\u6016\u7247",logo:"",type:"video"},{name:"\u65e5\u5267",logo:"",type:"video"},{name:"\u6cf0\u5267",logo:"",type:"video"},{name:"\u6b27\u7f8e\u7efc\u827a",logo:"",type:"video"},{name:"\u6e2f\u53f0\u7efc\u827a",logo:"",type:"video"},{name:"\u65e5\u97e9\u7efc\u827a",logo:"",type:"video"},{name:"\u6e2f\u6fb3",logo:"",type:"video"},{name:"\u9009\u79c0",logo:"",type:"video"},{name:"\u4e2d\u56fd\u5927\u9646",logo:"",type:"video"},{name:"\u6d77\u5916\u52a8\u6f2b",logo:"",type:"video"},{name:"\u60ac\u7591",logo:"",type:"video"},{name:"\u65e5\u672c\u5267",logo:"",type:"video"},{name:"\u97f3\u4e50",logo:"",type:"video"}]},d2c1:function(t,e,i){"use strict";i.r(e);var n=i("2d79"),r=i("8a29");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"19128ec0",null,!1,n["a"],void 0);e["default"]=s.exports},d428:function(t,e,i){"use strict";var n=i("4ea4"),r=n(i("9523"));i("1661");var a=n(i("c57b")),o=n(i("8bbf")),s=n(i("496a")),l=n(i("50af"));function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}o.default.config.productionTip=!1,o.default.prototype.$store=l.default,o.default.use(s.default),a.default.mpType="app";var c=new o.default(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({store:l.default},a.default));c.$mount()},d44e:function(t,e){t.exports="/static/img/video.png"},d496:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{show:{type:Boolean,default:uni.$u.props.overlay.show},zIndex:{type:[String,Number],default:uni.$u.props.overlay.zIndex},duration:{type:[String,Number],default:uni.$u.props.overlay.duration},opacity:{type:[String,Number],default:uni.$u.props.overlay.opacity}}};e.default=n},d7d7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{col:{type:[String,Number],default:uni.$u.props.grid.col},border:{type:Boolean,default:uni.$u.props.grid.border},align:{type:String,default:uni.$u.props.grid.align}}};e.default=n},d887:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick:function(t){this.$emit("click",t)}}};e.default=n},da98:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={rate:{value:1,count:5,disabled:!1,size:18,inactiveColor:"#b2b2b2",activeColor:"#FA3534",gutter:4,minCount:1,allowHalf:!1,activeIcon:"star-fill",inactiveIcon:"star",touchable:!0}}},daa2:function(t,e,i){"use strict";i.r(e);var n=i("6c07"),r=i("7143");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"2292e5f5",null,!1,n["a"],void 0);e["default"]=s.exports},db1a:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{type:{type:String,default:uni.$u.props.tag.type},disabled:{type:[Boolean,String],default:uni.$u.props.tag.disabled},size:{type:String,default:uni.$u.props.tag.size},shape:{type:String,default:uni.$u.props.tag.shape},text:{type:[String,Number],default:uni.$u.props.tag.text},bgColor:{type:String,default:uni.$u.props.tag.bgColor},color:{type:String,default:uni.$u.props.tag.color},borderColor:{type:String,default:uni.$u.props.tag.borderColor},closeColor:{type:String,default:uni.$u.props.tag.closeColor},name:{type:[String,Number],default:uni.$u.props.tag.name},plainFill:{type:Boolean,default:uni.$u.props.tag.plainFill},plain:{type:Boolean,default:uni.$u.props.tag.plain},closable:{type:Boolean,default:uni.$u.props.tag.closable},show:{type:Boolean,default:uni.$u.props.tag.show},icon:{type:String,default:uni.$u.props.tag.icon}}};e.default=n},db3a:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:["title"],data:function(){return{routeData:{}}},onLoad:function(t){},methods:{leftClick:function(){t("log","\u70b9\u51fb\u4e86"," at components/backNavbar/index.vue:25"),uni.navigateBack()}},mounted:function(){}};e.default=i}).call(this,i("0de9")["default"])},dbc9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={col:{span:12,offset:0,justify:"start",align:"stretch",textAlign:"left"}}},dc07:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={id:"2852637",name:"uniui\u56fe\u6807\u5e93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]}},dc80:function(t,e,i){"use strict";i.r(e);var n=i("b81f"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},dc8e:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={lineProgress:{activeColor:"#19be6b",inactiveColor:"#ececec",percentage:0,showText:!0,height:12}}},dcdc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={readMore:{showHeight:400,toggle:!1,closeText:"\u5c55\u5f00\u9605\u8bfb\u5168\u6587",openText:"\u6536\u8d77",color:"#2979ff",fontSize:14,textIndent:"2em",name:""}}},dd1f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={steps:{direction:"row",current:0,activeColor:"#3c9cff",inactiveColor:"#969799",activeIcon:"",inactiveIcon:"",dot:!1}}},de0c:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i("37dc"),a=n(i("bb78")),o=(0,r.initVueI18n)(a.default),s=o.t,l={name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:"\u53d6\u6d88"},bgColor:{type:String,default:"#F8F8F8"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:function(){return{show:!1,showSync:!1,searchVal:""}},computed:{cancelTextI18n:function(){return this.cancelText||s("uni-search-bar.cancel")},placeholderText:function(){return this.placeholder||s("uni-search-bar.placeholder")}},watch:{value:{immediate:!0,handler:function(t){this.searchVal=t,t&&(this.show=!0)}},focus:{immediate:!0,handler:function(t){var e=this;if(t){if(this.readonly)return;this.show=!0,this.$nextTick((function(){e.showSync=!0}))}}},searchVal:function(t,e){this.$emit("input",t)}},methods:{searchClick:function(){var t=this;this.readonly||this.show||(this.show=!0,this.$nextTick((function(){t.showSync=!0})))},clear:function(){this.$emit("clear",{value:this.searchVal}),this.searchVal=""},cancel:function(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,plus.key.hideSoftKeybord())},confirm:function(){plus.key.hideSoftKeybord(),this.$emit("confirm",{value:this.searchVal})},blur:function(){plus.key.hideSoftKeybord(),this.$emit("blur",{value:this.searchVal})},emitFocus:function(t){this.$emit("focus",t.detail)}}};e.default=l},deeb:function(t,e,i){"use strict";i.r(e);var n=i("a883"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},e14a:function(t,e,i){"use strict";i.r(e);var n=i("40a9"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},e167:function(t,e,i){"use strict";i.r(e);var n=i("228a"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},e176:function(t,e,i){"use strict";i.r(e);var n=i("c94a"),r=i("dc80");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"06ef4c74",null,!1,n["a"],void 0);e["default"]=s.exports},e1c6:function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i?n||(n=!0,"function"===typeof t&&t(),setTimeout((function(){n=!1}),e)):n||(n=!0,setTimeout((function(){n=!1,"function"===typeof t&&t()}),e))};e.default=r},e1ca:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uEmpty:i("9641").default},r=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","content-my"),attrs:{_i:0}},[e("u-empty",{attrs:{mode:"page",icon:"http://cdn.uviewui.com/uview/empty/page.png",_i:1}})],1)},a=[]},e1d4:function(t,e,i){"use strict";i.r(e);var n=i("215e"),r=i("bb47");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"01127184",null,!1,n["a"],void 0);e["default"]=s.exports},e242:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={computed:{value:function(){var t=this.text,e=this.mode,i=this.format,n=this.href;return"price"===e?(/^\d+(\.\d+)?$/.test(t)||uni.$u.error("\u91d1\u989d\u6a21\u5f0f\u4e0b\uff0ctext\u53c2\u6570\u9700\u8981\u4e3a\u91d1\u989d\u683c\u5f0f"),uni.$u.test.func(i)?i(t):uni.$u.priceFormat(t,2)):"date"===e?(!uni.$u.test.date(t)&&uni.$u.error("\u65e5\u671f\u6a21\u5f0f\u4e0b\uff0ctext\u53c2\u6570\u9700\u8981\u4e3a\u65e5\u671f\u6216\u65f6\u95f4\u6233\u683c\u5f0f"),uni.$u.test.func(i)?i(t):i?uni.$u.timeFormat(t,i):uni.$u.timeFormat(t,"yyyy-mm-dd")):"phone"===e?uni.$u.test.func(i)?i(t):"encrypt"===i?"".concat(t.substr(0,3),"****").concat(t.substr(7)):t:"name"===e?("string"!==typeof t&&uni.$u.error("\u59d3\u540d\u6a21\u5f0f\u4e0b\uff0ctext\u53c2\u6570\u9700\u8981\u4e3a\u5b57\u7b26\u4e32\u683c\u5f0f"),uni.$u.test.func(i)?i(t):"encrypt"===i?this.formatName(t):t):"link"===e?(!uni.$u.test.url(n)&&uni.$u.error("\u8d85\u94fe\u63a5\u6a21\u5f0f\u4e0b\uff0chref\u53c2\u6570\u9700\u8981\u4e3aURL\u683c\u5f0f"),t):t}},methods:{formatName:function(t){var e="";if(2===t.length)e=t.substr(0,1)+"*";else if(t.length>2){for(var i="",n=0,r=t.length-2;n<r;n++)i+="*";e=t.substr(0,1)+i+t.substr(-1,1)}else e=t;return e}}};e.default=n},e29b:function(t,e,i){"use strict";i.r(e);var n=i("062f"),r=i("8588");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"4c468be6",null,!1,n["a"],void 0);e["default"]=s.exports},e2b7:function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("9523")),a=n(i("970b")),o=n(i("5bc3")),s=n(i("e447")),l=n(i("a8bd")),u=n(i("083e")),c=n(i("e71c")),d=i("a436"),f=n(i("4f66"));function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var v=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e),(0,d.isPlainObject)(i)||(i={},t("warn","\u8bbe\u7f6e\u5168\u5c40\u53c2\u6570\u5fc5\u987b\u63a5\u6536\u4e00\u4e2aObject"," at uni_modules/uview-ui/libs/luch-request/core/Request.js:39")),this.config=(0,f.default)(p(p({},c.default),i)),this.interceptors={request:new l.default,response:new l.default}}return(0,o.default)(e,[{key:"setConfig",value:function(t){this.config=t(this.config)}},{key:"middleware",value:function(t){t=(0,u.default)(this.config,t);var e=[s.default,void 0],i=Promise.resolve(t);this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));while(e.length)i=i.then(e.shift(),e.shift());return i}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.middleware(t)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.middleware(p({url:t,method:"GET"},e))}},{key:"post",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:t,data:e,method:"POST"},i))}},{key:"put",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:t,data:e,method:"PUT"},i))}},{key:"delete",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:t,data:e,method:"DELETE"},i))}},{key:"options",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:t,data:e,method:"OPTIONS"},i))}},{key:"upload",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.url=t,e.method="UPLOAD",this.middleware(e)}},{key:"download",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.url=t,e.method="DOWNLOAD",this.middleware(e)}}]),e}();e.default=v}).call(this,i("0de9")["default"])},e2bf:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={overlay:{show:!1,zIndex:10070,duration:300,opacity:.5}}},e32c:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{src:{type:String,default:uni.$u.props.image.src},mode:{type:String,default:uni.$u.props.image.mode},width:{type:[String,Number],default:uni.$u.props.image.width},height:{type:[String,Number],default:uni.$u.props.image.height},shape:{type:String,default:uni.$u.props.image.shape},radius:{type:[String,Number],default:uni.$u.props.image.radius},lazyLoad:{type:Boolean,default:uni.$u.props.image.lazyLoad},showMenuByLongpress:{type:Boolean,default:uni.$u.props.image.showMenuByLongpress},loadingIcon:{type:String,default:uni.$u.props.image.loadingIcon},errorIcon:{type:String,default:uni.$u.props.image.errorIcon},showLoading:{type:Boolean,default:uni.$u.props.image.showLoading},showError:{type:Boolean,default:uni.$u.props.image.showError},fade:{type:Boolean,default:uni.$u.props.image.fade},webp:{type:Boolean,default:uni.$u.props.image.webp},duration:{type:[String,Number],default:uni.$u.props.image.duration},bgColor:{type:String,default:uni.$u.props.image.bgColor}}};e.default=n},e350:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{name:{type:[String,Number,null],default:uni.$u.props.gridItem.name},bgColor:{type:String,default:uni.$u.props.gridItem.bgColor}}};e.default=n},e3db:function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},e41d:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uIcon:i("be49").default,uLink:i("8fbb").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.show)?i("view",{staticClass:t._$s(0,"sc","u-text"),class:t._$s(0,"c",[]),style:t._$s(0,"s",{margin:t.margin,justifyContent:"left"===t.align?"flex-start":"center"===t.align?"center":"flex-end"}),attrs:{_i:0},on:{click:t.clickHandler}},[t._$s(1,"i","price"===t.mode)?i("text",{class:t._$s(1,"c",["u-text__price",t.type&&"u-text__value--"+t.type]),style:t._$s(1,"s",[t.valueStyle]),attrs:{_i:1}}):t._e(),t._$s(2,"i",t.prefixIcon)?i("view",{staticClass:t._$s(2,"sc","u-text__prefix-icon"),attrs:{_i:2}},[i("u-icon",{attrs:{name:t.prefixIcon,customStyle:t.$u.addStyle(t.iconStyle),_i:3}})],1):t._e(),t._$s(4,"i","link"===t.mode)?i("u-link",{attrs:{text:t.value,href:t.href,underLine:!0,_i:4}}):t._$s(5,"e",t.openType&&t.isMp)?[i("button",{staticClass:t._$s(6,"sc","u-reset-button u-text__value"),style:t._$s(6,"s",[t.valueStyle]),attrs:{"data-index":t._$s(6,"a-data-index",t.index),openType:t._$s(6,"a-openType",t.openType),lang:t._$s(6,"a-lang",t.lang),"session-from":t._$s(6,"a-session-from",t.sessionFrom),"send-message-title":t._$s(6,"a-send-message-title",t.sendMessageTitle),"send-message-path":t._$s(6,"a-send-message-path",t.sendMessagePath),"send-message-img":t._$s(6,"a-send-message-img",t.sendMessageImg),"show-message-card":t._$s(6,"a-show-message-card",t.showMessageCard),"app-parameter":t._$s(6,"a-app-parameter",t.appParameter),_i:6},on:{getuserinfo:t.onGetUserInfo,contact:t.onContact,getphonenumber:t.onGetPhoneNumber,error:t.onError,launchapp:t.onLaunchApp,opensetting:t.onOpenSetting}},[t._v(t._$s(6,"t0-0",t._s(t.value)))])]:i("text",{staticClass:t._$s(7,"sc","u-text__value"),class:t._$s(7,"c",[t.type&&"u-text__value--"+t.type,t.lines&&"u-line-"+t.lines]),style:t._$s(7,"s",[t.valueStyle]),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.value)))]),t._$s(8,"i",t.suffixIcon)?i("view",{staticClass:t._$s(8,"sc","u-text__suffix-icon"),attrs:{_i:8}},[i("u-icon",{attrs:{name:t.suffixIcon,customStyle:t.$u.addStyle(t.iconStyle),_i:9}})],1):t._e()],2):t._e()},a=[]},e447:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("b389"));e.default=function(t){return(0,r.default)(t)}},e49d:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{name:{type:String,default:uni.$u.props.icon.name},color:{type:String,default:uni.$u.props.icon.color},size:{type:[String,Number],default:uni.$u.props.icon.size},bold:{type:Boolean,default:uni.$u.props.icon.bold},index:{type:[String,Number],default:uni.$u.props.icon.index},hoverClass:{type:String,default:uni.$u.props.icon.hoverClass},customPrefix:{type:String,default:uni.$u.props.icon.customPrefix},label:{type:[String,Number],default:uni.$u.props.icon.label},labelPos:{type:String,default:uni.$u.props.icon.labelPos},labelSize:{type:[String,Number],default:uni.$u.props.icon.labelSize},labelColor:{type:String,default:uni.$u.props.icon.labelColor},space:{type:[String,Number],default:uni.$u.props.icon.space},imgMode:{type:String,default:uni.$u.props.icon.imgMode},width:{type:[String,Number],default:uni.$u.props.icon.width},height:{type:[String,Number],default:uni.$u.props.icon.height},top:{type:[String,Number],default:uni.$u.props.icon.top},stop:{type:Boolean,default:uni.$u.props.icon.stop}}};e.default=n},e50d:function(t,e,i){var n=i("7037")["default"];t.exports=function(t,e){if("object"!==n(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports["default"]=t.exports},e56e:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=null;var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!==n&&clearTimeout(n),i){var r=!n;n=setTimeout((function(){n=null}),e),r&&"function"===typeof t&&t()}else n=setTimeout((function(){"function"===typeof t&&t()}),e)};e.default=r},e593:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("a34a")),a=n(i("c973")),o=n(i("6bd0")),s={name:"u-col",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],data:function(){return{width:0,parentData:{gutter:0},gridNum:12}},computed:{uJustify:function(){return"end"==this.justify||"start"==this.justify?"flex-"+this.justify:"around"==this.justify||"between"==this.justify?"space-"+this.justify:this.justify},uAlignItem:function(){return"top"==this.align?"flex-start":"bottom"==this.align?"flex-end":this.align},colStyle:function(){var t={paddingLeft:uni.$u.addUnit(uni.$u.getPx(this.parentData.gutter)/2),paddingRight:uni.$u.addUnit(uni.$u.getPx(this.parentData.gutter)/2),alignItems:this.uAlignItem,justifyContent:this.uJustify,textAlign:this.textAlign,flex:"0 0 ".concat(100/this.gridNum*this.span,"%"),marginLeft:100/12*this.offset+"%"};return uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}},mounted:function(){this.init()},methods:{init:function(){var t=this;return(0,a.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.updateParentData(),e.next=3,t.parent.getComponentWidth();case 3:t.width=e.sent;case 4:case"end":return e.stop()}}),e)})))()},updateParentData:function(){this.getParentData("u-row")},clickHandler:function(t){this.$emit("click")}}};e.default=s},e71c:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={baseURL:"",header:{},method:"GET",dataType:"json",responseType:"text",custom:{},timeout:6e4,sslVerify:!0,firstIpv4:!1,validateStatus:function(t){return t>=200&&t<300}}},e74f:function(t,e,i){"use strict";i.r(e);var n=i("9c20"),r=i("fcba");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"b4e016be",null,!1,n["a"],void 0);e["default"]=s.exports},e75e:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("24fc")),a={navbar:{safeAreaInsetTop:!0,placeholder:!1,fixed:!0,border:!1,leftIcon:"arrow-left",leftText:"",rightText:"",rightIcon:"",title:"",bgColor:"#ffffff",titleWidth:"400rpx",height:"44px",leftIconSize:20,leftIconColor:r.default.mainColor,autoBack:!1,titleStyle:""}};e.default=a},e7b3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{value:{type:[String,Number,Array,null],default:uni.$u.props.collapse.value},accordion:{type:Boolean,default:uni.$u.props.collapse.accordion},border:{type:Boolean,default:uni.$u.props.collapse.border}}};e.default=n},e7fa:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{offsetTop:{type:[String,Number],default:uni.$u.props.sticky.offsetTop},customNavHeight:{type:[String,Number],default:uni.$u.props.sticky.customNavHeight},disabled:{type:Boolean,default:uni.$u.props.sticky.disabled},bgColor:{type:String,default:uni.$u.props.sticky.bgColor},zIndex:{type:[String,Number],default:uni.$u.props.sticky.zIndex},index:{type:[String,Number],default:uni.$u.props.sticky.index}}};e.default=n},e9d1:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={codeInput:{adjustPosition:!0,maxlength:6,dot:!1,mode:"box",hairline:!1,space:10,value:"",focus:!1,bold:!1,color:"#606266",fontSize:18,size:35,disabledKeyboard:!1,borderColor:"#c9cacc",disabledDot:!0}}},e9df:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={collapseItem:{title:"",value:"",label:"",disabled:!1,isLink:!0,clickable:!0,border:!0,align:"left",name:"",icon:"",duration:300}}},ea33:function(t,e,i){"use strict";i.r(e);var n=i("be50"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},ea336:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("text",{staticClass:t._$s(0,"sc","uni-icons"),class:t._$s(0,"c",["uniui-"+t.type,t.customPrefix,t.customPrefix?t.type:""]),style:t._$s(0,"s",{color:t.color,"font-size":t.iconSize}),attrs:{_i:0},on:{click:t._onClick}})},r=[]},ea37:function(t,e,i){"use strict";i.r(e);var n=i("3f95"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},ea57:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{active:!1}},onLoad:function(){},onShow:function(){this.active=!0},onHide:function(){this.active=!1},methods:{goToPage:function(t){t&&uni.navigateTo({url:t})}}};e.default=n},ead4:function(t,e,i){"use strict";i.r(e);var n=i("c2cb"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},eaeb:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._$s(0,"i",t.show)?i("view",{staticClass:t._$s(0,"sc","u-loading-icon"),class:t._$s(0,"c",[t.vertical&&"u-loading-icon--vertical"]),style:t._$s(0,"s",[t.$u.addStyle(t.customStyle)]),attrs:{_i:0}},[t._$s(1,"i",!t.webviewHide)?i("view",{ref:"ani",staticClass:t._$s(1,"sc","u-loading-icon__spinner"),class:t._$s(1,"c",["u-loading-icon__spinner--"+t.mode]),style:t._$s(1,"s",{color:t.color,width:t.$u.addUnit(t.size),height:t.$u.addUnit(t.size),borderTopColor:t.color,borderBottomColor:t.otherBorderColor,borderLeftColor:t.otherBorderColor,borderRightColor:t.otherBorderColor,"animation-duration":t.duration+"ms","animation-timing-function":"semicircle"===t.mode||"circle"===t.mode?t.timingFunction:""}),attrs:{_i:1}},[t._$s(2,"i","spinner"===t.mode)?t._l(t._$s(3,"f",{forItems:t.array12}),(function(e,n,r,a){return i("view",{key:t._$s(3,"f",{forIndex:r,key:n}),staticClass:t._$s("3-"+a,"sc","u-loading-icon__dot"),attrs:{_i:"3-"+a}})})):t._e()],2):t._e(),t._$s(4,"i",t.text)?i("text",{staticClass:t._$s(4,"sc","u-loading-icon__text"),style:t._$s(4,"s",{fontSize:t.$u.addUnit(t.textSize),color:t.textColor}),attrs:{_i:4}},[t._v(t._$s(4,"t0-0",t._s(t.text)))]):t._e()]):t._e()},r=[]},eb64:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uTransition:i("e176").default,uLoadingIcon:i("4693").default},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("u-transition",{attrs:{show:t.loading,"custom-style":{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:t.bgColor,display:"flex"},_i:0}},[i("view",{staticClass:t._$s(1,"sc","u-loading-page"),attrs:{_i:1}},[i("view",{staticClass:t._$s(2,"sc","u-loading-page__warpper"),attrs:{_i:2}},[i("view",{staticClass:t._$s(3,"sc","u-loading-page__warpper__loading-icon"),attrs:{_i:3}},[t._$s(4,"i",t.image)?i("image",{staticClass:t._$s(4,"sc","u-loading-page__warpper__loading-icon__img"),style:t._$s(4,"s",{width:t.$u.addUnit(t.iconSize),height:t.$u.addUnit(t.iconSize)}),attrs:{src:t._$s(4,"a-src",t.image),_i:4}}):i("u-loading-icon",{attrs:{mode:t.loadingMode,size:t.$u.addUnit(t.iconSize),color:t.loadingColor,_i:5}})],1),t._t("default",[i("text",{staticClass:t._$s(7,"sc","u-loading-page__warpper__text"),style:t._$s(7,"s",{fontSize:t.$u.addUnit(t.fontSize),color:t.color}),attrs:{_i:7}},[t._v(t._$s(7,"t0-0",t._s(t.loadingText)))])],{_i:6})],2)])])},a=[]},eba3:function(t,e,i){"use strict";i.r(e);var n=i("311f"),r=i("92fb");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"89be3aac",null,!1,n["a"],void 0);e["default"]=s.exports},ebba:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","content"),attrs:{_i:0}},[e("category",{attrs:{categoryList:this.categoryList,subCategoryList:this.subCategoryList,_i:1},on:{categoryMainClick:this.categoryMainClick,categorySubClick:this.categorySubClick}})],1)},r=[]},ec94:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={backtop:{mode:"circle",icon:"arrow-upward",text:"",duration:100,scrollTop:0,top:400,bottom:100,right:20,zIndex:9,iconStyle:function(){return{color:"#909399",fontSize:"19px"}}}}},ece6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={avatar:{src:"",shape:"circle",size:40,mode:"scaleToFill",text:"",bgColor:"#c0c4cc",color:"#ffffff",fontSize:18,icon:"",mpAvatar:!1,randomBgColor:!1,defaultUrl:"",colorIndex:"",name:""}}},ed6d:function(t,e,i){var n=i("4a4b");t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},t.exports.__esModule=!0,t.exports["default"]=t.exports},ed8f:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:t._$s(0,"sc","uni-badge--x"),attrs:{_i:0}},[t._t("default",null,{_i:1}),t._$s(2,"i",t.text)?i("text",{staticClass:t._$s(2,"sc","uni-badge"),class:t._$s(2,"c",t.classNames),style:t._$s(2,"s",[t.positionStyle,t.customStyle,t.dotStyle]),attrs:{_i:2},on:{click:function(e){return t.onClick()}}},[t._v(t._$s(2,"t0-0",t._s(t.displayValue)))]):t._e()],2)},r=[]},ed92:function(t,e,i){"use strict";i.r(e);var n=i("25c8"),r=i("6ae1");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},ede3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={cell:{customClass:"",title:"",label:"",value:"",icon:"",disabled:!1,border:!0,center:!1,url:"",linkType:"navigateTo",clickable:!1,isLink:!1,required:!1,arrowDirection:"",iconStyle:{},rightIconStyle:{},rightIcon:"arrow-right",titleStyle:{},size:"",stop:!0,name:""}}},ef24:function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.divide=p,e.enableBoundaryChecking=g,e.minus=h,e.plus=f,e.round=v,e.times=d;var r=n(i("480f")),a=!0;function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return+parseFloat(Number(t).toPrecision(e))}function s(t){var e=t.toString().split(/[eE]/),i=(e[0].split(".")[1]||"").length-+(e[1]||0);return i>0?i:0}function l(t){if(-1===t.toString().indexOf("e"))return Number(t.toString().replace(".",""));var e=s(t);return e>0?o(Number(t)*Math.pow(10,e)):Number(t)}function u(e){a&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&t("warn","".concat(e," \u8d85\u51fa\u4e86\u7cbe\u5ea6\u9650\u5236\uff0c\u7ed3\u679c\u53ef\u80fd\u4e0d\u6b63\u786e")," at uni_modules/uview-ui/libs/function/digit.js:45")}function c(t,e){var i=(0,r.default)(t),n=i[0],a=i[1],o=i.slice(2),s=e(n,a);return o.forEach((function(t){s=e(s,t)})),s}function d(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length>2)return c(e,d);var n=e[0],r=e[1],a=l(n),o=l(r),f=s(n)+s(r),h=a*o;return u(h),h/Math.pow(10,f)}function f(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length>2)return c(e,f);var n=e[0],r=e[1],a=Math.pow(10,Math.max(s(n),s(r)));return(d(n,a)+d(r,a))/a}function h(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length>2)return c(e,h);var n=e[0],r=e[1],a=Math.pow(10,Math.max(s(n),s(r)));return(d(n,a)-d(r,a))/a}function p(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length>2)return c(e,p);var n=e[0],r=e[1],a=l(n),f=l(r);return u(a),u(f),d(a/f,o(Math.pow(10,s(r)-s(n))))}function v(t,e){var i=Math.pow(10,e),n=p(Math.round(Math.abs(d(t,i))),i);return t<0&&0!==n&&(n=d(n,-1)),n}function g(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a=t}var m={times:d,plus:f,minus:h,divide:p,round:v,enableBoundaryChecking:g};e.default=m}).call(this,i("0de9")["default"])},f0c5:function(t,e,i){"use strict";function n(t,e,i,n,r,a,o,s,l,u){var c,d="function"===typeof t?t.options:t;if(l){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var h in l)f.call(l,h)&&!f.call(d.components,h)&&(d.components[h]=l[h])}if(u&&("function"===typeof u.beforeCreate&&(u.beforeCreate=[u.beforeCreate]),(u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(d.mixins||(d.mixins=[])).push(u)),e&&(d.render=e,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(d.functional){d._injectStyles=c;var p=d.render;d.render=function(t,e){return c.call(e),p(t,e)}}else{var v=d.beforeCreate;d.beforeCreate=v?[].concat(v,c):[c]}return{exports:t,options:d}}i.d(e,"a",(function(){return n}))},f187:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={formItem:{label:"",prop:"",borderBottom:"",labelPosition:"",labelWidth:"",rightIcon:"",leftIcon:"",required:!1,leftIconStyle:""}}},f20b:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("af2a")),a={name:"u-badge",mixins:[uni.$u.mpMixin,r.default,uni.$u.mixin],computed:{boxStyle:function(){return{}},badgeStyle:function(){var t={};if(this.color&&(t.color=this.color),this.bgColor&&!this.inverted&&(t.backgroundColor=this.bgColor),this.absolute&&(t.position="absolute",this.offset.length)){var e=this.offset[0],i=this.offset[1]||e;t.top=uni.$u.addUnit(e),t.right=uni.$u.addUnit(i)}return t},showValue:function(){switch(this.numberType){case"overflow":return Number(this.value)>Number(this.max)?this.max+"+":this.value;case"ellipsis":return Number(this.value)>Number(this.max)?"...":this.value;case"limit":return Number(this.value)>999?Number(this.value)>=9999?Math.floor(this.value/1e4*100)/100+"w":Math.floor(this.value/1e3*100)/100+"k":this.value;default:return Number(this.value)}}}};e.default=a},f3e5:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("7fb9")),a={props:["downLoadFun"],components:{mescrollUni:r.default},data:function(){return{downOption:{use:!0},upOption:{use:!1}}},onLoad:function(){},methods:{downCallback:function(t){this.$emit("downLoadFun",t)},panDuanFun:function(t,e){if(Array.isArray(t)){var i=t.every((function(t){return 0===t}));i?e.endSuccess(1,!1):e.endErr()}else e.endErr()}}};e.default=a},f41f:function(t,e,i){"use strict";i.r(e);var n=i("7b7b"),r=i("fb66");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"25c7d171",null,!1,n["a"],void 0);e["default"]=s.exports},f577:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={scrollList:{indicatorWidth:50,indicatorBarWidth:20,indicator:!0,indicatorColor:"#f2f2f2",indicatorActiveColor:"#3c9cff",indicatorStyle:""}}},f59f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={toolbar:{show:!0,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u8ba4",cancelColor:"#909193",confirmColor:"#3c9cff",title:""}}},f6e5:function(t,e,i){"use strict";i.r(e);var n=i("f91e"),r=i("fc08");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},f72c:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={transition:{show:!1,mode:"fade",duration:"300",timingFunction:"ease-out"}}},f84c:function(t,e,i){"use strict";i.r(e);var n=i("c650"),r=i("3f23");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);var o=i("f0c5"),s=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,"b8c43cdc",null,!1,n["a"],void 0);e["default"]=s.exports},f91e:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("uvText",{attrs:{type:t.type,show:t.show,text:t.text,prefixIcon:t.prefixIcon,suffixIcon:t.suffixIcon,mode:t.mode,href:t.href,format:t.format,call:t.call,openType:t.openType,bold:t.bold,block:t.block,lines:t.lines,color:t.color,decoration:t.decoration,size:t.size,iconStyle:t.iconStyle,margin:t.margin,lineHeight:t.lineHeight,align:t.align,wordWrap:t.wordWrap,customStyle:t.customStyle,_i:0},on:{click:function(e){return t.$emit("click")}}})},r=[]},f943:function(t){t.exports=JSON.parse('{"uni-search-bar.cancel":"\u53d6\u6d88","uni-search-bar.placeholder":"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"}')},fa26:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("278c")),a={name:"UniListItem",emits:["click","switchChange"],props:{direction:{type:String,default:"row"},title:{type:String,default:""},note:{type:String,default:""},ellipsis:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},clickable:{type:Boolean,default:!1},showArrow:{type:[Boolean,String],default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},badgeStyle:{type:Object,default:function(){return{}}},rightText:{type:String,default:""},thumb:{type:String,default:""},thumbSize:{type:String,default:"base"},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:function(){return{type:"",color:"#000000",size:20,customPrefix:""}}},border:{type:Boolean,default:!0},customStyle:{type:Object,default:function(){return{padding:"",backgroundColor:"#FFFFFF"}}},keepScrollPosition:{type:Boolean,default:!1}},watch:{"customStyle.padding":{handler:function(t){"number"==typeof t&&(t+="");var e=t.split(" ");if(1===e.length){var i=e[0];this.padding={top:i,right:i,bottom:i,left:i}}else if(2===e.length){var n=(0,r.default)(e,2),a=n[0],o=n[1];this.padding={top:a,right:o,bottom:a,left:o}}else if(4===e.length){var s=(0,r.default)(e,4),l=s[0],u=s[1],c=s[2],d=s[3];this.padding={top:l,right:u,bottom:c,left:d}}},immediate:!0}},data:function(){return{isFirstChild:!1,padding:{top:"",right:"",bottom:"",left:""}}},mounted:function(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0))},methods:{getForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniList",e=this.$parent,i=e.$options.name;while(i!==t){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},onClick:function(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},onSwitchChange:function(t){this.$emit("switchChange",t.detail)},openPage:function(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi:function(t){var e=this,i={url:this.to,success:function(t){e.$emit("click",{data:t})},fail:function(t){e.$emit("click",{data:t})}};switch(t){case"navigateTo":uni.navigateTo(i);break;case"redirectTo":uni.redirectTo(i);break;case"reLaunch":uni.reLaunch(i);break;case"switchTab":uni.switchTab(i);break;default:uni.navigateTo(i)}}}};e.default=a},fac8:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={mescrollUni:i("7fb9").default},r=function(){var t=this.$createElement,e=this._self._c||t;return e("view",[e("mescroll-uni",{attrs:{down:this.downOption,up:this.upOption,auto:"false",_i:1},on:{down:this.downCallback}},[this._t("default",null,{_i:2})],2)],1)},a=[]},faf7:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i("db1a")),a={name:"u-tag",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{}},computed:{style:function(){var t={};return this.bgColor&&(t.backgroundColor=this.bgColor),this.color&&(t.color=this.color),this.borderColor&&(t.borderColor=this.borderColor),t},textColor:function(){var t={};return this.color&&(t.color=this.color),t},imgStyle:function(){var t="large"===this.size?"17px":"medium"===this.size?"15px":"13px";return{width:t,height:t}},closeSize:function(){var t="large"===this.size?15:"medium"===this.size?13:12;return t},iconSize:function(){var t="large"===this.size?21:"medium"===this.size?19:16;return t},elIconColor:function(){return this.iconColor?this.iconColor:this.plain?this.type:"#ffffff"}},methods:{closeHandler:function(){this.$emit("close",this.name)},clickHandler:function(){this.$emit("click",this.name)}}};e.default=a},fb66:function(t,e,i){"use strict";i.r(e);var n=i("8e19"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},fb6b:function(t,e){t.exports="/static/logo.png"},fbcb:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{ref:t._$s(0,"ref","u-list-item-"+t.anchor),staticClass:t._$s(0,"sc","u-list-item"),class:t._$s(0,"c",["u-list-item-"+t.anchor]),attrs:{anchor:t._$s(0,"a-anchor","u-list-item-"+t.anchor),_i:0}},[t._t("default",null,{_i:1})],2)},r=[]},fc08:function(t,e,i){"use strict";i.r(e);var n=i("9e46"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},fc48:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:this._$s(0,"sc","u-line"),style:this._$s(0,"s",[this.lineStyle]),attrs:{_i:0}})},r=[]},fcba:function(t,e,i){"use strict";i.r(e);var n=i("69d8"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},fdf2:function(t){t.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"\u8acb\u8f38\u5165\u641c\u7d22\u5167\u5bb9"}')},ffa1:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick:function(t){this.$emit("click",t)}}};e.default=n},ffdb:function(t,e,i){"use strict";e["a"]=function(t){(t.options.wxs||(t.options.wxs={}))["wxsBiz"]=function(t){var e={};function i(t,i){if(e.isMoveDown)e.downHight>=e.optDown.offset?(e.downHight=e.optDown.offset,e.callMethod(i,{type:"triggerDownScroll"})):(e.downHight=0,e.callMethod(i,{type:"endDownScroll"})),e.movetype=0,e.isMoveDown=!1;else if(!e.isScrollBody&&e.getScrollTop()===e.startTop){var n=e.getPoint(t).y-e.startPoint.y<0;if(n){var r=e.getAngle(e.getPoint(t),e.startPoint);r>80&&e.callMethod(i,{type:"triggerUpScroll"})}}e.callMethod(i,{type:"setWxsProp"})}return e.onMoving=function(t,e,i){t.requestAnimationFrame((function(){t.selectComponent(".mescroll-wxs-content").setStyle({"will-change":"transform",transform:"translateY("+i+"px)",transition:""});var n=t.selectComponent(".mescroll-wxs-progress");n&&n.setStyle({transform:"rotate("+360*e+"deg)"})}))},e.showLoading=function(t){e.downHight=e.optDown.offset,t.requestAnimationFrame((function(){t.selectComponent(".mescroll-wxs-content").setStyle({"will-change":"auto",transform:"translateY("+e.downHight+"px)",transition:"transform 300ms"})}))},e.endDownScroll=function(t){e.downHight=0,e.isDownScrolling=!1,t.requestAnimationFrame((function(){t.selectComponent(".mescroll-wxs-content").setStyle({"will-change":"auto",transform:"translateY(0)",transition:"transform 300ms"})}))},e.clearTransform=function(t){t.requestAnimationFrame((function(){t.selectComponent(".mescroll-wxs-content").setStyle({"will-change":"",transform:"",transition:""})}))},e.disabled=function(){return!e.optDown||!e.optDown.use||e.optDown.native},e.getPoint=function(t){return t?t.touches&&t.touches[0]?{x:t.touches[0].pageX,y:t.touches[0].pageY}:t.changedTouches&&t.changedTouches[0]?{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}:{x:t.clientX,y:t.clientY}:{x:0,y:0}},e.getAngle=function(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y),r=Math.sqrt(i*i+n*n),a=0;return 0!==r&&(a=Math.asin(n/r)/Math.PI*180),a},e.getScrollTop=function(){return e.scrollTop||0},e.getBodyHeight=function(){return e.bodyHeight||0},e.callMethod=function(t,e){t&&t.callMethod("wxsCall",e)},t.exports={propObserver:function(t){t&&(e.optDown=t.optDown,e.scrollTop=t.scrollTop,e.bodyHeight=t.bodyHeight,e.isDownScrolling=t.isDownScrolling,e.isUpScrolling=t.isUpScrolling,e.isUpBoth=t.isUpBoth,e.isScrollBody=t.isScrollBody,e.startTop=t.scrollTop)},callObserver:function(t,i,n){e.disabled()||t.callType&&("showLoading"===t.callType?e.showLoading(n):"endDownScroll"===t.callType?e.endDownScroll(n):"clearTransform"===t.callType&&e.clearTransform(n))},touchstartEvent:function(t,i){e.downHight=0,e.startPoint=e.getPoint(t),e.startTop=e.getScrollTop(),e.startAngle=0,e.lastPoint=e.startPoint,e.maxTouchmoveY=e.getBodyHeight()-e.optDown.bottomOffset,e.inTouchend=!1,e.callMethod(i,{type:"setWxsProp"})},touchmoveEvent:function(t,n){var r=!0;if(e.disabled())return r;var a=e.getScrollTop(),o=e.getPoint(t),s=o.y-e.startPoint.y;if(s>0&&(e.isScrollBody&&a<=0||!e.isScrollBody&&(a<=0||a<=e.optDown.startTop&&a===e.startTop))&&!e.inTouchend&&!e.isDownScrolling&&!e.optDown.isLock&&(!e.isUpScrolling||e.isUpScrolling&&e.isUpBoth)){if(e.startAngle||(e.startAngle=e.getAngle(e.lastPoint,o)),e.startAngle<e.optDown.minAngle)return r;if(e.maxTouchmoveY>0&&o.y>=e.maxTouchmoveY)return e.inTouchend=!0,i(t,n),r;r=!1;var l=o.y-e.lastPoint.y;e.downHight<e.optDown.offset?(1!==e.movetype&&(e.movetype=1,e.callMethod(n,{type:"setLoadType",downLoadType:1}),e.isMoveDown=!0),e.downHight+=l*e.optDown.inOffsetRate):(2!==e.movetype&&(e.movetype=2,e.callMethod(n,{type:"setLoadType",downLoadType:2}),e.isMoveDown=!0),e.downHight+=l>0?l*e.optDown.outOffsetRate:l),e.downHight=Math.round(e.downHight);var u=e.downHight/e.optDown.offset;e.onMoving(n,u,e.downHight)}return e.lastPoint=o,r},touchendEvent:i},t.exports}({exports:{}})}},fffe:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{loadingText:{type:[String,Number],default:uni.$u.props.loadingPage.loadingText},image:{type:String,default:uni.$u.props.loadingPage.image},loadingMode:{type:String,default:uni.$u.props.loadingPage.loadingMode},loading:{type:Boolean,default:uni.$u.props.loadingPage.loading},bgColor:{type:String,default:uni.$u.props.loadingPage.bgColor},color:{type:String,default:uni.$u.props.loadingPage.color},fontSize:{type:[String,Number],default:uni.$u.props.loadingPage.fontSize},iconSize:{type:[String,Number],default:uni.$u.props.loadingPage.fontSize},loadingColor:{type:String,default:uni.$u.props.loadingPage.loadingColor}}};e.default=n}},[["d428","app-config"]]]);