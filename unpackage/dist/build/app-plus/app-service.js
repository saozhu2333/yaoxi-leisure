(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0104":function(e,t){e.exports="/static/img/qa.png"},"022a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={countDown:{time:0,format:"HH:mm:ss",autoStart:!0,millisecond:!1}}},"0253":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",[t("Wnavbar",{attrs:{title:this.searchData.title,_i:1}}),t("view",{staticClass:this._$s(2,"sc","video-box-class moo-css"),attrs:{_i:2}},[t("video",{staticClass:this._$s(3,"sc","video-box app-video-css"),attrs:{id:"myVideo",src:this._$s(3,"a-src",this.searchData.chapterPath),_i:3},on:{error:this.videoErrorCallback}})])],1)},n=[]},"0320":function(e,t,i){"use strict";i.r(t);var r=i("84e3"),n=i("f5dc");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"10a89718",null,!1,r["a"],void 0);t["default"]=s.exports},"034d":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("c973")),a=r(i("6489")),s={name:"u-row",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{}},computed:{uJustify:function(){return"end"==this.justify||"start"==this.justify?"flex-"+this.justify:"around"==this.justify||"between"==this.justify?"space-"+this.justify:this.justify},uAlignItem:function(){return"top"==this.align?"flex-start":"bottom"==this.align?"flex-end":this.align},rowStyle:function(){var e={alignItems:this.uAlignItem,justifyContent:this.uJustify};return this.gutter&&(e.marginLeft=uni.$u.addUnit(-Number(this.gutter)/2),e.marginRight=uni.$u.addUnit(-Number(this.gutter)/2)),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},methods:{clickHandler:function(e){this.$emit("click")},getComponentWidth:function(){var e=this;return(0,o.default)(n.default.mark((function t(){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,uni.$u.sleep();case 2:return t.abrupt("return",new Promise((function(t){e.$uGetRect(".u-row").then((function(e){t(e.width)}))})));case 3:case"end":return t.stop()}}),t)})))()}}};t.default=s},"0434":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:["downLoadFun"],data:function(){return{downOption:{use:!0},upOption:{use:!1}}},onLoad:function(){},methods:{downCallback:function(e){this.downLoadFun(e)},panDuanFun:function(e,t){if(Array.isArray(e)){var i=e.every((function(e){return 0===e}));i?t.endSuccess(1,!1):t.endErr()}else t.endErr()}}};t.default=r},"0676":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"068a":function(e,t,i){"use strict";i.r(t);var r=i("540f"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"06c8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cell:{customClass:"",title:"",label:"",value:"",icon:"",disabled:!1,border:!0,center:!1,url:"",linkType:"navigateTo",clickable:!1,isLink:!1,required:!1,arrowDirection:"",iconStyle:{},rightIconStyle:{},rightIcon:"arrow-right",titleStyle:{},size:"",stop:!0,name:""}}},"0767":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uniIcons:i("084b").default,uniBadge:i("4490").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","uni-list-item"),class:e._$s(0,"c",{"uni-list-item--disabled":e.disabled}),style:e._$s(0,"s",{"background-color":e.customStyle.backgroundColor}),attrs:{"hover-class":e._$s(0,"a-hover-class",!e.clickable&&!e.link||e.disabled||e.showSwitch?"":"uni-list-item--hover"),_i:0},on:{click:e.onClick}},[e._$s(1,"i",!e.isFirstChild)?i("view",{staticClass:e._$s(1,"sc","border--left"),class:e._$s(1,"c",{"uni-list--border":e.border}),attrs:{_i:1}}):e._e(),i("view",{staticClass:e._$s(2,"sc","uni-list-item__container"),class:e._$s(2,"c",{"container--right":e.showArrow||e.link,"flex--direction":"column"===e.direction}),style:e._$s(2,"s",{paddingTop:e.padding.top,paddingLeft:e.padding.left,paddingRight:e.padding.right,paddingBottom:e.padding.bottom}),attrs:{_i:2}},[e._t("header",[i("view",{staticClass:e._$s(4,"sc","uni-list-item__header"),attrs:{_i:4}},[e._$s(5,"i",e.thumb)?i("view",{staticClass:e._$s(5,"sc","uni-list-item__icon"),attrs:{_i:5}},[i("image",{staticClass:e._$s(6,"sc","uni-list-item__icon-img"),class:e._$s(6,"c",["uni-list--"+e.thumbSize]),attrs:{src:e._$s(6,"a-src",e.thumb),_i:6}})]):e._$s(7,"e",e.showExtraIcon)?i("view",{staticClass:e._$s(7,"sc","uni-list-item__icon"),attrs:{_i:7}},[i("uni-icons",{attrs:{customPrefix:e.extraIcon.customPrefix,color:e.extraIcon.color,size:e.extraIcon.size,type:e.extraIcon.type,_i:8}})],1):e._e()])],{_i:3}),e._t("body",[i("view",{staticClass:e._$s(10,"sc","uni-list-item__content"),class:e._$s(10,"c",{"uni-list-item__content--center":e.thumb||e.showExtraIcon||e.showBadge||e.showSwitch}),attrs:{_i:10}},[e._$s(11,"i",e.title)?i("text",{staticClass:e._$s(11,"sc","uni-list-item__content-title"),class:e._$s(11,"c",[0!==e.ellipsis&&e.ellipsis<=2?"uni-ellipsis-"+e.ellipsis:""]),attrs:{_i:11}},[e._v(e._$s(11,"t0-0",e._s(e.title)))]):e._e(),e._$s(12,"i",e.note)?i("text",{staticClass:e._$s(12,"sc","uni-list-item__content-note"),attrs:{_i:12}},[e._v(e._$s(12,"t0-0",e._s(e.note)))]):e._e()])],{_i:9}),e._t("footer",[e._$s(14,"i",e.rightText||e.showBadge||e.showSwitch)?i("view",{staticClass:e._$s(14,"sc","uni-list-item__extra"),class:e._$s(14,"c",{"flex--justify":"column"===e.direction}),attrs:{_i:14}},[e._$s(15,"i",e.rightText)?i("text",{staticClass:e._$s(15,"sc","uni-list-item__extra-text"),attrs:{_i:15}},[e._v(e._$s(15,"t0-0",e._s(e.rightText)))]):e._e(),e._$s(16,"i",e.showBadge)?i("uni-badge",{attrs:{type:e.badgeType,text:e.badgeText,"custom-style":e.badgeStyle,_i:16}}):e._e(),e._$s(17,"i",e.showSwitch)?i("switch",{attrs:{disabled:e._$s(17,"a-disabled",e.disabled),checked:e._$s(17,"a-checked",e.switchChecked),_i:17},on:{change:e.onSwitchChange}}):e._e()],1):e._e()],{_i:13})],2),e._$s(18,"i",e.showArrow||e.link)?i("uni-icons",{staticClass:e._$s(18,"sc","uni-icon-wrapper"),attrs:{size:16,color:"#bbb",type:"arrowright",_i:18}}):e._e()],1)},o=[]},"07e8":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{ref:"u-col",staticClass:this._$s(0,"sc","u-col"),class:this._$s(0,"c",["u-col-"+this.span]),style:this._$s(0,"s",[this.colStyle]),attrs:{_i:0},on:{click:this.clickHandler}},[this._t("default",null,{_i:1})],2)},n=[]},"0849":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i("61f5");var r={props:["data","title","type"],data:function(){return{}},onLoad:function(){},methods:{clickHomeItem:function(t){var i;e("log",t," at pages/components/homeItemTabs/index.vue:33"),"book"==this.type&&(i="/pages/Chaptercomponents/chapter/indexChapter?id=".concat(t.fictionId,"&name=").concat(t.title,"&type=").concat(t.type)),"comic"==this.type&&(i="/pages/Chaptercomponents/chapter/indexChapter?id=".concat(t.comicId,"&name=").concat(t.title,"&type=").concat(t.type)),"video"==this.type&&(i="/pages/Chaptercomponents/chapter/indexChapter?id=".concat(t.videoId,"&name=").concat(t.title,"&type=").concat(t.type)),uni.navigateTo({url:i})}},mounted:function(){}};t.default=r}).call(this,i("0de9")["default"])},"084b":function(e,t,i){"use strict";i.r(t);var r=i("97ba"),n=i("d38a");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"0875":function(e,t,i){"use strict";i.r(t);var r=i("d430"),n=i("bc05");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"21c3eb91",null,!1,r["a"],void 0);t["default"]=s.exports},"0878":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={backtop:{mode:"circle",icon:"arrow-upward",text:"",duration:100,scrollTop:0,top:400,bottom:100,right:20,zIndex:9,iconStyle:function(){return{color:"#909399",fontSize:"19px"}}}}},"092e":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e._$s(0,"i",e.option.src)?i("image",{staticClass:e._$s(0,"sc","mescroll-totop"),class:e._$s(0,"c",[e.isShow?"mescroll-totop-in":"mescroll-totop-out",{"mescroll-totop-safearea":e.option.safearea}]),style:e._$s(0,"s",{"z-index":e.option.zIndex,left:e.left,right:e.right,bottom:e.addUnit(e.option.bottom),width:e.addUnit(e.option.width),"border-radius":e.addUnit(e.option.radius)}),attrs:{src:e._$s(0,"a-src",e.option.src),_i:0},on:{click:e.toTopClick}}):e._e()},n=[]},"093f":function(e,t,i){"use strict";i.r(t);var r=i("180c"),n=i("6116");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"6bfb644b",null,!1,r["a"],void 0);t["default"]=s.exports},"0948":function(e,t,i){"use strict";i.r(t);var r=i("92c5"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"09b4":function(e,t){e.exports="/static/img/video.png"},"0b89":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{bgColor:{type:String,default:uni.$u.props.statusBar.bgColor}}};t.default=r},"0b90":function(e,t,i){"use strict";i.r(t);var r=i("e67a"),n=i("38bb");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"01127184",null,!1,r["a"],void 0);t["default"]=s.exports},"0ca5":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={mescrollUni:i("8a1a").default},n=function(){var e=this.$createElement,t=this._self._c||e;return t("view",[t("mescroll-uni",{attrs:{down:this.downOption,up:this.upOption,_i:1},on:{down:this.downCallback}},[this._t("default",null,{_i:2})],2)],1)},o=[]},"0cfb":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("5bc19")),o={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data:function(){return{icons:n.default.glyphs}},computed:{unicode:function(){var e=this,t=this.icons.find((function(t){return t.font_class===e.type}));return t?unescape("%u".concat(t.unicode)):""},iconSize:function(){return function(e){return"number"===typeof e||/^[0-9]*$/g.test(e)?e+"px":e}(this.size)}},methods:{_onClick:function(){this.$emit("click")}}};t.default=o},"0d4f":function(e,t,i){"use strict";i.r(t);var r=i("f795"),n=i("408f");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"b8c43cdc",null,!1,r["a"],void 0);t["default"]=s.exports},"0de9":function(e,t,i){"use strict";function r(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function n(){return"string"===typeof __channelId__&&__channelId__}function o(e,t){switch(r(t)){case"Function":return"function() { [native code] }";default:return t}}function a(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console[e].apply(console,i)}function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=t.shift();if(n())return t.push(t.pop().replace("at ","uni-app:///")),console[a].apply(console,t);var s=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e,o)+"---END:JSON---"}catch(n){e=t}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var i=r(e).toUpperCase();e="NUMBER"===i||"BOOLEAN"===i?"---BEGIN:"+i+"---"+e+"---END:"+i+"---":String(e)}return e})),l="";if(s.length>1){var u=s.pop();l=s.join("---COMMA---"),0===u.indexOf(" at ")?l+=u:l+="---COMMA---"+u}else l=s[0];console[a](l)}i.r(t),i.d(t,"log",(function(){return a})),i.d(t,"default",(function(){return s}))},"0e3a":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("7037"));function o(e){return/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(e)}function a(e){switch((0,n.default)(e)){case"undefined":return!0;case"string":if(0==e.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!e)return!0;break;case"number":if(0===e||isNaN(e))return!0;break;case"object":if(null===e||0===e.length)return!0;for(var t in e)return!1;return!0}return!1}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return"function"===typeof e}var u={email:function(e){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(e)},mobile:function(e){return/^1([3589]\d|4[5-9]|6[1-2,4-7]|7[0-8])\d{8}$/.test(e)},url:function(e){return/^((https|http|ftp|rtsp|mms):\/\/)(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\/?)$/.test(e)},date:function(e){return!!e&&(o(e)&&(e=+e),!/Invalid|NaN/.test(new Date(e).toString()))},dateISO:function(e){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:o,digits:function(e){return/^\d+$/.test(e)},idCard:function(e){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)},carNo:function(e){return 7===e.length?/^[\u4eac\u6d25\u6caa\u6e1d\u5180\u8c6b\u4e91\u8fbd\u9ed1\u6e58\u7696\u9c81\u65b0\u82cf\u6d59\u8d63\u9102\u6842\u7518\u664b\u8499\u9655\u5409\u95fd\u8d35\u7ca4\u9752\u85cf\u5ddd\u5b81\u743c\u4f7f\u9886A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9\u6302\u5b66\u8b66\u6e2f\u6fb3]{1}$/.test(e):8===e.length&&/^[\u4eac\u6d25\u6caa\u6e1d\u5180\u8c6b\u4e91\u8fbd\u9ed1\u6e58\u7696\u9c81\u65b0\u82cf\u6d59\u8d63\u9102\u6842\u7518\u664b\u8499\u9655\u5409\u95fd\u8d35\u7ca4\u9752\u85cf\u5ddd\u5b81\u743c\u4f7f\u9886A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/.test(e)},amount:function(e){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(e)},chinese:function(e){return/^[\u4e00-\u9fa5]+$/gi.test(e)},letter:function(e){return/^[a-zA-Z]*$/.test(e)},enOrNum:function(e){return/^[0-9a-zA-Z]*$/g.test(e)},contains:function(e,t){return e.indexOf(t)>=0},range:function(e,t){return e>=t[0]&&e<=t[1]},rangeLength:function(e,t){return e.length>=t[0]&&e.length<=t[1]},empty:a,isEmpty:a,jsonString:function(e){if("string"===typeof e)try{var t=JSON.parse(e);return!("object"!==(0,n.default)(t)||!t)}catch(i){return!1}return!1},landline:function(e){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(e)},object:s,array:function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},code:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return new RegExp("^\\d{".concat(t,"}$")).test(e)},func:l,promise:function(e){return s(e)&&l(e.then)&&l(e.catch)},video:function(e){return/\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv|m3u8)/i.test(e)},image:function(e){var t=e.split("?")[0];return/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i.test(t)},regExp:function(e){return e&&"[object RegExp]"===Object.prototype.toString.call(e)},string:function(e){return"string"===typeof e}};t.default=u},"0ea1":function(e,t,i){"use strict";i.r(t);var r=i("e723"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"0f62":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={badge:{isDot:!1,value:"",show:!0,max:999,type:"error",showZero:!1,bgColor:null,color:null,shape:"circle",numberType:"overflow",offset:function(){return[]},inverted:!1,absolute:!1}}},"0fc2":function(e,t,i){"use strict";i.r(t);var r=i("5260"),n=i("10b7");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"f501f07a",null,!1,r["a"],void 0);t["default"]=s.exports},"10b6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={}},"10b7":function(e,t,i){"use strict";i.r(t);var r=i("f6b2"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},1135:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uniIcons:i("084b").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","uni-searchbar"),attrs:{_i:0}},[i("view",{staticClass:e._$s(1,"sc","uni-searchbar__box"),style:e._$s(1,"s",{borderRadius:e.radius+"px",backgroundColor:e.bgColor}),attrs:{_i:1},on:{click:e.searchClick}},[i("view",{staticClass:e._$s(2,"sc","uni-searchbar__box-icon-search"),attrs:{_i:2}},[e._t("searchIcon",[i("uni-icons",{attrs:{color:"#c0c4cc",size:"18",type:"search",_i:4}})],{_i:3})],2),e._$s(5,"i",e.show||e.searchVal)?i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchVal,expression:"searchVal"}],staticClass:e._$s(5,"sc","uni-searchbar__box-search-input"),attrs:{focus:e._$s(5,"a-focus",e.showSync),disabled:e._$s(5,"a-disabled",e.readonly),placeholder:e._$s(5,"a-placeholder",e.placeholderText),maxlength:e._$s(5,"a-maxlength",e.maxlength),_i:5},domProps:{value:e._$s(5,"v-model",e.searchVal)},on:{confirm:e.confirm,blur:e.blur,focus:e.emitFocus,input:function(t){t.target.composing||(e.searchVal=t.target.value)}}}):i("text",{staticClass:e._$s(6,"sc","uni-searchbar__text-placeholder"),attrs:{_i:6}},[e._v(e._$s(6,"t0-0",e._s(e.placeholder)))]),e._$s(7,"i",e.show&&("always"===e.clearButton||"auto"===e.clearButton&&""!==e.searchVal)&&!e.readonly)?i("view",{staticClass:e._$s(7,"sc","uni-searchbar__box-icon-clear"),attrs:{_i:7},on:{click:e.clear}},[e._t("clearIcon",[i("uni-icons",{attrs:{color:"#c0c4cc",size:"20",type:"clear",_i:9}})],{_i:8})],2):e._e()]),e._$s(10,"i","always"===e.cancelButton||e.show&&"auto"===e.cancelButton)?i("text",{staticClass:e._$s(10,"sc","uni-searchbar__cancel"),attrs:{_i:10},on:{click:e.cancel}},[e._v(e._$s(10,"t0-0",e._s(e.cancelTextI18n)))]):e._e()])},o=[]},11358:function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9523")),o=r(i("970b")),a=r(i("5bc3")),s=r(i("7cf8")),l=r(i("c6a7")),u=r(i("a872")),c=r(i("6bdb")),d=i("8acd"),f=r(i("4e10"));function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var v=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t),(0,d.isPlainObject)(i)||(i={},e("warn","\u8bbe\u7f6e\u5168\u5c40\u53c2\u6570\u5fc5\u987b\u63a5\u6536\u4e00\u4e2aObject"," at uni_modules/uview-ui/libs/luch-request/core/Request.js:39")),this.config=(0,f.default)(p(p({},c.default),i)),this.interceptors={request:new l.default,response:new l.default}}return(0,a.default)(t,[{key:"setConfig",value:function(e){this.config=e(this.config)}},{key:"middleware",value:function(e){e=(0,u.default)(this.config,e);var t=[s.default,void 0],i=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)i=i.then(t.shift(),t.shift());return i}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.middleware(e)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.middleware(p({url:e,method:"GET"},t))}},{key:"post",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"POST"},i))}},{key:"put",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"PUT"},i))}},{key:"delete",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"DELETE"},i))}},{key:"options",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"OPTIONS"},i))}},{key:"upload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.url=e,t.method="UPLOAD",this.middleware(t)}},{key:"download",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.url=e,t.method="DOWNLOAD",this.middleware(t)}}]),t}();t.default=v}).call(this,i("0de9")["default"])},"11b0":function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"11f2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={v:"2.0.36",version:"2.0.36",type:["primary","success","info","error","warning"],color:{"u-primary":"#2979ff","u-warning":"#ff9900","u-success":"#19be6b","u-error":"#fa3534","u-info":"#909399","u-main-color":"#303133","u-content-color":"#606266","u-tips-color":"#909399","u-light-color":"#c0c4cc"},unit:"px"};t.default=r},"124a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={toast:{zIndex:10090,loading:!1,text:"",icon:"",type:"",loadingMode:"",show:"",overlay:!1,position:"center",params:function(){},duration:2e3,isTab:!1,url:"",callback:null,back:!1}}},"133a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={modal:{show:!1,title:"",content:"",confirmText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",showConfirmButton:!0,showCancelButton:!1,confirmColor:"#2979ff",cancelColor:"#606266",buttonReverse:!1,zoom:!0,asyncClose:!1,closeOnClickOverlay:!1,negativeTop:0,width:"650rpx",confirmButtonShape:""}}},1407:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={subsection:{list:[],current:0,activeColor:"#3c9cff",inactiveColor:"#303133",mode:"button",fontSize:12,bold:!0,bgColor:"#eeeeef",keyName:"name"}}},"141e":function(module,exports,__webpack_require__){(function(global,__webpack_provided_window_dot_crypto,__f__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,require,require,_typeof=__webpack_require__("7037");!function(e){"object"==_typeof(exports)&&"undefined"!=typeof module?module.exports=e():(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=e,__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}((function(){var define,module,exports;return function e(t,i,r){function n(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return require(a,!0);if(o)return o(a,!0);throw(s=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",s}l=i[a]={exports:{}},t[a][0].call(l.exports,(function(e){return n(t[a][1][e]||e)}),l,l.exports,e,t,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,i){},{}],2:[function(e,t,i){(function(r){(function(){var n;n=function(){var t,i=Math;if("undefined"!=typeof window&&__webpack_provided_window_dot_crypto&&(t=__webpack_provided_window_dot_crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),!(t=!(t=!(t="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:t)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:t)&&void 0!==r&&r.crypto?r.crypto:t)&&"function"==typeof e)try{t=e("crypto")}catch(a){}var n=Object.create||function(e){return o.prototype=e,e=new o,o.prototype=null,e};function o(){}var a={},s=a.lib={},l=s.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,i=e.words,r=this.sigBytes,n=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<n;o++){var a=i[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<n;s+=4)t[r+s>>>2]=i[s>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=i.ceil(t/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var i=[],r=0;r<e;r+=4)i.push(function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new u.init(i,e)}}),c=a.enc={},d=c.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],n=0;n<i;n++){var o=t[n>>>2]>>>24-n%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r+=2)i[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(i,t/2)}},f=c.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=[],n=0;n<i;n++){var o=t[n>>>2]>>>24-n%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(i,t)}},h=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,r=this._data,n=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),l=(s=e?i.ceil(s):i.max((0|s)-this._minBufferSize,0))*a;e=i.min(4*l,o);if(l){for(var c=0;c<l;c+=a)this._doProcessBlock(n,c);t=n.splice(0,l),r.sigBytes-=e}return new u.init(t,e)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(s.Hasher=p.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new v.HMAC.init(e,i).finalize(t)}}}),a.algo={});return a},"object"==_typeof(i)?t.exports=i=n():"function"==typeof define&&define.amd?define([],n):this.CryptoJS=n()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{crypto:1}],3:[function(e,t,i){var r;r=function(e){var t;return t=e.lib.WordArray,e.enc.Base64={stringify:function(e){for(var t=e.words,i=e.sigBytes,r=this._map,n=(e.clamp(),[]),o=0;o<i;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<i;s++)n.push(r.charAt(a>>>6*(3-s)&63));var l=r.charAt(64);if(l)for(;n.length%4;)n.push(l);return n.join("")},parse:function(e){var i=e.length,r=this._map;if(!(n=this._reverseMap))for(var n=this._reverseMap=[],o=0;o<r.length;o++)n[r.charCodeAt(o)]=o;for(var a,s,l=r.charAt(64),u=(l&&-1!==(l=e.indexOf(l))&&(i=l),e),c=i,d=n,f=[],h=0,p=0;p<c;p++)p%4&&(a=d[u.charCodeAt(p-1)]<<p%4*2,s=d[u.charCodeAt(p)]>>>6-p%4*2,f[h>>>2]|=(a|s)<<24-h%4*8,h++);return t.create(f,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"==_typeof(i)?t.exports=i=r(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],r):r(this.CryptoJS)},{"crypto-js/core":2}],4:[function(e,t,i){var r;r=function(e){return e.enc.Utf8},"object"==_typeof(i)?t.exports=i=r(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],r):r(this.CryptoJS)},{"crypto-js/core":2}],5:[function(e,t,i){var r;r=function(e){return e.HmacSHA1},"object"==_typeof(i)?t.exports=i=r(e("crypto-js/core"),e("crypto-js/sha1"),e("crypto-js/hmac")):"function"==typeof define&&define.amd?define(["crypto-js/core","crypto-js/sha1","crypto-js/hmac"],r):r(this.CryptoJS)},{"crypto-js/core":2,"crypto-js/hmac":6,"crypto-js/sha1":7}],6:[function(e,t,i){var r;r=function(e){var t,i;t=e.lib.Base,i=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));for(var r=e.blockSize,n=4*r,o=(e=((t=t.sigBytes>n?e.finalize(t):t).clamp(),this._oKey=t.clone()),t=this._iKey=t.clone(),e.words),a=t.words,s=0;s<r;s++)o[s]^=1549556828,a[s]^=909522486;e.sigBytes=t.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})},"object"==_typeof(i)?t.exports=i=r(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],r):r(this.CryptoJS)},{"crypto-js/core":2}],7:[function(e,t,i){var r;r=function(e){var t,i,r,n,o;return i=(t=e).lib,r=i.WordArray,n=i.Hasher,i=t.algo,o=[],i=i.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,r=i[0],n=i[1],a=i[2],s=i[3],l=i[4],u=0;u<80;u++){o[u]=u<16?0|e[t+u]:(c=o[u-3]^o[u-8]^o[u-14]^o[u-16])<<1|c>>>31;var c=(r<<5|r>>>27)+l+o[u];c+=u<20?1518500249+(n&a|~n&s):u<40?1859775393+(n^a^s):u<60?(n&a|n&s|a&s)-1894007588:(n^a^s)-899497514,l=s,s=a,a=n<<30|n>>>2,n=r,r=c}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+a|0,i[3]=i[3]+s|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(64+r>>>9<<4)]=Math.floor(i/4294967296),t[15+(64+r>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=n._createHelper(i),t.HmacSHA1=n._createHmacHelper(i),e.SHA1},"object"==_typeof(i)?t.exports=i=r(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],r):r(this.CryptoJS)},{"crypto-js/core":2}],8:[function(e,t,i){(function(r,n){(function(){var o;o=function(){"use strict";function t(e){return"function"==typeof e}var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,s=void 0,l=function(e,t){p[o]=e,p[o+1]=t,2===(o+=2)&&(s?s(v):_())},u="undefined"!=typeof window?window:void 0,c=u||{},d=(c=c.MutationObserver||c.WebKitMutationObserver,"undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r)),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(v,1)}}var p=new Array(1e3);function v(){for(var e=0;e<o;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;o=0}var g,y,m,_=void 0;function b(e,t){var i,r=this,n=new this.constructor(E),o=(void 0===n[T]&&O(n),r._state);return o?(i=arguments[o-1],l((function(){return D(o,n,i,r._result)}))):I(r,n,e,t),n}function S(e){var t;return e&&"object"==_typeof(e)&&e.constructor===this?e:(x(t=new this(E),e),t)}_=d?function(){return r.nextTick(v)}:c?(y=0,d=new c(v),m=document.createTextNode(""),d.observe(m,{characterData:!0}),function(){m.data=y=++y%2}):f?((g=new MessageChannel).port1.onmessage=v,function(){return g.port2.postMessage(0)}):(void 0===u&&"function"==typeof e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(v)}:h()}catch(e){return h()}}:h)();var T=Math.random().toString(36).substring(2);function E(){}var w=void 0;function k(e,i,r){var n,o;i.constructor===e.constructor&&r===b&&i.constructor.resolve===S?(n=e,1===(o=i)._state?C(n,o._result):2===o._state?L(n,o._result):I(o,void 0,(function(e){return x(n,e)}),(function(e){return L(n,e)}))):void 0!==r&&t(r)?function(e,t,i){l((function(e){var r=!1,n=function(e,t,i,r){try{e.call(t,i,r)}catch(e){return e}}(i,t,(function(i){r||(r=!0,(t!==i?x:C)(e,i))}),(function(t){r||(r=!0,L(e,t))}),e._label);!r&&n&&(r=!0,L(e,n))}),e)}(e,i,r):C(e,i)}function x(e,t){if(e===t)L(e,new TypeError("You cannot resolve a promise with itself"));else if(i=_typeof(t),null===t||"object"!=i&&"function"!=i)C(e,t);else{i=void 0;try{i=t.then}catch(t){return void L(e,t)}k(e,t,i)}var i}function A(e){e._onerror&&e._onerror(e._result),P(e)}function C(e,t){e._state===w&&(e._result=t,e._state=1,0!==e._subscribers.length)&&l(P,e)}function L(e,t){e._state===w&&(e._state=2,e._result=t,l(A,e))}function I(e,t,i,r){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+1]=i,n[o+2]=r,0===o&&e._state&&l(P,e)}function P(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var r,n=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],n=t[a+i],r?D(i,r,n,o):n(o);e._subscribers.length=0}}function D(e,i,r,n){var o=t(r),a=void 0,s=void 0,l=!0;if(o){try{a=r(n)}catch(e){l=!1,s=e}if(i===a)return void L(i,new TypeError("A promises callback cannot return that same promise."))}else a=n;i._state===w&&(o&&l?x(i,a):!1===l?L(i,s):1===e?C(i,a):2===e&&L(i,a))}var R=0;function O(e){e[T]=R++,e._state=void 0,e._result=void 0,e._subscribers=[]}N.prototype._enumerate=function(e){for(var t=0;this._state===w&&t<e.length;t++)this._eachEntry(e[t],t)},N.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,r=i.resolve;if(r===S){var n,o=void 0,a=void 0,s=!1;try{o=e.then}catch(t){s=!0,a=t}o===b&&e._state!==w?this._settledAt(e._state,t,e._result):"function"!=typeof o?(this._remaining--,this._result[t]=e):i===F?(n=new i(E),s?L(n,a):k(n,e,o),this._willSettleAt(n,t)):this._willSettleAt(new i((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},N.prototype._settledAt=function(e,t,i){var r=this.promise;r._state===w&&(this._remaining--,2===e?L(r,i):this._result[t]=i),0===this._remaining&&C(r,this._result)},N.prototype._willSettleAt=function(e,t){var i=this;I(e,void 0,(function(e){return i._settledAt(1,t,e)}),(function(e){return i._settledAt(2,t,e)}))};var M=N;function N(e,t){this._instanceConstructor=e,this.promise=new e(E),this.promise[T]||O(this.promise),i(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(t),0!==this._remaining)||C(this.promise,this._result)):L(this.promise,new Error("Array Methods must be provided an Array"))}B.prototype.catch=function(e){return this.then(null,e)},B.prototype.finally=function(e){var i=this.constructor;return t(e)?this.then((function(t){return i.resolve(e()).then((function(){return t}))}),(function(t){return i.resolve(e()).then((function(){throw t}))})):this.then(e,e)};var F=B;function B(e){if(this[T]=R++,this._result=this._state=void 0,this._subscribers=[],E!==e){if("function"!=typeof e)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof B))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var t=this;try{e((function(e){x(t,e)}),(function(e){L(t,e)}))}catch(e){L(t,e)}}}return F.prototype.then=b,F.all=function(e){return new M(this,e).promise},F.race=function(e){var t=this;return i(e)?new t((function(i,r){for(var n=e.length,o=0;o<n;o++)t.resolve(e[o]).then(i,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},F.resolve=S,F.reject=function(e){var t=new this(E);return L(t,e),t},F._setScheduler=function(e){s=e},F._setAsap=function(e){l=e},F._asap=l,F.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=F},F.Promise=F},"object"==_typeof(i)&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):this.ES6Promise=o()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:9}],9:[function(e,t,i){var r,n;t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return(r=setTimeout)(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length)&&h()}function h(){if(!c){for(var e=s(f),t=(c=!0,u.length);t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return(n=clearTimeout)(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=v,t.addListener=v,t.once=v,t.off=v,t.removeListener=v,t.removeAllListeners=v,t.emit=v,t.prependListener=v,t.prependOnceListener=v,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],10:[function(e,t,i){t.exports={name:"aliyun-aliplayer",version:"2.15.6",description:"aliyun h5 player",main:"./dist/aliplayer-min",files:["dist"],repository:{type:"git",url:""},keywords:["clam","prismplayer"],scripts:{start:"npx grunt live",build:"npx grunt build","publish-beta":'node ./update-beta-version.js && npm run build && git add . && git commit -m "feat: build assets for daily" && def p -d'},devDependencies:{"@babel/core":"^7.15.0","@babel/preset-env":"^7.15.0","babel-loader":"^8.2.2","babel-plugin-es6-promise":"^1.1.1",babelify:"^10.0.0",grunt:"^1.0.4","grunt-autoprefixer":"^3.0.4","grunt-babel":"^8.0.0","grunt-browserify":"^5.3.0","grunt-contrib-clean":"^2.0.0","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-cssmin":"^3.0.0","grunt-contrib-less":"^2.0.0","grunt-contrib-uglify":"^4.0.1","grunt-contrib-watch":"^1.1.0","grunt-run":"^0.8.1","grunt-text-replace":"^0.4.0"},dependencies:{"crypto-js":"^4.1.1"}}},{}],11:[function(e,t,i){var r=e("../ui/component"),n=(e("../lib/util"),e("../lib/dom")),o=e("../lib/event"),a=(e("../lib/ua"),e("../lang/index")),s=e("../player/base/event/eventtype");e=r.extend({init:function(e,t){r.call(this,e,t),this.className=t.className||"prism-auto-stream-selector",this.addClass(this.className)},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML="<div><p class='tip-text'></p></div><div class='operators'><a class='prism-button prism-button-ok' type='button'>"+a.get("OK_Text")+"</a><a class='prism-button prism-button-cancel'  target='_blank'>"+a.get("Cancel_Text")+"</a></div>",e},bindEvent:function(){var e=this,t=(e._player.on(s.Private.AutoStreamShow,(function(t){var i,r=document.querySelector("#"+e.getId()+" .tip-text");e._player._getLowerQualityLevel&&(i=e._player._getLowerQualityLevel())&&(e._switchUrl=i,r.innerText=a.get("Auto_Stream_Tip_Text").replace("$$",i.item.desc),n.css(e.el(),"display","block"))})),e._player.on(s.Private.AutoStreamHide,(function(t){document.querySelector("#"+e.getId()+" .tip-text"),n.css(e.el(),"display","none")})),document.querySelector("#"+e.getId()+" .prism-button-ok"));o.on(t,"click",(function(){e._player._changeStream&&e._switchUrl&&(e._player._changeStream(e._switchUrl.index,a.get("Quality_Change_Text")),e._player.trigger(s.Private.SettingListHide)),n.css(e.el(),"display","none")})),t=document.querySelector("#"+e.getId()+" .prism-button-cancel");o.on(t,"click",(function(){n.css(e.el(),"display","none"),e._player.trigger(s.Private.SettingListHide)}))}});t.exports=e},{"../lang/index":23,"../lib/dom":32,"../lib/event":33,"../lib/ua":49,"../lib/util":51,"../player/base/event/eventtype":70,"../ui/component":130}],12:[function(e,t,i){var r=e("../ui/component"),n=e("../lib/dom"),o=e("../lib/event"),a=e("../lib/ua"),s=e("../lib/function"),l=(e("../lang/index"),e("../lib/util")),u=e("../config"),c=e("../lib/playerutil"),d=e("../player/base/event/eventtype");e=r.extend({init:function(e,t){r.call(this,e,t),this.className=t.className||"prism-liveshift-progress",this.addClass(this.className),this._liveshiftService=e._liveshiftService},createEl:function(){var e=r.prototype.createEl.call(this);return e.innerHTML='<div class="prism-enable-liveshift"><div class="prism-progress-loaded"></div><div class="prism-progress-played"></div><div class="prism-progress-cursor"><img></img></div><p class="prism-progress-time"></p><div class="prism-liveshift-seperator"></div></div><div class="prism-disable-liveshift"></div>',e},bindEvent:function(){function e(e){t._progressDown=e}var t=this,i=(this.loadedNode=document.querySelector("#"+this.id()+" .prism-progress-loaded"),this.playedNode=document.querySelector("#"+this.id()+" .prism-progress-played"),this.cursorNode=document.querySelector("#"+this.id()+" .prism-progress-cursor"),this.timeNode=document.querySelector("#"+this.id()+" .prism-progress-time"),this.controlNode=document.querySelector("#"+this._player._options.id+" .prism-controlbar"),this.seperatorNode=document.querySelector("#"+this.id()+" .prism-liveshift-seperator"),this.progressNode=document.querySelector("#"+this.id()+" .prism-enable-liveshift"),document.querySelector("#"+this.id()+" .prism-progress-cursor img")),r="//"+u.domain+"/de/prismplayer/"+u.h5Version+"/skins/default/img/dragcursor.png";this._player._options.skinsDomain?r=this._player._options.skinsDomain+"/skins/default/img/dragcursor.png":u.domain?-1<u.domain.indexOf("localhost")&&(r="//"+u.domain+"/build/skins/default/img/dragcursor.png"):r=this._player&&this._player._options&&this._player._options.sdkDomain?this._player._options.sdkDomain+"/de/prismplayer/"+u.h5Version+"/skins/default/img/dragcursor.png":"de/prismplayer/"+u.h5Version+"/skins/default/img/dragcursor.png",i.src=r,o.on(this.cursorNode,"mousedown",(function(e){t._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){t._onMouseDown(e)})),o.on(this.progressNode,"mousemove",(function(e){t._progressMove(e)})),o.on(this.progressNode,"touchmove",(function(e){t._progressMove(e)})),o.on(this.progressNode,"mousedown",(function(t){e(!0)})),o.on(this.progressNode,"touchstart",(function(t){e(!0)})),o.on(this.progressNode,"mouseup",(function(t){e(!1)})),o.on(this.progressNode,"touchend",(function(t){e(!1)})),o.on(this._el,"click",(function(e){t._onMouseClick(e)})),this._player.on(d.Private.HideProgress,(function(e){t._hideProgress(e)})),this._player.on(d.Private.CancelHideProgress,(function(e){t._cancelHideProgress(e)})),this._player.on(d.Private.ShowBar,(function(){t._updateLayout()})),o.on(this.progressNode,d.Private.MouseOver,(function(e){t._onMouseOver(e)})),o.on(this.progressNode,d.Private.MouseOut,(function(e){t._onMouseOut(e)})),this.bindTimeupdate=s.bind(this,this._onTimeupdate),this._player.on(d.Player.TimeUpdate,this.bindTimeupdate),c.isLiveShift(this._player._options)&&t._liveshiftService.start(6e4,(function(e){e={mediaId:t._player._options.vid||"",error_code:e.Code,error_msg:e.Message},t._player.logError(e),t._player.trigger(d.Player.Error,e)})),this._player.on(d.Private.LiveShiftQueryCompleted,(function(){t._updateSeperator(),t._updateLayout()})),this._player.on(d.Private.LiveShiftSwitchToLive,(function(){t._updateCursorPosition()})),this._player.on(d.Player.Pause,(function(){t._liveshiftService.stop()})),a.IS_IPAD?this.interval=setInterval((function(){t._onProgress()}),500):this._player.on(d.Video.Progress,(function(){t._onProgress()}))},_updateSeperator:function(){this._liveshiftService.currentTimeDisplay&&(this.seperatorNode.innerText=this._liveshiftService.currentTimeDisplay)},_updateLayout:function(){var e=this.seperatorNode.offsetWidth,t=this.el().offsetWidth,i=t-e;0!=e&&0!=i&&(n.css(this.progressNode,"width",100*(i-10)/t+"%"),n.css(this.seperatorNode,"right",-1*(e+10)+"px"))},_progressMove:function(e){var t=this._getSeconds(e),i=this._liveshiftService.availableLiveShiftTime,r=(t=(this.timeNode.innerText="-"+l.formatTime(i-t),i?t/i:0),i=1-this.timeNode.clientWidth/this.el().clientWidth,i<t&&(t=i),this.timeNode&&(n.css(this.timeNode,"display","block"),n.css(this.timeNode,"left",100*t+"%")),this);!a.IS_PC&&r._progressDown&&(r.progressSeekTimer&&clearTimeout(r.progressSeekTimer),r.progressSeekTimer=setTimeout((function(){r._progressDown||r._onMouseClick(e)}),200))},_hideProgress:function(e){o.off(this.cursorNode,"mousedown"),o.off(this.cursorNode,"touchstart")},_cancelHideProgress:function(e){var t=this;o.on(this.cursorNode,"mousedown",(function(e){t._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){t._onMouseDown(e)}))},_canSeekable:function(e){var t=!0;return"function"==typeof this._player.canSeekable?this._player.canSeekable(e):t},_onMouseOver:function(e){this._updateCursorPosition(this._getCurrentTime()),n.css(this.timeNode,"display","block")},_onMouseOut:function(e){n.css(this.timeNode,"display","none")},_getSeconds:function(e){for(var t=this.el().offsetLeft,i=this.el();i=i.offsetParent;){var r=n.getTranslateX(i);t+=i.offsetLeft+r}e=(e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e).pageX;var o=this.progressNode.offsetWidth,a=this._liveshiftService.availableLiveShiftTime;return sec=(sec=(sec=a?(e-t)/o*a:0)<0?0:sec)>a?a:sec},_onMouseClick:function(e){var t=this,i=(e=this._getSeconds(e),this._liveshiftService.availableLiveShiftTime),r=i-e,n=this._player._options;r<=n.liveShiftMinOffset&&(e=i-(r=n.liveShiftMinOffset)),this._player.trigger(d.Private.SeekStart,{fromTime:this._getCurrentTime()}),i=this._liveshiftService.getSourceUrl(r),n=c.isHls(t._player._options.source);t._player._loadByUrlInner(i,e,!0),t._player.trigger(d.Private.Play_Btn_Hide),t._liveshiftService.seekTime=e,t._player.trigger(d.Private.EndStart,{toTime:e}),t._updateProgressBar(this.playedNode,e),t._updateCursorPosition(e),setTimeout((function(){t._progressDown||t._onMouseOut()}),500),n&&setTimeout((function(){t._player.play()}))},_onMouseDown:function(e){var t=this;e.preventDefault(),this._player.trigger(d.Private.SeekStart,{fromTime:this._getCurrentTime()}),o.on(this.controlNode,"mousemove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"touchmove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"mouseup",(function(e){t._onMouseUp(e)})),o.on(this.controlNode,"touchend",(function(e){t._onMouseUp(e)}))},_onMouseUp:function(e){e.preventDefault(),o.off(this.controlNode,"mousemove"),o.off(this.controlNode,"touchmove"),o.off(this._player.tag,"mouseup"),o.off(this._player.tag,"touchend"),o.off(this.controlNode,"mouseup"),o.off(this.controlNode,"touchend"),this._onMouseClick(e)},_onMouseMove:function(e){e.preventDefault()},_onTimeupdate:function(e){this._player._seeking||(a.IS_ANDROID&&a.IS_UC&&(this._hasResetFlagUC&&this._player.getCurrentTime()&&(this._hasResetFlagUC=!1,this._basePtsUC=this._player.getCurrentTime()),this._player.getCurrentTime()||(this._hasResetFlagUC=!0,this._basePtsUC=0)),this._updateProgressBar(this.playedNode,this._getCurrentTime()),this._updateCursorPosition(this._getCurrentTime()),this._player.trigger(d.Private.UpdateProgressBar,{time:this._getCurrentTime()}))},_getCurrentTime:function(){var e=this._liveshiftService.seekTime;-1==e&&(e=0),e=this._player.getCurrentTime()+e;return a.IS_ANDROID&&a.IS_UC&&(e-=this._basePtsUC||0),e},_onProgress:function(e){this._player.getDuration()&&1<=this._player.getBuffered().length&&this._updateProgressBar(this.loadedNode,this._player.getBuffered().end(this._player.getBuffered().length-1))},_updateProgressBar:function(e,t){var i,r;1!=this._player._switchSourcing&&(r=0,-1==this._liveshiftService.seekTime?r=1:1<(r=(i=this._liveshiftService.availableLiveShiftTime)?t/i:0)&&(this._liveshiftService.seekTime=-(r=1)),this.liveShiftStartDisplay,e)&&n.css(e,"width",100*r+"%")},_updateCursorPosition:function(e){var t,i,r,o;this._player.el()&&1!=this._player._switchSourcing&&(r=0,o=1,t=this._player.el().clientWidth,-1==this._liveshiftService.seekTime?r=1:1<(r=(i=this._liveshiftService.availableLiveShiftTime)?e/i:0)&&(this._liveshiftService.seekTime=-1),0!=t&&(o=1-(e=10/t),r-=e),r=r<0?0:r,this.cursorNode)&&(o<r?(n.css(this.cursorNode,"right","0px"),n.css(this.cursorNode,"left","auto")):(n.css(this.cursorNode,"right","auto"),n.css(this.cursorNode,"left",100*r+"%")))}});t.exports=e},{"../config":14,"../lang/index":23,"../lib/dom":32,"../lib/event":33,"../lib/function":35,"../lib/playerutil":46,"../lib/ua":49,"../lib/util":51,"../player/base/event/eventtype":70,"../ui/component":130}],13:[function(e,t,i){var r=e("../ui/component"),n=e("../lib/util"),o=e("../player/base/event/eventtype");e=r.extend({init:function(e,t){r.call(this,e,t),this.className=t.className||"prism-live-time-display",this.addClass(this.className),this._liveshiftService=e._liveshiftService},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML='<span class="current-time">00:00</span> <span class="time-bound">/</span> <span class="end-time">00:00</span><span class="live-text">Live: </span><span class="live-time"></span>',e},bindEvent:function(){var e=this;this._player.on(o.Video.TimeUpdate,(function(){var t,i=e._liveshiftService,r=document.querySelector("#"+e.id()+" .current-time");i.liveShiftStartDisplay&&i.availableLiveShiftTime>i.seekTime&&-1!=i.seekTime?(t=e._liveshiftService.getBaseTime(),t=n.formatTime(t+e._player.getCurrentTime()),r.innerText=t):i.currentTimeDisplay&&(r.innerText=i.currentTimeDisplay)})),this._player.on(o.Private.LiveShiftQueryCompleted,(function(){e.updateTime()}))},updateTime:function(){document.querySelector("#"+this.id()+" .end-time").innerText=this._liveshiftService.liveTimeRange.endDisplay,document.querySelector("#"+this.id()+" .live-time").innerText=this._liveshiftService.currentTimeDisplay}});t.exports=e},{"../lib/util":51,"../player/base/event/eventtype":70,"../ui/component":130}],14:[function(e,t,i){e=e("../package.json"),t.exports={domain:"g.alicdn.com",flashVersion:"2.8.2",h5Version:e.version.split("-")[0],rtsVersion:"2.2.6",cityBrain:!0,logDuration:10,logCount:100,logReportTo:"https://videocloud.cn-hangzhou.log.aliyuncs.com/logstores/newplayer/track"}},{"../package.json":10}],15:[function(e,t,i){var r,n,o,a;e("./lib/patch-ssr").isSSR||(e("./lang/index").load(),r=e("./player/adaptivePlayer"),n=e("./lib/reloadInstanceUtil"),o=e("./lib/componentutil"),a=e("./config"),(e=function(e,t){return e=r.create(e,t),n.storeUserEvents(e),e}).getVersion=function(){return a.h5Version},o.register(e),(o=window.Aliplayer=e).players={},e.reloadInstance=n.reloadInstance,"undefined"==typeof Uint8Array)||Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),t.exports=o},{"./config":14,"./lang/index":23,"./lib/componentutil":27,"./lib/patch-ssr":44,"./lib/reloadInstanceUtil":47,"./player/adaptivePlayer":66}],16:[function(e,t,i){var r=e("../player/base/event/eventtype"),n=e("../lib/constants"),o=e("../lang/index");t.exports=function(){function e(e){var t=this;void 0===e&&(e={}),this.interval=3e3,this.player=null,this.timer=null,this.playerInitDone=!1,this.player=e.player,this.player.on(r.Player.Init,(function(){t.playerInitDone=!0}))}var t=e.prototype;return t.start=function(){var e=this;this.stop(),this.player&&this.player._options&&!this.player._options.preventRecord||(this.timer=setInterval((function(){e.playerInitDone&&e.check()}),this.interval))},t.stop=function(){this.clearTimer()},t.check=function(){var e=!1,t=this.detectPrototype()||this.detectNativeFn();return(t||this.detectDeperateVideo())&&(__f__("log","isMediaSourceModified",t," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),this.clearTimer(),this.displayError(),this.setupErrorStyle(),this.destroyVideo(),localStorage.setItem("_intercept_mediastream_",""),e=!0),e},t.dispose=function(){this.stop(),this.player=null,this.playerInitDone=!1},t.clearTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},t.displayError=function(){var e=this.player,t={mediaId:e._options&&e._options.vid?e._options.vid:"",error_code:n.ErrorCode.RecordNotAllowed,error_msg:o.get("Record_Not_Allowed")};e.logError(t),e.trigger(r.Player.Error,t)},t.setupErrorStyle=function(){this.hideRetry();var e=document.querySelector(".prism-ErrorMessage");e&&(e.style.opacity="1",e.style.visibility="visible")},t.hideRetry=function(){var e=document.querySelector("#"+this.player.id()+" .prism-button-retry");e&&(e.style.display="none")},t.destroyVideo=function(){this.player._drm&&this.player.destroy();var e=this.player.tag;e&&e.parentNode&&e.parentNode.removeChild(e)},t.detectPrototype=function(){var e=window,t=e.MediaSource;return t&&e.EventTarget&&t.__proto__.__proto__===e.EventTarget},t.detectNativeFn=function(){var e=window.MediaSource;return e&&!this.isNativeFn(e.prototype.addSourceBuffer)},t.isNativeFn=function(e){var t=RegExp("^".concat(Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),"$")),i=_typeof(e);return null!==e&&("object"==i||"function"==i)&&t.test(e)},t.detectDeperateVideo=function(){var e=this.player.tag;if(e)return-1!==(e.getAttribute("id")||"").indexOf("360")},e}()},{"../lang/index":23,"../lib/constants":28,"../player/base/event/eventtype":70}],17:[function(e,t,i){var r=e("../lib/oo"),n=e("../lang/index"),o=(e=r.extend({init:function(e,t){this._player=e,this._options=e.options()}}),e.prototype.handle=function(e){var t,i;this._options.autoPlayDelay&&(t=(t=this._options.autoPlayDelayDisplayText)||n.get("AutoPlayDelayDisplayText").replace("$$",this._options.autoPlayDelay),this._player.trigger("info_show",t),this._player.trigger("h5_loading_hide"),this._player.trigger("play_btn_hide"),(i=this)._timeHandler=setTimeout((function(){i._player.trigger("info_hide"),i._options.autoPlayDelay=0,e&&e()}),1e3*this._options.autoPlayDelay),this._player.on("play",(function(){o(i)})),this._player.on("pause",(function(){o(i)})))},e.prototype.dispose=function(){o(this),this._player=null},function(e){e._timeHandler&&(clearTimeout(e._timeHandler),e._timeHandler=null)});t.exports=e},{"../lang/index":23,"../lib/oo":43}],18:[function(e,t,i){var r=e("../lib/event"),n=e("../lib/data"),o=e("../player/base/event/eventtype"),a=n.guid();e={};function s(e){var t,i,r=this._options.keyFastForwardStep,n=this._options.isLive;switch(e&&e.keyCode){case 39:n||(e.preventDefault(),t=this.getDuration(),i=this.getCurrentTime()+r,this.seek(i=t<i?t:i),l.call(this,i),u.call(this,i));break;case 37:n||(e.preventDefault(),i=this.getCurrentTime()-r,this.seek(i=i<0?0:i),l.call(this,i),u.call(this,i));break;case 38:e.preventDefault(),this.getVolume()<1&&0<=this.getVolume()&&this.setVolume(Number((this.getVolume()+.1).toFixed(1)));break;case 40:e.preventDefault(),0<this.getVolume()&&this.getVolume()<=1&&this.setVolume(Number((this.getVolume()-.1).toFixed(1)));break;case 32:if(n)return;e.preventDefault(),this.tag.paused?this.play(!0):this.pause(!0)}}function l(e){this.trigger(o.Private.UpdateProgress,{targetTime:e})}function u(e){this.trigger(o.Private.UpdateCursorPosition,{targetTime:e})}e.init=function(){var e;this._options.keyShortCuts&&((e=s.bind(this)).guid=a,r.on(window.document,"keydown",e))},e.dispose=function(){var e;this._options.keyShortCuts&&((e=s.bind(this)).guid=a,r.off(window.document,"keydown",e))},t.exports=e},{"../lib/data":30,"../lib/event":33,"../player/base/event/eventtype":70}],19:[function(e,t,i){var r="undefined"==typeof Promise?e("es6-promise").Promise:Promise,n=e("../lib/constants").LicenseResultCode,o=e("../lib/io"),a=((e={})[n.ResourceIncorrect]="license resource init error",e[n.LicenseKeyInvalid]="invalid license key",e[n.DomainInvalid]="invalid domain",e[n.CertInvalid]="invalid cert content",e[n.NotFound]="license not found",e[n.Expired]="license expired",e);e=function(){function e(){}return e.getLicense=function(e,t){var i=this;return this.isWasmSupported()?t?e?this.instance?r.resolve(this.instance):new r((function(r,a){i.resolvers.push(r),i.rejecters.push(a),1===i.resolvers.length&&o.loadJS("https://g.alicdn.com/video-cloud-fe/websdk-license/0.1.0/index.js",(function(){window.loadLicenseSource().then((function(r){return r.init(2,e,t).then((function(e){i.instance=e,i.resolvers.forEach((function(t){t(e)}))})).catch((function(e){__f__("error",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),i.rejecters.forEach((function(e){e(n.CertInvalid)}))}))})).catch((function(){i.rejecters.forEach((function(e){e(n.ResourceIncorrect)}))})).finally((function(){i.resolvers=[],i.rejecters=[]}))}),(function(){i.rejecters.forEach((function(e){e(n.ResourceIncorrect)}))}))})):r.reject(n.DomainInvalid):r.reject(n.LicenseKeyInvalid):r.reject(n.WasmNotSupported)},e.isWasmSupported=function(){return"object"==("undefined"===typeof WebAssembly?"undefined":_typeof(WebAssembly))&&"function"==typeof WebAssembly.instantiate},e.logError=function(e){a[e]&&__f__("error",a[e]," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")},e}();e.instance=void 0,e.resolvers=[],e.rejecters=[],t.exports=e},{"../lib/constants":28,"../lib/io":40,"es6-promise":8}],20:[function(e,t,i){t.exports=t.exports={OD:"OD",FD:"360p",LD:"540p",SD:"720p",HD:"1080p","2K":"2K","4K":"4K",FHD:"FHD",XLD:"XLD",SQ:"SQ",HQ:"HQ",Speed:"Speed",Speed_05X_Text:"0.5X",Speed_1X_Text:"Normal",Speed_125X_Text:"1.25X",Speed_15X_Text:"1.5X",Speed_2X_Text:"2X",Refresh_Text:"Refresh",Cancel:"Cancel",Mute:"Mute",Snapshot:"Snapshot",Detection_Text:"Diagnosis",Play_DateTime:"Time",Quality_Change_Fail_Switch_Text:"Cannot play, switch to ",Quality_Change_Text:"Switch to ",Quality_The_Url:"The url",AutoPlayDelayDisplayText:"Play in $$ seconds",Error_Load_Abort_Text:"Data abort erro",Error_Network_Text:"Loading failed due to network error",Error_Decode_Text:"Decode error",Error_Server_Network_NotSupport_Text:"Network error or \xa0the format of video is unsupported",Error_Offline_Text:"The network is unreachable, please click Refresh",Error_Play_Text:"Error occured while playing",Error_Retry_Text:" Please close or refresh",Error_AuthKey_Text:"Authentication expired or the domain is not in white list",Error_H5_Not_Support_Text:"The format of video is not supported by\xa0h5 player\uff0cplease use flash player",Error_Not_Support_M3U8_Text:"The format of m3u8 is not supported by this explorer",Error_Not_Support_MP4_Text:"The format of mp4\xa0is not supported by this explorer",Error_Not_Support_encrypt_Text:"Play the encrypted video,please set encryptType to 1",Error_Vod_URL_Is_Empty_Text:"The url is empty",Error_Vod_Fetch_Urls_Text:"Error occured when fetch urls\uff0cplease close or refresh",Fetch_Playauth_Error:"Error occured when fetch playauth close or refresh",Error_Playauth_Decode_Text:"PlayAuth parse failed",Error_Vid_Not_Same_Text:"Cannot renew url due to vid changed",Error_Playauth_Expired_Text:"Playauth expired, please close or refresh",Error_MTS_Fetch_Urls_Text:"Error occurred while requesting mst server",Error_Load_M3U8_Failed_Text:"The m3u8 file loaded failed,please make sure domain configuration https certificate or enable cors",Error_Load_M3U8_Timeout_Text:"Timeout error occored\xa0when the\xa0m3u8 file loaded",Error_Liveshift_M3U8_Not_Found_Text:"No more liveshift video avaliable",Error_M3U8_Decode_Text:"The m3u8 file decoded failed",Error_TX_Decode_Text:"Video decoded failed",Error_Waiting_Timeout_Text:"Buffering timeout,\xa0please close or refresh",Error_Invalidate_Source:"Video shoud be mp4\u3001mp3\u3001m3u8\u3001mpd or flv",Error_Empty_Source:"Video URL shouldn't be empty",Error_Vid_Empty_Source:"vid's video URL hasn't been fetched",Error_Mediaauth_Empty_Source:"mediaAuth's video URL hasn't been fetched",Error_Fetch_NotStream:"The vid has no stream to play",Error_Fetch_Media_Not_Found:"Data is not found",Error_Not_Found:"Url is not found",Error_Drm_License_Request_Failed:"DRM license request failed",Error_Drm_Not_Supported:"DRM in not supported",Error_Drm_Load:"DRM load error",Error_Region_Block_Text:"This video is not available in your region",Live_End:"Live has finished",Play_Before_Fullscreen:"Please play before fullscreen",Can_Not_Seekable:"Can not seek to this position",Cancel_Text:"Cancel",OK_Text:"OK",Auto_Stream_Tip_Text:"Internet is slow, does switch to $$",Request_Block_Text:"This request is blocked, the video Url should be over https",Open_Html_By_File:"Html page should be on the server",Maybe_Cors_Error:"please make sure domain configuration https certificate or enable cors",Speed_Switch_To:"Speed switch to ",Curent_Volume:"Current volume:",Volume_Mute:"set to mute",Volume_UnMute:"set to unmute",ShiftLiveTime_Error:"Live start time should not be greater than over time",Error_Not_Support_Format_On_Mobile:"flv\u3001rmtp can't be supported on mobile\uff0cplease use m3u8",SessionId_Ticket_Invalid:"please assign value for sessionId and ticket properties",Http_Error:" An HTTP network request failed with an error, but not from the server.",Http_Timeout:"A network request timed out",DRM_License_Expired:"DRM license is expired, please refresh",Not_Support_DRM:"Browser doesn't support DRM",CC_Switch_To:"Subtitle switch to ",AudioTrack_Switch_To:"Audio tracks switch to ",Subtitle:"Subtitle/CC",AudioTrack:"Audio Track",Quality:"Quality",Auto:"Auto",Quality_Switch_To:"Quality switch to ",Fullscreen:"Full Screen",Setting:"Settings",Volume:"Volume",Play:"Play",Pause:"Pause",CloseSubtitle:"Close CC",OpenSubtitle:"Open CC",ExistFullScreen:"Exit Full Screen",Muted:"Muted",Retry:"Retry",SwitchToLive:"Return to live",iOSNotSupportVodEncription:"iOS desn't support Vod's private encription video, please use HLS standard encription or DRM",UseChromeForVodEncription:"This browser desn't suport Vod's encription video, please use latest Chrome",Record_Not_Allowed:"Recording or playing in seperated window is not allowed, please disable related plugins or switch browser.",License_No_Authorization:"Aliplayer without Authorization",License_Click_To_Apply:"Click to apply",Rts_Err_Http_Signal_Error:"(RTS)http signal error",Rts_Err_Play_Failed:"(RTS)play faild error",Rts_Err_No_Data_For:"ms received no data",Rts_Err_Browser_Not_Support:"(RTS)browser not support",Rts_Err_Not_Support_Webrtc:"(RTS)not support webrtc",Rts_Err_Browser_Version_Too_Low:"(RTS)browser version too low",Rts_Err_Not_Support_H264:"(RTS)not support h264",Rts_Err_Create_Offer_Error:"(RTS)create offer error",Rts_Err_Play_Url_Error:"(RTS)play url error",Rts_Err_Subscribe_Nonthing:"(RTS)subscribe nonthing",Rts_Err_Http_Request_Failed:"(RTS)HTTP request failed",Rts_Err_Http_Answer_Failed:"(RTS)answer failed",Rts_Err_PeerConnection_Unknown:"(RTS)Unknown PeerConnection",Splayer_Err_Env_Check:"(SP)This browser can't play this media",Splayer_Err_Coroutine:"(SP)Coroutine error",Splayer_Err_Decoder:"(SP)Decode error",Splayer_Err_Buffering:"(SP)Buffering error",Splayer_Err_Parser_Not_Found:"(SP)Media container is not supported"}},{}],21:[function(e,t,i){t.exports=t.exports={OD:"OD",LD:"360p",FD:"540p",SD:"720p",HD:"1080p","2K":"2K","4K":"4K",FHD:"FHD",XLD:"XLD",SQ:"SQ",HQ:"HQ",Forbidden_Text:"Internal information is strictly forbidden to outsider",Refresh:"Refresh",Diagnosis:"Diagnosis",Live_Finished:"Live has finished, thanks for watching",Play:"Play",Pause:"Pause",Snapshot:"Snapshot",Replay:"Replay",Live:"Live",Encrypt:"Encrypt",Sound:"Sound",Fullscreen:"Full Screen",Exist_Fullscreen:"Exit Full-screen",Resolution:"Resolution",Next:"Next Video",Brightness:"Brightness",Default:"Default",Contrast:"Contrast",Titles_Credits:"Titles\xa0and\xa0Credits",Skip_Titles:"Skip Titles",Skip_Credits:"Skip Credits",Not_Support_Out_Site:"The video is not supported for outside website, please watch it by TaoTV",Watch_Now:"Watch now",Network_Error:"Network is unreachable, please try to refresh",Video_Error:"Playing a video error,\xa0please try to refresh",Decode_Error:"Data decoding\xa0error",Live_Not_Start:"Live has not started, to be expected",Live_Loading:"Live information is loading,\xa0please try to refresh",Fetch_Playauth_Error:"Error occured when fetch playauth close or refresh",Live_End:"Live has finished",Live_Abrot:"Signal aborted,\xa0please try to refresh",Corss_Domain_Error:"Please ensure your domain has obtained IPC license and combined CNAME, \r\n or to set\xa0\xa0cross-domain accessing available",Url_Timeout_Error:"The video url is timeout,\xa0please try to refresh",Connetction_Error:"Sorry\uff0cthe video cannot play because of connection error, please try to watch other videos",Fetch_MTS_Error:"Fetching video list failed, please ensure",Token_Expired_Error:"Requesting open api failed, please ensure token expired or not",Video_Lists_Empty_Error:"The video list is empty, please check the format of video",Encrypted_Failed_Error:"Fetching encrypted file failed, please check the permission of player",Fetch_Failed_Permission_Error:"Fetching video list failed, please check the permission of player",Invalidate_Param_Error:"No video url, please check the parameters",AutoPlayDelayDisplayText:"Play in $$ seconds",Fetch_MTS_NOT_NotStream_Error:"The vid has no stream to play",Cancel_Text:"Cancel",OK_Text:"OK",Auto_Stream_Tip_Text:"Internet is slow, does switch to $$",Open_Html_By_File:"Html page should be on the server",Cant_Use_Flash_On_Mobile:"Mobile doesn't support flash player\uff0cplease use h5 player",Flash_Not_Ready:"Flash Player plugin hasn't been installed <a href='https://www.flash.cn/' target='_blank'>install plugin</a>, or check if disable Flash plugin"}},{}],22:[function(e,t,i){t.exports=t.exports={OD:"\u539f\u753b",FD:"\u6d41\u7545",LD:"\u6807\u6e05",SD:"\u9ad8\u6e05",HD:"\u8d85\u6e05","2K":"2K","4K":"4K",FHD:"\u5168\u9ad8\u6e05",XLD:"\u6781\u901f",SQ:"\u666e\u901a\u97f3\u8d28",HQ:"\u9ad8\u97f3\u8d28",Forbidden_Text:"\u5185\u90e8\u4fe1\u606f\uff0c\u4e25\u7981\u5916\u4f20",Refresh:"\u5237\u65b0",Diagnosis:"\u8bca\u65ad",Live_Finished:"\u76f4\u64ad\u5df2\u7ed3\u675f,\u8c22\u8c22\u89c2\u770b",Play:"\u64ad\u653e",Pause:"\u6682\u505c",Snapshot:"\u622a\u56fe",Replay:"\u91cd\u64ad",Live:"\u76f4\u64ad",Encrypt:"\u52a0\u5bc6",Sound:"\u58f0\u97f3",Fullscreen:"\u5168\u5c4f",Exist_Fullscreen:"\u9000\u51fa\u5168\u5c4f",Resolution:"\u6e05\u6670\u5ea6",Next:"\u4e0b\u4e00\u96c6",Brightness:"\u4eae\u5ea6",Default:"\u9ed8\u8ba4",Contrast:"\u5bf9\u6bd4\u5ea6",Titles_Credits:"\u7247\u5934\u7247\u5c3e",Skip_Titles:"\u8df3\u8fc7\u7247\u5934",Skip_Credits:"\u8df3\u8fc7\u7247\u5c3e",Not_Support_Out_Site:"\u8be5\u89c6\u9891\u6682\u4e0d\u652f\u6301\u7ad9\u5916\u64ad\u653e\uff0c\u8bf7\u5230\u6dd8TV\u89c2\u770b",Watch_Now:"\u7acb\u5373\u89c2\u770b",Network_Error:"\u7f51\u7edc\u65e0\u6cd5\u8fde\u63a5\uff0c\u8bf7\u5c1d\u8bd5\u68c0\u67e5\u7f51\u7edc\u540e\u5237\u65b0\u8bd5\u8bd5",Video_Error:"\u89c6\u9891\u64ad\u653e\u5f02\u5e38\uff0c\u8bf7\u5237\u65b0\u8bd5\u8bd5",Decode_Error:"\u64ad\u653e\u6570\u636e\u89e3\u7801\u9519\u8bef",Live_Not_Start:"\u4eb2\uff0c\u76f4\u64ad\u8fd8\u672a\u5f00\u59cb\u54e6\uff0c\u656c\u8bf7\u671f\u5f85",Live_Loading:"\u76f4\u64ad\u4fe1\u606f\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u5237\u65b0\u8bd5\u8bd5",Live_End:"\u4eb2\uff0c\u76f4\u64ad\u5df2\u7ed3\u675f",Live_Abrot:"\u5f53\u524d\u76f4\u64ad\u4fe1\u53f7\u4e2d\u65ad\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5",Corss_Domain_Error:"\u8bf7\u786e\u8ba4\u60a8\u7684\u57df\u540d\u5df2\u5b8c\u6210\u5907\u6848\u548cCNAME\u7ed1\u5b9a\uff0c\r\n\u5e76\u5904\u4e8e\u542f\u7528\u72b6\u6001\uff0c\u6216\u8d44\u6e90\u5141\u8bb8\u8de8\u8d8a\u8bbf\u95ee",Url_Timeout_Error:"\u60a8\u6240\u89c2\u770b\u7684\u89c6\u9891\u5730\u5740\u8fde\u63a5\u8d85\u65f6\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5",Connetction_Error:"\u62b1\u6b49,\u8be5\u89c6\u9891\u7531\u4e8e\u8fde\u63a5\u9519\u8bef\u6682\u65f6\u4e0d\u80fd\u64ad\u653e,\u8bf7\u89c2\u770b\u5176\u5b83\u89c6\u9891",Fetch_MTS_Error:"\u83b7\u53d6\u89c6\u9891\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4",Token_Expired_Error:"\u8bf7\u6c42\u63a5\u53e3\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4Token\u662f\u5426\u8fc7\u671f",Video_Lists_Empty_Error:"\u83b7\u53d6\u89c6\u9891\u5217\u8868\u4e3a\u7a7a\uff0c\u8bf7\u786e\u8ba4\u64ad\u653e\u6570\u636e\u4e0e\u683c\u5f0f",Encrypted_Failed_Error:"\u83b7\u53d6\u89c6\u9891\u52a0\u5bc6\u79d8\u94a5\u9519\u8bef\uff0c\u8bf7\u786e\u8ba4\u64ad\u653e\u6743\u9650",Fetch_Failed_Permission_Error:"\u83b7\u53d6\u89c6\u9891\u5217\u8868\u5931\u8d25\uff0c\u8bf7\u786e\u8ba4\u64ad\u653e\u6743\u9650",Invalidate_Param_Error:"\u65e0\u8f93\u5165\u89c6\u9891\uff0c\u8bf7\u786e\u8ba4\u8f93\u5165\u53c2\u6570",AutoPlayDelayDisplayText:"$$\u79d2\u4ee5\u540e\u5f00\u59cb\u64ad\u653e",Fetch_MTS_NOT_NotStream_Error:"\u6b64vid\u6ca1\u6709\u53ef\u64ad\u653e\u89c6\u9891",Cancel_Text:"\u53d6\u6d88",OK_Text:"\u786e\u8ba4",Auto_Stream_Tip_Text:"\u7f51\u7edc\u4e0d\u7ed9\u529b\uff0c\u662f\u5426\u5207\u6362\u5230$$",Fetch_Playauth_Error:"\u83b7\u53d6\u64ad\u653e\u51ed\u8bc1\u51fa\u9519\u5566\uff0c\u8bf7\u5c1d\u8bd5\u9000\u51fa\u91cd\u8bd5\u6216\u5237\u65b0",Open_Html_By_File:"\u4e0d\u80fd\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u6253\u5f00html\u6587\u4ef6\uff0c\u8bf7\u90e8\u7f72\u5230\u670d\u52a1\u7aef",Cant_Use_Flash_On_Mobile:"\u79fb\u52a8\u7aef\u4e0d\u652f\u6301Flash\u64ad\u653e\u5668\uff0c\u8bf7\u4f7f\u7528h5\u64ad\u653e\u5668",Flash_Not_Ready:"Flash Player\u63d2\u4ef6\u672a\u5b89\u88c5<a href='https://www.flash.cn/' target='_blank'>\u5b89\u88c5\u63d2\u4ef6</a>\uff0c\u5982\u679c\u5df2\u7ecf\u5b89\u88c5\u8bf7\u68c0\u67e5\u662f\u5426\u88ab\u7981\u7528"}},{}],23:[function(e,t,i){function r(){var e;return void 0!==window[l]&&window[l]||(e=(e=(navigator.language||navigator.browserLanguage).toLowerCase())&&-1<e.indexOf("zh")?"zh-cn":"en-us",window[l]=e),window[l]}function n(t,i){var r=d(t),n=c(),o="flash"==t?"en-us"==n?e("./flash/en-us"):"zh-cn"==n?e("./flash/zh-cn"):i[n]:"en-us"==n?e("./en-us"):"zh-cn"==n?e("./zh-cn"):i[n];a.set(r,JSON.stringify(o)),u(t,o)}var o=e("../config"),a=e("../lib/storage"),s=(e("../lib/io"),"aliplayer_lang_data"),l="aliplayer_lang",u=function(e,t){e=d(e),window[e]=t},c=function(){return r()},d=function(e){var t=c();return s+"_"+(e=e||"h5")+"_"+o.h5Version.replace(/\./g,"_")+"_"+t};t.exports.setCurrentLanguage=function(t,i,o){var a=window[l];if(!("en-us"==(t=void 0!==t&&t?t:r())||"zh-cn"==t||o&&o[t]))throw new Error("There is not language resource for "+t+", please specify the language resource by languageTexts property");window[l]=t,n(i,o),t!=a&&e("../lib/constants").updateByLanguage()},t.exports.getCurrentLanguage=r,t.exports.getLanguageData=function(e,t){return e=d(e),window[e]},t.exports.load=n,t.exports.get=function(e,t){if(t=d(t=t||"h5"),t=window[t],t)return t[e]}},{"../config":14,"../lib/constants":28,"../lib/io":40,"../lib/storage":48,"./en-us":20,"./flash/en-us":21,"./flash/zh-cn":22,"./zh-cn":24}],24:[function(e,t,i){t.exports=t.exports={OD:"\u539f\u753b",FD:"\u6d41\u7545",LD:"\u6807\u6e05",SD:"\u9ad8\u6e05",HD:"\u8d85\u6e05","2K":"2K","4K":"4K",FHD:"\u5168\u9ad8\u6e05",XLD:"\u6781\u901f",SQ:"\u666e\u901a\u97f3\u8d28",HQ:"\u9ad8\u97f3\u8d28",Speed:"\u500d\u901f",Speed_05X_Text:"0.5X",Speed_1X_Text:"\u6b63\u5e38",Speed_125X_Text:"1.25X",Speed_15X_Text:"1.5X",Speed_2X_Text:"2X",Quality_Change_Fail_Switch_Text:"\u4e0d\u80fd\u64ad\u653e\uff0c\u5207\u6362\u4e3a",Quality_Change_Text:"\u6b63\u5728\u4e3a\u60a8\u5207\u6362\u5230 ",Quality_The_Url:"\u6b64\u5730\u5740",Refresh_Text:"\u5237\u65b0",Detection_Text:"\u8bca\u65ad",Cancel:"\u53d6\u6d88",Mute:"\u9759\u97f3",Snapshot:"\u622a\u56fe",Play_DateTime:"\u64ad\u653e\u65f6\u95f4",AutoPlayDelayDisplayText:"$$\u79d2\u4ee5\u540e\u5f00\u59cb\u64ad\u653e",Error_Load_Abort_Text:"\u83b7\u53d6\u6570\u636e\u8fc7\u7a0b\u88ab\u4e2d\u6b62",Error_Network_Text:"\u7f51\u7edc\u9519\u8bef\u52a0\u8f7d\u6570\u636e\u5931\u8d25",Error_Decode_Text:"\u89e3\u7801\u9519\u8bef",Error_Server_Network_NotSupport_Text:"\u670d\u52a1\u5668\u3001\u7f51\u7edc\u9519\u8bef\u6216\u683c\u5f0f\u4e0d\u652f\u6301",Error_Offline_Text:"\u7f51\u7edc\u4e0d\u53ef\u7528\uff0c\u8bf7\u786e\u5b9a",Error_Play_Text:"\u64ad\u653e\u51fa\u9519\u5566",Error_Retry_Text:"\u8bf7\u5c1d\u8bd5\u9000\u51fa\u91cd\u8bd5\u6216\u5237\u65b0",Error_AuthKey_Text:"\u53ef\u80fd\u9274\u6743\u8fc7\u671f\u3001\u57df\u540d\u4e0d\u5728\u767d\u540d\u5355\u6216\u8bf7\u6c42\u88ab\u62e6\u622a",Error_H5_Not_Support_Text:"h5\u4e0d\u652f\u6301\u6b64\u683c\u5f0f\uff0c\u8bf7\u4f7f\u7528flash\u64ad\u653e\u5668",Error_Not_Support_M3U8_Text:"\u6d4f\u89c8\u5668\u4e0d\u652f\u6301m3u8\u89c6\u9891\u64ad\u653e",Error_Not_Support_MP4_Text:"\u6d4f\u89c8\u5668\u4e0d\u652f\u6301mp4\u89c6\u9891\u64ad\u653e",Error_Not_Support_encrypt_Text:"\u64ad\u653e\u52a0\u5bc6\u89c6\u9891\uff0c\u8bf7\u8bbe\u7f6e\u5c5e\u6027encryptType to 1",Error_Vod_URL_Is_Empty_Text:"\u83b7\u53d6\u64ad\u653e\u5730\u5740\u4e3a\u7a7a",Error_Vod_Fetch_Urls_Text:"\u83b7\u53d6\u5730\u5740\u51fa\u9519\u5566\uff0c\u8bf7\u5c1d\u8bd5\u9000\u51fa\u91cd\u8bd5\u6216\u5237\u65b0",Fetch_Playauth_Error:"\u83b7\u53d6\u64ad\u653e\u51ed\u8bc1\u51fa\u9519\u5566\uff0c\u8bf7\u5c1d\u8bd5\u9000\u51fa\u91cd\u8bd5\u6216\u5237\u65b0",Error_Playauth_Decode_Text:"playauth\u89e3\u6790\u9519\u8bef",Error_Vid_Not_Same_Text:"\u4e0d\u80fd\u66f4\u65b0\u5730\u5740\uff0cvid\u548c\u64ad\u653e\u4e2d\u7684\u4e0d\u4e00\u81f4",Error_Playauth_Expired_Text:"\u51ed\u8bc1\u5df2\u8fc7\u671f\uff0c\u8bf7\u5c1d\u8bd5\u9000\u51fa\u91cd\u8bd5\u6216\u5237\u65b0",Error_MTS_Fetch_Urls_Text:"MTS\u83b7\u53d6\u53d6\u6570\u5931\u8d25",Error_Load_M3U8_Failed_Text:"\u83b7\u53d6m3u8\u6587\u4ef6\u5931\u8d25,\u8bf7\u786e\u8ba4\u57df\u540d\u662f\u5426\u914d\u7f6e\u4e86https\u8bc1\u4e66\u6216\u8005\u662f\u5426\u5f00\u542f\u4e86\u5141\u8bb8\u8de8\u57df\u8bbf\u95ee",Error_Load_M3U8_Timeout_Text:"\u83b7\u53d6m3u8\u6587\u4ef6\u8d85\u65f6",Error_Liveshift_M3U8_Not_Found_Text:"\u6ca1\u6709\u66f4\u591a\u65f6\u79fb\u89c6\u9891\u4e86",Error_M3U8_Decode_Text:"\u83b7\u53d6m3u8\u6587\u4ef6\u89e3\u6790\u5931\u8d25",Error_TX_Decode_Text:"\u89e3\u6790\u6570\u636e\u51fa\u9519",Error_Waiting_Timeout_Text:"\u7f13\u51b2\u6570\u636e\u8d85\u65f6\uff0c\u8bf7\u5c1d\u8bd5\u9000\u51fa\u91cd\u8bd5\u6216\u5237\u65b0",Error_Invalidate_Source:"\u64ad\u653e\u5730\u5740\u683c\u5f0f\u9700\u8981\u4e3amp4\u3001mp3\u3001m3u8\u3001mpd\u6216flv",Error_Empty_Source:"\u64ad\u653e\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a",Error_Vid_Empty_Source:"vid\u5bf9\u5e94\u7684\u89c6\u9891\u5730\u5740\u8fd8\u672a\u83b7\u53d6\u5230",Error_Mediaauth_Empty_Source:"mediaAuth\u5bf9\u5e94\u7684\u89c6\u9891\u5730\u5740\u8fd8\u672a\u83b7\u53d6\u5230",Error_Fetch_NotStream:"\u6b64vid\u6ca1\u6709\u53ef\u64ad\u653e\u89c6\u9891",Error_Fetch_Media_Not_Found:"\u6570\u636e\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u5220\u9664",Error_Not_Found:"\u64ad\u653e\u5730\u5740\u4e0d\u5b58\u5728",Error_Drm_License_Request_Failed:"DRM License \u8bf7\u6c42\u5931\u8d25",Error_Drm_Not_Supported:"\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 DRM \u64ad\u653e",Error_Drm_Load:"DRM \u64ad\u653e\u9519\u8bef",Error_Region_Block_Text:"\u60a8\u6240\u5728\u7684\u5730\u533a\u65e0\u6cd5\u89c2\u770b\u8be5\u89c6\u9891",Live_End:"\u4eb2\uff0c\u76f4\u64ad\u5df2\u7ed3\u675f",Play_Before_Fullscreen:"\u64ad\u653e\u540e\u518d\u5168\u5c4f",Can_Not_Seekable:"\u4e0d\u80fdseek\u5230\u8fd9\u91cc",Cancel_Text:"\u53d6\u6d88",OK_Text:"\u786e\u8ba4",Auto_Stream_Tip_Text:"\u7f51\u7edc\u4e0d\u7ed9\u529b\uff0c\u662f\u5426\u5207\u6362\u5230$$",Request_Block_Text:"\u6d4f\u89c8\u5668\u5b89\u5168\u7b56\u7565\u89c6\u9891\u5730\u5740\u4e0d\u80fd\u4e3ahttp\u534f\u8bae\uff0c\u4e0e\u7f51\u7ad9https\u534f\u8bae\u4e0d\u4e00\u81f4",Open_Html_By_File:"\u4e0d\u80fd\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u6253\u5f00html\u6587\u4ef6\uff0c\u8bf7\u90e8\u7f72\u5230\u670d\u52a1\u7aef",Maybe_Cors_Error:"\u8bf7\u786e\u8ba4\u57df\u540d\u662f\u5426\u914d\u7f6e\u4e86https\u8bc1\u4e66\u6216\u8005\u662f\u5426\u5f00\u542f\u4e86\u5141\u8bb8\u8de8\u57df\u8bbf\u95ee",Speed_Switch_To:"\u500d\u901f\u5207\u6362\u5230 ",Curent_Volume:"\u5f53\u524d\u97f3\u91cf\uff1a",Volume_Mute:"\u8bbe\u7f6e\u4e3a\u9759\u97f3",Volume_UnMute:"\u8bbe\u7f6e\u4e3a\u975e\u9759\u97f3",ShiftLiveTime_Error:"\u76f4\u64ad\u5f00\u59cb\u65f6\u95f4\u4e0d\u80fd\u5927\u4e8e\u76f4\u64ad\u7ed3\u675f\u65f6\u95f4",Error_Not_Support_Format_On_Mobile:"\u79fb\u52a8\u7aef\u4e0d\u652f\u6301flv\u3001rmtp\u89c6\u9891\uff0c\u8bf7\u4f7f\u7528m3u8",SessionId_Ticket_Invalid:"DRM\u89c6\u9891\u64ad\u653e\uff0csessionId\u548cticket\u5c5e\u6027\u4e0d\u80fd\u4e3a\u7a7a",Http_Error:"Http\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25",Http_Timeout:"http\u8bf7\u6c42\u8d85\u65f6",DRM_License_Expired:"DRM license\u8d85\u65f6\uff0c\u8bf7\u5237\u65b0",Not_Support_DRM:"\u6d4f\u89c8\u5668\u4e0d\u652f\u6301DRM\u89c6\u9891\u7684\u64ad\u653e\u6216\u672a\u53d7\u5230\u7528\u6237\u8bb8\u53ef",CC_Switch_To:"\u5b57\u5e55\u5207\u6362\u5230 ",AudioTrack_Switch_To:"\u97f3\u8f68\u5207\u6362\u5230 ",Subtitle:"\u5b57\u5e55",AudioTrack:"\u97f3\u8f68",Quality:"\u6e05\u6670\u5ea6",Auto:"\u81ea\u52a8",Quality_Switch_To:"\u6e05\u6670\u5ea6\u5207\u6362\u5230 ",Fullscreen:"\u5168\u5c4f",Setting:"\u8bbe\u7f6e",Volume:"\u97f3\u91cf",Play:"\u64ad\u653e",Pause:"\u6682\u505c",CloseSubtitle:"\u5173\u95ed\u5b57\u5e55",OpenSubtitle:"\u6253\u5f00\u5b57\u5e55",ExistFullScreen:"\u9000\u51fa\u5168\u5c4f",Muted:"\u9759\u97f3",Retry:"\u91cd\u8bd5",SwitchToLive:"\u8fd4\u56de\u76f4\u64ad",iOSNotSupportVodEncription:"iOS\u4e0d\u652f\u6301\u963f\u91cc\u4e91\u89c6\u9891\u52a0\u5bc6\uff08\u52a0\u5bc6\uff09\u64ad\u653e\uff0c\u8bf7\u4f7f\u7528\u6807\u51c6\u52a0\u5bc6\u6216DRM",UseChromeForVodEncription:"\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u70b9\u64ad\u52a0\u5bc6\u64ad\u653e\uff0c\u8bf7\u4f7f\u7528\u6700\u65b0Chrome\u6d4f\u89c8\u5668",Record_Not_Allowed:"\u7981\u6b62\u5f55\u5c4f\u6216\u5c0f\u7a97\u53e3\u64ad\u653e\uff0c\u8bf7\u5173\u95ed\u63d2\u4ef6\u6216\u66f4\u6362\u6d4f\u89c8\u5668",License_No_Authorization:"\u64ad\u653e\u5668SDK\u672a\u6fc0\u6d3b",License_Click_To_Apply:"\u70b9\u51fb\u7533\u8bf7License",Rts_Err_Http_Signal_Error:"(RTS)\u4fe1\u4ee4\u8bf7\u6c42\u5931\u8d25",Rts_Err_Play_Failed:"(RTS)\u64ad\u653e\u5931\u8d25",Rts_Err_No_Data_For:"\u6beb\u79d2\u6ca1\u6709\u6570\u636e",Rts_Err_Browser_Not_Support:"(RTS)\u4e0d\u652f\u6301\u6b64\u6d4f\u89c8\u5668",Rts_Err_Not_Support_Webrtc:"(RTS)\u4e0d\u652f\u6301webrtc",Rts_Err_Browser_Version_Too_Low:"(RTS)\u6d4f\u89c8\u5668\u7248\u672c\u8fc7\u4f4e",Rts_Err_Not_Support_H264:"(RTS)\u4e0d\u652f\u6301H264",Rts_Err_Create_Offer_Error:"(RTS)create offer\u5931\u8d25",Rts_Err_Play_Url_Error:"(RTS)\u64ad\u653eurl\u534f\u8bae\u9519\u8bef",Rts_Err_Subscribe_Nonthing:"(RTS)\u53c2\u6570\u8bbe\u7f6e\u9519\u8bef",Rts_Err_Http_Request_Failed:"(RTS)HTTP\u8bf7\u6c42\u5931\u8d25",Rts_Err_Http_Answer_Failed:"(RTS)answer\u5931\u8d25",Rts_Err_PeerConnection_Unknown:"(RTS)PeerConnection\u5f02\u5e38",Splayer_Err_Env_Check:"(SP)\u5f53\u524d\u73af\u5883\u4e0d\u652f\u6301\u64ad\u653e\u8be5\u89c6\u9891",Splayer_Err_Coroutine:"(SP)Coroutine \u9519\u8bef",Splayer_Err_Decode:"(SP)\u89e3\u7801\u9519\u8bef",Splayer_Err_Buffering:"(SP)\u7f13\u51b2\u533a\u9519\u8bef",Splayer_Err_Parser_Not_Found:"(SP)\u4e0d\u652f\u6301\u7684\u5a92\u4f53\u5bb9\u5668"}},{}],25:[function(e,t,i){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(window.Uint8Array)for(var n=new Uint8Array(256),o=0;o<r.length;o++)n[r.charCodeAt(o)]=o;t.exports={decode:function(e){for(var t,i,r,o,a=.75*e.length,s=e.length,l=0,u=(a=("="===e[e.length-1]&&(a--,"="===e[e.length-2])&&a--,new ArrayBuffer(a)),new Uint8Array(a)),c=0;c<s;c+=4)t=n[e.charCodeAt(c)],i=n[e.charCodeAt(c+1)],r=n[e.charCodeAt(c+2)],o=n[e.charCodeAt(c+3)],u[l++]=t<<2|i>>4,u[l++]=(15&i)<<4|r>>2,u[l++]=(3&r)<<6|63&o;return a},encode:function(e){for(var t=new Uint8Array(e),i=t.length,n="",o=0;o<i;o+=3)n=(n=(n=(n+=r[t[o]>>2])+r[(3&t[o])<<4|t[o+1]>>4])+r[(15&t[o+1])<<2|t[o+2]>>6])+r[63&t[o+2]];return i%3==2?n=n.substring(0,n.length-1)+"=":i%3==1&&(n=n.substring(0,n.length-2)+"=="),n},unpackPlayReady:function(e){if(e=function(e,t,i){if(!e)return"";i||e.byteLength%2==0||__f__("log","Data has an incorrect length, must be even."," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),i=e instanceof ArrayBuffer?e:((i=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),i.buffer);for(var r=Math.floor(e.byteLength/2),n=new Uint16Array(r),o=new DataView(i),a=0;a<r;a++)n[a]=o.getUint16(2*a,!0);return function(e){for(var t="",i=0;i<e.length;i+=16e3){var r=e.subarray(i,i+16e3);t+=String.fromCharCode.apply(null,r)}return t}(n)}(e,0,!0),-1!=e.indexOf("PlayReadyKeyMessage")){e=(new DOMParser).parseFromString(e,"application/xml");for(var t=e.getElementsByTagName("HttpHeader"),i={},r=0;r<t.length;++r){var n=t[r].querySelector("name"),o=t[r].querySelector("value");i[n.textContent]=o.textContent}return{header:i,changange:e.querySelector("Challenge").textContent}}__f__("log","PlayReady request is already unwrapped."," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}}},{}],26:[function(e,t,i){var r=e("./videox-demux.min");function n(){}t.exports=function(e,t,i){void 0===t&&(t=n),void 0===i&&(i=n);var o=new r.Demuxer({progressive:!0});o.on("loadedmetadata",(function(e){void 0===e&&(e={}),o.suspend(),o.destroy(),o=null,t(e)})),o.on("error",(function(e){i(e)})),o.load(e)}},{"./videox-demux.min":52}],27:[function(e,t,i){var r=e("./oo"),n=e("../player/base/event/eventtype");t.exports.stopPropagation=function(e){window.event?window.event.cancelBubble=!0:e.stopPropagation()},t.exports.register=function(e){e.util={stopPropagation:t.exports.stopPropagation},e.Component=r.extend,e.EventType=n.Player}},{"../player/base/event/eventtype":70,"./oo":43}],28:[function(e,t,i){function r(){t.exports.VideoErrorCodeText={1:n.get("Error_Load_Abort_Text"),2:n.get("Error_Network_Text"),3:n.get("Error_Decode_Text"),4:n.get("Error_Server_Network_NotSupport_Text")},t.exports.VideoLevels={0:n.get("OD"),640:n.get("FD"),960:n.get("LD"),1280:n.get("SD"),1920:n.get("HD"),2580:n.get("2K"),3840:n.get("4K")},t.exports.QualityLevels={OD:n.get("OD"),LD:n.get("LD"),FD:n.get("FD"),SD:n.get("SD"),HD:n.get("HD"),"2K":n.get("2K"),"4K":n.get("4K"),XLD:n.get("XLD"),FHD:n.get("FHD"),SQ:n.get("SQ"),HQ:n.get("HQ")},t.exports.SpeedLevels=[{key:.5,text:n.get("Speed_05X_Text")},{key:1,text:n.get("Speed_1X_Text")},{key:1.25,text:n.get("Speed_125X_Text")},{key:1.5,text:n.get("Speed_15X_Text")},{key:2,text:n.get("Speed_2X_Text")}]}var n=e("../lang/index");t.exports.LOAD_START="loadstart",t.exports.LOADED_METADATA="loadedmetadata",t.exports.LOADED_DATA="loadeddata",t.exports.PROGRESS="progress",t.exports.CAN_PLAY="canplay",t.exports.CAN_PLYA_THROUGH="canplaythrough",t.exports.PLAY="play",t.exports.PAUSE="pause",t.exports.ENDED="ended",t.exports.PLAYING="playing",t.exports.WAITING="waiting",t.exports.ERROR="error",t.exports.SUSPEND="suspend",t.exports.STALLED="stalled",t.exports.AuthKeyExpiredEvent="authkeyexpired",t.exports.USER_EVENT_NAME="__user_events__",t.exports.PLAYER_SDK_CODE=9201,t.exports.FEATURE_ID_H265=30001,t.exports.LicenseResultCode={Success:0,NotFound:1,Expired:2,CertInvalid:3,WasmNotSupported:4,ResourceIncorrect:5,LicenseKeyInvalid:6,DomainInvalid:7},t.exports.DRMKeySystem={4:"com.microsoft.playready",5:"com.widevine.alpha"},t.exports.EncryptionType={Private:1,Standard:2,ChinaDRM:3,PlayReady:4,Widevine:5},t.exports.VodEncryptionType={AliyunVoDEncryption:1,HLSEncryption:2,Widevine:5,"Widevine-FairPlay":5},t.exports.DRMType={Widevine:"Widevine",PlayReady:"PlayReady"},t.exports.ErrorCode={InvalidParameter:4001,AuthKeyExpired:4002,InvalidSourceURL:4003,NotFoundSourceURL:4004,StartLoadData:4005,LoadedMetadata:4006,PlayingError:4007,LoadingTimeout:4008,RequestDataError:4009,EncrptyVideoNotSupport:4010,FormatNotSupport:4011,PlayauthDecode:4012,PlayDataDecode:4013,NetworkUnavaiable:4014,UserAbort:4015,NetworkError:4016,URLsIsEmpty:4017,DrmLicenseRequestFailed:4018,RecordNotAllowed:4019,MediaNotFound:4020,DrmNotSupported:4021,DrmLoadError:4022,RegionBlock:4023,CrossDomain:4027,OtherError:4400,ServerAPIError:4500,FlashNotInstalled:4600,RtsSignalError:4100,RtsPlayFailedError:4200,RtsNotSupportWebRtc:4110,RtsBrowserNotSupport:4111,RtsBrowserVersionTooLow:4112,RtsNotSupportH264:4113,RtsCreateOfferError:4114,RtsAutoPLayFaild:4115,RtsPlayUrlError:4116,RtsSubscribeNonthing:4117,RtsHtmlElementError:4118,RtsHtmlElementNotMatch:4119,RtsBrowserNotSupportRtc:4120,RtsHttpRequestFaild:4121,RtsHttpAnswerFaild:4122,RtsPeerConnectionUnknown:4123,SplayerEnvCheckError:4300,SplayerCoroutineError:4301,SplayerDecodeError:4302,SplayerBufferingError:4303,SplayerParserNotFound:4304},t.exports.AuthKeyExpired=7200,t.exports.AuthKeyRefreshExpired=7e3,t.exports.AuthInfoExpired=100,t.exports.VideoErrorCode={1:4015,2:4016,3:4013,4:4400},t.exports.RegionBlockMessages=["black location","denied by region block"],t.exports.IconType={FontClass:"fontclass",Symbol:"symbol",Sprite:"Sprite"},t.exports.SelectedStreamLevel="selectedStreamLevel",t.exports.SelectedCC="selectedCC",t.exports.HWDetectHvc1="HWDetectHvc1",t.exports.HWDetectHev1="HWDetectHev1",t.exports.WidthMapToLevel={0:"OD",640:"FD",960:"LD",1280:"SD",1920:"HD",2580:"2K",3840:"4K"},r(),t.exports.updateByLanguage=r},{"../lang/index":23}],29:[function(e,t,i){t.exports.get=function(e){for(var t=e+"",i=document.cookie.split(";"),r=0;r<i.length;r++){var n=i[r].trim();if(0==n.indexOf(t))return unescape(n.substring(t.length+1,n.length))}return""},t.exports.set=function(e,t,i){var r=new Date;r.setTime(r.getTime()+24*i*60*60*1e3),i="expires="+r.toGMTString();document.cookie=e+"="+escape(t)+"; "+i}},{}],30:[function(e,t,i){var r=e("./object");t.exports.cache={},t.exports.guid=function(e,t){var i,r,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(t=t||n.length,e)for(i=0;i<e;i++)o[i]=n[0|Math.random()*t];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",i=0;i<36;i++)o[i]||(r=0|16*Math.random(),o[i]=n[19==i?3&r|8:r]);return o.join("")},t.exports.expando="vdata"+(new Date).getTime(),t.exports.getData=function(e){var i=e[t.exports.expando];return i||(i=e[t.exports.expando]=t.exports.guid(),t.exports.cache[i]={}),t.exports.cache[i]},t.exports.hasData=function(e){var i="";return!(!(i=e?e[t.exports.expando]:i)||r.isEmpty(t.exports.cache[i]))},t.exports.removeData=function(e){var i="";if(i=e?e[t.exports.expando]:i){delete t.exports.cache[i];try{delete e[t.exports.expando]}catch(i){e.removeAttribute?e.removeAttribute(t.exports.expando):e[t.exports.expando]=null}}}},{"./object":42}],31:[function(e,t,i){var r,n="undefined"==typeof Promise?e("es6-promise").Promise:Promise;e="undefined"!=typeof self?self:this,r=function(){return t=[function(e,t,i){"use strict";(function(e){t.b=function(e){for(var t=(e=void 0===e?{}:e).includes,i=(e=e.excludes,e=void 0===e?[]:e,!1),r=!1,n=0,o=void 0===t?[]:t;n<o.length;n++)if(!0===o[n]){i=!0;break}for(var a=0,s=e;a<s.length;a++)if(!0===s[a]){r=!0;break}return i&&!r},t.c=function(e,t,i){return e=n.a[e],void 0!==e&&Object(r.compare)(e,t,i)},t.a=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:this};var r=i(11),n=(i.n(r),i(4))}).call(t,i(10))},function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"d",(function(){return o})),i.d(t,"b",(function(){return a})),i.d(t,"f",(function(){return s})),i.d(t,"a",(function(){return l})),i.d(t,"e",(function(){return u}));t=i(3),i=i(0),i=Object(i.a)();var r,n="InstallTrigger"in((null==i?void 0:i.window)||{})||/firefox/i.test(t.b),o=/trident/i.test(t.b)||/msie/i.test(t.b),a=/edge/i.test(t.b),s=/webkit/i.test(t.b)&&!a,l=void 0!==(null==(r=null==i?void 0:i.window)?void 0:r.chrome)||/chrome/i.test(t.b),u="[object SafariRemoteNotification]"===((null==(i=null==(r=null==i?void 0:i.window)?void 0:r.safari)?void 0:i.pushNotification)||!1).toString()||/safari/i.test(t.b)&&!l},function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return s}));var r=i(1);function n(e){if(console){if(!r.d&&!r.b)return console[e];if("log"===e||"clear"===e)return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];console[e].apply(console,t)}}return function(){for(var e=0;e<arguments.length;e++);}}var o=n("log"),a=n("table"),s=n("clear")},function(e,t,i){"use strict";t.a=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return null!=r&&r.document?(e=r.document).createElement.apply(e,t):{}},i.d(t,"b",(function(){return n}));t=i(0);var r=Object(t.a)(),n=(null==(i=null==r?void 0:r.navigator)?void 0:i.userAgent)||"xxxxx"},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));for(var r={},n=0,o=(i(3).b||"").match(/\w+\/(\d|\.)+(\s|$)/gi)||[];n<o.length;n++){var a=o[n].split("/"),s=a[0];a=a[1];r[s]=a}},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"d",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a})),i.d(t,"e",(function(){return s}));t=i(3);var r=/ipad/i.test(t.b),n=/macintosh/i.test(t.b),o=/iphone/i.test(t.b),a=/android/i.test(t.b),s=/windows/i.test(t.b)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addListener=function(e){d.addListener(e)},t.removeListener=function(e){d.removeListener(e)},t.isLaunch=function(){return d.isLaunch()},t.launch=function(){d.launch()},t.stop=function(){d.stop()},t.setDetectDelay=function(e){d.setDetectDelay(e)};var r=i(7),n=i(8),o=(i.d(t,"DevtoolsDetector",(function(){return r.a})),i.d(t,"checkers",(function(){return n})),i(0)),a=(i.d(t,"match",(function(){return o.b})),i.d(t,"specificVersionMatch",(function(){return o.c})),i(1)),s=(i.d(t,"isFirefox",(function(){return a.c})),i.d(t,"isIE",(function(){return a.d})),i.d(t,"isEdge",(function(){return a.b})),i.d(t,"isWebkit",(function(){return a.f})),i.d(t,"isChrome",(function(){return a.a})),i.d(t,"isSafari",(function(){return a.e})),i(2)),l=(i.d(t,"log",(function(){return s.b})),i.d(t,"table",(function(){return s.c})),i.d(t,"clear",(function(){return s.a})),i(17)),u=(i.d(t,"isMobile",(function(){return l.a})),i(4)),c=(i.d(t,"versionMap",(function(){return u.a})),i(5)),d=(i.d(t,"isIpad",(function(){return c.b})),i.d(t,"isMac",(function(){return c.d})),i.d(t,"isIphone",(function(){return c.c})),i.d(t,"isAndroid",(function(){return c.a})),i.d(t,"isWindows",(function(){return c.e})),new r.a({checkers:[n.elementIdChecker,n.regToStringChecker,n.functionToStringChecker,n.depRegToStringChecker,n.dateToStringChecker,n.debuggerChecker]}));t.default=d},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=this&&this.__awaiter||function(e,t,i,r){return new(i=i||n)((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var i,r,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],r=0}finally{i=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},a=(s.prototype.launch=function(){this._detectLoopDelay<=0&&this.setDetectDelay(500),this._detectLoopStopped&&(this._detectLoopStopped=!1,this._detectLoop())},s.prototype.stop=function(){this._detectLoopStopped||(this._detectLoopStopped=!0,clearTimeout(this._timer))},s.prototype.isLaunch=function(){return!this._detectLoopStopped},s.prototype.setDetectDelay=function(e){this._detectLoopDelay=e},s.prototype.addListener=function(e){this._listeners.push(e)},s.prototype.removeListener=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},s.prototype._broadcast=function(e){for(var t=0,i=this._listeners;t<i.length;t++){var r=i[t];try{r(e.isOpen,e)}catch(e){}}},s.prototype._detectLoop=function(){return r(this,void 0,void 0,(function(){var e,t,i,r,n,a=this;return o(this,(function(o){switch(o.label){case 0:e=!1,t="",i=0,r=this._checkers,o.label=1;case 1:return i<r.length?[4,(n=r[i]).isEnable()]:[3,6];case 2:return o.sent()?(t=n.name,[4,n.isOpen()]):[3,4];case 3:e=o.sent(),o.label=4;case 4:if(e)return[3,6];o.label=5;case 5:return i++,[3,1];case 6:return e!=this._isOpen&&(this._isOpen=e,this._broadcast({isOpen:e,checkerName:t})),0<this._detectLoopDelay?this._timer=setTimeout((function(){return a._detectLoop()}),this._detectLoopDelay):this.stop(),[2]}}))}))},s);function s(e){e=e.checkers,this._listeners=[],this._isOpen=!1,this._detectLoopStopped=!0,this._detectLoopDelay=500,this._checkers=e.slice()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),n=(i.d(t,"depRegToStringChecker",(function(){return r.a})),i(12)),o=(i.d(t,"elementIdChecker",(function(){return n.a})),i(13)),a=(i.d(t,"functionToStringChecker",(function(){return o.a})),i(14)),s=(i.d(t,"regToStringChecker",(function(){return a.a})),i(15)),l=(i.d(t,"debuggerChecker",(function(){return s.a})),i(16));i.d(t,"dateToStringChecker",(function(){return l.a}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var r=i(1),o=i(2),a=i(0),s=this&&this.__awaiter||function(e,t,i,r){return new(i=i||n)((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var i,r,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],r=0}finally{i=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},u=/ /,c=!1,d=(u.toString=function(){return c=!0,d.name},{name:"dep-reg-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return c=!1,Object(o.c)({dep:u}),Object(o.a)(),[2,c]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Object(a.b)({includes:[!0],excludes:[r.c,r.d]})]}))}))}})},function(e,t){var i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"===typeof window?"undefined":_typeof(window))&&(i=window)}e.exports=i},function(e,t,i){var r;void 0!==(t="function"==typeof(r=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e){var t=e.replace(/^v/,"").replace(/\+.*$/,""),i=function(e,t){return-1===e.indexOf("-")?e.length:e.indexOf("-")}(t),r=t.substring(0,i).split(".");return r.push(t.substring(i+1)),r}function i(e){return isNaN(Number(e))?e:Number(e)}function r(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function n(e,n){[e,n].forEach(r);for(var o=t(e),a=t(n),s=0;s<Math.max(o.length-1,a.length-1);s++){var l=parseInt(o[s]||0,10),u=parseInt(a[s]||0,10);if(l>u)return 1;if(u>l)return-1}var c=o[o.length-1],d=a[a.length-1];if(c&&d){var f=c.split(".").map(i),h=d.split(".").map(i);for(s=0;s<Math.max(f.length,h.length);s++){if(void 0===f[s]||"string"==typeof h[s]&&"number"==typeof f[s])return-1;if(void 0===h[s]||"string"==typeof f[s]&&"number"==typeof h[s])return 1;if(f[s]>h[s])return 1;if(h[s]>f[s])return-1}}else if(c||d)return c?-1:1;return 0}var o=[">",">=","=","<","<="],a={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return n.validate=function(t){return"string"==typeof t&&e.test(t)},n.compare=function(e,t,i){!function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+_typeof(e));if(-1===o.indexOf(e))throw new TypeError("Invalid operator, expected one of "+o.join("|"))}(i);var r=n(e,t);return a[i].indexOf(r)>-1},n})?r.apply(t,[]):r)&&(e.exports=t)},function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var r=i(1),o=i(2),a=i(0),s=(t=i(3),this&&this.__awaiter||function(e,t,i,r){return new(i=i||n)((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}),l=this&&this.__generator||function(e,t){var i,r,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],r=0}finally{i=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},u=Object(t.a)("div"),c=!1,d=(Object.defineProperty(u,"id",{get:function(){return c=!0,d.name},configurable:!0}),{name:"element-id",isOpen:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return c=!1,Object(o.b)(u),Object(o.a)(),[2,c]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Object(a.b)({includes:[!0],excludes:[r.d,r.b,r.c]})]}))}))}})},function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var r=i(1),o=i(2),a=i(5),s=i(0),l=this&&this.__awaiter||function(e,t,i,r){return new(i=i||n)((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var i,r,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],r=0}finally{i=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}};function c(){}var d=0,f=(c.toString=function(){return d++,""},{name:"function-to-string",isOpen:function(){return l(this,void 0,void 0,(function(){return u(this,(function(e){return d=0,Object(o.b)(c),Object(o.a)(),[2,2===d]}))}))},isEnable:function(){return l(this,void 0,void 0,(function(){return u(this,(function(e){return[2,Object(s.b)({includes:[!0],excludes:[r.c,(a.b||a.c)&&r.a]})]}))}))}})},function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var r=i(2),o=i(1),a=i(0),s=this&&this.__awaiter||function(e,t,i,r){return new(i=i||n)((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var i,r,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],r=0}finally{i=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},u=/ /,c=!1,d=(u.toString=function(){return c=!0,d.name},{name:"reg-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return c=!1,Object(r.b)(u),Object(r.a)(),[2,c]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Object(a.b)({includes:[!0],excludes:[o.f]})]}))}))}})},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var r=this&&this.__awaiter||function(e,t,i,r){return new(i=i||n)((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var i,r,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],r=0}finally{i=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}};function a(){return(performance||Date).now()}var s={name:"debugger-checker",isOpen:function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){return e=a(),function(){}.constructor("debugger")(),[2,100<a()-e]}))}))},isEnable:function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,!0]}))}))}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var r=i(1),o=i(2),a=i(0),s=this&&this.__awaiter||function(e,t,i,r){return new(i=i||n)((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var i,r,n,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var l=[a,s];if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,(l=n?[2&l[0],n.value]:l)[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=0<(n=o.trys).length&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3]))o.label=l[1];else if(6===l[0]&&o.label<n[1])o.label=n[1],n=l;else{if(!(n&&o.label<n[2])){n[2]&&o.ops.pop(),o.trys.pop();continue}o.label=n[2],o.ops.push(l)}}l=t.call(e,o)}catch(s){l=[6,s],r=0}finally{i=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},u=new Date,c=0,d=(u.toString=function(){return c++,""},{name:"date-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return c=0,Object(o.b)(u),Object(o.a)(),[2,2===c]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Object(a.b)({includes:[r.a],excludes:[]})]}))}))}})},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));t=i(3);var r=/mobile/i.test(t.b)}],i={},e.m=t,e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=6);function e(r){var n;return(i[r]||(n=i[r]={i:r,l:!1,exports:{}},t[r].call(n.exports,n,n.exports,e),n.l=!0,n)).exports}var t,i},"object"==_typeof(i)&&"object"==_typeof(t)?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==_typeof(i)?i.devtoolsDetector=r():e.devtoolsDetector=r()},{"es6-promise":8}],32:[function(e,t,i){var r=e("./object");t.exports.el=function(e){return document.getElementById(e)},t.exports.createEl=function(e,t){var i;return e=e||"div",t=t||{},i=document.createElement(e),r.each(t,(function(e,t){-1!==e.indexOf("aria-")||"role"==e?i.setAttribute(e,t):i[e]=t})),i},t.exports.addClass=function(e,t){-1==(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)},t.exports.removeClass=function(e,t){var i,r;if(-1!=e.className.indexOf(t)){for(r=(i=e.className.split(" ")).length-1;0<=r;r--)i[r]===t&&i.splice(r,1);e.className=i.join(" ")}},t.exports.hasClass=function(e,t){return-1!=e.className.indexOf(t)},t.exports.getClasses=function(e){return e.className?e.className.split(" "):[]},t.exports.getElementAttributes=function(e){var t,i,r={};if(e&&e.attributes&&0<e.attributes.length)for(var n,o=(n=e.attributes).length-1;0<=o;o--)t=n[o].name,i=n[o].value,"boolean"!=typeof e[t]&&-1===",autoplay,controls,loop,muted,default,".indexOf(","+t+",")||(i=null!==i),r[t]=i;return r},t.exports.insertFirst=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},t.exports.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},t.exports.unblockTextSelection=function(){document.onselectstart=function(){return!0}},t.exports.css=function(e,t,i){return!(!e||!e.style)&&(t&&i?(e.style[t]=i,!0):i||"string"!=typeof t?!i&&"object"==_typeof(t)&&(r.each(t,(function(t,i){e.style[t]=i})),!0):e.style[t])},t.exports.getTransformName=function(e){for(var t=["transform","WebkitTransform","MozTransform","msTransform","OTransform"],i=t[0],r=0,n=t.length;r<n;r++)if(void 0!==e.style[t[r]]){i=t[r];break}return i},t.exports.getTransformEventName=function(e,t){for(var i=["","Webkit","Moz","ms","O"],r=t.toLowerCase(),n=["transform","WebkitTransform","MozTransform","msTransform","OTransform"],o=0,a=n.length;o<a;o++)if(void 0!==e.style[n[o]]){0!=o&&(r=i[o]+t);break}return r},t.exports.addCssByStyle=function(e){var t=document,i=t.createElement("style");i.setAttribute("type","text/css"),i.styleSheet?i.styleSheet.cssText=e:(e=t.createTextNode(e),i.appendChild(e)),e=t.getElementsByTagName("head");(e.length?e[0]:t.documentElement).appendChild(i)},t.exports.getTranslateX=function(e){var i=0;if(e)try{var r=window.getComputedStyle(e),n=t.exports.getTransformName(e);i=new(window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)(r[n]).m41}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}return i},t.exports.getPointerPosition=function(e,i){var r={},n=t.exports.findPosition(e),o=e.offsetWidth,a=(e=e.offsetHeight,n.top),s=(n=n.left,i.pageY),l=i.pageX;return i.changedTouches&&(l=i.changedTouches[0].pageX,s=i.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(a-s+e)/e)),r.x=Math.max(0,Math.min(1,(l-n)/o)),r},t.exports.findPosition=function(e){var t,i,r,n;return(t=e.getBoundingClientRect&&e.parentNode?e.getBoundingClientRect():t)?(e=document.documentElement,n=document.body,r=e.clientLeft||n.clientLeft||0,i=window.pageXOffset||n.scrollLeft,i=t.left+i-r,r=e.clientTop||n.clientTop||0,e=window.pageYOffset||n.scrollTop,n=t.top+e-r,{left:Math.round(i),top:Math.round(n)}):{left:0,top:0}}},{"./object":42}],33:[function(e,t,i){var r=e("./object"),n=e("./data"),o=e("./ua"),a=e("./fastclick");function s(e,t,i,n){r.each(i,(function(i){e(t,i,n)}))}t.exports.on=function(e,i,l){if(e){if(r.isArray(i))return s(t.exports.on,e,i,l);o.IS_MOBILE&&"click"==i&&a.attach(e);var u=n.getData(e);u.handlers||(u.handlers={}),u.handlers[i]||(u.handlers[i]=[]),l.guid||(l.guid=n.guid()),u.handlers[i].push(l),u.dispatcher||(u.disabled=!1,u.dispatcher=function(i){if(!u.disabled){i=t.exports.fixEvent(i);var r=u.handlers[i.type];if(r)for(var n=r.slice(0),o=0,a=n.length;o<a&&!i.isImmediatePropagationStopped();o++)n[o].call(e,i)}}),1==u.handlers[i].length&&(e.addEventListener?e.addEventListener(i,u.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+i,u.dispatcher))}},t.exports.off=function(e,i,o){if(e&&n.hasData(e)){var a=n.getData(e);if(a.handlers){var l=function(i){a.handlers[i]=[],t.exports.cleanUpEvents(e,i)};if(r.isArray(i))return s(t.exports.off,e,i,o);if(i){var u=a.handlers[i];if(u)if(o){if(o.guid)for(var c=0;c<u.length;c++)u[c].guid===o.guid&&u.splice(c--,1);t.exports.cleanUpEvents(e,i)}else l(i)}else for(var d in a.handlers)l(d)}}},t.exports.cleanUpEvents=function(e,t){var i=n.getData(e);0===i.handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),r.isEmpty(i.handlers)&&(delete i.handlers,delete i.dispatcher,delete i.disabled),r.isEmpty(i)&&n.removeData(e)},t.exports.fixEvent=function(e){function t(){return!0}function i(){return!1}if(!e||!e.isPropagationStopped){var r,n,o,a=e||window.event;for(r in e={},a)"layerX"===r||"layerY"===r||"keyboardEvent.keyLocation"===r||"returnValue"==r&&a.preventDefault||(e[r]=a[r]);e.target||(e.target=e.srcElement||document),e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement,e.preventDefault=function(){a.preventDefault&&a.preventDefault(),e.returnValue=!1,e.isDefaultPrevented=t,e.defaultPrevented=!0},e.isDefaultPrevented=i,e.defaultPrevented=!1,e.stopPropagation=function(){a.stopPropagation&&a.stopPropagation(),e.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=function(){a.stopImmediatePropagation&&a.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,null!=e.clientX&&(n=document.documentElement,o=document.body,e.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e},t.exports.trigger=function(e,i){var r,o,a;if(e)return r=n.hasData(e)?n.getData(e):{},o=e.parentNode||e.ownerDocument,"string"==typeof i&&(a=null,!e.paramData&&0!=e.paramData||(a=e.paramData,e.paramData=null,e.removeAttribute(a)),i={type:i,target:e,paramData:a}),i=t.exports.fixEvent(i),r.dispatcher&&r.dispatcher.call(e,i),o&&!i.isPropagationStopped()&&!1!==i.bubbles?t.exports.trigger(o,i):o||i.defaultPrevented||(a=n.getData(i.target),i.target[i.type]&&(a.disabled=!0,"function"==typeof i.target[i.type]&&i.target[i.type](),a.disabled=!1)),!i.defaultPrevented},t.exports.one=function(e,i,o){if(e){var a=function r(){t.exports.off(e,i,r),o.apply(this,arguments)};if(r.isArray(i))return s(t.exports.one,e,i,o);a.guid=o.guid=o.guid||n.guid(),t.exports.on(e,i,a)}}},{"./data":30,"./fastclick":34,"./object":42,"./ua":49}],34:[function(e,t,i){function r(e,t){var i;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!r.notNeeded(e)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=0,s=n.length;a<s;a++)this[n[a]]=function(e,t){return function(){return e.apply(t,arguments)}}(this[n[a]],this);o&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,r){var n=Node.prototype.removeEventListener;"click"===t?n.call(e,t,i.hijacked||i,r):n.call(e,t,i,r)},e.addEventListener=function(t,i,r){var n=Node.prototype.addEventListener;"click"===t?n.call(e,t,i.hijacked||(i.hijacked=function(e){e.propagationStopped||i(e)}),r):n.call(e,t,i,r)}),"function"==typeof e.onclick&&(i=e.onclick,e.addEventListener("click",(function(e){i(e)}),!1),e.onclick=null)}}var n=0<=navigator.userAgent.indexOf("Windows Phone"),o=0<navigator.userAgent.indexOf("Android")&&!n,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!n,s=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=a&&/OS [6-7]_\d/.test(navigator.userAgent),u=0<navigator.userAgent.indexOf("BB10");r.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(a&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},r.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!o;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},r.prototype.sendClick=function(e,t){var i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),t=t.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},r.prototype.determineEventType=function(e){return o&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(e){var t;a&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type&&"email"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},r.prototype.updateScrollParent=function(e){var t,i=e.fastClickScrollParent;if(!i||!i.contains(e)){t=e;do{if(t.scrollHeight>t.offsetHeight){i=t,e.fastClickScrollParent=t;break}}while(t=t.parentElement)}i&&(i.fastClickLastScrollTop=i.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},r.prototype.onTouchStart=function(e){var t,i,r;if(!(1<e.targetTouches.length)){if(t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],a){if((r=window.getSelection()).rangeCount&&!r.isCollapsed)return!0;if(!s){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(t)}}this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault()}return!0},r.prototype.touchHasMoved=function(e){e=e.changedTouches[0];var t=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>t||Math.abs(e.pageY-this.touchStartY)>t},r.prototype.onTouchMove=function(e){return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0},r.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(e){var t,i,r,n=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,t=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(r=e.changedTouches[0],(n=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||n).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(r=n.tagName.toLowerCase())){if(i=this.findControl(n)){if(this.focus(n),o)return!1;n=i}}else if(this.needsFocus(n))return 100<e.timeStamp-t||a&&window.top!==window&&"input"===r?this.targetElement=null:(this.focus(n),this.sendClick(n,e),a&&"select"===r||(this.targetElement=null,e.preventDefault())),!1;return!(!a||s||!(i=n.fastClickScrollParent)||i.fastClickLastScrollTop===i.scrollTop)||(this.needsClick(n)||(e.preventDefault(),this.sendClick(n,e)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(e){return!this.targetElement||!(!e.forwardedTouchEvent&&e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),1))},r.prototype.onClick=function(e){return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===e.target.type&&0===e.detail||((e=this.onMouse(e))||(this.targetElement=null),e)},r.prototype.destroy=function(){var e=this.layer;o&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(e){var t,i;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!o)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(31<i&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(u&&10<=(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=i[2]&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===e.style.touchAction||"manipulation"===e.style.touchAction},r.attach=function(e,t){return new r(e,t)},t.exports=r},{}],35:[function(e,t,i){var r=e("./data");t.exports.bind=function(e,t,i){function n(){return t.apply(e,arguments)}return t.guid||(t.guid=r.guid()),n.guid=i?i+"_"+t.guid:t.guid,n}},{"./data":30}],36:[function(e,t,i){function r(){"use strict";r=function(){return e};var e={},t=Object.prototype,i=t.hasOwnProperty,n=Object.defineProperty||function(e,t,i){e[t]=i.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(t){u=function(e,t,i){return e[t]=i}}function c(e,t,i,r){var o,a,s,l;t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype),r=new T(r||[]);return n(t,"_invoke",{value:(o=e,a=i,s=r,l="suspendedStart",function(e,t){if("executing"===l)throw new Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return w()}for(s.method=e,s.arg=t;;){var i=s.delegate;if(i&&(i=function e(t,i){var r=t.iterator[i.method];if(void 0===r){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=void 0,e(t,i),"throw"===i.method))return f;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}return r=d(r,t.iterator,i.arg),"throw"===r.type?(i.method="throw",i.arg=r.arg,i.delegate=null,f):(r=r.arg,r?r.done?(i[t.resultName]=r.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,f):r:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,f))}(i,s),i)){if(i===f)continue;return i}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===l)throw l="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(l="executing",i=d(o,a,s),"normal"===i.type){if(l=s.done?"completed":"suspendedYield",i.arg===f)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(l="completed",s.method="throw",s.arg=i.arg)}})}),t}function d(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}o={};var g=(u(o,a,(function(){return this})),Object.getPrototypeOf),y=(g=g&&g(g(E([]))),g&&g!==t&&i.call(g,a)&&(o=g),v.prototype=h.prototype=Object.create(o));function m(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var r;n(this,"_invoke",{value:function(n,o){function a(){return new t((function(r,a){!function r(n,o,a,s){var l;n=d(e[n],e,o);if("throw"!==n.type)return(o=(l=n.arg).value)&&"object"==_typeof(o)&&i.call(o,"__await")?t.resolve(o.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(o).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}));s(n.arg)}(n,o,r,a)}))}return r=r?r.then(a,a):a()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(e){if(e){var t,r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return t=-1,(r=function r(){for(;++t<e.length;)if(i.call(e,t))return r.value=e[t],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:w}}function w(){return{value:void 0,done:!0}}return n(y,"constructor",{value:p.prototype=v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){return e="function"==typeof e&&e.constructor,!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},m(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,i,r,n,o){void 0===o&&(o=Promise);var a=new _(c(t,i,r,n),o);return e.isGeneratorFunction(i)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(y),u(y,l,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,i=Object(e),r=[];for(t in i)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in i)return e.value=t,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(i,r){return a.type="throw",a.arg=e,t.next=i,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),S(i),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i,r,n=this.tryEntries[t];if(n.tryLoc===e)return"throw"===(i=n.completion).type&&(r=i.arg,S(n)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:E(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),f}},e}function n(e,t,i,r,n,o,a){try{var s=e[o](a),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(r,n)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var a=e.apply(t,i);function s(e){n(a,r,o,s,l,"next",e)}function l(e){n(a,r,o,s,l,"throw",e)}s(void 0)}))}}var a,s="undefined"==typeof Promise?e("es6-promise").Promise:Promise;e=self,a=function(){"use strict";function e(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i="");var n=performance.now(),o=r;return new s((function(r){a=e,void 0===(s=t?100:0)&&(s=100),(l=document.createElement("video")).setAttribute("width",""+s),l.setAttribute("height",""+s),l.setAttribute("muted","muted"),l.setAttribute("crossorigin","anonymous"),l.setAttribute("preload","preload"),l.setAttribute("autoplay","autoplay"),l.setAttribute("webkit-playsinline","webkit-playsinline"),l.setAttribute("playsinline","playsinline"),l.setAttribute("x-webkit-airplay","x-webkit-airplay"),l.setAttribute("playsinline","playsinline"),l.src=a;var a,s,l,u=l,c=setInterval((function(){var e,a,s,l,d;(performance.now()-n>o||0!==u.videoWidth)&&(clearInterval(c),e=0!==u.videoWidth,t?(u.setAttribute("controls","controls"),a=u,void 0===(s=i)&&(s=""),l=document.createElement("dv"),(d=document.createElement("h3")).innerText=s,l.appendChild(a),l.appendChild(d),document.body.appendChild(l)):(u.pause(),u=null),r(e))}))}))}var t={d:function(e,i){for(var r in i)t.o(i,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:i[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},i={},n=(t.d(i,{default:function(){return h}}),navigator.userAgent),a=/qqbrowser/i.test(n.toLowerCase()),l=/Edge/i.test(n),u=(l=/Chrome/i.test(n)&&!l&&!a,/Safari/i.test(n)&&!l),c=(a=n.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/),l=a&&a[1],l&&Number(l.split(".")[0])),d=function(){var e=o(r().mark((function e(t){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return i=e.sent,e.next=5,i.blob();case 5:return i=e.sent,e.abrupt("return",URL.createObjectURL(i));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f={includeSystemHijack:!0,showVideo:!1,codecTags:["hev1","hvc1"],timeout:2e3},h=function(t){return void 0===t&&(t={}),new s(function(){var i=o(r().mark((function i(n){var o,a,s,l,h,p,v,g,y,m,_;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s=Object.assign({},f,t),o=s.includeSystemHijack,a=s.showVideo,p=s.codecTags,s=s.timeout,l=performance.now(),h=-1<p.indexOf("hvc1"),p=-1<p.indexOf("hev1"),v="https://ice-pub-media.myalicdn.com/vod-demo/hevc/01s_20x20_hvc1.mp4",m=y=!(g="https://ice-pub-media.myalicdn.com/vod-demo/hevc/01s_20x20_hev1.mp4"),!(u&&c&&11<=c)){i.next=13;break}if(i.t0=o,i.t0){i.next=8;break}return i.next=7,d(v);case 7:v=i.sent;case 8:return i.next=10,e(v,a,"hvc1",s);case 10:y=i.sent,i.next=33;break;case 13:if(i.t1=h,!i.t1){i.next=23;break}if(i.t2=o,i.t2){i.next=20;break}return i.next=19,d(v);case 19:v=i.sent;case 20:return i.next=22,e(v,a,"hvc1",s);case 22:y=i.sent;case 23:if(i.t3=p,!i.t3){i.next=33;break}if(i.t4=o,i.t4){i.next=30;break}return i.next=29,d(g);case 29:g=i.sent;case 30:return i.next=32,e(g,a,"hev1",s);case 32:m=i.sent;case 33:_=performance.now(),n({isHvc1Supported:y,isHev1Supported:m,time:Math.ceil(_-l)});case 35:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())};return i.default},"object"==_typeof(i)&&"object"==_typeof(t)?t.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==_typeof(i)?i.hevcDetector=a():e.hevcDetector=a()},{"es6-promise":8}],37:[function(e,t,i){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/;?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var r=s.parseURL(e);if(r)return r.path=s.normalizePath(r.path),s.buildURLFromParts(r);throw new Error("Error trying to parse base URL.")}if(r=s.parseURL(t),!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return i.alwaysNormalize?(r.path=s.normalizePath(r.path),s.buildURLFromParts(r)):t;if(t=s.parseURL(e),!t)throw new Error("Error trying to parse base URL.");!t.netLoc&&t.path&&"/"!==t.path[0]&&(e=n.exec(t.path),t.netLoc=e[1],t.path=e[2]),t.netLoc&&!t.path&&(t.path="/");var o;e={scheme:t.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};return r.netLoc||(e.netLoc=t.netLoc,"/"!==r.path[0]&&(r.path?(o=(o=t.path).substring(0,o.lastIndexOf("/")+1)+r.path,e.path=s.normalizePath(o)):(e.path=t.path,r.params||(e.params=t.params,r.query)||(e.query=t.query)))),null===e.path&&(e.path=i.alwaysNormalize?s.normalizePath(r.path):r.path),s.buildURLFromParts(e)},parseURL:function(e){return e=r.exec(e),e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};t.exports=s},{}],38:[function(e,t,i){function r(e){for(var t in e="string"==typeof e?this.parseAttrList(e):e)e.hasOwnProperty(t)&&(this[t]=e[t])}var n=/^(\d+)x(\d+)$/,o=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;r.prototype={decimalInteger:function(e){return e=parseInt(this[e],10),e>Number.MAX_SAFE_INTEGER?1/0:e},hexadecimalInteger:function(e){if(this[e]){for(var t=(1&(t=(this[e]||"0x").slice(2)).length?"0":"")+t,i=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)i[r]=parseInt(t.slice(2*r,2*r+2),16);return i}return null},hexadecimalIntegerAsNumber:function(e){return e=parseInt(this[e],16),e>Number.MAX_SAFE_INTEGER?1/0:e},decimalFloatingPoint:function(e){return parseFloat(this[e])},enumeratedString:function(e){return this[e]},decimalResolution:function(e){if(e=n.exec(this[e]),null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},parseAttrList:function(e){var t,i={};for(o.lastIndex=0;null!==(t=o.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),i[t[1]]=r}return i}},t.exports=r},{}],39:[function(e,t,i){function r(){this.method=null,this.key=null,this.iv=null,this._uri=null}function n(){this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}function o(){this.loaders={}}var a=e("../constants"),s=e("../playerutil"),l=e("./attrlist"),u=e("../io"),c=e("./URLToolkit"),d=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,f=/#EXT-X-MEDIA:(.*)/g,h=new RegExp([/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),p=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(PART-INF):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,v="RegionBlock";n.prototype.getUrl=function(){return!this._url&&this.relurl&&(this._url=c.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},n.prototype.Seturl=function(e){this._url=e},n.prototype.getProgramDateTime=function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime},n.prototype.GetbyteRange=function(){var e,t,i;return this._byteRange||(e=this._byteRange=[],this.rawByteRange&&(1===(t=this.rawByteRange.split("@",2)).length?(i=this.lastByteRangeEndOffset,e[0]=i||0):e[0]=parseInt(t[1]),e[1]=parseInt(t[0])+e[0])),this._byteRange},n.prototype.getByteRangeStartOffset=function(){return this.byteRange[0]},n.prototype.getByteRangeEndOffset=function(){return this.byteRange[1]},n.prototype.getDecryptdata=function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},o.prototype=((e={parseMasterPlaylist:function(e,t){var i=[];for(d.lastIndex=0;null!=(o=d.exec(e));){var r={},n=r.attrs=new l(o[1]),o=(r.url=this.resolve(o[2],t),n.decimalResolution("RESOLUTION"));if(o&&(r.width=o.width,r.height=o.height),r.bitrate=n.decimalInteger("AVERAGE-BANDWIDTH")||n.decimalInteger("BANDWIDTH"),r.name=n.NAME,a=n.CODECS)for(var a=a.split(/[ ,]+/),s=0;s<a.length;s++){var u=a[s];-1!==u.indexOf("avc1")?r.videoCodec=this.avc1toavcoti(u):-1!==u.indexOf("hvc1")?r.videoCodec=u:r.audioCodec=u}i.push(r)}return i},parseMasterPlaylistMedia:function(e,t,i,r){var n=[],o=0;for(f.lastIndex=0;null!=(s=f.exec(e));){var a={},s=new l(s[1]);s.TYPE===i&&(a.groupId=s["GROUP-ID"],a.name=s.NAME,a.type=i,a.default="YES"===s.DEFAULT,a.autoselect="YES"===s.AUTOSELECT,a.forced="YES"===s.FORCED,s.URI&&(a.url=this.resolve(s.URI,t)),a.lang=s.LANGUAGE,a.name||(a.name=a.lang),r&&(a.audioCodec=r),a.id=o++,n.push(a))}return n},avc1toavcoti:function(e){var t=e.split("."),i=2<t.length?(i=t.shift()+".",(i+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)):e;return i},load:function(e,t,i){var r=this;u.get(e,(function(i){var n,o,a,s=r.parseMasterPlaylist(i,e);s.length&&(n=r.parseMasterPlaylistMedia(i,e,"AUDIO",s[0].audioCodec),o=r.parseMasterPlaylistMedia(i,e,"SUBTITLES"),n.length)&&(a=!1,n.forEach((function(e){e.url||(a=!0)})),!1===a)&&s[0].audioCodec&&!s[0].attrs.AUDIO&&(__f__("log","audio codec signaled in quality level, but no embedded audio track signaled, create one"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),n.unshift({type:"main",name:"main"})),t({levels:s,audioTracks:n,subtitles:o,url:e,string:i})}),(function(e,t,r){i&&((r=s.parseHttpHeaders(r)["x-tengine-error"])&&-1<a.RegionBlockMessages.indexOf(r)&&(e=v),i(e,t))}))},loadMediaPlaylist:function(e,t,i){var r=this,n=(e=e||{}).string,o=e.url;n?(e=r.parseLevelPlaylist(n,o),t(e)):u.get(o,(function(e){e=r.parseLevelPlaylist(e,o),t(e)}),(function(e){i&&i(e)}))},resolve:function(e,t){return c.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}}).parseMasterPlaylist=function(e,t){var i=[];for(d.lastIndex=0;null!=(o=d.exec(e));){var r={},n=r.attrs=new l(o[1]),o=(r.url=this.resolve(o[2],t),n.decimalResolution("RESOLUTION"));if(o&&(r.width=o.width,r.height=o.height),r.bitrate=n.decimalInteger("AVERAGE-BANDWIDTH")||n.decimalInteger("BANDWIDTH"),r.name=n.NAME,a=n.CODECS)for(var a=a.split(/[ ,]+/),s=0;s<a.length;s++){var u=a[s];-1!==u.indexOf("avc1")?r.videoCodec=this.avc1toavcoti(u):-1!==u.indexOf("hvc1")?r.videoCodec=u:r.audioCodec=u}i.push(r)}return i},e.parseMasterPlaylistMedia=function(e,t,i,r){var n=[],o=0;for(f.lastIndex=0;null!=(s=f.exec(e));){var a={},s=new l(s[1]);s.TYPE===i&&(a.groupId=s["GROUP-ID"],a.name=s.NAME,a.type=i,a.default="YES"===s.DEFAULT,a.autoselect="YES"===s.AUTOSELECT,a.forced="YES"===s.FORCED,s.URI&&(a.url=this.resolve(s.URI,t)),a.lang=s.LANGUAGE,a.name||(a.name=a.lang),r&&(a.audioCodec=r),a.id=o++,n.push(a))}return n},e.avc1toavcoti=function(e){var t=e.split("."),i=2<t.length?(i=t.shift()+".",(i+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)):e;return i},e.parseLevelPlaylist=function(e,t,i,o){var a,s,u=0,c=0,d={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},f=new r,v=0,g=null,y=new n;for(h.lastIndex=0;null!==(a=h.exec(e));){var m=a[1];if(m){y.duration=parseFloat(m);var _=(" "+a[2]).slice(1);y.title=_||null,y.tagList.push(_?["INF",m,_]:["INF",m])}else if(a[3])isNaN(y.duration)||(_=u++,y.type=o,y.start=c,y.levelkey=f,y.sn=_,y.level=i,y.cc=v,y.baseurl=t,y.relurl=(" "+a[3]).slice(1),d.fragments.push(y),c+=(g=y).duration,y=new n);else if(a[4])y.rawByteRange=(" "+a[4]).slice(1),g&&(m=g.byteRangeEndOffset)&&(y.lastByteRangeEndOffset=m);else if(a[5])y.rawProgramDateTime=(" "+a[5]).slice(1),y.tagList.push(["PROGRAM-DATE-TIME",y.rawProgramDateTime]),void 0===d.programDateTime&&(d.programDateTime=new Date(new Date(Date.parse(a[5]))-1e3*c));else{for(a=a[0].match(p),s=1;s<a.length&&void 0===a[s];s++);var b=(" "+a[s+1]).slice(1),S=(" "+a[s+2]).slice(1);switch(a[s]){case"#":y.tagList.push(S?[b,S]:[b]);break;case"PLAYLIST-TYPE":d.type=b.toUpperCase();break;case"MEDIA-SEQUENCE":u=d.startSN=parseInt(b);break;case"TARGETDURATION":d.targetduration=parseFloat(b);break;case"VERSION":d.version=parseInt(b);break;case"EXTM3U":break;case"ENDLIST":d.live=!1;break;case"DIS":v++,y.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":v=parseInt(b);break;case"KEY":var T=new l(b),E=T.enumeratedString("METHOD"),w=T.URI;T=T.hexadecimalInteger("IV");E&&(f=new r,w)&&0<=["AES-128","SAMPLE-AES"].indexOf(E)&&(f.method=E,f.baseuri=t,f.reluri=w,f.key=null,f.iv=T);break;case"START":E=new l(b).decimalFloatingPoint("TIME-OFFSET"),isNaN(E)||(d.startTimeOffset=E);break;case"MAP":w=new l(b),y.relurl=w.URI,y.rawByteRange=w.BYTERANGE,y.baseurl=t,y.level=i,y.type=o,y.sn="initSegment",d.initSegment=y,y=new n;break;case"PART-INF":T=new l(b),d.partTarget=T.decimalFloatingPoint("PART-TARGET");break;default:__f__("log","line parsed but not handled: "+a," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}}}return(y=g)&&!y.relurl&&(d.fragments.pop(),c-=y.duration),d.totalduration=c,d.averagetargetduration=c/d.fragments.length,d.endSN=u-1,d},e),o.ERROR_REGION_BLOCK=v,t.exports=o},{"../constants":28,"../io":40,"../playerutil":46,"./URLToolkit":37,"./attrlist":38}],40:[function(e,t,i){var r=e("./url");t.exports.get=function(e,i,r,n,o){t.exports.ajax("GET",e,{},i,r,n,o)},t.exports.post=function(e,i,r,n,o,a){t.exports.ajax("POST",e,i,r,n,o,a,{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"})},t.exports.postWithHeader=function(e,i,r,n,o){t.exports.ajax("POST",e,i,n,o,!0,!1,r)},t.exports.ajax=function(e,t,i,n,o,a,s,l){var u,c,d,f;o=o||function(){},"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")}),c=new XMLHttpRequest,d=r.parseUrl(t),f=window.location,d.protocol+d.host===f.protocol+f.host||!window.XDomainRequest||"withCredentials"in c?(u="file:"==d.protocol||"file:"==f.protocol,c.onreadystatechange=function(){4===c.readyState&&(200===c.status||u&&0===c.status?n(c.responseText):o(c.responseText,c.status,c))}):((c=new window.XDomainRequest).onload=function(){n(c.responseText)},c.onerror=o,c.onprogress=function(){},c.ontimeout=o);try{if(void 0===a&&(a=!0),c.open(e,t,a),s&&(c.withCredentials=!0),l)for(var h in l)l.hasOwnProperty(h)&&c.setRequestHeader(h,l[h])}catch(e){return void o(e)}try{c.send(i)}catch(e){o(e)}},t.exports.jsonp=function(e,t,i){var r="jsonp_callback_"+Math.round(1e5*Math.random()),n=document.createElement("script");e&&(n.src=e+(0<=e.indexOf("?")?"&":"?")+"callback="+r+"&cb="+r,n.onerror=function(){delete window[r],document.body.removeChild(n),i()},n.onload=function(){setTimeout((function(){window[r]&&(delete window[r],document.body.removeChild(n))}),0)},window[r]=function(e){delete window[r],document.body.removeChild(n),t(e)},document.body.appendChild(n))},t.exports.loadJS=function(e,t,i){var r=document.getElementsByTagName("HEAD").item(0),n=document.createElement("script");e&&e.toLowerCase().indexOf("https://")<0&&e.toLowerCase().indexOf("http://")<0&&(e=document.URL.replace(/(\/[^\/]*?)$/i,"")+e),n.type="text/javascript",n.src=e,n.onload=function(){t&&t()},n.onerror=function(){i&&i()},r.appendChild(n)}},{"./url":50}],41:[function(e,t,i){var r=e("./dom");t.exports.render=function(e,t){var i=t.align||(t.className?"":"tl"),n=t.x||0,o=(t=t.y||0,n.indexOf&&0<n.indexOf("%")?"":"px"),a=t.indexOf&&0<t.indexOf("%")?"":"px";"tl"===i?r.css(e,{float:"left","margin-left":n+o,"margin-top":t+a}):"tr"===i?r.css(e,{float:"right","margin-right":n+o,"margin-top":t+a}):"tlabs"===i?r.css(e,{position:"absolute",left:n+o,top:t+a}):"trabs"===i?r.css(e,{position:"absolute",right:n+o,top:t+a}):"blabs"===i?r.css(e,{position:"absolute",left:n+o,bottom:t+a}):"brabs"===i?r.css(e,{position:"absolute",right:n+o,bottom:t+a}):"cc"===i&&r.addClass(e,"loading-center")}},{"./dom":32}],42:[function(e,t,i){var r=Object.prototype.hasOwnProperty;t.exports.create=Object.create||function(e){function t(){}return t.prototype=e,new t},t.exports.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(arg)},t.exports.isEmpty=function(e){for(var t in e)if(null!==e[t])return!1;return!0},t.exports.each=function(e,i,n){if(t.exports.isArray(e))for(var o=0,a=e.length;o<a&&!1!==i.call(n||this,e[o],o);++o);else for(var s in e)if(r.call(e,s)&&!1===i.call(n||this,s,e[s]))break;return e},t.exports.merge=function(e,t){if(t)for(var i in t)r.call(t,i)&&(e[i]=t[i]);return e},t.exports.deepMerge=function(e,i){var n,o,a;for(n in e=t.exports.copy(e),i)r.call(i,n)&&(o=e[n],a=i[n],t.exports.isPlain(o)&&t.exports.isPlain(a)?e[n]=t.exports.deepMerge(o,a):e[n]=i[n]);return e},t.exports.copy=function(e){return t.exports.merge({},e)},t.exports.isPlain=function(e){return!!e&&"object"==_typeof(e)&&"[object Object]"===e.toString()&&e.constructor===Object},t.exports.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.exports.unescape=function(e){return e.replace(/&([^;]+);/g,(function(e,t){return{amp:"&",lt:"<",gt:">",quot:'"',"#x27":"'","#x60":"`"}[t.toLowerCase()]||e}))}},{}],43:[function(e,t,i){var r,n=e("./object");(r=function(){}).extend=function(e){var t,i,o=(e=e||{}).init||e.init||this.prototype.init||this.prototype.init||function(){};for(i in(((t=function(){o.apply(this,arguments)}).prototype=n.create(this.prototype)).constructor=t).extend=r.extend,t.create=r.create,e)e.hasOwnProperty(i)&&(t.prototype[i]=e[i]);return t},r.create=function(){var e=n.create(this.prototype);return this.apply(e,arguments),e},t.exports=r},{"./object":42}],44:[function(e,t,i){var r=!new Function("try {return this===window;}catch(e){ return false;}")();t.exports.isSSR=r},{}],45:[function(e,t,i){var r=e("./object"),n=e("../config"),o=e("./dom"),a=e("./cookie"),s=e("./constants"),l=e("../lang/index"),u=e("./ua"),c=e("./io"),d=e("../player/base/plugin/defaultemptycomponent"),f=e("./hardware-decoding-detector"),h={preload:!0,autoplay:!0,useNativeControls:!1,width:"100%",height:"300px",cover:"",from:"",trackLog:!0,logBatched:!0,heartHeatInterval:30,isLive:!1,playsinline:!0,showBarTime:5e3,rePlay:!1,liveRetry:5,liveRetryInterval:1,liveRetryStep:0,keyShortCuts:!1,keyFastForwardStep:10,isVBR:!1,vodRetry:3,format:"",definition:"",defaultDefinition:"",loadDataTimeout:20,waitingTimeout:60,waitingBufferedTime:3,delayLoadingShow:1,controlBarForOver:!1,controlBarVisibility:"hover",enableSystemMenu:!1,qualitySort:"asc",x5_video_position:"normal",x5_type:"",x5_fullscreen:!1,x5_orientation:"landscape|portrait",x5LandscapeAsFullScreen:!0,license:{},autoPlayDelay:0,autoPlayDelayDisplayText:"",useHlsPluginForSafari:!1,enableMSEForAndroid:!0,encryptType:0,language:"zh-cn",languageTexts:{},mediaType:"video",outputType:"",playConfig:{},reAuthInfo:{},components:[],liveTimeShiftUrl:"",liveShiftSource:"",liveShiftTime:"",liveShiftMinOffset:30,videoHeight:"100%",videoWidth:"100%",enableWorker:!0,authTimeout:"",enableMockFullscreen:!1,region:"cn-shanghai",debug:!1,progressMarkers:[],snapshotWatermark:{left:"500",top:"100",text:"",font:"16px \u5b8b\u4f53",fillColor:"#FFFFFF",strokeColor:"#FFFFFF"},liveStartTime:"",liveOverTime:"",enableStashBufferForFlv:!0,stashInitialSizeForFlv:32,flvOption:{accurateSeek:!0},hlsOption:{stopLoadAsPaused:!1},hlsLoadingTimeOut:2e4,useHlsPlugOnMobile:!0,lowLatencyMode:!1,useHls2:void 0,skipRtsSupportCheck:!1,rtsLoadDataTimeout:6e3,rtsFallbackSource:void 0,rtsVersion:"",rtsSdkUrl:"",nudgeMaxRetry:5,tracks:[],recreatePlayer:function(){},diagnosisButtonVisible:!0,enableH265:!1,forceH265:!1,h265Threads:!0,h265Simd:!0,preventRecord:!1,traceId:"",mediaAuth:void 0,textTracks:void 0,_native:!0,hlsUriToken:"",thumbnailUrl:"",refreshAccessInfo:function(){},drmSessionTimeout:5e3,skinRes:"//"+n.domain+"/de/prismplayer-flash/"+n.flashVersion+"/atlas/defaultSkin",splayerUrl:null,splayerWasmDomain:null},p=(t.exports.defaultH5Layout=[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"tooltip",align:"blabs",x:0,y:50},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:5},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"subtitle",align:"tr",x:15,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}]}],t.exports.defaultAudioLayout=[{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:5},{name:"volume",align:"tr",x:5,y:10}]}],t.exports.defaultFlashLayout=[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:26},{name:"nextButton",align:"tl",x:10,y:26},{name:"timeDisplay",align:"tl",x:10,y:24},{name:"fullScreenButton",align:"tr",x:10,y:25},{name:"streamButton",align:"tr",x:10,y:23},{name:"volume",align:"tr",x:10,y:25}]},{name:"fullControlBar",align:"tlabs",x:0,y:0,children:[{name:"fullTitle",align:"tl",x:25,y:6},{name:"fullNormalScreenButton",align:"tr",x:24,y:13},{name:"fullTimeDisplay",align:"tr",x:10,y:12},{name:"fullZoom",align:"cc"}]}],t.exports.canPlayType=function(e){var t=document.createElement("video");return t.canPlayType?t.canPlayType(e):""},t.exports.canPlayHls=function(){return""!=t.exports.canPlayType("application/x-mpegURL")},t.exports.isUsedHlsPluginOnMobile=function(e){return!!(u.IS_MOBILE&&(u.IS_CHROME||u.IS_FIREFOX||u.IS_X5||u.IS_EDGE_NEW)&&t.exports.isSupportHls())},t.exports.isSafariUsedHlsPlugin=function(e){return!!(u.os.pc&&u.browser.safari&&e)},t.exports.hasUIComponent=function(e,i){if(void 0!==e&&e&&0!=e.length)for(var r=0,n=e.length;r<n;r++){var o=e[r].name;if(o==i)return!0;if("controlBar"==o)return t.exports.hasUIComponent(e[r].children,i)}return!1},t.exports.validateSource=function(e){return!0},t.exports.supportH5Video=function(){return void 0!==document.createElement("video").canPlayType},t.exports.createWrapper=function(e){var i=e.id;i="string"==typeof i?(0===i.indexOf("#")&&(i=i.slice(1)),o.el(i)):i;if(i&&i.nodeName)return t.exports.adjustContainerLayout(i,e),i;throw new TypeError("\u6ca1\u6709\u4e3a\u64ad\u653e\u5668\u6307\u5b9a\u5bb9\u5668")},t.exports.adjustContainerLayout=function(e,t){t.width&&!e.style.width&&(e.style.width=t.width),t.height&&!e.style.height&&(e.style.height=t.height)},t.exports.isSupportHls=function(){var e=window.MediaSource=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer;e=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),t=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return e&&t},t.exports.isSupportFlv=function(){return t.exports.isSupportHls()},t.exports.isSupportMSE=function(){return!!window.Promise&&!!window.Uint8Array&&!!Array.prototype.forEach&&t.exports.isSupportedMediaSource()},t.exports.isSupportedMediaSource=function(){return!!window.MediaSource&&!!MediaSource.isTypeSupported},t.exports.isSupportedDrm=function(){return!!(window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration)&&t.exports.isSupportMSE()},t.exports.isAudio=function(e){return e&&0<e.toLowerCase().indexOf(".mp3")},t.exports.isLiveShift=function(e){return e.isLive&&e.liveStartTime&&e.liveOverTime},t.exports.isHls=function(e){return e&&0<e.toLowerCase().indexOf(".m3u8")},t.exports.isDash=function(e){return e&&0<e.toLowerCase().indexOf(".mpd")},t.exports.isFlv=function(e){return e&&0<e.toLowerCase().indexOf(".flv")},t.exports.isRTMP=function(e){return e&&-1<e.toLowerCase().indexOf("rtmp:")},t.exports.isRts=function(e){return e&&-1<e.toLowerCase().indexOf("artc:")},t.exports.isMp4=function(e){return e&&-1<e.toLowerCase().indexOf(".mp4")},t.exports.checkSecuritSupport=function(){return t.exports.isSupportHls()?"":u.IS_IOS?l.get("iOSNotSupportVodEncription"):l.get("UseChromeForVodEncription")},t.exports.nativeSupportH265=function(){return u.IS_IOS||u.IS_MAC_SAFARI},t.exports.findSelectedStreamLevel=function(e,t){var i=t;if(i||(i=a.get(s.SelectedStreamLevel))){for(var r=0;r<e.length;r++)if(e[r].definition==i)return r}else a.set(s.SelectedStreamLevel,e[0].definition,365);return 0},t.exports.getHistoryDetectResult=function(e){if(e)return"hvc1"===e?a.get(s.HWDetectHvc1):"hev1"===e?a.get(s.HWDetectHev1):void 0},t.exports.setHistoryDetectResult=function(e,t){var i="unknownCodec";"hvc1"===e?i=s.HWDetectHvc1:"hev1"===e&&(i=s.HWDetectHev1),a.set(i,t)},t.exports.handleOption=function(e,i){t.exports.isRts(e.source)&&(e.isLive=!0);var n,o=r.merge(r.copy(h),e),a=[{name:"fullScreenButton",align:"tr",x:20,y:12},{name:"subtitle",align:"tr",x:15,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}],s=!1;if(e.useFlashPrism||t.exports.isRTMP(e.source)?(s=!0,a=[{name:"liveIco",align:"tlabs",x:15,y:25},{name:"fullScreenButton",align:"tr",x:10,y:25},{name:"volume",align:"tr",x:10,y:25}]):(n=t.exports.isLiveShift(o))?(a.push({name:"liveShiftProgress",align:"tlabs",x:0,y:0}),a.push({name:"playButton",align:"tl",x:15,y:12}),a.push({name:"liveDisplay",align:"tl",x:15,y:6})):a.push({name:"liveDisplay",align:"tlabs",x:15,y:6}),e.isLive)if(void 0===e.skinLayout)o.skinLayout=[{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"tooltip",align:"blabs",x:0,y:56},{name:"H5Loading",align:"cc"},{name:"controlBar",align:"blabs",x:0,y:0,children:t.exports.isRts(e.source)?[{name:"fullScreenButton",align:"tr",x:20,y:12},{name:"volume",align:"tr",x:5,y:10},{name:"liveDisplay",align:"tlabs",x:15,y:6}]:a}];else if(0!=e.skinLayout){for(var l=e.skinLayout.length,u=[],c=-1,f=0;f<l;f++)if("controlBar"==o.skinLayout[f].name){c=f;for(var p=o.skinLayout[f].children.length,v=0;v<p;v++){var g,y=o.skinLayout[f].children[v].name;"liveDisplay"!=y&&"liveIco"!=y&&"fullScreenButton"!=y&&"volume"!=y&&"snapshot"!=y&&"setting"!=y&&"subtitle"!=y&&(!n||"progress"!=y&&"playButton"!=y&&"timeDisplay"!=y)||(g=o.skinLayout[f].children[v],"progress"==y?g.name="liveShiftProgress":"timeDisplay"==y?g.name="liveShiftTimeDisplay":s&&"liveDisplay"==y&&(g.name="liveIco"),u.push(g))}break}-1!=c&&(o.skinLayout[c].children=u)}return(void 0===e.components||!e.components||r.isArray(e.components)&&0==e.components.length)&&"false"!=e.components&&(o.components=[d]),o},t.exports.getLiveHostByRegion=function(e){return e&&-1<["ap-southeast-1","eu-central-1"].indexOf(e)?"live."+e+".aliyuncs.com":"live.aliyuncs.com"},t.exports.isVideoTag=function(e){return e&&"string"==typeof e.nodeName&&"video"===e.nodeName.toLowerCase()},t.exports.unqiueTextTracks=function(e){var t=[],i=(t=(e=void 0===e?[]:e).reduce((function(e,t){var i;return e.some((function(e){return e.srclang===t.srclang}))?e:((i=t).label=t.label||t.srclang,[].concat(e,[i]))}),[]),{});return t.forEach((function(e,t){i[e.label]?i[e.label].push(t):i[e.label]=[t]})),Object.keys(i).forEach((function(e){e=i[e]||[],1<e.length&&e.forEach((function(e){t[e].label=t[e].label+"("+t[e].srclang+")"}))})),t},t.exports.isHvc1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("hvc1")},t.exports.isHev1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("hev1")},t.exports.isH265Codec=function(e){return t.exports.isHvc1Codec(e=void 0===e?"":e)||t.exports.isHev1Codec(e)},t.exports.getVideoTrack=function(e){var t;return(e=void 0===e?[]:e).forEach((function(e){1===Number(e.type)&&(t=e)})),t},u.IS_ANDROID&&(u.dingTalk()||u.IS_UC||u.is_X5||u.IS_HUAWEI||u.IS_XIAOMI||u.IS_OPPO||u.IS_VIVO||u.IS_MEIZU||u.IS_SAMSUNG||u.IS_WEBVIEW)||u.os&&"windows"===u.os.name&&u.IS_UC);t.exports.shouldUseBasePlayer=function(e,i){var r,n="supported",o="unsupported";return!e||(r=t.exports.isHvc1Codec(e),t.exports.nativeSupportH265()&&r)||function(){if(p||!u.IS_CHROME&&!u.IS_EDGE_NEW)return!1;var e=0;try{e=u.USER_AGENT.match(/Chrome\/(\d+)/i)[1]}catch(r){e=0}return!(parseInt(e)<104||!window.MediaSource||!window.MediaSource.isTypeSupported('video/mp4;codecs="hvc1.1.6.L120.90"'))}()?i(!0):p?(r=t.exports.getHistoryDetectResult(e))===n?i(!0):r===o?i(!1):void f({codecTags:[e],timeout:2e3}).then((function(r){if(r=r.isHev1Supported||r.isHvc1Supported,t.exports.setHistoryDetectResult(e,r?n:o),r)return i(!0);i(!1)})).catch((function(e){__f__("log","hevcDetector ERROR",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),i(!1)})):i(!1)},t.exports.parseHttpHeaders=function(e){if(e)try{var t=e.getAllResponseHeaders().trim().split(/[\r\n]+/),i={};return t.forEach((function(e){e=e.split(": ");var t=e.shift();e=e.join(": ");i[t]=e})),i}catch(e){}},t.exports.detectRegionBlock=function(e,i){c.get(e,(function(){i(!1)}),(function(e,r,n){n=t.exports.parseHttpHeaders(n)["x-tengine-error"],403===r&&n&&-1<s.RegionBlockMessages.indexOf(n)?i(!0):i(!1)}))}},{"../config":14,"../lang/index":23,"../player/base/plugin/defaultemptycomponent":92,"./constants":28,"./cookie":29,"./dom":32,"./hardware-decoding-detector":36,"./io":40,"./object":42,"./ua":49}],46:[function(e,t,i){var r=e("./object"),n=e("../config"),o=e("./dom"),a=e("./cookie"),s=e("./constants"),l=e("../lang/index"),u=e("./ua"),c=e("./io"),d=e("../player/base/plugin/defaultemptycomponent"),f=e("./hardware-decoding-detector"),h={preload:!0,autoplay:!0,useNativeControls:!1,width:"100%",height:"300px",cover:"",from:"",trackLog:!0,logBatched:!0,heartHeatInterval:30,isLive:!1,playsinline:!0,showBarTime:5e3,rePlay:!1,liveRetry:5,liveRetryInterval:1,liveRetryStep:0,keyShortCuts:!1,keyFastForwardStep:10,isVBR:!1,vodRetry:3,format:"",definition:"",defaultDefinition:"",loadDataTimeout:20,waitingTimeout:60,waitingBufferedTime:3,delayLoadingShow:1,controlBarForOver:!1,controlBarVisibility:"hover",enableSystemMenu:!1,qualitySort:"asc",x5_video_position:"normal",x5_type:"",x5_fullscreen:!1,x5_orientation:"landscape|portrait",x5LandscapeAsFullScreen:!0,license:{},autoPlayDelay:0,autoPlayDelayDisplayText:"",useHlsPluginForSafari:!1,enableMSEForAndroid:!0,encryptType:0,language:"zh-cn",languageTexts:{},mediaType:"video",outputType:"",playConfig:{},reAuthInfo:{},components:[],liveTimeShiftUrl:"",liveShiftSource:"",liveShiftTime:"",liveShiftMinOffset:30,videoHeight:"100%",videoWidth:"100%",enableWorker:!0,authTimeout:"",enableMockFullscreen:!1,region:"cn-shanghai",debug:!1,progressMarkers:[],snapshotWatermark:{left:"500",top:"100",text:"",font:"16px \u5b8b\u4f53",fillColor:"#FFFFFF",strokeColor:"#FFFFFF"},liveStartTime:"",liveOverTime:"",enableStashBufferForFlv:!0,stashInitialSizeForFlv:32,flvOption:{accurateSeek:!0},hlsOption:{stopLoadAsPaused:!1},hlsLoadingTimeOut:2e4,useHlsPlugOnMobile:!0,lowLatencyMode:!1,useHls2:void 0,skipRtsSupportCheck:!1,rtsLoadDataTimeout:6e3,rtsFallbackSource:void 0,rtsVersion:"",rtsSdkUrl:"",nudgeMaxRetry:5,tracks:[],recreatePlayer:function(){},diagnosisButtonVisible:!0,enableH265:!1,forceH265:!1,h265Threads:!0,h265Simd:!0,preventRecord:!1,traceId:"",mediaAuth:void 0,textTracks:void 0,_native:!0,hlsUriToken:"",thumbnailUrl:"",refreshAccessInfo:function(){},drmSessionTimeout:5e3,skinRes:"//"+n.domain+"/de/prismplayer-flash/"+n.flashVersion+"/atlas/defaultSkin",splayerUrl:null,splayerWasmDomain:null},p=(t.exports.defaultH5Layout=[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"tooltip",align:"blabs",x:0,y:50},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:5},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"subtitle",align:"tr",x:15,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}]}],t.exports.defaultAudioLayout=[{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:5},{name:"volume",align:"tr",x:5,y:10}]}],t.exports.defaultFlashLayout=[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:26},{name:"nextButton",align:"tl",x:10,y:26},{name:"timeDisplay",align:"tl",x:10,y:24},{name:"fullScreenButton",align:"tr",x:10,y:25},{name:"streamButton",align:"tr",x:10,y:23},{name:"volume",align:"tr",x:10,y:25}]},{name:"fullControlBar",align:"tlabs",x:0,y:0,children:[{name:"fullTitle",align:"tl",x:25,y:6},{name:"fullNormalScreenButton",align:"tr",x:24,y:13},{name:"fullTimeDisplay",align:"tr",x:10,y:12},{name:"fullZoom",align:"cc"}]}],t.exports.canPlayType=function(e){var t=document.createElement("video");return t.canPlayType?t.canPlayType(e):""},t.exports.canPlayHls=function(){return""!=t.exports.canPlayType("application/x-mpegURL")},t.exports.isUsedHlsPluginOnMobile=function(e){return!!(u.IS_MOBILE&&(u.IS_CHROME||u.IS_FIREFOX||u.IS_X5||u.IS_EDGE_NEW)&&t.exports.isSupportHls())},t.exports.isSafariUsedHlsPlugin=function(e){return!!(u.os.pc&&u.browser.safari&&e)},t.exports.hasUIComponent=function(e,i){if(void 0!==e&&e&&0!=e.length)for(var r=0,n=e.length;r<n;r++){var o=e[r].name;if(o==i)return!0;if("controlBar"==o)return t.exports.hasUIComponent(e[r].children,i)}return!1},t.exports.validateSource=function(e){return!0},t.exports.supportH5Video=function(){return void 0!==document.createElement("video").canPlayType},t.exports.createWrapper=function(e){var i=e.id;i="string"==typeof i?(0===i.indexOf("#")&&(i=i.slice(1)),o.el(i)):i;if(i&&i.nodeName)return t.exports.adjustContainerLayout(i,e),i;throw new TypeError("\u6ca1\u6709\u4e3a\u64ad\u653e\u5668\u6307\u5b9a\u5bb9\u5668")},t.exports.adjustContainerLayout=function(e,t){t.width&&!e.style.width&&(e.style.width=t.width),t.height&&!e.style.height&&(e.style.height=t.height)},t.exports.isSupportHls=function(){var e=window.MediaSource=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer;e=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),t=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return e&&t},t.exports.isSupportFlv=function(){return t.exports.isSupportHls()},t.exports.isSupportMSE=function(){return!!window.Promise&&!!window.Uint8Array&&!!Array.prototype.forEach&&t.exports.isSupportedMediaSource()},t.exports.isSupportedMediaSource=function(){return!!window.MediaSource&&!!MediaSource.isTypeSupported},t.exports.isSupportedDrm=function(){return!!(window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration)&&t.exports.isSupportMSE()},t.exports.isAudio=function(e){return e&&0<e.toLowerCase().indexOf(".mp3")},t.exports.isLiveShift=function(e){return e.isLive&&e.liveStartTime&&e.liveOverTime},t.exports.isHls=function(e){return e&&0<e.toLowerCase().indexOf(".m3u8")},t.exports.isDash=function(e){return e&&0<e.toLowerCase().indexOf(".mpd")},t.exports.isFlv=function(e){return e&&0<e.toLowerCase().indexOf(".flv")},t.exports.isRTMP=function(e){return e&&-1<e.toLowerCase().indexOf("rtmp:")},t.exports.isRts=function(e){return e&&-1<e.toLowerCase().indexOf("artc:")},t.exports.isMp4=function(e){return e&&-1<e.toLowerCase().indexOf(".mp4")},t.exports.checkSecuritSupport=function(){return t.exports.isSupportHls()?"":u.IS_IOS?l.get("iOSNotSupportVodEncription"):l.get("UseChromeForVodEncription")},t.exports.nativeSupportH265=function(){return u.IS_IOS||u.IS_MAC_SAFARI},t.exports.findSelectedStreamLevel=function(e,t){var i=t;if(i||(i=a.get(s.SelectedStreamLevel))){for(var r=0;r<e.length;r++)if(e[r].definition==i)return r}else a.set(s.SelectedStreamLevel,e[0].definition,365);return 0},t.exports.getHistoryDetectResult=function(e){if(e)return"hvc1"===e?a.get(s.HWDetectHvc1):"hev1"===e?a.get(s.HWDetectHev1):void 0},t.exports.setHistoryDetectResult=function(e,t){var i="unknownCodec";"hvc1"===e?i=s.HWDetectHvc1:"hev1"===e&&(i=s.HWDetectHev1),a.set(i,t)},t.exports.handleOption=function(e,i){t.exports.isRts(e.source)&&(e.isLive=!0);var n,o=r.merge(r.copy(h),e),a=[{name:"fullScreenButton",align:"tr",x:20,y:12},{name:"subtitle",align:"tr",x:15,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}],s=!1;if(e.useFlashPrism||t.exports.isRTMP(e.source)?(s=!0,a=[{name:"liveIco",align:"tlabs",x:15,y:25},{name:"fullScreenButton",align:"tr",x:10,y:25},{name:"volume",align:"tr",x:10,y:25}]):(n=t.exports.isLiveShift(o))?(a.push({name:"liveShiftProgress",align:"tlabs",x:0,y:0}),a.push({name:"playButton",align:"tl",x:15,y:12}),a.push({name:"liveDisplay",align:"tl",x:15,y:6})):a.push({name:"liveDisplay",align:"tlabs",x:15,y:6}),e.isLive)if(void 0===e.skinLayout)o.skinLayout=[{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"tooltip",align:"blabs",x:0,y:56},{name:"H5Loading",align:"cc"},{name:"controlBar",align:"blabs",x:0,y:0,children:t.exports.isRts(e.source)?[{name:"fullScreenButton",align:"tr",x:20,y:12},{name:"volume",align:"tr",x:5,y:10},{name:"liveDisplay",align:"tlabs",x:15,y:6}]:a}];else if(0!=e.skinLayout){for(var l=e.skinLayout.length,u=[],c=-1,f=0;f<l;f++)if("controlBar"==o.skinLayout[f].name){c=f;for(var p=o.skinLayout[f].children.length,v=0;v<p;v++){var g,y=o.skinLayout[f].children[v].name;"liveDisplay"!=y&&"liveIco"!=y&&"fullScreenButton"!=y&&"volume"!=y&&"snapshot"!=y&&"setting"!=y&&"subtitle"!=y&&(!n||"progress"!=y&&"playButton"!=y&&"timeDisplay"!=y)||(g=o.skinLayout[f].children[v],"progress"==y?g.name="liveShiftProgress":"timeDisplay"==y?g.name="liveShiftTimeDisplay":s&&"liveDisplay"==y&&(g.name="liveIco"),u.push(g))}break}-1!=c&&(o.skinLayout[c].children=u)}return(void 0===e.components||!e.components||r.isArray(e.components)&&0==e.components.length)&&"false"!=e.components&&(o.components=[d]),o},t.exports.getLiveHostByRegion=function(e){return e&&-1<["ap-southeast-1","eu-central-1"].indexOf(e)?"live."+e+".aliyuncs.com":"live.aliyuncs.com"},t.exports.isVideoTag=function(e){return e&&"string"==typeof e.nodeName&&"video"===e.nodeName.toLowerCase()},t.exports.unqiueTextTracks=function(e){var t=[],i=(t=(e=void 0===e?[]:e).reduce((function(e,t){var i;return e.some((function(e){return e.srclang===t.srclang}))?e:((i=t).label=t.label||t.srclang,[].concat(e,[i]))}),[]),{});return t.forEach((function(e,t){i[e.label]?i[e.label].push(t):i[e.label]=[t]})),Object.keys(i).forEach((function(e){e=i[e]||[],1<e.length&&e.forEach((function(e){t[e].label=t[e].label+"("+t[e].srclang+")"}))})),t},t.exports.isHvc1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("hvc1")},t.exports.isHev1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("hev1")},t.exports.isH265Codec=function(e){return t.exports.isHvc1Codec(e=void 0===e?"":e)||t.exports.isHev1Codec(e)},t.exports.getVideoTrack=function(e){var t;return(e=void 0===e?[]:e).forEach((function(e){1===Number(e.type)&&(t=e)})),t},u.IS_ANDROID&&(u.dingTalk()||u.IS_UC||u.is_X5||u.IS_HUAWEI||u.IS_XIAOMI||u.IS_OPPO||u.IS_VIVO||u.IS_MEIZU||u.IS_SAMSUNG||u.IS_WEBVIEW)||u.os&&"windows"===u.os.name&&u.IS_UC);t.exports.shouldUseBasePlayer=function(e,i){var r,n="supported",o="unsupported";return!e||(r=t.exports.isHvc1Codec(e),t.exports.nativeSupportH265()&&r)||function(){if(p||!u.IS_CHROME&&!u.IS_EDGE_NEW)return!1;var e=0;try{e=u.USER_AGENT.match(/Chrome\/(\d+)/i)[1]}catch(r){e=0}return!(parseInt(e)<104||!window.MediaSource||!window.MediaSource.isTypeSupported('video/mp4;codecs="hvc1.1.6.L120.90"'))}()?i(!0):p?(r=t.exports.getHistoryDetectResult(e))===n?i(!0):r===o?i(!1):void f({codecTags:[e],timeout:2e3}).then((function(r){if(r=r.isHev1Supported||r.isHvc1Supported,t.exports.setHistoryDetectResult(e,r?n:o),r)return i(!0);i(!1)})).catch((function(e){__f__("log","hevcDetector ERROR",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),i(!1)})):i(!1)},t.exports.parseHttpHeaders=function(e){if(e)try{var t=e.getAllResponseHeaders().trim().split(/[\r\n]+/),i={};return t.forEach((function(e){e=e.split(": ");var t=e.shift();e=e.join(": ");i[t]=e})),i}catch(e){}},t.exports.detectRegionBlock=function(e,i){c.get(e,(function(){i(!1)}),(function(e,r,n){n=t.exports.parseHttpHeaders(n)["x-tengine-error"],403===r&&n&&-1<s.RegionBlockMessages.indexOf(n)?i(!0):i(!1)}))}},{"../config":14,"../lang/index":23,"../player/base/plugin/defaultemptycomponent":92,"./constants":28,"./cookie":29,"./dom":32,"./hardware-decoding-detector":36,"./io":40,"./object":42,"./ua":49}],47:[function(e,t,i){var r=e("./object"),n=e("../player/adaptiveplayer"),o=e("./constants").USER_EVENT_NAME;t.exports.reloadInstance=function(e,i,r){var a=r,s=(a.dispose(),e.readyCallback),l=e._readyCallbackCalled;e=n.create(e,(function(e){i(e),l||s(e)}));t.exports.restoreUserEvents(r,e),t.exports.removeAllProps(a),(a.__proto__=e)[o]=a[o]},t.exports.storeUserEvents=function(e){var t=e,i=t.__proto__.on,r={};t.on=function(e,n){"function"==typeof n&&(r[e]?r[e].push(n):r[e]=[n],this._el)&&(n.binded=!0,i.call(t,e,n))},t[o]=r},t.exports.restoreUserEvents=function(e,t){var i=e[o];i&&r.each(i,(function(e){i[e].forEach((function(i){t.on(e,i)}))}))},t.exports.removeAllProps=function(e,t){for(var i in t=[].concat(t=t||[],[o]),e)e.hasOwnProperty(i)&&-1===t.indexOf(i)&&delete e[i]}},{"../player/adaptiveplayer":67,"./constants":28,"./object":42}],48:[function(e,t,i){t.exports.set=function(t,i){try{window.localStorage&&localStorage.setItem(t,i)}catch(e){window[t+"_localStorage"]=i}},t.exports.get=function(t){try{if(window.localStorage)return localStorage.getItem(t)}catch(e){return window[t+"_localStorage"]}return""}},{}],49:[function(e,t,i){var r,n,o,a;if(t.exports.USER_AGENT=navigator.userAgent,t.exports.IS_IPHONE=/iPhone/i.test(t.exports.USER_AGENT),t.exports.IS_IPAD=/iPad/i.test(t.exports.USER_AGENT),t.exports.IS_IPOD=/iPod/i.test(t.exports.USER_AGENT),t.exports.IS_MAC=/mac/i.test(t.exports.USER_AGENT),t.exports.IS_EDGE=/Edge/i.test(t.exports.USER_AGENT),t.exports.IS_EDGE_NEW=/Edg/i.test(t.exports.USER_AGENT)&&!t.exports.IS_EDGE,t.exports.IS_IE11=/Trident\/7.0/i.test(t.exports.USER_AGENT),t.exports.IS_X5=/qqbrowser/i.test(t.exports.USER_AGENT.toLowerCase()),t.exports.IS_CHROME=/Chrome/i.test(t.exports.USER_AGENT)&&!t.exports.IS_EDGE&&!t.exports.IS_EDGE_NEW&&!t.exports.IS_X5,t.exports.IS_SAFARI=/Safari/i.test(t.exports.USER_AGENT)&&!t.exports.IS_CHROME&&!t.exports.IS_EDGE_NEW,t.exports.IS_FIREFOX=/Firefox/i.test(t.exports.USER_AGENT),t.exports.IS_UC=/ucweb|UCBrowser|UBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_HUAWEI=/HuaweiBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_XIAOMI=/MiuiBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_OPPO=/HeyTapBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_VIVO=/VivoBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_MEIZU=/MZBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_SAMSUNG=/samsungbrowser/i.test(t.exports.USER_AGENT),document.all)try{var s=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");t.exports.HAS_FLASH=!!s}catch(e){t.exports.HAS_FLASH=!1}else navigator.plugins&&0<navigator.plugins.length?(s=navigator.plugins["Shockwave Flash"],t.exports.HAS_FLASH=!!s):t.exports.HAS_FLASH=!1;t.exports.IS_MAC_SAFARI=t.exports.IS_MAC&&t.exports.IS_SAFARI&&!t.exports.IS_CHROME&&!t.exports.HAS_FLASH,t.exports.IS_IOS=t.exports.IS_IPHONE||t.exports.IS_IPAD||t.exports.IS_IPOD,t.exports.IOS_VERSION=function(){var e=t.exports.USER_AGENT.match(/OS (\d+)_/i);if(e&&e[1])return e[1]}(),t.exports.IS_ANDROID=/Android/i.test(t.exports.USER_AGENT),t.exports.ANDROID_VERSION=(s=t.exports.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i))?(n=s[1]&&parseFloat(s[1]),r=s[2]&&parseFloat(s[2]),n&&r?parseFloat(s[1]+"."+s[2]):n||null):null,t.exports.IS_OLD_ANDROID=t.exports.IS_ANDROID&&/webkit/i.test(t.exports.USER_AGENT)&&t.exports.ANDROID_VERSION<2.3,t.exports.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),t.exports.IS_MOBILE=t.exports.IS_IOS||t.exports.IS_ANDROID,t.exports.IS_H5=t.exports.IS_MOBILE||!t.exports.HAS_FLASH,t.exports.IS_PC=!t.exports.IS_MOBILE,t.exports.is_X5=/micromessenger/i.test(t.exports.USER_AGENT)||/qqbrowser/i.test(t.exports.USER_AGENT),t.exports.IS_ANDROID_FIREFOX=t.exports.IS_ANDROID&&t.exports.IS_FIREFOX,t.exports.CHROME_VERSION=t.exports.IS_CHROME&&t.exports.USER_AGENT.match(/Chrome\/(\d+)/i)[1],t.exports.getHost=function(e){var t,i,r="";return void 0===e||null==e||""==e?"":(t=e.indexOf("//"),i=e,r=i=-1<t?e.substring(t+2):i,(e=(r=(e=i.split("/"))&&0<e.length?e[0]:r).split(":"))&&0<e.length?e[0]:r)},t.exports.dingTalk=function(){var e=t.exports.USER_AGENT.toLowerCase();return/dingtalk/i.test(e)},t.exports.IS_DINGTALK=t.exports.dingTalk(),t.exports.wechat=function(){var e=t.exports.USER_AGENT.toLowerCase();return/micromessenger/i.test(e)},t.exports.inIFrame=function(){return self!=top},t.exports.getReferer=function(){var i=document.referrer;if(t.exports.inIFrame())try{i=top.document.referrer}catch(e){i=document.referrer}return i},t.exports.getHref=function(){if(location.href,t.exports.inIFrame())try{top.location.href}catch(e){location.href}return location.href},t.exports.check360=function(){return-1!=navigator.userAgent.indexOf("Safari")?function(){var e=navigator.userAgent.split(" ");if(-1!=e[e.length-1].indexOf("Safari"))for(var t in navigator.plugins)if("np-mswmp.dll"==navigator.plugins[t].filename)return!0;return!1}():(null==navigator.msPointerEnabled||navigator.msPointerEnabled)&&(1==navigator.msDoNotTrack||1==window.doNotTrack)&&(!!Number(window.screenX)&&window.screenLeft-window.screenX!=8||(-1!=navigator.userAgent.indexOf("MSIE 7.0")||-1!=navigator.userAgent.indexOf("MSIE 8.0"))&&null==console.count)},r=t.exports,function(e,i){var r=this.os={},n=this.browser={},o=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),a=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!e.match(/\(Macintosh\; Intel /),l=e.match(/(iPad).*OS\s([\d_]+)/),u=e.match(/(iPod)(.*OS\s([\d_]+))?/),c=!l&&e.match(/(iPhone\sOS)\s([\d_]+)/),d=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),f=(i=/Win\d{2}|Windows/.test(i),e.match(/Windows Phone ([\d.]+)/)),h=d&&e.match(/TouchPad/),p=e.match(/Kindle\/([\d.]+)/),v=e.match(/Silk\/([\d._]+)/),g=e.match(/(BlackBerry).*Version\/([\d.]+)/),y=e.match(/(BB10).*Version\/([\d.]+)/),m=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),_=e.match(/PlayBook/),b=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),S=e.match(/Firefox\/([\d.]+)/),T=e.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),E=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),w=!b&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),k=w||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(n.webkit=!!o)&&(n.version=o[1]),a&&(r.android=!0,r.version=a[2]),c&&!u&&(r.ios=r.iphone=!0,r.version=c[2].replace(/_/g,".")),l&&(r.ios=r.ipad=!0,r.version=l[2].replace(/_/g,".")),u&&(r.ios=r.ipod=!0,r.version=u[3]?u[3].replace(/_/g,"."):null),f&&(r.wp=!0,r.version=f[1]),d&&(r.webos=!0,r.version=d[2]),h&&(r.touchpad=!0),g&&(r.blackberry=!0,r.version=g[2]),y&&(r.bb10=!0,r.version=y[2]),m&&(r.rimtabletos=!0,r.version=m[2]),_&&(n.playbook=!0),p&&(r.kindle=!0,r.version=p[1]),v&&(n.silk=!0,n.version=v[1]),!v&&r.android&&e.match(/Kindle Fire/)&&(n.silk=!0),b&&(n.chrome=!0,n.version=b[1]),S&&(n.firefox=!0,n.version=S[1]),T&&(r.firefoxos=!0,r.version=T[1]),E&&(n.ie=!0,n.version=E[1]),k&&(s||r.ios||i||a)&&(n.safari=!0,r.ios||r.android||(n.version=k[1])),r.ios&&(n.version=r.version),w&&(n.webview=!0),s&&((o=e.match(/[\d]*_[\d]*_[\d]*/))&&0<o.length&&o[0]&&(r.version=o[0].replace(/_/g,".")),/MQBHD/.test(e))&&(n.version=((e.match(/.*OS\s([\d_]+)/)||[])[1]||"").replace(/_/g,".")),r.tablet=!!(l||_||a&&!e.match(/Mobile/)||S&&e.match(/Tablet/)||E&&!e.match(/Phone/)&&e.match(/Touch/)),r.phone=!(r.tablet||r.ipod||!(a||c||d||g||y||b&&e.match(/Android/)||b&&e.match(/CriOS\/([\d.]+)/)||S&&e.match(/Mobile/)||E&&e.match(/Touch/))),r.pc=!r.tablet&&!r.phone,s?r.name="macOS":i?(r.name="windows",r.version=function(){var e=navigator.userAgent,t="";return(-1<e.indexOf("Windows NT 5.0")||-1<e.indexOf("Windows 2000"))&&(t="2000"),(-1<e.indexOf("Windows NT 5.1")||-1<e.indexOf("Windows XP"))&&(t="XP"),(-1<e.indexOf("Windows NT 5.2")||-1<e.indexOf("Windows 2003"))&&(t="2003"),(-1<e.indexOf("Windows NT 6.0")||-1<e.indexOf("Windows Vista"))&&(t="Vista"),(-1<e.indexOf("Windows NT 6.1")||-1<e.indexOf("Windows 7"))&&(t="7"),(-1<e.indexOf("Windows NT 6.2")||-1<e.indexOf("Windows 8"))&&(t="8"),(-1<e.indexOf("Windows NT 6.3")||-1<e.indexOf("Windows 8.1"))&&(t="8.1"),(-1<e.indexOf("Windows NT 10")||-1<e.indexOf("Windows 10"))&&(t="10"),t}()):r.name=function(){var e=navigator.userAgent,i="other",r=t.exports.os;return r.ios?"iOS":r.android?"android":-1<e.indexOf("Baiduspider")?"Baiduspider":-1<e.indexOf("PlayStation")?"PS4":(r="Win32"==navigator.platform||"Windows"==navigator.platform||-1<e.indexOf("Windows"),e="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform,e&&(i="macOS"),"X11"!=navigator.platform||r||e||(i="Unix"),-1<String(navigator.platform).indexOf("Linux")&&(i="Linux"),r?"windows":i)}(),n.name=(u=navigator.userAgent.toLowerCase(),(f=t.exports.browser).firefox?"Firefox":f.ie?/edge/.test(u)?"Edge":"IE":t.exports.IS_EDGE_NEW?"EdgeChromium":/micromessenger/.test(u)?"\u5fae\u4fe1\u5185\u7f6e\u6d4f\u89c8\u5668":/qqbrowser/.test(u)?"QQ\u6d4f\u89c8\u5668":t.exports.IS_UC?"UC":t.exports.IS_DINGTALK?"Dingtalk":t.exports.IS_HUAWEI?"HuaweiBrowser":t.exports.IS_XIAOMI?"MiBrowser":t.exports.IS_OPPO?"OppoBrowser":t.exports.IS_VIVO?"VivoBrowser":t.exports.IS_MEIZU?"MeizuBrowser":t.exports.IS_SAMSUNG?"SamsungBrowser":t.exports.IS_WEBVIEW||/MQBHD/.test(u)?"webview":f.chrome?"Chrome":f.safari?"Safari":/baiduspider/.test(u)?"Baiduspider":/opera/.test(u)?"Opera":/360se/.test(u)?"360\u6d4f\u89c8\u5668":/bidubrowser/.test(u)?"\u767e\u5ea6\u6d4f\u89c8\u5668":/metasr/.test(u)?"\u641c\u72d7\u6d4f\u89c8\u5668":/lbbrowser/.test(u)?"\u730e\u8c79\u6d4f\u89c8\u5668":/playstation/.test(u)?"PS4\u6d4f\u89c8\u5668":void 0)}.call(r,navigator.userAgent,navigator.platform),t.exports.IS_WEBVIEW=(n=t.exports.USER_AGENT,o=new RegExp("("+["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(wv|.0.0.0)","Linux; U; Android"].join("|")+")","ig"),a=new RegExp("("+["VivoBrowser","MZBrowser","MiuiBrowser"].join("|")+")","ig"),!!n.match(o)&&!n.match(a))},{}],50:[function(e,t,i){var r=e("./dom");t.exports.getAbsoluteURL=function(e){return e.match(/^https?:\/\//)?e:r.createEl("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href},t.exports.parseUrl=function(e){var t,i=["protocol","hostname","port","pathname","search","hash","host"],n=r.createEl("a",{href:e}),o=""===n.host&&"file:"!==n.protocol;o&&((t=r.createEl("div")).innerHTML='<a href="'+e+'"></a>',n=t.firstChild,t.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(t));for(var a={},s=0;s<i.length;s++)a[i[s]]=n[i[s]];return a.segments=n.pathname.replace(/^\//,"").split("/"),o&&document.body.removeChild(t),a}},{"./dom":32}],51:[function(e,t,i){var r=e("./dom"),n=e("./ua"),o=e("./playerutil");t.exports.formatTime=function(e){e=Math.floor(e);var t,i=Math.floor(e/3600);return e%=3600,t=Math.floor(e/60),e%=60,!(i===1/0||isNaN(i)||t===1/0||isNaN(t)||e==1/0||isNaN(e))&&("00"===(i=10<=i?i:"0"+i)?"":i+":")+(10<=t?t:"0"+t)+":"+(10<=e?e:"0"+e)},t.exports.extractTime=function(e){var t;return e?("00"===(t=10<=(t=parseInt(e.getHours()))?t:"0"+t)?"":t+":")+(t=10<=(t=parseInt(e.getMinutes()))?t:"0"+t)+":"+(t=10<=(t=parseInt(e.getSeconds()))?t:"0"+t):""},t.exports.convertToTimestamp=function(e,t){var i="";return e&&(t?i=e.gettime():(i=Date.parse(e),i/=1e3)),i},t.exports.convertToDate=function(e,t){var i="";return e&&(i=new Date).setTime(1e3*e),i},t.exports.parseTime=function(e){var t,i,r;return e?(r=i=t=0,3===(e=e.split(":")).length?(t=e[0],i=e[1],r=e[2]):2===e.length?(i=e[0],r=e[1]):1===e.length&&(r=e[0]),3600*(t=parseInt(t,10))+60*(i=parseInt(i,10))+(r=Math.ceil(parseFloat(r)))):"00:00:00"},t.exports.formatDate=function(e,t){var i,r={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[i]:("00"+r[i]).substr((""+r[i]).length)));return t},t.exports.sleep=function(e){for(var t=Date.now();Date.now()-t<=e;);},t.exports.htmlEncodeAll=function(e){return null==e?"":e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},t.exports.toBinary=function(e){if(!window.atob)return"";for(var t=atob(e),i=t.length,r=new Uint8Array(i),n=0;n<i;n++)r[n]=t.charCodeAt(n);return r},t.exports.readyBinary=function(e){for(var t=new Uint8Array(e),i=t.length,r="",n=0;n<i;n++)r+=t[n];return r},t.exports.delayHide=function(e,t){e&&(void 0===t&&(t=1e3),e.delayHanlder&&clearTimeout(e.delayHanlder),e.delayHanlder=setTimeout((function(){r.css(e,"display","none")}),t))},t.exports.openInFile=function(){return-1!=window.location.protocol.toLowerCase().indexOf("file")},t.exports.contentProtocolMixed=function(e,t){return!!((n.os.pc&&(o.isHls(e)&&!n.browser.safari||o.isFlv(e))||t)&&"https:"==window.location.protocol.toLowerCase()&&e&&-1<e.toLowerCase().indexOf("http://"))},t.exports.queryString=function(e){var t,i,r;return 2===(e=(e=decodeURIComponent(e)).split("?")).length&&(e=e[1],t=e.split("&"))?(i={},r=0,$(t).each((function(){var e=t[r].split("=");2===e.length&&(i[e[0]]=e[1].replace(/\+/g," ")),r++})),i):{}},t.exports.log=function(e){var i=window.location.href;i=t.exports.queryString(i);i&&1==i.debug&&__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}},{"./dom":32,"./playerutil":46,"./ua":49}],52:[function(e,t,i){var r,n="undefined"==typeof Promise?e("es6-promise").Promise:Promise;e=this,r=function(){return t={926:function(e){var t=Object.prototype.hasOwnProperty;function i(e){return"[Throws: "+(e?e.message:"?")+"]"}function r(e){var r=[];return function e(n){if(null===n||"object"!=_typeof(n))return n;if(-1!==r.indexOf(n))return"[Circular]";if(r.push(n),"function"==typeof n.toJSON)try{var o=e(n.toJSON());return r.pop(),o}catch(e){return i(e)}return o=Array.isArray(n)?n.map(e):Object.keys(n).reduce((function(i,r){return i[r]=e(function(e,i){return t.call(e,i),e[i]}(n,r)),i}),{}),r.pop(),o}(e)}e.exports=function(e,t,i){return JSON.stringify(r(e),t,i)},e.exports.ensureProperties=r}},i={},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},e.d=function(t,i){for(var r in i)e.o(i,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r={},function(){"use strict";e.r(r),e.d(r,{AACParser:function(){return t},AvcSPS:function(){return M},BasicLoader:function(){return xe},BitBuffer:function(){return h},Box:function(){return z},ByteBuffer:function(){return o},CTrackTypeMap:function(){return V},Demuxer:function(){return vn},DiscardType:function(){return A},EFormatType:function(){return I},EH264NALType:function(){return y},EH265NALType:function(){return b},EHandlerType:function(){return L},ELoaderStatus:function(){return Se},ESampleFlag:function(){return $},ETrackType:function(){return P},ErrorCode:function(){return C},ExpGolomb:function(){return D},FLVParser:function(){return nt},FullBox:function(){return Y},H264NAL:function(){return E},H265NAL:function(){return k},HevcSPS:function(){return B},Loader:function(){return Le},MP4Parser:function(){return Vr}});var t={},i=(e.r(t),e.d(t,{AAC_DURATION:function(){return s},AAC_SAMPLING_FREQUENCIES:function(){return a},addADTSHeader:function(){return l},getADTSHeaderLength:function(){return c},getADTSLength:function(){return d},isADTS:function(){return u},readAACSamples:function(){return f}}),{}),o=(e.r(i),e.d(i,{Box:function(){return z},avc1:function(){return at},avcC:function(){return Q},btrt:function(){return lt},co64:function(){return Pr},ctts:function(){return Lr},dinf:function(){return ot},dref:function(){return ut},edts:function(){return ot},elst:function(){return kt},esds:function(){return Ht},ftyp:function(){return $t},hdlr:function(){return Vt},hev1:function(){return st},hvc1:function(){return st},hvcC:function(){return ne},mdat:function(){return Gt},mdhd:function(){return Kt},mdia:function(){return ot},mfhd:function(){return ii},mfra:function(){return ot},minf:function(){return ot},moof:function(){return ei},moov:function(){return ot},mp4a:function(){return qt},mvex:function(){return ri},mvhd:function(){return Wt},pasp:function(){return Qt},sdtp:function(){return ni},sidx:function(){return oi},stbl:function(){return ot},stco:function(){return Ir},stsc:function(){return Dr},stsd:function(){return Rr},stss:function(){return Or},stsz:function(){return Mr},stts:function(){return Fr},tfdt:function(){return Wi},tfhd:function(){return _r},tkhd:function(){return Xt},traf:function(){return ti},trak:function(){return ot},trex:function(){return wr},trun:function(){return Cr},url:function(){return Jt},vmhd:function(){return Zt}}),v.concatUint8s=function(e){return this.concatUint8.apply(this,e)},v.concatUint8=function(){for(var e,t,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return i.length<=1?i[0]||new Uint8Array(0):(e=new Uint8Array(i.reduce((function(e,t){return e+t.byteLength}),0)),t=0,i.forEach((function(i){e.set(i,t),t+=i.byteLength})),e)},v.concat=function(e,t){return v.concatUint8(new Uint8Array(e),new Uint8Array(t)).buffer},Object.defineProperty(v.prototype,"buffer",{get:function(){return this.dv.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"unreadLength",{get:function(){return Math.max(this.end-this.offset,0)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),v.prototype.readFloat=function(e){var t=0;switch(e){case 4:t=this.dv.getFloat32(this.offset);break;case 8:t=this.dv.getFloat64(this.offset);break;default:throw new Error("not supported for read float byte with "+e)}return this.offset+=e,t},v.prototype.back=function(e){this.offset-=e},v.prototype.skip=function(e){this.offset+=e},v.prototype.readInt=function(e){var t=this.offset;switch(this.offset+=e,e){case 1:return this.dv.getInt8(t);case 2:return this.dv.getInt16(t);case 4:return this.dv.getInt32(t);default:throw new Error("not supported for read byte with "+e)}},v.prototype.read=function(e){var t=this.offset;switch(this.offset+=e,e){case 1:return this.dv.getUint8(t);case 2:return this.dv.getUint16(t);case 3:return(this.dv.getUint16(t)<<8)+this.dv.getUint8(t+2);case 4:return this.dv.getUint32(t);default:return this.back(e-4),this.read(e-4)+this.dv.getUint32(t)*Math.pow(256,e-4)}},v.prototype.writeInt=function(e,t){var i=this.offset;switch(this.offset+=e,e){case 1:return this.dv.setInt8(i,t);case 2:return this.dv.setInt16(i,t);case 3:return this.dv.setInt8(i,t>>16),this.dv.setInt16(i+1,65535&t);case 4:return this.dv.setInt32(i,t);default:throw new Error("\u4e0d\u652f\u6301Byte write "+e)}},v.prototype.write=function(e,t){var i=this.offset;switch(this.offset+=e,e){case 1:return this.dv.setUint8(i,t);case 2:return this.dv.setUint16(i,t);case 3:return this.dv.setUint8(i,t>>>16),this.dv.setUint16(i+1,65535&t);case 4:return this.dv.setUint32(i,t);default:throw new Error("\u4e0d\u652f\u6301Byte write "+e)}},v.prototype.readToUint8=function(e){return e=new Uint8Array(this.dv.buffer,this.offset,e||this.unreadLength),this.offset+=e.byteLength,e},v.prototype.readToBuffer=function(e){return e=this.offset||e?this.dv.buffer.slice(this.offset,e?this.offset+e:void 0):this.dv.buffer,this.offset+=e.byteLength,e},v),a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],s=1024,l=function(e,t){var i=t.audioObjectType,r=t.sampleRate,n=t.channelCount,s=(t=void 0===(t=t.numberOfRawDataBlocksInFrame)?0:t,e.byteLength+7),l=(r=a.indexOf(r),new Uint8Array(7));return l[0]=255,l[1]=241,l[2]=i-1<<6,l[2]|=r<<2,l[2]|=(4&n)>>2,l[3]=(3&n)<<6,l[3]|=(6144&s)>>11,l[4]=(2047&s)>>3,l[5]=(7&s)<<5,l[5]|=31,l[6]=252,l[6]|=3&t,o.concatUint8(l,e)},u=function(e,t){return t<e.byteLength-1&&255===e[t]&&240==(246&e[t+1])},c=function(e,t){return 1&e[t+1]?7:9},d=function(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5},f=function(e){for(var t,i,r=[],n=0,o=e.byteLength;n+5<o;)u(e,n)?(t=c(e,n),i=d(e,n),r.push({audioObjectType:1+(e[2]>>>6),sampleRate:a[e[2]>>>2&15],samplingFrequencyIndex:e[2]>>>2&15,channelCount:(1&e[2])<<2|e[3]>>>6,numberOfRawDataBlocksInFrame:0,data:e.subarray(n+t,n+i)}),n+=i):n++;return r},h=(p.fromByte=function(e,t){return new p(e.read(t),t<<3)},p.prototype.skip=function(e){this.offset+=e},p.prototype.read=function(e){var t=this.len-this.offset-e;if(0<=t){for(var i=0,r=0;r<e;r++)i+=1<<r;return this.offset+=e,this.num>>>t&i}return __f__("warn","bit \u8bfb\u53d6\u4f4d\u6570\u8d85\u8fc7\u9650\u5236"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),0},p);function p(e,t){this.num=e,this.len=t,this.offset=0}function v(e,t,i){this.dv=new DataView(e),this.start=this.offset=t||this.dv.byteOffset,this.end=i?this.start+i:this.dv.byteLength}_.createAnnexbStartCode=function(){return new Uint8Array([0,0,0,1])},_.createAVCCStartCode=function(e){return new Uint8Array([e>>24&255,e>>16&255,e>>8&255,255&e])},_.extractAVCCNAL=function(e,t){for(var i,r=[],n=new o(e.buffer,e.byteOffset,e.byteLength);n.unreadLength>t;){if((i=n.read(t+1))<=0||i>n.unreadLength){__f__("warn","extract avc nalu size wrong! lengthSizeMinusOne:",t,"size:",i," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");break}var a=n.offset-n.start;r.push(e.subarray(a,a+i)),n.skip(i)}return r},_.extractAnnexbNAL=function(e){for(var t=e.byteLength,i=[],r=0;r<t-3;)0===e[r]?0===e[r+1]?0===e[r+2]?0===e[r+3]?r++:(1===e[r+3]&&r+4<t&&i.push({prefixStart:r,start:r+4}),r+=4):(1===e[r+2]&&i.push({prefixStart:r,start:r+3}),r+=3):r+=2:r++;return i.length?i.map((function(t,r){return r=i[r+1],r?e.subarray(t.start,r.prefixStart):e.subarray(t.start)})):[]};var g,y,m=_;function _(){}g=function(e,t){return(g=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},(w=y=y||{})[w.UNUSED=0]="UNUSED",w[w.NON_IDR_SLICE=1]="NON_IDR_SLICE",w[w.SLICE_DP_A=2]="SLICE_DP_A",w[w.SLICE_DP_B=3]="SLICE_DP_B",w[w.SLICE_DP_C=4]="SLICE_DP_C",w[w.SLICE_IDR=5]="SLICE_IDR",w[w.SEI=6]="SEI",w[w.SPS=7]="SPS",w[w.PPS=8]="PPS",w[w.DIVIDER=9]="DIVIDER",w[w.SEQUENCE_END=10]="SEQUENCE_END",w[w.STREAM_END=11]="STREAM_END",w[w.FILL=12]="FILL";var b,S,T,E=function(e){function t(t){var i=e.call(this)||this;t=new h(t.read(1),8);return i.forbiddenZeroBit=t.read(1),i.nalRefIdc=t.read(2),i.nalType=t.read(5),i}var i=t,r=e;if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=i}return g(i,r),i.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n),t.extractNALType=function(e){return 31&e[0]},t.isSlice=function(e){return e=this.extractNALType(e),e>=y.NON_IDR_SLICE&&e<=y.SLICE_IDR},t}(m),w=(S=function(e){function t(t,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return(S=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)})),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),k=((oe=b=b||{})[oe.TRAIL_N=0]="TRAIL_N",oe[oe.TRAIL_R=1]="TRAIL_R",oe[oe.TSA_N=2]="TSA_N",oe[oe.TSA_R=3]="TSA_R",oe[oe.STSA_N=4]="STSA_N",oe[oe.STSA_R=5]="STSA_R",oe[oe.RADL_N=6]="RADL_N",oe[oe.RADL_R=7]="RADL_R",oe[oe.RASL_N=8]="RASL_N",oe[oe.RASL_R=9]="RASL_R",oe[oe.VCL_N10=10]="VCL_N10",oe[oe.VCL_R11=11]="VCL_R11",oe[oe.VCL_N12=12]="VCL_N12",oe[oe.VCL_R13=13]="VCL_R13",oe[oe.VCL_N14=14]="VCL_N14",oe[oe.VCL_R15=15]="VCL_R15",oe[oe.BLA_W_LP=16]="BLA_W_LP",oe[oe.BLA_W_RADL=17]="BLA_W_RADL",oe[oe.BLA_N_LP=18]="BLA_N_LP",oe[oe.IDR_W_RADL=19]="IDR_W_RADL",oe[oe.IDR_N_LP=20]="IDR_N_LP",oe[oe.CRA=21]="CRA",oe[oe.VPS=32]="VPS",oe[oe.SPS=33]="SPS",oe[oe.PPS=34]="PPS",oe[oe.ACCESS_UNIT_DELIMITER=35]="ACCESS_UNIT_DELIMITER",oe[oe.EOS=36]="EOS",oe[oe.EOB=37]="EOB",oe[oe.FILLER_DATA=38]="FILLER_DATA",oe[oe.SEI=39]="SEI",oe[oe.SEI_SUFFIX=40]="SEI_SUFFIX",oe[oe.INVALID=64]="INVALID",w(x,T=m),x.extractNALType=function(e,t){return(126&e[t=void 0===t?0:t])>>1},x.isNonRefNALType=function(e){switch(e){case b.TRAIL_N:case b.STSA_N:case b.RADL_N:case b.RASL_N:case b.VCL_N10:case b.VCL_N12:case b.VCL_N14:return!0;default:return!1}},x.isNonRef=function(e){return this.isNonRefNALType(this.extractNALType(e))},x.isSlice=function(e){return e=this.extractNALType(e),e>=b.TRAIL_N&&e<=b.CRA},x.littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]},x.parseHVCVideoData=function(e,t){for(var i=e.byteLength,r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=[],o=0,a=0+t,s=this.littleEndian,l=!1;o<i;){if(i<=o+4){__f__("warn","parseHVCVideoData Malformed Nalu near timestamp "+a+", offset = "+o+", dataSize = "+i," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");break}var u=r.getUint32(o,!s);if(i-4<u)return void __f__("warn","parseHVCVideoData Malformed Nalus near timestamp "+a+", NaluSize > DataSize!"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");var c=r.getUint8(o+4)>>1&63,d=(16<=c&&c<=23&&(l=!0),0+o+4);c={type:c,data:e.subarray(d,d+u)};n.push(c),o+=4+u}return{keyframe:l,units:n}},x);function x(e){var t=T.call(this)||this;e=new h(e.read(2),16);return t.forbiddenZeroBit=e.read(1),t.nalType=e.read(6),t.nhLayerId=e.read(6),t.nhTimeId=e.read(3),t}H.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,i=e.byteLength-t,r=new Uint8Array(4);t=Math.min(4,t);if(0===t)throw new Error("no bytes available");r.set(e.subarray(i,i+t)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*t,this.bytesAvailable-=t},H.prototype.skipBits=function(e){var t;this.bitsAvailable>e||(e=(e-=this.bitsAvailable)-((t=e>>3)<<3),this.bytesAvailable-=t,this.loadWord()),this.word<<=e,this.bitsAvailable-=e},H.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),i=this.word>>>32-t;return 32<e&&__f__("error","Cannot read more than 32 bits at a time"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),this.bitsAvailable-=t,0<this.bitsAvailable?this.word<<=t:0<this.bytesAvailable&&this.loadWord(),0<(t=e-t)&&this.bitsAvailable?i<<t|this.readBits(t):i},H.prototype.skipLZ=function(){for(var e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},H.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},H.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},H.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},H.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},H.prototype.readUByte=function(){return this.readBits(8)},H.prototype.readUShort=function(){return this.readBits(16)},H.prototype.readUInt=function(){return this.readBits(32)},H.prototype.skipScalingList=function(e){for(var t=8,i=8,r=0;r<e;r++)t=0===(i=0!==i?(t+this.readEG()+256)%256:i)?t:i};var A,C,L,I,P,D=H,R=[100,110,122,244,44,83,86,118,128,138,144],O=[[0,1],[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]],M=(j.generateCodec=function(e){return"avc1."+[e.generalProfileIdc,e.generalProfileCompatibility,e.generalLevelIdc].map((function(e){return(e=e.toString(16)).length<2?"0"+e:e})).join("")},j),N=[1,2,2,1],F=[1,2,1,1],B=(U.generateCodec=function(e){var t=["hvc1"],i=e.generalProfileSpace;return 0<i&&i<4&&t.push(String.fromCharCode(64+i)),t.push(e.generalProfileIdc.toString()),t.push(e.generalProfileCompatibilityFlags.reverse().reduce((function(e,t){return e<<1|t}),0).toString(16)),t.push((e.generalTierFlag?"H":"L")+e.generalLevelIdc),e.generalConstraintIndicatorFlags.forEach((function(e){e&&t.push(e.toString(16))})),t.join(".")},U);function U(e){var t=this;this.generalProfileSpace=0,this.generalTierFlag=0,this.generalProfileIdc=0,this.generalProfileCompatibilityFlags=[],this.generalConstraintIndicatorFlags=[],this.subLayerProfilePresentFlags=[],this.subLayerLevelPresentFlags=[],this.separateColourPlaneFlag=0,this.pixelRatio=[],this.codec="",this.checkProfileIdc=function(e){return t.generalProfileIdc===e||t.generalProfileCompatibilityFlags[e]};var i,r,n,o,a=new D(e);for(this.vpsId=a.readBits(4),this.maxSubLayersMinus1=a.readBits(3),this.temporalIdNestingFlag=a.readBits(1),this.generalProfileSpace=a.readBits(2),this.generalTierFlag=a.readBits(1),this.generalProfileIdc=a.readBits(5),i=0;i<32;i++)this.generalProfileCompatibilityFlags[i]=a.readBits(1),0===this.generalProfileIdc&&0<i&&this.generalProfileCompatibilityFlags[i]&&(this.generalProfileIdc=i);for(i=0;i<6;i++)this.generalConstraintIndicatorFlags.push(a.readUByte());for(this.generalLevelIdc=a.readUByte(),i=0;i<this.maxSubLayersMinus1;i++)this.subLayerProfilePresentFlags[i]=a.readBits(1),this.subLayerLevelPresentFlags[i]=a.readBits(1);for(0<this.maxSubLayersMinus1&&a.skipBits(2*(8-this.maxSubLayersMinus1)),i=0;i<this.maxSubLayersMinus1;i++)this.subLayerProfilePresentFlags[i]&&a.skipBits(48),this.subLayerLevelPresentFlags[i]&&a.readUByte();this.spsId=a.readUEG(),this.codec=U.generateCodec(this),this.chromaFormatIdc=a.readUEG(),3===this.chromaFormatIdc&&(this.separateColourPlaneFlag=a.readBits(1)),this.separateColourPlaneFlag&&(this.chromaFormatIdc=0),this.width=a.readUEG(),this.height=a.readUEG(),a.readBits(1)&&(e=N[this.chromaFormatIdc],o=F[this.chromaFormatIdc],r=a.readUEG()*e,e=a.readUEG()*e,n=a.readUEG()*o,o=a.readUEG()*o,this.width-=r+e,this.height-=n+o)}function j(e){this.generalProfileSpace=0,this.generalTierFlag=0,this.generalProfileIdc=0,this.generalProfileCompatibility=0,this.crop=0,this.cropLeft=0,this.cropRight=0,this.cropTop=0,this.cropBottom=0,this.pixelRatio=[],this.codec="";var t,i,r=new D(e);if(this.generalProfileIdc=r.readUByte(),this.generalProfileCompatibility=r.readUByte(),this.generalLevelIdc=r.readUByte(),this.spsId=r.readUEG(),this.codec=j.generateCodec(this),-1<R.indexOf(this.generalProfileIdc)){if(this.chromaFormatIdc=r.readUEG(),3===this.chromaFormatIdc&&r.skipBits(1),r.skipUEG(),r.skipUEG(),r.skipBits(1),r.readBits(1))for(t=0,i=3===this.chromaFormatIdc?8:12;t<i;t++)r.readBits(1)&&(t<6?r.skipScalingList(16):r.skipScalingList(64))}else this.chromaFormatIdc=1;if(r.skipUEG(),e=r.readUEG(),0===e)r.skipUEG();else if(1===e)for(r.skipBits(1),r.skipEG(),r.skipEG(),t=0,i=r.readUEG();t<i;t++)r.skipEG();r.skipUEG(),r.skipBits(1);e=r.readUEG()+1;var n,o=r.readUEG()+1,a=r.readBits(1);a||r.skipBits(1),this.height=o*(2-a),r.skipBits(1),this.crop=r.readBits(1),this.crop&&(n=1<<(1===this.chromaFormatIdc||2===this.chromaFormatIdc?1:0),a=2-a<<(1===this.chromaFormatIdc?1:0),this.cropLeft=r.readUEG()*n,this.cropRight=r.readUEG()*n,this.cropTop=r.readUEG()*a,this.cropBottom=r.readUEG()*a),this.width=16*e-(this.cropRight+this.cropLeft),this.height=16*o-(this.cropTop+this.cropBottom),r.readBits(1)&&r.readBits(1)&&(255===(n=r.readUByte())?(this.pixelRatio[0]=r.readUByte()<<8|r.readUByte(),this.pixelRatio[1]=r.readUByte()<<8|r.readUByte()):n<O.length&&(this.pixelRatio=O[n]))}function H(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}(oe=A=A||{})[oe.NONE=-16]="NONE",oe[oe.DEFAULT=0]="DEFAULT",oe[oe.NONREF=8]="NONREF",oe[oe.BIDIR=16]="BIDIR",oe[oe.NONINTRA=24]="NONINTRA",oe[oe.NONKEY=32]="NONKEY",oe[oe.ALL=48]="ALL",(w=C=C||{})[w.ABORTED=1]="ABORTED",w[w.NETWORK=2]="NETWORK",w[w.DECODE=3]="DECODE",w[w.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",w[w.PARSER=1001]="PARSER",w[w.COROUTINE=10001]="COROUTINE",w[w.WEBGL_NOT_SUPPORTED=10002]="WEBGL_NOT_SUPPORTED",w[w.BUFFERING=10004]="BUFFERING",w[w.RENDERER=10005]="RENDERER",(oe=L=L||{}).VIDE="vide",oe.SOUN="soun",(w=I=I||{})[w.FLV=0]="FLV",w[w.MP4=1]="MP4",w[w.HLS=2]="HLS",w[w.MPEGTS=3]="MPEGTS",(oe=P=P||{})[oe.UNKNOWN=0]="UNKNOWN",oe[oe.VIDEO=1]="VIDEO",oe[oe.AUDIO=2]="AUDIO",(w={})[L.VIDE]=P.VIDEO,w[L.SOUN]=P.AUDIO;var $,V=w;function G(e,t){var i=e.offset;this.start=t,this.size=e.read(4),this.type=String.fromCharCode(e.read(1),e.read(1),e.read(1),e.read(1)).trim(),1===this.size&&(this.size=e.read(8)),this.length=e.offset-i}(oe=$=$||{})[oe.DEGRADATION_PRIORITY_MASK=65535]="DEGRADATION_PRIORITY_MASK",oe[oe.IS_NON_SYNC=65536]="IS_NON_SYNC",oe[oe.PADDING_MASK=917504]="PADDING_MASK",oe[oe.REDUNDANCY_MASK=3145728]="REDUNDANCY_MASK",oe[oe.DEPENDED_MASK=12582912]="DEPENDED_MASK",oe[oe.DEPENDS_MASK=50331648]="DEPENDS_MASK",oe[oe.DEPENDS_NO=33554432]="DEPENDS_NO",oe[oe.DEPENDS_YES=16777216]="DEPENDS_YES",re=function(e,t){return(re=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)};w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}re(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};var K,q=function(){return(q=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},W=new Date("1904-01-01T00:00:00Z").getTime(),z=(de.prototype.append=function(e){this.children.push(e)},de.mapBoxToJSON=function(e){return q({box:e},e.children.reduce((function(e,t){var i=t.header.type,r=e[i];t=de.mapBoxToJSON(t);return r?Array.isArray(r)?r.push(t):e[i]=[r,t]:e[i]=t,e}),{}))},de),Y=(w(ce,ie=z),ce);te=function(e,t){return(te=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}te(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(ue,ee=z);var Q=ue;function X(e){return e<10?"0"+e:e}Z=function(e,t){return(Z=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Z(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(le,J=z);var J,Z,ee,te,ie,re,ne=le,oe=e(926),ae=e.n(oe),se="undefined"!=typeof performance&&"function"==typeof performance.now;function le(e,t){var i,r=J.call(this,e,t)||this;r.nalus=[],r.vps=[],r.sps=[],r.pps=[],r.sei=[],r.configVersion=t.read(1),i=new h(t.read(1),8),r.generalProfileSpace=i.read(2),r.generalTierFlag=i.read(1),r.generalProfileIdc=i.read(5),i=new h(t.read(4),32),r.generalProfileCompatibilityFlags=Array.from(new Array(32)).map((function(){return i.read(1)})),r.generalConstraintIndicatorFlags=Array.from(new Array(6)).map((function(){return t.read(1)})),r.generalLevelIdc=t.read(1),r.minSpatialSegmentationIdc=4095&t.read(2),r.parallelismType=3&t.read(1),r.chromaFormatIdc=3&t.read(1),r.bitDepthLumaMinus8=7&t.read(1),r.bitDepthChromaMinus8=7&t.read(1),r.avgFrameRate=t.read(2),i=new h(t.read(1),8),r.constantFrameRate=i.read(2),r.numTemporalLayers=i.read(3),r.temporalIdNested=i.read(1),r.lengthSizeMinusOne=i.read(2),r.nalus=[];for(var n=t.read(1),o=0;o<n;o++){var a=[],s=(i=new h(t.read(1),8)).read(1);i.read(1);for(var l=i.read(6),u=t.read(2),c=0;c<u;c++)a.push(new Uint8Array(t.read(2)).map((function(){return t.read(1)})));r.nalus.push({completeness:s,type:l,data:a}),l===b.VPS?a.forEach((function(e){return r.vps.push(e)})):l===b.SPS?a.forEach((function(e){return r.sps.push(e)})):l===b.PPS?a.forEach((function(e){return r.pps.push(e)})):l===b.SEI&&a.forEach((function(e){return r.sei.push(e)}))}return r.codec=B.generateCodec(r),r}function ue(e,t){var i=ee.call(this,e,t)||this;i.sps=[],i.pps=[],i.configVersion=t.read(1),i.generalProfileIdc=t.read(1),i.generalProfileCompatibility=t.read(1),i.generalLevelIdc=t.read(1),i.lengthSizeMinusOne=3&t.read(1),i.numOfSequenceParameterSets=31&t.read(1);var r,n=0,o=[];for(n=0;n<i.numOfSequenceParameterSets;n++){for(r=t.read(2),o=[];r--;)o.push(t.read(1));i.sps.push(new Uint8Array(o))}for(i.numOfPictureParameterSets=31&t.read(1),n=0;n<i.numOfPictureParameterSets;n++){for(r=t.read(2),o=[];r--;)o.push(t.read(1));i.pps.push(new Uint8Array(o))}return i.codec=M.generateCodec(i),i}function ce(e,t){return e=ie.call(this,e,t)||this,e.version=t.read(1),e.flag=t.read(3),e}function de(e,t){this.children=[],this.isContainer=!1,this.toStandardTime=function(e){return e&&W+1e3*e},this.header=e}function fe(){return(se?performance:Date).now()}(w=K=K||{})[w.TRACE=-1]="TRACE",w[w.DEBUG=0]="DEBUG",w[w.LOG=1]="LOG",w[w.INFO=2]="INFO",w[w.WARN=10]="WARN",w[w.ERROR=11]="ERROR",w[w.NONE=1e3]="NONE";var he=K.INFO,pe=K.ERROR,ve=2e3,ge=fe(),ye=[],me=0;(oe=_e.prototype)._print=function(e,t){var i,r,n,o,a,s,l,u;he<=e&&(i=fe()-ge,n="["+K[e]+"]["+this.name+"]["+(r=i,void 0===(n=!0)&&(n=!0),u=Math.floor(r/1e3),n=void 0!==n&&n,((o=u)===1/0?o:(s=Math.floor(o/60),s-=60*(a=Math.floor(s/60)),o=Math.floor(o-60*(60*a+s)),l=[],(n||0<a)&&l.push(X(a)),l.push(X(s)),l.push(X(o)),l.join(":")))+".")+Math.floor(1e3*(r-1e3*u))+"]",ye.push({id:me++,level:e,name:this.name,timestamp:i,args:t,prefix:n,message:""}),ye.length>ve&&ye.shift(),pe<=e)&&(a=(K[e]||"").toLowerCase(),s=console[a])&&s.apply(void 0,[n].concat(t))},oe.getLogs=function(){return ye.map((function(e){return e.message=e.prefix+" "+e.args.map((function(e){return"string"==typeof e?e:ae()(e)})).join(" "),e}))},oe.clear=function(){ye=[]},oe.setSize=function(e){ve=e},oe.setLevel=function(e){he=e},oe.setPrintLevel=function(e){pe=e},oe.reset=function(){he=K.INFO,pe=K.ERROR,ve=2e3,ge=fe(),ye=[],me=0},w=_e;function _e(e){var t=this;this.trace=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t._print(K.TRACE,i)},this.debug=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t._print(K.DEBUG,i)},this.log=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t._print(K.LOG,i)},this.info=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t._print(K.INFO,i)},this.warn=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t._print(K.WARN,i)},this.error=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t._print(K.ERROR,i)},this.name=e}function be(){var e=this;this._eventMap={},this.listeners=function(t){return e._eventMap[t]||[]},this.emit=function(t,i){return t=e._eventMap[t],!!Array.isArray(t)&&(t.forEach((function(e){return e(i)})),!0)},this.off=function(t,i){var r=e._eventMap[t];return Array.isArray(r)&&(e._eventMap[t]=r.filter((function(e){return e!==i}))),e},this.removeAllListeners=function(t){return void 0===t?e._eventMap={}:e._eventMap[t]&&(e._eventMap[t]=[]),e},this.on=function(t,i){return e._eventMap[t]?e._eventMap[t].push(i):e._eventMap[t]=[i],e},this.once=function(t,i){return e.on(t,(function r(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];e.off(t,r),i.apply(e,n)})),e},this.proxy=function(t,i){i.forEach((function(i){e.on(i,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];e.unshift(i),t.emit.apply(t,e)}))}))},this.proxyOnce=function(t,i){i.forEach((function(i){e.once(i,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];e.unshift(i),t.emit.apply(t,e)}))}))}}w.LogLevel=K;var Se,Te,Ee,we,ke=new w("demuxer"),xe=(oe=(Te=function(e,t){return(Te=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Te(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),(w=Se=Se||{})[w.IDLE=0]="IDLE",w[w.LOADING=1]="LOADING",w[w.SUSPENGING=2]="SUSPENGING",w[w.ERROR=3]="ERROR",oe(Ce,Ee=be),Object.defineProperty(Ce.prototype,"eof",{get:function(){return this.offset===this.total},enumerable:!1,configurable:!0}),Ce.prototype._changeStatus=function(e){this.status!==e&&(ke.log("loader status changed: ".concat(Se[this.status]," -> ").concat(Se[e])),this.status=e)},Ce.prototype.jump=function(e){this.offset=e},Ce.prototype.load=function(e,t,i){return this.reset(),this.url=e,this.loadRange(t,i)},Ce.prototype.resume=function(){return this.loadRange(this.offset)},Ce.prototype.suspend=function(){this.abort(),this._changeStatus(Se.SUSPENGING)},Ce.prototype.reset=function(){this.abort(),this.offset=0,this.total=1/0,this.url=""},Ce.prototype.destroy=function(){this.removeAllListeners(),this.reset()},Ce),Ae={isIos:!1,isDingtalk:!1,isQQBrowser:!1};w=(window.navigator.userAgent||"").toLowerCase();function Ce(e){void 0===e&&(e={});var t=Ee.call(this)||this;return t.timeout=15e3,t.total=1/0,t.offset=0,t.status=Se.IDLE,t.url="",t._handleError=function(e){if("AbortError"===e.name)return!1;throw t._changeStatus(Se.ERROR),t.emit("error",{code:C.NETWORK,message:e.message,origin:e}),e},t.timeout=e.timeout||t.timeout,t}/(iPhone\sOS)\s([\d_]+)/i.test(w)&&(Ae.isIos=!0),-1<w.indexOf("dingtalk")?Ae.isDingtalk=!0:-1<w.indexOf("qqbrowser")&&(Ae.isQQBrowser=!0),Me=function(e,t){return(Me=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Me(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(je,Oe=xe),je.isSupported=function(){return Ae.isIos&&(Ae.isDingtalk||Ae.isQQBrowser)?(__f__("log","ios","isDingtalk",Ae.isDingtalk,"isQQBrowser",Ae.isQQBrowser," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),!1):"undefined"!=typeof AbortController&&"undefined"!=typeof ReadableStream},je.prototype.loadRange=function(e,t){var i=this;if(void 0===e&&(e=0),void 0===t&&(t=1/0),!this.url||e>=this.total)return n.resolve(!1);if(this.status===Se.LOADING||this.status===Se.ERROR)return n.resolve(!1);ke.info("\u6267\u884cload, from=".concat(e," to=").concat(t," url=").concat(this.url)),this.abort();var r=new Headers,o=0<e||t<1/0;return o&&(t=Math.min(this.total-1,t),r.set("Range","bytes=".concat(e,"-").concat(t===1/0?"":t))),this._changeStatus(Se.LOADING),this.controller=new AbortController,this.emit("loadstart",void 0),this.timer=setTimeout(this.triggerTimeout,this.timeout),fetch(this.url,{method:"GET",headers:r,signal:this.controller.signal}).then((function(t){var r,n;if(clearTimeout(i.timer),t.body&&200<=t.status&&t.status<300)return r=t.body.getReader(),i.offset=e,o?(n=t.headers.get("Content-Range")||"",i.total=Number(n.split("/")[1])||i.total):i.total=Number(t.headers.get("Content-Length"))||i.total,function e(){return r.read().then((function(t){return t.done?(i.controller=null,i._changeStatus(Se.IDLE),i.emit("loadend",void 0),!0):(i.offset+=t.value.byteLength,i.emit("progress",{offset:i.offset-t.value.byteLength,data:t.value}),e())}))}();throw new Error("\u5a92\u4f53\u6d41\u6570\u636e\u4e0d\u5b58\u5728")})).catch((function(e){return clearTimeout(i.timer),i._handleError(e)}))},oe=je,Re=function(e,t){return(Re=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Re(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Ue,De=xe),Ue.prototype.abort=function(){var e=this.xhr;e&&(e.onerror=null,e.onprogress=null,e.onloadend=null,e.onreadystatechange=null,e.abort(),this.xhr=null,this._resolve(!1)),this._changeStatus(Se.IDLE)},Ue.prototype.loadRange=function(e,t){var i=this;return void 0===e&&(e=0),void 0===t&&(t=1/0),!this.url||e>=this.total||this.status===Se.LOADING||this.status===Se.ERROR?n.resolve(!1):(this.abort(),new n((function(r,n){function o(){var e,t,r=a.responseText,n=r.length,o=l;0<n&&o<n&&(t=i.offset,i.offset+=n-o,l=n,i.emit("progress",{offset:t,data:(e=r.substring(o,n),new Uint8Array(e.length).map((function(t,i){return e.charCodeAt(i)})))}))}i.xhr=new XMLHttpRequest,i._resolve=r;var a=i.xhr,s=0<e||t<1/0,l=(a.open("GET",i.url),s&&a.setRequestHeader("Range","bytes=".concat(e,"-").concat(t===1/0?"":t)),a.onreadystatechange=function(){var e;a.readyState===a.HEADERS_RECEIVED&&200<=a.status&&a.status<300&&(s?(e=a.getResponseHeader("Content-Range")||"",i.total=Number(e.split("/")[1])||i.total):i.total=Number(a.getResponseHeader("Content-Length"))||i.total),a.readyState>=a.HEADERS_RECEIVED&&clearTimeout(i._timer)},i.offset=e,0);a.timeout=i.timeout,a.onprogress=o,a.onloadend=function(){o(),i.xhr=null,i._changeStatus(Se.IDLE),i.emit("loadend",void 0),r(!0)},a.onerror=function(e){i.xhr=null;try{i._handleError(new Error(e.constructor.name))}catch(e){n(e)}},a.overrideMimeType("text/plain; charset=x-user-defined"),i._changeStatus(Se.LOADING),i.emit("loadstart",void 0),i._timer=setTimeout(i.triggerTimeout,i.timeout),a.send()})))};w=Ue;var Le=oe.isSupported()?oe:w;Pe=function(e,t){return(Pe=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Pe(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Be,Ie=be),Object.defineProperty(Be.prototype,"loader",{get:function(){return this.customLoader||this.originLoader},enumerable:!1,configurable:!0}),Object.defineProperty(Be.prototype,"status",{get:function(){return this.loader.status},enumerable:!1,configurable:!0}),Be.probe=function(e){throw new Error("parser should implements static probe")},Be.prototype.onProgress=function(e){},Be.prototype.onLoadEnd=function(){},Be.prototype.load=function(e){return this.reset(),this.loader.load(e)},Be.prototype.suspend=function(){return this.loader.suspend()},Be.prototype.resume=function(){return this.loader.resume()},Be.prototype.reset=function(){this.loader.reset(),this.metadata=null},Be.prototype.destroy=function(){this.reset(),this.loader.off("progress",this.onProgress),this.loader.off("loadend",this.onLoadEnd),this.originLoader.destroy(),this.removeAllListeners()};oe=Be;var Ie,Pe,De,Re,Oe,Me,Ne=(Fe.BUFFER_LENGTH=9,Fe);function Fe(e){this.signature=String.fromCharCode(e.read(1),e.read(1),e.read(1)),this.version=e.read(1);var t=e.read(1);this.size=e.read(4),e=new h(t,8);e.read(5),this.hasAudio=!!e.read(1),e.read(1),this.hasVideo=!!e.read(1)}function Be(e){var t=Ie.call(this)||this;return t.skipFrame=A.DEFAULT,t.metadata=null,t.options=e,t.onProgress=t.onProgress.bind(t),t.onLoadEnd=t.onLoadEnd.bind(t),t.originLoader=new Le(t.options),t.customLoader=e.loader,t.loader.on("progress",t.onProgress),t.loader.on("loadend",t.onLoadEnd),t.skipFrame=e.skipFrame||A.DEFAULT,t}function Ue(){var e=null!==De&&De.apply(this,arguments)||this;return e.xhr=null,e._timer=-1,e._resolve=function(e){},e.triggerTimeout=function(){e.abort(),e._handleError(new Error("\u52a0\u8f7d\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5"))},e}function je(){var e=null!==Oe&&Oe.apply(this,arguments)||this;return e.controller=null,e.timer=-1,e.abort=function(){clearTimeout(e.timer),e.controller&&!e.controller.signal.aborted&&(e.controller.abort(),e.controller=null),e._changeStatus(Se.IDLE)},e.triggerTimeout=function(){e.abort(),e._handleError(new Error("\u52a0\u8f7d\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5"))},e}(w=we=we||{})[w.AUDIO=8]="AUDIO",w[w.VIDEO=9]="VIDEO",w[w.SCRIPT=18]="SCRIPT",$e.BUFFER_LENGTH=11;var He=$e;function $e(e){this.type=e.read(1),this.size=e.read(3),this.dts=e.read(3),this.dts|=e.read(1)<<24,e.skip(3)}var Ve,Ge=[5512,11025,22050,44100],Ke=[8,16];(w=Ve=Ve||{})[w.ADTS_HEADER=0]="ADTS_HEADER",w[w.RAW=1]="RAW",Je.readAudioSpecificConfig=function(e){return e=h.fromByte(e,2),{audioObjectType:e.read(5),sampleRate:a[e.read(4)],samplingFrequencyIndex:e.read(4),channelCount:e.read(4)}};var qe,We,ze,Ye,Qe,Xe=Je;function Je(e){var t=new h(e.read(1),8);this.codecId=t.read(4),this.sampleRate=Ge[t.read(2)],this.sampleSize=Ke[t.read(1)],this.soundType=t.read(1),this.packetType=e.read(1),this.data=e.readToUint8()}function Ze(e){var t=e.read(2);return Array.from(Array(t)).map((function(){var t=e.read(1);return 0<t?String.fromCharCode(t):""})).join("")}function et(e){var t=Ze(e);e=tt(e);return{key:t,value:e.value,objectEnd:e.objectEnd}}function tt(e){var t={value:null,objectEnd:!1},i=e.read(1);switch(i){case qe.NUMBER:t.value=e.readFloat(8);break;case qe.BOOLEAN:t.value=!!e.read(1);break;case qe.LONG_STRING:case qe.STRING:t.value=Ze(e);break;case qe.OBJECT_START:t.value=function(e){for(var t={};0<e.unreadLength;){var i=et(e);if(i.objectEnd)break;t[i.key]=i.value}return t}(e);break;case qe.ECMA_ARRAY:t.value=function(e){for(var t=e.read(4),i={};0<t--;){var r=et(e);i[r.key]=r.value}return i}(e);break;case qe.OBJECT_END:t.objectEnd=!0;break;case qe.STRICT_ARRAY:t.value=function(e){for(var t=e.read(4),i=[];0<t--;){var r=tt(e);i.push(r.value)}return i}(e);break;case qe.DATE:t.value=new Date(e.readFloat(8)+60*e.readInt(2)+1e3);break;default:__f__("warn","unknown AMF value type",i," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}return t}function it(e){this.name=tt(e).value,this.value=tt(e).value}function rt(e){var t=new h(e.read(1),8);this.type=t.read(4),this.codecId=t.read(4),this.packetType=e.read(1),this.cts=e.read(3)+4286578688^4286578688,this.data=e.readToUint8()}(w=qe=qe||{})[w.NUMBER=0]="NUMBER",w[w.BOOLEAN=1]="BOOLEAN",w[w.STRING=2]="STRING",w[w.OBJECT_START=3]="OBJECT_START",w[w.NULL=5]="NULL",w[w.UNDEFINED=6]="UNDEFINED",w[w.REFERENCE=7]="REFERENCE",w[w.ECMA_ARRAY=8]="ECMA_ARRAY",w[w.OBJECT_END=9]="OBJECT_END",w[w.STRICT_ARRAY=10]="STRICT_ARRAY",w[w.DATE=11]="DATE",w[w.LONG_STRING=12]="LONG_STRING",(w=We=We||{})[w.KEY=1]="KEY",w[w.INTER=2]="INTER",w[w.DISP_INTER=3]="DISP_INTER",w[w.GENERATED_KEY=4]="GENERATED_KEY",w[w.VIDEO_INFO_CMD=5]="VIDEO_INFO_CMD",(w=ze=ze||{})[w.JPEG=1]="JPEG",w[w.H263=2]="H263",w[w.SCREEN=3]="SCREEN",w[w.VP6=4]="VP6",w[w.VP6A=5]="VP6A",w[w.SCREEN2=6]="SCREEN2",w[w.H264=7]="H264",w[w.REALH263=8]="REALH263",w[w.MPEG4=9]="MPEG4",w[w.H265=12]="H265",(w=Ye=Ye||{})[w.AVC_SEQUENCE_HEADER=0]="AVC_SEQUENCE_HEADER",w[w.AVC_NALU=1]="AVC_NALU",w[w.AVC_END=2]="AVC_END",wt=function(e,t){return(wt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}wt(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Dt,Et=oe),Dt.probe=function(e){return!(e.byteLength<9)&&"FLV"===new Ne(new o(e.buffer,e.byteOffset,e.byteLength)).signature},Dt.prototype.parse=function(e,t){var i=[];if(e.byteLength){this.unhandleBuffer&&(e=o.concat(this.unhandleBuffer,e),t-=this.unhandleBuffer.byteLength,this.unhandleBuffer=null);var r=new o(e);for(!this.header&&r.unreadLength>=Ne.BUFFER_LENGTH&&(this.header=new Ne(r),!1===this.header.hasVideo&&(this.header.hasVideo=!0),r.skip(this.header.size-Ne.BUFFER_LENGTH));r.unreadLength>4+He.BUFFER_LENGTH;){r.skip(4);var n=new He(r);if(!(r.unreadLength>=n.size)){r.back(4+He.BUFFER_LENGTH);break}var a=new o(r.buffer,r.offset,n.size);switch(r.skip(n.size),n.type){case we.VIDEO:i=i.concat(this.parseVideoBody(n,a,r.offset+t));break;case we.AUDIO:i=i.concat(this.parseAudioBody(n,a,r.offset+t));break;case we.SCRIPT:this.parseScriptBody(n,a);break;default:return ke.warn("unknown tag type",n.type),i}}this.unhandleBuffer=r.unreadLength?r.readToBuffer():null}return i},Dt.prototype.checkMetadata=function(){var e=this.flvMetadata,t=this.header;if(t&&!this.metadata){var i=[];if(t.hasVideo){if(!this.videoTrackMeta||!this.videoLoaded)return void __f__("log","checkMetadata hasVideo no this.videoTrackMeta",this.videoTrackMeta,", this.videoLoaded",this.videoLoaded," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");this.videoTrackMeta.baseDTS=this.baseVideoDTS,this.videoTrackMeta.basePTS=this.baseVideoPTS,i.push(this.videoTrackMeta)}if(t.hasAudio){if(!this.audioTrackMeta||!this.audioLoaded)return void __f__("log","checkMetadata hasAudio no this.audioTrackMeta",this.audioTrackMeta,", this.audioLoaded",this.audioLoaded," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");this.audioTrackMeta.baseDTS=this.baseAudioDTS,this.audioTrackMeta.basePTS=this.baseAudioPTS,i.push(this.audioTrackMeta)}t=this.options;var r=t.live;t=t.progressive;this.metadata={formatType:I.FLV,live:!!r,progressive:!r&&!!t,url:this.loader.url,basePTS:Math.min.apply(Math,i.map((function(e){return e.basePTS||0}))),baseDTS:Math.min.apply(Math,i.map((function(e){return e.baseDTS||0}))),timescale:1e3,duration:1e3*((null==e?void 0:e.duration)||1/0),tracks:i},this.emit("loadedmetadata",this.metadata)}},Dt.prototype.parseVideoBody=function(e,t,i){var r=this,n=(t=new rt(t),this.emit("loadedtag",{header:e,body:t}),[]),a=t.type===We.KEY,s=!1;if(t.data.length)if(t.packetType===Ye.AVC_SEQUENCE_HEADER){var l=this.flvMetadata||{},u={type:P.VIDEO,id:2,baseDTS:0,basePTS:0,timescale:1e3,vps:[],sps:[],pps:[],sei:[],width:l.width||0,height:l.height||0,codec:"",pixelRatio:[]};t.codecId===ze.H264?(y=new G(new o(new ArrayBuffer(8)),0),d=new o(t.data.buffer,t.data.byteOffset,t.data.byteLength),l=new Q(y,d),u.pps=l.pps,u.sps=l.sps,u.codec=l.codec,(l=l.sps[0])&&(l=new M(l.subarray(1)),u.width=l.width,u.height=l.height)):t.codecId===ze.H265&&(__f__("log","parseVideoBody AVC_SEQUENCE_HEADER EVideoCodecID:",t.codecId,"body.data:",t.data," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),y=new G(new o(new ArrayBuffer(8)),0),d=new o(t.data.buffer,t.data.byteOffset,t.data.byteLength),l=new ne(y,d),__f__("log","parseVideoBody hvccBox",l," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),l.vps.forEach((function(e){return u.vps.push(e)})),l.pps.forEach((function(e){return u.pps.push(e)})),l.sps.forEach((function(e){return u.sps.push(e)})),l.sei.forEach((function(e){return u.sei.push(e)})),u.codec=l.codec,__f__("log","parseVideoBody AVC_SEQUENCE_HEADER trackMeta:",u," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")),this.videoTrackMeta=u,this.checkMetadata()}else{var c=[];if(t.codecId===ze.H265){if(this.skipFrame===A.NONREF&&k.isNonRefNALType(k.extractNALType(t.data,4)))return __f__("error","isNonRefNALType"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),[];var d,f,h,p,v,g,y=k.parseHVCVideoData(t.data.subarray(0),e.dts);null!=y&&y.units&&(d=y.units,f={type:P.VIDEO,id:2,baseDTS:0,basePTS:0,timescale:1e3,vps:[],sps:[],pps:[],sei:[],width:(null==(l=this.flvMetadata)?void 0:l.width)||0,height:(null==(l=this.flvMetadata)?void 0:l.height)||0,codec:"",pixelRatio:[]},h=[],p=[],v=[],g=[],d.forEach((function(e){var t;e.type===b.TRAIL_R||e.type===b.IDR_W_RADL?c.push(e.data):e.type===b.SPS?(a=!0,t=new B(function(e){for(var t=e.byteLength,i=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?i.push(r+=2):r++;if(0===i.length)return e;var n=t-i.length,o=new Uint8Array(n),a=0;for(r=0;r<n;a++,r++)a===i[0]&&(a++,i.shift()),o[r]=e[a];return o}(e.data)),f.width=t.width,f.height=t.height,f.pixelRatio=t.pixelRatio,f.codec=t.codec,h.push(e.data)):e.type===b.VPS?p.push(e.data):e.type===b.PPS?v.push(e.data):e.type===b.SEI&&g.push(e.data),s=k.isNonRefNALType(e.type)&&s})),p.length&&(f.vps=p),h.length&&(f.sps=h),v.length&&(f.pps=v),g.length&&(f.sei=g),y.keyframe)&&(this.videoTrackMeta?(p.forEach((function(e){var t;return null==(t=r.videoTrackMeta)?void 0:t.vps.push(e)})),h.forEach((function(e){var t;return null==(t=r.videoTrackMeta)?void 0:t.sps.push(e)})),v.forEach((function(e){var t;return null==(t=r.videoTrackMeta)?void 0:t.pps.push(e)})),g.forEach((function(e){var t;return null==(t=r.videoTrackMeta)?void 0:t.sei.push(e)}))):this.videoTrackMeta=f)}else c=m.extractAVCCNAL(t.data,3);if(!this.videoLoaded&&this.videoTrackMeta){if(!a)return[];this.videoLoaded=!0,this.baseVideoDTS=e.dts,this.baseVideoPTS=t.cts+e.dts,this.checkMetadata()}this.videoTrackMeta&&a&&(this.videoTrackMeta.pps.forEach((function(e){return c.unshift(e)})),this.videoTrackMeta.sps.forEach((function(e){return c.unshift(e)})),this.videoTrackMeta.vps.forEach((function(e){return c.unshift(e)})),this.videoTrackMeta.sei.forEach((function(e){return c.unshift(e)}))),c.length&&(d={trackId:2,codec:(null==(l=this.videoTrackMeta)?void 0:l.codec)||"",trackType:P.VIDEO,isSync:a||t.type===We.KEY,isNonRef:s,data:c,dts:e.dts+t.cts,pts:e.dts+t.cts,offset:i,size:c.reduce((function(e,t){return e+t.byteLength}),0)},n.push(d))}else ke.warn("[videox] flv parse empty data",e,t);return n},Dt.prototype.parseAudioBody=function(e,t,i){t=new Xe(t);var r,n=(this.emit("loadedtag",{header:e,body:t}),[]);return t.packetType===Ve.ADTS_HEADER?(r=new o(t.data.buffer,t.data.byteOffset,t.data.byteLength),r=Xe.readAudioSpecificConfig(r),this.audioTrackMeta={id:1,baseDTS:0,basePTS:0,type:P.AUDIO,codec:"mp4a.40."+r.audioObjectType,timescale:1e3,audioObjectType:r.audioObjectType,sampleRate:r.sampleRate,samplingFrequencyIndex:r.samplingFrequencyIndex,sampleSize:t.sampleSize,channelCount:r.channelCount},this.checkMetadata()):(this.audioLoaded||(this.audioLoaded=!0,this.baseAudioDTS=e.dts,this.baseAudioPTS=e.dts,this.checkMetadata()),n.push({codec:(null==(r=this.audioTrackMeta)?void 0:r.codec)||"",trackId:1,trackType:P.AUDIO,isSync:!0,isNonRef:!1,data:[t.data],dts:e.dts,pts:e.dts,offset:i,size:t.data.byteLength})),n},Dt.prototype.parseScriptBody=function(e,t){t=new it(t),this.emit("loadedtag",{header:e,body:t}),e=t.value,e&&"onMetaData"===t.name&&(this.flvMetadata=e,ke.info("flv script tag loaded, flv metadata:",this.flvMetadata))},Dt.prototype.onProgress=function(e){var t=e.data;e=e.offset;t.byteLength&&(t=this.parse(t.buffer,e)).length&&(e=void 0,this.cachePackets.length?(e=this.cachePackets.concat(t),this.cachePackets=[]):e=t,this.metadata&&this.loader.status!==Se.SUSPENGING?this.emit("loadeddata",{packets:e}):this.cachePackets=e)},Dt.prototype.onLoadEnd=function(){this.loader.eof&&this.emit("end",void 0)},Dt.prototype.seek=function(){},Dt.prototype.reset=function(){Et.prototype.reset.call(this),this.cachePackets=[],this.videoLoaded=!1,this.audioLoaded=!1,this.baseVideoDTS=0,this.baseVideoPTS=0,this.baseAudioDTS=0,this.baseAudioPTS=0,this.header=null,this.unhandleBuffer=null,this.flvMetadata=null,this.videoTrackMeta=null,this.audioTrackMeta=null};var nt=Dt;Tt=function(e,t){return(Tt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Tt(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Pt,St=z);var ot=Pt;bt=function(e,t){return(bt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}bt(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(It,_t=ot);var at=It;mt=function(e,t){return(mt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}mt(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Lt,yt=at);var st=Lt;gt=function(e,t){return(gt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}gt(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Ct,vt=z);var lt=Ct;pt=function(e,t){return(pt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}pt(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(At,ht=ot);var ut=At;ft=function(e,t){return(ft=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}ft(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(xt,dt=z);var ct,dt,ft,ht,pt,vt,gt,yt,mt,_t,bt,St,Tt,Et,wt,kt=xt;ct=function(e,t){return(ct=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}ct(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};function xt(e,t){var i=dt.call(this,e,t)||this;i.entries=[],i.version=t.read(1),i.flag=t.read(3),i.entryCount=t.read(4);for(var r=0;r<i.entryCount;r++){var n=1===i.version;i.entries.push({segmentDuration:t.read(n?8:4),mediaTime:t.read(n?8:4),mediaRateInteger:t.read(2),mediaRateFraction:t.read(2)})}return i}function At(e,t){return e=ht.call(this,e,t)||this,e.version=t.read(1),e.flag=t.read(3),e.entryCount=t.read(4),e}function Ct(e,t){return e=vt.call(this,e,t)||this,e.bufferSizeDB=t.read(4),e.maxBitrate=t.read(4),e.avgBitrate=t.read(4),e}function Lt(){return null!==yt&&yt.apply(this,arguments)||this}function It(e,t){e=_t.call(this,e,t)||this;var i=(t.skip(4),t.skip(2),e.bitReferenceId=t.read(2),e.codeStreamVersion=t.read(4),t.skip(4),t.skip(8),e.width=t.read(2),e.heigth=t.read(2),e.horizontalResolution=t.read(4),e.verticalResolution=t.read(4),t.skip(4),e.frameCount=t.read(2),Math.min(t.read(1),32));return e.compressorName=Array.from(new Array(i)).map((function(){return String.fromCharCode(t.read(1))})).join(""),t.skip(32-(i+1)),e.depth=t.read(2),t.skip(2),e}function Pt(){var e=null!==St&&St.apply(this,arguments)||this;return e.isContainer=!0,e}function Dt(){var e=null!==Et&&Et.apply(this,arguments)||this;return e.header=null,e.flvMetadata=null,e.videoTrackMeta=null,e.audioTrackMeta=null,e.unhandleBuffer=null,e.cachePackets=[],e.videoLoaded=!1,e.baseVideoPTS=0,e.baseVideoDTS=0,e.audioLoaded=!1,e.baseAudioPTS=0,e.baseAudioDTS=0,e.formatType=I.FLV,e}(kr=Qe=Qe||{})[kr.OD=1]="OD",kr[kr.IOD=2]="IOD",kr[kr.ESD=3]="ESD",kr[kr.DCD=4]="DCD",kr[kr.DSD=5]="DSD",kr[kr.SLCD=6]="SLCD";var Rt=function(){this.constructor=zt};yr.readSize=function(e){for(var t,i=0,r=4;r--&&(i=i<<7|127&(t=e.read(1)),128&t););return i},yr.extractDescriptors=function(e){for(var t,i,r,n=[];e.unreadLength;){if(t=new yr(e),r=new o(e.buffer,e.offset,t.size),e.skip(t.size),t.size<=0)return n;switch(t.tag){case Qe.ESD:i=new Ft(t,r);break;case Qe.DCD:i=new Bt(t,r);break;case Qe.DSD:i=new Ut(t,r);break;case Qe.SLCD:i=new jt(t,r);break;default:i=null}i&&r.unreadLength&&(i.children=yr.extractDescriptors(r)),n.push(i)}return n};var Ot,Mt=yr,Nt=(gr.findDescriptor=function(e,t){var i;return e.some((function(e){return!!(i=e.probe.tag===t?e:gr.findDescriptor(e.children,t))})),i},gr),Ft=(w(vr,qi=Nt),vr),Bt=(w(pr,Ki=Nt),pr),Ut=(w(hr,Gi=Nt),hr),jt=(w(fr,Vi=Nt),fr);$i=function(e,t){return($i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)};var Ht=((kr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}$i(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(dr,Hi=Y),dr);ji=function(e,t){return(ji=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)};var $t=((w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}ji(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(cr,Ui=z),cr);Bi=function(e,t){return(Bi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)};var Vt=((kr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Bi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ur,Fi=z),ur);Ni=function(e,t){return(Ni=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)};var Gt=((w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Ni(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(lr,Mi=z),lr);Oi=function(e,t){return(Oi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)};var Kt=((kr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Oi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(sr,Ri=z),sr);Di=function(e,t){return(Di=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)};var qt=((w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Di(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(ar,Pi=ot),ar);Ii=function(e,t){return(Ii=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)};var Wt=((kr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Ii(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(or,Li=z),or),zt=(Ci=function(e,t){return(Ci=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},nr),Yt=Ai=z;if("function"!=typeof Yt&&null!==Yt)throw new TypeError("Class extends value "+String(Yt)+" is not a constructor or null");Ci(zt,Yt),zt.prototype=null===Yt?Object.create(Yt):(Rt.prototype=Yt.prototype,new Rt);var Qt=nr;xi=function(e,t){return(xi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}xi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(rr,ki=z);var Xt=rr;wi=function(e,t){return(wi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}wi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(ir,Ei=z);var Jt=ir;Ti=function(e,t){return(Ti=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Ti(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(tr,Si=z);var Zt=tr;bi=function(e,t){return(bi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}bi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(er,_i=ot);var ei=er;mi=function(e,t){return(mi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}mi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Zi,yi=ot);var ti=Zi;gi=function(e,t){return(gi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}gi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Ji,vi=Y);var ii=Ji;pi=function(e,t){return(pi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}pi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Xi,hi=ot);var ri=Xi;fi=function(e,t){return(fi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}fi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Qi,di=Y);var ni=Qi;ci=function(e,t){return(ci=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}ci(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Yi,ui=Y);var oi=Yi;li=function(e,t){return(li=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}li(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(zi,si=Y);var ai,si,li,ui,ci,di,fi,hi,pi,vi,gi,yi,mi,_i,bi,Si,Ti,Ei,wi,ki,xi,Ai,Ci,Li,Ii,Pi,Di,Ri,Oi,Mi,Ni,Fi,Bi,Ui,ji,Hi,$i,Vi,Gi,Ki,qi,Wi=zi;ai=function(e,t){return(ai=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}ai(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};function zi(e,t){return e=si.call(this,e,t)||this,1===e.version?e.baseMediaDecodeTime=t.read(8):e.baseMediaDecodeTime=t.read(4),e}function Yi(e,t){var i=ui.call(this,e,t)||this;i.references=[],i.trackId=t.read(4),i.timescale=t.read(4),0===i.version?(i.pts=t.read(4),i.offset=t.read(4)):(i.pts=t.read(8),i.offset=t.read(8)),t.skip(2),i.references=[];for(var r=t.read(2),n=0;n<r;n++){var o=new h(t.read(4),32),a=t.read(4),s=new h(t.read(4),32);i.references.push({type:o.read(1),size:o.read(31),duration:a,startWithSap:s.read(1),sapType:s.read(3),sapDeltaTime:s.read(28)})}return i}function Qi(e,t){var i=di.call(this,e,t)||this;i.isLeadings=[],i.sampleDependsOns=[],i.sampleIsDependedOns=[],i.sampleHasRedundancys=[];for(var r=0,n=void 0;r<t.unreadLength;r++)n=new h(t.read(1),8),i.isLeadings[r]=n.read(2),i.sampleDependsOns[r]=n.read(2),i.sampleIsDependedOns[r]=n.read(2),i.sampleHasRedundancys[r]=n.read(2);return i}function Xi(){return null!==hi&&hi.apply(this,arguments)||this}function Ji(){return null!==vi&&vi.apply(this,arguments)||this}function Zi(){return null!==yi&&yi.apply(this,arguments)||this}function er(){return null!==_i&&_i.apply(this,arguments)||this}function tr(e,t){return e=Si.call(this,e,t)||this,e.version=t.read(1),e.flag=t.read(3),e.graphicsMode=t.read(2),e.opcolor=[t.read(2),t.read(2),t.read(2)],e}function ir(e,t){return e=Ei.call(this,e,t)||this,e.version=t.read(1),e.flag=t.read(3),e}function rr(e,t){var i=ki.call(this,e,t)||this;i.matrix=[],i.version=t.read(1),i.flag=t.read(3),i.createTime=i.toStandardTime(t.read(4)),i.modifyTime=i.toStandardTime(t.read(4)),i.trackId=t.read(4),t.skip(4),i.duration=t.read(4),t.skip(8),i.layer=t.read(2),i.alternateGroup=t.read(2),i.volume=Number(t.read(1)+"."+t.read(1)),t.skip(2);for(var r=0;r<9;r++)i.matrix.push(Number(t.read(2)+"."+t.read(2)));return i.width=Number(t.read(2)+"."+t.read(2)),i.height=Number(t.read(2)+"."+t.read(2)),i}function nr(e,t){var i=Ai.call(this,e,t)||this;for(i.data=[];0<t.unreadLength;)i.data.push(t.read(1));return i}function or(e,t){var i=Li.call(this,e,t)||this;i.matrix=[],i.version=t.read(1),i.flag=t.read(3),i.createTime=i.toStandardTime(t.read(4)),i.modifyTime=i.toStandardTime(t.read(4)),i.timeScale=t.read(4),i.duration=t.read(4),i.rate=Number(t.read(2)+"."+t.read(2)),i.volume=Number(t.read(1)+"."+t.read(1)),t.skip(10);for(var r=0;r<9;r++)i.matrix.push(Number(t.read(2)+"."+t.read(2)));return t.skip(24),i.nextTrackId=t.read(4),i}function ar(e,t){return e=Pi.call(this,e,t)||this,t.skip(6),e.dataReferenceIndex=t.read(2),t.skip(8),e.channelCount=t.read(2),e.sampleSize=t.read(2),t.skip(4),e.sampleRate=t.read(4)>>>16,e}function sr(e,t){function i(e){return 96+(31&e)}e=Ri.call(this,e,t)||this;var r=(e.version=t.read(1),e.flag=t.read(3),1===e.version);e.createTime=e.toStandardTime(t.read(r?8:4)),e.modifyTime=e.toStandardTime(t.read(r?8:4)),e.timeScale=t.read(4),e.duration=t.read(r?8:4),r=t.read(2);return e.language=String.fromCharCode(i(r>>10),i(r>>5),i(r)),e.quality=Number(t.read(1)+"."+t.read(1)),e}function lr(e,t){var i=Mi.call(this,e,t)||this;return i.data=t.readToUint8(e.size-e.length),i}function ur(e,t){var i=Fi.call(this,e,t)||this;for(i.name="",i.version=t.read(1),i.flag=t.read(3),i.preDefined=String.fromCharCode(t.read(1),t.read(1),t.read(1),t.read(1)),i.handleType=String.fromCharCode(t.read(1),t.read(1),t.read(1),t.read(1)),t.skip(12);0<t.unreadLength;)i.name+=String.fromCharCode(t.read(1));return i}function cr(e,t){var i=Ui.call(this,e,t)||this;for(i.compatibleBrands=[],i.majorBrand=String.fromCharCode(t.read(1),t.read(1),t.read(1),t.read(1)),i.minorVersion=t.read(4);4<=t.unreadLength;)i.compatibleBrands.push(String.fromCharCode(t.read(1),t.read(1),t.read(1),t.read(1)));return i}function dr(e,t){e=Hi.call(this,e,t)||this,e.descriptors=[],e.audioObjectType=0,e.samplingfrequencyIndex=0,e.descriptors=Mt.extractDescriptors(t),t=Nt.findDescriptor(e.descriptors,Qe.DCD);var i=Nt.findDescriptor(e.descriptors,Qe.DSD);return i&&(e.audioObjectType=i.audioObjectType,e.samplingfrequencyIndex=i.samplingfrequencyIndex),e.codec=t&&i?"mp4a."+t.mepg4Audio.toString(16)+"."+i.audioObjectType.toString(16):"mp4a",e}function fr(e,t){return e=Vi.call(this,e)||this,e.esId=t.read(2),e}function hr(e,t){return e=Gi.call(this,e)||this,t=new h(t.read(2),16),e.audioObjectType=t.read(5),e.samplingfrequencyIndex=t.read(4),e.channel=t.read(4),e.frameLengthFlag=t.read(1),e.dependsOnCoreCoder=t.read(1),e.extesionFlag=t.read(1),e}function pr(e,t){return e=Ki.call(this,e)||this,e.mepg4Audio=t.read(1),e.audioStream=t.read(1),e.bufferSize=t.read(3),e.maxBitrate=t.read(4),e.avgBitrate=t.read(4),e}function vr(e,t){return e=qi.call(this,e)||this,e.streamDependenceFlag=0,e.URLFlag=0,e.OCRStreamFlag=0,e.esId=t.read(2),e.esFlag=t.read(1),128&e.esFlag&&(e.streamDependenceFlag=t.read(2)),64&e.esFlag&&(e.URLFlag=t.read(1),t.skip(e.URLFlag)),32&e.esFlag&&(e.OCRStreamFlag=t.read(2)),e}function gr(e){this.children=[],this.probe=e}function yr(e){this.tag=e.read(1),this.size=yr.readSize(e)}(kr=Ot=Ot||{})[kr.BASE_DATA_OFFSET=1]="BASE_DATA_OFFSET",kr[kr.SAMPLE_DESC=2]="SAMPLE_DESC",kr[kr.SAMPLE_DUR=8]="SAMPLE_DUR",kr[kr.SAMPLE_SIZE=16]="SAMPLE_SIZE",kr[kr.SAMPLE_FLAG=32]="SAMPLE_FLAG",kr[kr.DUR_EMPTY=65536]="DUR_EMPTY",kr[kr.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",w(Ar,Er=Y);var mr,_r=Ar;Tr=function(e,t){return(Tr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Tr(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(xr,Sr=Y);var br,Sr,Tr,Er,wr=xr,kr=(br=function(e,t){return(br=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}br(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function xr(e,t){return e=Sr.call(this,e,t)||this,e.trackId=t.read(4),e.defaultSampleDescriptionIndex=t.read(4),e.defaultSampleDuration=t.read(4),e.defaultSampleSize=t.read(4),e.defaultSampleFlag=t.read(4),e}function Ar(e,t){return e=Er.call(this,e,t)||this,e.baseDataOffset=0,e.defaultSampleDescriptionIndex=0,e.defaultSampleDuration=0,e.defaultSampleSize=0,e.defaultSampleFlag=0,e.trackId=t.read(4),e.flag&Ot.BASE_DATA_OFFSET&&(e.baseDataOffset=t.read(8)),e.flag&Ot.SAMPLE_DESC&&(e.defaultSampleDescriptionIndex=t.read(4)),e.flag&Ot.SAMPLE_DUR&&(e.defaultSampleDuration=t.read(4)),e.flag&Ot.SAMPLE_SIZE&&(e.defaultSampleSize=t.read(4)),e.flag&Ot.SAMPLE_FLAG&&(e.defaultSampleFlag=t.read(4)),e}(w=mr=mr||{})[w.DATA_OFFSET=1]="DATA_OFFSET",w[w.FIRST_FLAG=4]="FIRST_FLAG",w[w.DURATION=256]="DURATION",w[w.SIZE=512]="SIZE",w[w.FLAG=1024]="FLAG",w[w.CTS_OFFSET=2048]="CTS_OFFSET",kr(In,dn=Y);var Cr=In;cn=function(e,t){return(cn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}cn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Ln,un=z);var Lr=Ln;ln=function(e,t){return(ln=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}ln(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Cn,sn=z);var Ir=Cn;an=function(e,t){return(an=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}an(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(An,on=z);var Pr=An;nn=function(e,t){return(nn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}nn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(xn,rn=z);var Dr=xn;tn=function(e,t){return(tn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}tn(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(kn,en=ot);var Rr=kn;Zr=function(e,t){return(Zr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Zr(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(wn,Jr=ot);var Or=wn;Xr=function(e,t){return(Xr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Xr(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(En,Qr=z);var Mr=En;function Nr(e){return Array.isArray(e)?e:e?[e]:[]}Yr=function(e,t){return(Yr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Yr(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(Tn,zr=z);var Fr=Tn,Br=(Sn.prototype.addTrack=function(e){this.tracks.push(e)},Sn.prototype.getTracks=function(){return this.tracks},Sn.prototype.getTrackById=function(e){return this.tracks.find((function(t){return t.options.id===e}))},Sn),Ur=function(){return(Ur=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},jr=(bn.prototype.getSamples=function(){return this.samples},bn.prototype.getNextSampleOffset=function(){var e=this.samples[this.nextSampleIndex];return e?e.offset:0},bn.prototype.addSample=function(e){this.samples.push(e),this.duration+=e.duration},bn.prototype.processNextSample=function(e,t){void 0===t&&(t=0);var i=this.samples[this.nextSampleIndex];if(i)return this.processSample(e,t,i)},bn.prototype.processSample=function(e,t,i){var r=(t=void 0===t?0:t)+e.byteLength;t=i.offset-t;if(0<=t&&i.offset+i.size<=r)return this.nextSampleIndex++,Ur(Ur({},i),{data:e.subarray(t,t+i.size)})},bn.prototype.processSamples=function(e,t){void 0===t&&(t=0);for(var i=this.samples,r=[],n=this.nextSampleIndex,o=i.length;n<o;n++){var a=this.processSample(e,t,i[n]);if(!a)break;r.push(a)}return r},bn.prototype.seek=function(e){for(var t,i=e*this.options.timeScale,r=-1,n=-1,o=0,a=this.samples.length;o<a;o++)if((t=this.samples[o]).isSync&&(n=o),t.dts+t.cts>=i){r=n;break}if(-1<r)return this.nextSampleIndex=r,this.samples[r]},bn),Hr=(_n.prototype.createMedia=function(e){return this._parseMoovJSON(e)},_n.prototype._parseMoovJSON=function(e){var t=this,i=e.mvhd.box,r=new Br({duration:i.duration,timeScale:i.timeScale,rate:i.rate,modifyTime:i.modifyTime,createTime:i.createTime});return e.trak&&[].concat(e.trak).forEach((function(i){var n=i.tkhd,o=(i=i.mdia,i.mdhd),a=i.hdlr,s=(i=i.minf.stbl,n=n.box,a=a.box,o=o.box,V[a.handleType]),l=(i=t._buildSamples(i,s),{id:n.trackId,name:a.name,handleType:a.handleType,type:s,createTime:n.createTime,modifyTime:n.modifyTime,layer:n.layer,volume:n.volume,matrix:n.matrix,duration:n.duration,width:n.width,height:n.height,timeScale:o.timeScale,language:o.language,quality:o.quality,defaultSampleDescriptionIndex:1,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlag:0}),u=(s=null==(a=e.mvex)?void 0:a.trex,s&&[].concat(s).forEach((function(e){e=e.box,l.defaultSampleDescriptionIndex=e.defaultSampleDescriptionIndex,l.defaultSampleDuration=e.defaultSampleDuration,l.defaultSampleSize=e.defaultSampleSize,l.defaultSampleFlag=e.defaultSampleFlag})),new jr(l));i.forEach((function(e){return u.addSample(e)})),r.addTrack(u)})),r},_n.prototype._buildSamples=function(e,t){var i,r,n,o,a,s,l,u,c,d,f,h,p,v,g,y,m,_=e.stts,b=e.stss,S=e.ctts,T=e.stsc,E=e.stsz||e.stz2;return E?(s=e.stco||e.co64,l=T.box,u=null==b?void 0:b.box,c=_.box,d=null==S?void 0:S.box,v=p=h=f=-1,g=0,y=[],(m=E.box.sampleSizes).forEach((function(e,_){var b={},S=l.entries;b.size=e,b.trackType=t,0===_?(r=1,i=0,b.chunkIndex=r,a=S[b.chunkRunIndex=i].samplePerChunk,o=0,n=i+1<S.length?S[i+1].firstChunk-1:1/0):_<a?(b.chunkIndex=r,b.chunkRunIndex=i):(r++,o=0,n<(b.chunkIndex=r)&&(n=1+ ++i<S.length?S[i+1].firstChunk-1:1/0),a+=S[b.chunkRunIndex=i].samplePerChunk),b.descriptionIndex=S[i].sampleDescriptionIndex-1,b.offset=s.box.chunkOffsets[b.chunkIndex-1]+o,o+=b.size,f<_&&(h++,f=Math.max(f,0),f+=c.sampleCounts[h]),0<_?((e=y[_-1]).duration=c.sampleDurations[h],b.dts=y[_-1].dts+e.duration):b.dts=0,d?(p<=_&&(v++,p=Math.max(p,0),p+=d.sampleCounts[v]),b.cts=d.sampleOffsets[v]):b.cts=0,u?_===u.sampleNumbers[g]-1?(b.isSync=!0,g++):b.isSync=!1:b.isSync=!0,b.isLast=_===m.length-1,y.push(b)})),y):[]},_n),$r=(mn.prototype.init=function(e){this.options=e},mn.prototype.parse=function(e){var t=this;Nr(e.traf).forEach((function(i){return t._buildSamples(i,e.box)}))},mn.prototype._buildSamples=function(e,t){var i=e.tfhd.box,r=this._getTrakById(i.trackId);if(r)for(var n=r.options,o=e.tfdt.box,a=i.flag,s=(a&Ot.SAMPLE_DESC?i:n).defaultSampleDescriptionIndex,l=(a&Ot.SAMPLE_DUR?i:n).defaultSampleDuration,u=(a&Ot.SAMPLE_SIZE?i:n).defaultSampleSize,c=(a&Ot.SAMPLE_FLAG?i:n).defaultSampleFlag,d=Nr(e.trun),f=n.id,h=n.type,p=a&Ot.BASE_DATA_OFFSET?i.baseDataOffset:a&Ot.DEFAULT_BASE_IS_MOOF?t.header.start:0,v=0,g=0;g<d.length;g++)for(var y=d[g].box,m=y.flag,_=y.dataOffset+p,b=0;b<y.sampleCount;b++){var S={},T=(S.trackId=f,S.trackType=h,S.descriptionIndex=s,m&mr.SIZE?S.size=y.sampleSizes[b]:S.size=u,m&mr.DURATION?S.duration=y.sampleDurations[b]:S.duration=l,S.dts=0<v?v:o?o.baseMediaDecodeTime:0,v=S.dts+S.duration,m&mr.CTS_OFFSET?S.cts=y.sampleCTSs[b]:S.cts=0,c);m&mr.FLAG?T=y.sampleFlags[b]:0===b&&m&mr.FIRST_FLAG&&(T=y.firstSampleFlag),S.offset=_,S.flag=T,S.isSync=!(T&($.IS_NON_SYNC|$.DEPENDS_YES)),S.isLeading=T>>26&3,S.dependsOn=T>>24&3,S.isDependedOn=T>>22&3,S.hasRedundancy=T>>20&3,S.degradationPriority=65535&T,_+=S.size,S.isLast=g===d.length-1&&b===y.sampleCount-1,r.addSample(S)}},mn.prototype.destroy=function(){this.options=null},mn);Wr=function(e,t){return(Wr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Wr(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(yn,qr=oe),yn.probe=function(e){return!(e.byteLength<8)&&"ftyp"===[e[4],e[5],e[6],e[7]].map((function(e){return String.fromCharCode(e)})).join("")},yn.prototype.processPackets=function(e,t){var i,r=this,n=[];return this.media&&e.byteLength&&(this.media.getTracks().forEach((function(i){i.processSamples(e,t).forEach((function(e){e=r.convertSampleToPacket(e),e&&n.push(e)}))})),i=this.getMinNextSampleOffset()-t,this.unhandleBuffer=i>=e.byteLength?null:e.slice(i).buffer),n},Object.defineProperty(yn.prototype,"url",{get:function(){return this.loader.url},enumerable:!1,configurable:!0}),yn.prototype.seek=function(e){var t,i=this.options.progressive;this.unhandleBuffer=null,i&&this.loader.suspend(),null!=(t=this.media)&&t.getTracks().map((function(t){return t.seek(e)})),i&&this.loader.loadRange(this.getMinNextSampleOffset())},yn.prototype.onProgress=function(e){var t=e.data;e=e.offset;t.length&&(this.unhandleBuffer&&(t=o.concatUint8(new Uint8Array(this.unhandleBuffer),t),e-=this.unhandleBuffer.byteLength,this.unhandleBuffer=null),this.metadata||this.parse(new o(t.buffer,0),e),this.metadata)&&(t=this.processPackets(t,e)).length&&this.emit("loadeddata",{packets:t})},yn.prototype.getMinNextSampleOffset=function(){return this.media?Math.min.apply(Math,this.media.getTracks().map((function(e){return e.getNextSampleOffset()}))):0},yn.prototype.parse=function(e,t){var r,n=this;void 0===t&&(t=0);for(var a=e.offset,s=0,l=this;8<=e.unreadLength;){var u=function(){var u,c,d,f,h;return s=e.offset-a,0===(u=new G(e,t+s)).size?(d=new Error("box [".concat(u.type,"] size \u4e3a 0")),__f__("error",d," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),l.emit("error",{code:C.PARSER,message:d.message,origin:d}),"break"):l.options.progressive&&"mdat"===u.type&&!l.metadata?(c=u.start+u.size,l.loader.suspend(),l.unhandleBuffer=null,ke.info("\u68c0\u6d4b\u5230mdat box\u5728moov box\u4e4b\u540e\uff0c\u8df3\u8f6cmoov\u8d77\u59cb\u504f\u79fb\u4f4d"),l.loader.loadRange(c).then((function(){n.unhandleBuffer=null,n.loader.jump(u.start),n.loader.status!==Se.SUSPENGING&&n.loader.loadRange(u.start,c)})),{value:void 0}):(d=u.size-u.length,e.unreadLength>=d?((h=i[u.type])?(f=new o(e.buffer,e.offset,d),(r=new h(u,f)).isContainer&&((h=new yn({sub:!0})).proxy(l,["loadedbox"]),h.parse(f,s+t+u.length),h.removeAllListeners(),h.boxes.forEach((function(e){r.append(e)})))):r=new z(u),e.skip(d),l.boxes.push(r),void l.emit("loadedbox",r)):(e.back(u.length),"break"))}();if("object"==_typeof(u))return u.value;if("break"===u)break}e.unreadLength&&(this.unhandleBuffer=e.readToBuffer())},yn.prototype.reset=function(){qr.prototype.reset.call(this),this.boxes=[],this.unhandleBuffer=null,this.avcCBox=void 0,this.hvcCBox=void 0,this.mp4aBox=void 0,this.media=null,this.moofParser.destroy()};var Vr=yn;Kr=function(e,t){return(Kr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}))(e,t)};var Gr,Kr,qr,Wr,zr,Yr,Qr,Xr,Jr,Zr,en,tn,rn,nn,on,an,sn,ln,un,cn,dn,fn=function(){return(fn=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},hn=["loadedcodecinfo","loadedmetadata","updatedmetadata","loadeddata","error"],pn=[Vr,nt],vn=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}Kr(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(gn,Gr=be),gn.prototype.createLoader=function(){var e=new Le(this.options);return e.proxy(this,["progress","error"]),e.proxyOnce(this,["loadstart","loadend"]),e.once("progress",this.handleFirstLoadData),e},gn.prototype.createParser=function(e){return e=new e(fn(fn({},this.options),{loader:this.loader})),e.proxy(this,hn),e},Object.defineProperty(gn.prototype,"skipFrame",{get:function(){return this.activeParser.skipFrame},set:function(e){ke.info("\u8bbe\u7f6eskipFrame:",e),void 0!==e&&(this.options.skipFrame=e,this.activeParser.skipFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(gn.prototype,"status",{get:function(){return this.activeParser.status},enumerable:!1,configurable:!0}),Object.defineProperty(gn.prototype,"url",{get:function(){return this.loader.url},enumerable:!1,configurable:!0}),gn.prototype.parse=function(e){ke.info("\u6267\u884cparse"),this.loader.reset(),this.handleFirstLoadData({offset:0,data:e}),this.activeParser.onLoadEnd()},gn.prototype.load=function(e){return ke.info("\u6267\u884cload",e),this.loader.destroy(),this.loader=this.createLoader(),this.loader.load(e)},gn.prototype.seek=function(e){return ke.info("\u6267\u884cseek",e),this.activeParser.seek(e)},gn.prototype.suspend=function(){return this.activeParser.suspend()},gn.prototype.resume=function(){return this.activeParser.resume()},gn.prototype.destroy=function(){ke.info("\u6267\u884cdestory"),this.loader.destroy(),this.activeParser.destroy(),this.removeAllListeners()},gn);function gn(e){void 0===e&&(e={});var t=Gr.call(this)||this;return t.loader=new Le,t.parserClasses=pn,t.logger=ke,t.handleFirstLoadData=function(e){var i,r;e&&((r=t.parserClasses.find((function(t){return t.probe(e.data)})))?(i=t.activeParser.formatType,t.activeParser.destroy(),t.activeParser=t.createParser(r),ke.info("\u5207\u6362parser, ".concat(I[i]," -> ").concat(I[t.activeParser.formatType])),t.emit("parserchange",void 0),t.activeParser.onProgress(e)):(r="\u672a\u627e\u5230\u5bf9\u5e94\u7684Parser, Byte\u6570\u636e: "+e.data.slice(0,20).join(","),ke.error(r),t.emit("error",{code:C.PARSER,message:r})))},t.options=e,t.loader=t.createLoader(),t.activeParser=t.createParser(t.parserClasses[0]),t.logger.info("demuxer options",e),t}function yn(e){var t=qr.call(this,e=void 0===e?{}:e)||this;return t.media=null,t.unhandleBuffer=null,t.formatType=I.MP4,t.boxes=[],t._handleBoxLoad=function(e){var i,r,n,o,a,s,l,u,c,d,f=e.header.type;t._handleCodecBoxLoaded(f),"hvcC"===f?t.hvcCBox=e:"hvc1"===f||"hev1"===f?t.hvcCBox&&(t.hvcCBox.codecTag=f):"avcC"===f?t.avcCBox=e:"esds"===f?t.esdsBox=e:"mp4a"===f?t.mp4aBox=e:"moov"===f?(d=z.mapBoxToJSON(e),t.media=t.moovParser.createMedia(d),t.moofParser.init({media:t.media}),a=(d=t.mp4aBox||{}).sampleRate,i=void 0===a?0:a,a=d.sampleSize,r=void 0===a?0:a,a=d.channelCount,n=void 0===a?0:a,a=(d=t.esdsBox||{}).audioObjectType,o=void 0===a?0:a,a=d.codec,s=void 0===a?"":a,l=[],u=[],c=[],t.hvcCBox?(u=t.hvcCBox.vps,c=t.hvcCBox.pps,l=t.hvcCBox.sps):t.avcCBox&&(c=t.avcCBox.pps,l=t.avcCBox.sps),t.metadata={formatType:I.MP4,live:!!t.options.live,progressive:!!t.options.progressive,url:t.loader.url,basePTS:0,baseDTS:0,duration:t.media.options.duration,timescale:t.media.options.timeScale,tracks:t.media.getTracks().map((function(e){var a,d,f,h={};switch(h.id=e.options.id,h.type=e.options.type,h.timescale=e.options.timeScale,h.baseDTS=0,h.basePTS=0,h.type){case P.VIDEO:h.width=e.options.width,h.height=e.options.height,h.vps=u,h.sps=l,h.pps=c,h.rotate=(a=e.options.matrix).length<5||(d=Math.hypot(a[0],a[3]),f=Math.hypot(a[1],a[4]),0===d)||0===f?0:180*Math.atan2(a[1]/f,a[0]/d)/Math.PI,h.pixelRatio=[],h.codec=t.hvcCBox?t.hvcCBox.codec:(null==(f=t.avcCBox)?void 0:f.codec)||"",h.codecTag=t.hvcCBox?t.hvcCBox.codecTag:void 0;break;case P.AUDIO:h.audioObjectType=o,h.sampleRate=i,h.sampleSize=r,h.channelCount=n,h.codec=s;break;default:h.type=P.UNKNOWN}return h}))},d=Number(t.options.offsetTime),t.metadata.progressive&&0<d&&t.seek(d),ke.info("loadedmetadata metadata:",t.metadata),t.emit("loadedmetadata",t.metadata)):"moof"===f&&(ke.info("\u68c0\u6d4b\u5230moof box\u88ab\u52a0\u8f7d\uff0c\u5f53\u524d\u7d20\u6750\u4e3afMP4"),t.moofParser.parse(z.mapBoxToJSON(e)))},t._handleCodecBoxLoaded=function(e){var i=["hvc1","hev1","avc1"].find((function(t){return t===e}));i&&t.emit("loadedcodecinfo",i)},t.convertSampleToPacket=function(e){var i,r,n,o,a;return e.trackType===P.VIDEO&&(t.hvcCBox||t.avcCBox)?(a=e.data,i=e.isSync,r=(n=t.hvcCBox||t.avcCBox).lengthSizeMinusOne,n=n.codec,o=m.extractAVCCNAL(a,r),a=!1,t.hvcCBox&&(a=o.every((function(e){return k.isNonRef(e)}))),i&&(t.hvcCBox?(t.hvcCBox.pps.forEach((function(e){return o.unshift(e)})),t.hvcCBox.sps.forEach((function(e){return o.unshift(e)})),t.hvcCBox.vps.forEach((function(e){return o.unshift(e)}))):t.avcCBox&&(t.avcCBox.pps.forEach((function(e){return o.unshift(e)})),t.avcCBox.sps.forEach((function(e){return o.unshift(e)})))),{codec:n,trackId:e.trackId,trackType:e.trackType,isLast:e.isLast,dts:e.dts,pts:e.cts+e.dts,isSync:e.isSync,isNonRef:a,data:o,size:o.reduce((function(e,t){return e+t.byteLength}),0),offset:e.offset}):e.trackType===P.AUDIO&&t.esdsBox?{codec:t.esdsBox.codec,trackId:e.trackId,trackType:e.trackType,dts:e.dts,pts:e.cts+e.dts,isLast:e.isLast,isSync:!0,isNonRef:!1,data:[e.data],size:e.data.byteLength,offset:e.offset}:void 0},t.options=e,t.moovParser=new Hr,t.moofParser=new $r,e.sub||t.on("loadedbox",t._handleBoxLoad),t}function mn(){var e=this;this.options=null,this._getTrakById=function(t){var i;return null==(i=e.options)?void 0:i.media.getTracks().find((function(e){return e.options.id===t}))}}function _n(){}function bn(e){this.samples=[],this.nextSampleIndex=0,this.duration=0,this.options=e}function Sn(e){this.tracks=[],this.options=e}function Tn(e,t){var i=zr.call(this,e,t)||this;i.sampleCounts=[],i.sampleDurations=[],i.version=t.read(1),i.flag=t.read(3);for(var r=t.read(4),n=0;n<r;n++)i.sampleCounts[n]=t.read(4),i.sampleDurations[n]=t.read(4);return i}function En(e,t){var i=Qr.call(this,e,t)||this;i.isContainer=!0,i.sampleSizes=[],i.version=t.read(1),i.flag=t.read(3),i.sampleSize=t.read(4);for(var r=t.read(4),n=0;n<r;n++)0===i.sampleSize?i.sampleSizes.push(t.read(4)):i.sampleSizes.push(i.sampleSize);return i}function wn(e,t){var i=Jr.call(this,e,t)||this;i.sampleNumbers=[],i.version=t.read(1),i.flag=t.read(3);for(var r=t.read(4),n=0;n<r;n++)i.sampleNumbers.push(t.read(4));return i}function kn(e,t){return e=en.call(this,e,t)||this,e.version=t.read(1),e.flag=t.read(3),e.entryCount=t.read(4),e}function xn(e,t){var i=rn.call(this,e,t)||this;i.entries=[],i.version=t.read(1),i.flag=t.read(3);for(var r=t.read(4),n=0;n<r;n++)i.entries.push({firstChunk:t.read(4),samplePerChunk:t.read(4),sampleDescriptionIndex:t.read(4)});return i}function An(e,t){var i=on.call(this,e,t)||this;i.chunkOffsets=[],i.version=t.read(1),i.flag=t.read(3);for(var r=t.read(4),n=0;n<r;n++)i.chunkOffsets.push(t.read(8));return i}function Cn(e,t){var i=sn.call(this,e,t)||this;i.chunkOffsets=[],i.version=t.read(1),i.flag=t.read(3);for(var r=t.read(4),n=0;n<r;n++)i.chunkOffsets.push(t.read(4));return i}function Ln(e,t){var i=un.call(this,e,t)||this;i.sampleCounts=[],i.sampleOffsets=[],i.version=t.read(1),i.flag=t.read(3),i.entryCount=t.read(4);for(var r=0;r<i.entryCount;r++)i.sampleCounts.push(t.read(4)),i.sampleOffsets.push(t.read(4));return i}function In(e,t){var i=dn.call(this,e,t)||this;i.sampleDurations=[],i.sampleSizes=[],i.sampleFlags=[],i.sampleCTSs=[],i.sampleCount=t.read(4),i.flag&mr.DATA_OFFSET?i.dataOffset=t.readInt(4):i.dataOffset=0,i.flag&mr.FIRST_FLAG?i.firstSampleFlag=t.read(4):i.firstSampleFlag=0;for(var r=0;r<i.sampleCount;r++)i.flag&mr.DURATION&&(i.sampleDurations[r]=t.read(4)),i.flag&mr.SIZE&&(i.sampleSizes[r]=t.read(4)),i.flag&mr.FLAG&&(i.sampleFlags[r]=t.read(4)),i.flag&mr.CTS_OFFSET&&(0===i.version?i.sampleCTSs[r]=t.read(4):i.sampleCTSs[r]=t.readInt(4));return i}}(),r;function e(r){var n=i[r];return void 0!==n||(n=i[r]={exports:{}},t[r](n,n.exports,e)),n.exports}var t,i,r},"object"==_typeof(i)&&"object"==_typeof(t)?t.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==_typeof(i)?i.VideoxDemux=r():e.VideoxDemux=r()},{"es6-promise":8}],53:[function(e,t,i){function r(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return(t>>>0).toString()}var n=e("./vttparse");t.exports={parse:function(e,t,i){e=e.trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n");var o,a=[],s=new n;s.oncue=function(e){e.id=r(e.startTime)+r(e.endTime)+r(e.text),e.text=decodeURIComponent(escape(e.text)),e.isBig=!1;var t=e.text.split("#xywh=");2==t.length&&(t=t[1].split(","),e.x=t[0],e.y=t[1],e.w=t[2],e.h=t[3],e.isBig=!0),0<e.endTime&&a.push(e)},s.onparsingerror=function(e){o=e},s.onflush=function(){o&&i?(i(o),__f__("log",o," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")):t(a)},e.forEach((function(e){s.parse(e+"\n")})),s.flush()}}},{"./vttparse":55}],54:[function(e,t,i){function r(e){return"string"==typeof e&&!!s[e.toLowerCase()]&&e.toLowerCase()}function n(e){for(var t=1;t<arguments.length;t++){var i,r=arguments[t];for(i in r)e[i]=r[i]}return e}function o(e,t,i){var o=this,s=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={},u=(s?o=document.createElement("custom"):l.enumerable=!0,o.hasBeenReset=!1,""),c=!1,d=e,f=t,h=i,p=null,v="",g=!0,y="auto",m="start",_=50,b="middle",S=50,T="middle";if(Object.defineProperty(o,"id",n({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(o,"pauseOnExit",n({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(o,"startTime",n({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",n({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",n({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",n({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",n({},l,{get:function(){return v},set:function(e){if(e="string"==typeof(e=e)&&!!a[e.toLowerCase()]&&e.toLowerCase(),!1===e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",n({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",n({},l,{get:function(){return y},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",n({},l,{get:function(){return m},set:function(e){if(e=r(e),!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",n({},l,{get:function(){return _},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",n({},l,{get:function(){return b},set:function(e){if(e=r(e),!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",n({},l,{get:function(){return S},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");S=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",n({},l,{get:function(){return T},set:function(e){if(e=r(e),!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),o.displayState=void 0,s)return o}var a,s;t.exports="undefined"!=typeof window&&window.VTTCue?window.VTTCue:(a={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0},o.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},o)},{}],55:[function(e,t,i){function r(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}}var n=e("./vttcue");function o(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new r,this.regionList=[]}function a(){this.values=Object.create(null)}function s(e,t,i,r){var n,o,a=r?e.split(r):[e];for(n in a)"string"==typeof a[n]&&2===(o=a[n].split(i)).length&&t(o[0],o[1])}a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var l=new n(0,0,0),u="middle"===l.align?"middle":"center";function c(e,t,i){var r,n,o=e;function c(){var t,i=(i=(i=e).match(/^(\d+):(\d{2})(:\d{2})?(\.\d{3})?/))?(t=(t=i[4])&&t.replace(".",""),i[3]?r(i[1],i[2],i[3].replace(":",""),t):59<i[1]?r(i[1],i[2],0,t):r(0,i[1],i[2],t)):null;function r(e,t,i,r){return 3600*(0|e)+60*(0|t)+(0|i)+(0|r)/1e3}if(null===i)throw new Error("Malformed timestamp: "+o);return e=e.replace(/^[^\sa-zA-Z-]+/,""),i}function d(){e=e.replace(/^\s+/,"")}if(d(),t.startTime=c(),d(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);e=e.substr(3),d(),t.endTime=c(),d(),r=e,t=t,n=new a,s(r,(function(e,t){switch(e){case"region":for(var r=i.length-1;0<=r;r--)if(i[r].id===t){n.set(e,i[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start",u,"end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",u,"end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),"auto"===(r=n.get("line","auto"))&&-1===l.line&&(r=-1),t.line=r,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",u),"auto"===(r=n.get("position","auto"))&&50===l.position&&(r="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=r}o.prototype={parse:function(e){var t=this;function i(){for(var e=0,i=(i=t.buffer).replace(/<br(?: \/)?>/gi,"\n");e<i.length&&"\r"!==i[e]&&"\n"!==i[e];)++e;var r=i.substr(0,e);return"\r"===i[e]&&++e,"\n"===i[e]&&++e,t.buffer=i.substr(e),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var r,o=(r=i()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:r=i(),t.state){case"HEADER":/:/.test(r)?s(r,(function(e,t){"Region"===e&&__f__("log","parse region",t," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}),/:/):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new n(0,0,""),t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":try{c(r,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var l=-1!==r.indexOf("--\x3e");if(!r||l&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&"HEADER"!==this.state||(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.exports=o},{"./vttcue":54}],56:[function(e,t,i){function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i,r=arguments[t];for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,i){t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1})}var a=e("./vtt-parser"),s=e("./vtt-renderer"),l=e("./vtt-loader"),u=e("../../player/base/event/eventtype"),c=e("../../lib/ua"),d=e("../../lib/event"),f=e("../../ui/component/util"),h=(e=function(){function e(e){this.parser=null,this.activeRenderer=null,this.trackConfigs=null,this.hasUserTracks=!1,this.vttText={},this.tickTimer=null,this.prevPosition=null,this._enabled=!1,this._isShow=!1,this.sleeper=new h,this.player=(e=e||{}).player,this.loader=new l,this.parser=new a,this.createRendererInstance(),this.bindEvents()}var t=e.prototype;return t.bindEvents=function(){var e,t=this,i=this,n=this.player,o=(n.on(u.Private.TextTrackFounded,(function(e){if("user"===e.paramData.from)t.hasUserTracks=!0;else if(t.hasUserTracks)return;e=e.paramData.textTracks,e&&e.length&&(t.enabled=!0,t.trackConfigs=e.map((function(e){return r({},e,{label:e.label||e.srclang,language:e.srclang})})),t.trackConfigs.forEach((function(e){t.activeRenderer.addTrack(e),"always"===n.getOptions().controlBarVisibility&&t.activeRenderer.forceUpdateCuesStyle({transform:"translateY(-44px)"},t.parser.cues)})))})),n.on(u.Private.UserTrackReset,(function(){t.hasUserTracks=!1})),c.IS_IOS?(e=!1,n.on(u.Player.RequestFullScreen,(function(){e=!0})),d.on(n.tag,"webkitendfullscreen",(function(){e=!1})),d.on(n.tag.textTracks,"change",(function(){var i;t.sleeper.isSleep||(t.sleeper.sleep(1e3),t.isCustomRenderer)||e&&(i=n.tag.textTracks,(i=Array.from(i).find((function(e){return"showing"===e.mode})))?t.activeTrackConfig&&t.activeTrackConfig.language===i.language||(t.switchTrack(i.language),n.trigger(u.Private.SelectorValueChange,{type:"cc",text:i.label})):n.trigger(u.Private.CCStateChanged,{value:"off",lang:""}))}))):(n.on(u.Player.RequestFullScreen,this.adjustLayout.bind(this)),n.on(u.Player.CancelFullScreen,this.adjustLayout.bind(this)),o=f.debounce((function(){i.isCustomRenderer&&i.activeRenderer.resetCuesStyle(t.parser.cues)}),100),d.on(window,"resize",o)),f.throttle((function(){i.isShow&&(i.activeRenderer.forceUpdateCuesStyle({transform:"translateY(-44px)"},i.parser.cues),i.player.paused())&&(i.activeRenderer.hide(),i.activeRenderer.restore())}),100));n.on(u.Private.ShowBar,o),o=f.throttle((function(){i.isShow&&(i.activeRenderer.forceUpdateCuesStyle({transform:"none"},i.parser.cues),i.player.paused())&&(i.activeRenderer.hide(),i.activeRenderer.restore())}),100);n.on(u.Private.HideBar,o),n.on(u.Private.VttHide,(function(){t.hide()})),n.on(u.Private.VttSwitchTrack,(function(e){t.switchTrack(e.paramData)})),n.on(u.Private.VttClearTracks,(function(){t.reset()}))},t.createRendererInstance=function(e){this.activeRenderer&&this.activeRenderer.dispose();var t=this.player.getOptions(),i={player:this.player};this.adaptPlatform(),e?e===s.VttBasicRenderer.RENDER_TYPE_NATIVE?this.activeRenderer=new s.NativeRenderer(i):(i.overlayId=this.getOverlayId(),this.activeRenderer=new s.CustomRenderer(i)):t.useNativeTextRenderer?this.activeRenderer=new s.NativeRenderer(i):(i.overlayId=this.getOverlayId(),this.activeRenderer=new s.CustomRenderer(i))},t.switchTrack=function(e){var t,i=this;this.trackConfigs&&this.trackConfigs.length&&(this.activeTrackConfig&&(this.parser.dispose(),this.parser=new a,this.activeRenderer.clearTrack(this.activeTrackConfig.language),this.activeRenderer.hide()),this.activeTrackConfig=e,t=this.trackConfigs.find((function(t){return t.language===e})))&&(t=t._loaded?"":(t||{}).src,this.loadVtt(t,(function(){i.parseVtt(),i.activeRenderer.addCues(i.parser.cues,i.activeTrackConfig.language),i.show()})))},t.adaptPlatform=function(){var e=this.player.getOptions();c.IS_IOS&&(e.useNativeTextRenderer=!0)},t.loadVtt=function(e,t){var i=this;e?this.loader.loadFromUrl(e,(function(e){i.activeTrackConfig._loaded=!0,i.vttText[i.activeTrackConfig.language]=e,t&&t()})):t&&t()},t.show=function(){this._isShow=!0,this.isCustomRenderer&&this.startTickTimeListener(),this.activeRenderer.show(this.activeTrackConfig.language)},t.hide=function(){this._isShow=!1,this.clearTicker(),this.activeRenderer.hide()},t.switchRenderer=function(e){var t=this,i=s.VttBasicRenderer.RENDER_TYPE_NATIVE,r=s.VttBasicRenderer.RENDER_TYPE_CUSTOM;(e===i&&this.activeRenderer.type!==i||e===r&&this.activeRenderer.type!==r)&&(this.createRendererInstance(e),this.trackConfigs.forEach((function(e){return t.activeRenderer.addTrack(e)})),this.activeRenderer.addCues(this.parser.cues,this.activeTrackConfig.language),this.show())},t.parseVtt=function(){this.parser.parse(this.vttText[this.activeTrackConfig.language])},t.adjustLayout=function(){var e=this;this.isShow&&this.isCustomRenderer&&(this.activeRenderer.hide(),setTimeout((function(){e.activeRenderer.restore()}),300))},t.startTickTimeListener=function(){var e=this;this.clearTicker(),this.tick((function(){var t=e.player.getCurrentTime();isNaN(t)||e.activeRenderer.renderCues(e.findTargetCues(t))}))},t.tick=function(e){var t=this;this.tickTimer=requestAnimationFrame((function(){try{e()}catch(e){__f__("log","e",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}t.tick(e)}))},t.clearTicker=function(){this.tickTimer&&(cancelAnimationFrame(this.tickTimer),this.tickTimer=null)},t.getOverlayId=function(){var e=(this.player.el().getElementsByClassName("prism-text-overlay")||[])[0];if(e)return e.id},t.findTargetCues=function(e){if(this.parser&&e!==this.prevPosition){this.prevPosition=e;for(var t=[],i=0;i<this.parser.cues.length;i++){var r=this.parser.cues[i];if(e>=r.startTime&&e<=r.endTime)t.push(r);else if(e<r.startTime)break}return t}},t.reset=function(){this.clearTicker(),this.parser&&this.parser.reset(),this.activeRenderer&&this.activeRenderer.reset()},t.dispose=function(){this.clearTicker(),this.parser&&(this.parser.dispose(),this.parser=null),this.activeRenderer&&(this.activeRenderer.dispose(),this.activeRenderer=null),this.trackConfigs=null,this.hasUserTracks=!1,this.vttText={},this.prevPosition=null,this._enabled=!1,this._isShow=!1},o(e,[{key:"isShow",get:function(){return this._isShow}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"isCustomRenderer",get:function(){if(this.activeRenderer)return this.activeRenderer.type===s.VttBasicRenderer.RENDER_TYPE_CUSTOM}},{key:"activeTrackConfig",get:function(){var e;return null==(e=this.trackConfigs)?void 0:e.find((function(e){return e._isActive}))},set:function(e){this.trackConfigs.forEach((function(t){return t._isActive=t.language===e}))}}]),e}(),function(){function e(){this.value=!1,this.timer=null}return e.prototype.sleep=function(e){var t=this;this.timer&&clearTimeout(this.timer),this.value=!0,this.timer=setTimeout((function(){t.value=!1}),e)},o(e,[{key:"isSleep",get:function(){return this.value}}]),e}());t.exports=e},{"../../lib/event":33,"../../lib/ua":49,"../../player/base/event/eventtype":70,"../../ui/component/util":159,"./vtt-loader":58,"./vtt-parser":59,"./vtt-renderer":60}],57:[function(e,t,i){function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i,r=arguments[t];for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function n(e,t){e.prototype=Object.create(t.prototype),function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e.prototype.constructor=e,t)}function o(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,i){t&&o(e.prototype,t),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1})}var s=e("../../lib/data"),l={DISABLED:"disabled",SHOWING:"showing",HIDDEN:"hidden"},u={SUBTITLES:"subtitles",CAPTIONS:"captions",DESCRIPTIONS:"descriptions",METADATA:"metadata",CHAPTERS:"chapters"},c=(e=function(e){function t(t){t=r({},t=void 0===t?{}:t,{kind:t.kind||u.SUBTITLES,language:t.language||t.srclang||""});var i=t.mode||l.DISABLED;return t.default,-1<[u.METADATA,u.CHAPTERS].indexOf(t.kind)&&(i=l.HIDDEN),t.mode=i,(i=e.call(this,t)||this)._cues=[],i._activeCues=[],i._settings={},i._nativeTrack=null,i._extData={},i._settings=t,i}n(t,e);var i=t.prototype;return i.setExtData=function(e){this._extData=r({},this._extData,e=void 0===e?{}:e)},i.addCue=function(e){this._cues.push(e),this.nativeTrack&&this.nativeTrack.addCue(e)},i.removeCue=function(e){this._cues=this._cues.filter((function(t){return t!==e})),this.nativeTrack&&this.nativeTrack.removeCue(e)},a(t,[{key:"default",get:function(){return this._settings.default}},{key:"mode",get:function(){return this._settings.mode},set:function(e){this._settings.mode=e,this.nativeTrack&&(this.nativeTrack.mode=e)}},{key:"language",get:function(){return this._settings.language},set:function(e){this._settings.language=e,this.nativeTrack&&(this.nativeTrack.language=e)}},{key:"cues",get:function(){return this._cues}},{key:"activeCues",get:function(){return this._activeCues}},{key:"nativeTrack",get:function(){return this._nativeTrack},set:function(e){this._nativeTrack=e}}]),t}(function(){function e(e){this._id=(e=void 0===e?{}:e).id||"prism-track-"+s.guid(),this._kind=e.kind||"",this._language=e.language||"",this._label=e.label||""}return a(e,[{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"id",get:function(){return this._id}},{key:"kind",get:function(){return this._kind}},{key:"language",get:function(){return this._language}}]),e}()),function(e){function t(){return e.call(this)||this}return n(t,e),t}(function(){function e(){this._trackList=[]}return e.prototype.addTrack=function(e){var t=this.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this._trackList[t]}}),-1===this._trackList.indexOf(e)&&this._trackList.push(e)},a(e,[{key:"length",get:function(){return this._trackList.length}},{key:"list",get:function(){return this._trackList}}]),e}()));t.exports.TextTrack=e,t.exports.TextTrackList=c,t.exports.TRACK_MODE=l,t.exports.TRACK_KIND=u},{"../../lib/data":30}],58:[function(e,t,i){var r=e("../io");t.exports=function(){function e(){}return e.prototype.loadFromUrl=function(e,t){r.get(e,(function(e){t(e)}),(function(e,t){__f__("log","ERR",e,t," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}))},e}()},{"../io":40}],59:[function(e,t,i){function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=e("./vttjs").WebVTT;e=function(){function e(){var e=this;this._cues=[],this._regions=[],this.parser=new n.Parser(window,n.StringDecoder()),this.parser.onregion=function(t){e._regions.push(t)},this.parser.oncue=function(t){e._cues.push(t)},this.parser.onflush=function(){},this.parser.onparsingerror=function(e){__f__("log","onparsingerror",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}}var t,i=e.prototype;return i.parse=function(e){this.parser.parse(e),this.parser.flush()},i.reset=function(){this.parser.flush(),this._cues=[],this._regions=[]},i.dispose=function(){this.parser.flush(),this.parser=null,this._cues=[],this._regions=[]},i=e,(t=[{key:"cues",get:function(){return this._cues}}])&&r(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),e}();t.exports=e},{"./vttjs":61}],60:[function(e,t,i){function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i,r=arguments[t];for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e.prototype.constructor=e,t)}e("../../player/base/event/eventtype");var a=e("./text-track"),s=e("./vttjs").WebVTT,l=e("../../lib/dom"),u=a.TextTrack,c=a.TextTrackList,d=a.TRACK_MODE,f=(a.TRACK_KIND,function(){function e(e){this.player=null,this.type=null,this.trackList=null,this.overrideStyle={},this.player=(e=e||{}).player,this.defineTextTrackGetter(),this.trackList=new c}var t=e.prototype;return t.log=function(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];(e=console).log.apply(e,["[LOG:"+this.type+"]"].concat(i))},t.defineTextTrackGetter=function(){var e=this;this.player.getTextTracks=function(){return e.trackList||[]}},t.show=function(e){e=this.findTrackByLanguage(e),e&&(e.mode=d.SHOWING)},t.findTrackByLanguage=function(e){return this.trackList.list.find((function(t){return t.language===e}))},t.clearCurrentCues=function(e){if(e){var t=e.mode;if(t===d.DISABLED&&(e.mode=d.HIDDEN),e.cues)for(var i=e.cues.length;i--;)e.removeCue(e.cues[i]);t===d.DISABLED&&(e.mode=t)}},t.addTrack=function(){},t.addCues=function(){},t.restore=function(){},t.renderCues=function(){},t.updateCuesStyle=function(){},t.clearTrack=function(e){this.clearCurrentCues(this.findTrackByLanguage(e))},t.clearAllTracks=function(){var e=this;this.trackList&&this.trackList.length&&this.trackList.list.forEach((function(t){t.mode=d.DISABLED,e.clearCurrentCues(t)})),this.trackList=new c},t.reset=function(){this.hide(),this.clearAllTracks()},t.dispose=function(){this.hide(),this.clearAllTracks(),this.player&&this.player.getTextTracks&&(this.player.getTextTracks=null),this.player=null,this.type=null},e}());f.RENDER_TYPE_CUSTOM="CUSTOM",f.RENDER_TYPE_NATIVE="NATIVE",e=function(e){function t(t){var i=e.call(this,t)||this;return i.overlayId=null,i.currentCues=null,t=t||{},i.type=f.RENDER_TYPE_CUSTOM,i.overlayId=t.overlayId,i}o(t,e);var i=t.prototype;return i.addTrack=function(e){var t=new u({kind:e.kind,label:e.label,language:e.language});t.mode=e.default?d.SHOWING:d.DISABLED,this.trackList.addTrack(t)},i.hide=function(){return s.processCues(window,[],document.getElementById(this.overlayId))},i.restore=function(){this.currentCues&&(this.currentCues.forEach((function(e){return e.displayState=null})),s.processCues(window,this.currentCues,this.overlayEl),this.updateCuesStyle(this.currentCues))},i.renderCues=function(e){e&&(this.currentCues=e,this.overlayEl||(this.overlayEl=document.getElementById(this.overlayId)),s.processCues(window,e,this.overlayEl),this.updateCuesStyle(e))},i.updateCuesStyle=function(e){var t=this;e.forEach((function(e){var i,r=e.displayState;r._styleSetDone||r&&(r.setAttribute("class","prism-cue"),t.overlayEl||(t.overlayEl=document.getElementById(t.overlayId)),e=t.overlayEl.offsetWidth,i=t.overlayEl.offsetHeight,(e=Math.min(e,i))&&(r.style.fontSize=.05*e+"px",r.style.height="auto",r.style.top="auto"),Object.keys(t.overrideStyle).forEach((function(e){t.tryUpdateStyle(r,e,t.overrideStyle[e])})),r._styleSetDone=!0)}))},i.updateOverrideStyle=function(e){this.overrideStyle=n({},this.overrideStyle,e=void 0===e?{}:e)},i.forceUpdateCuesStyle=function(e,t){void 0===t&&(t=[]),this.updateOverrideStyle(e=void 0===e?{}:e),this.resetCuesStyle(t)},i.tryUpdateStyle=function(e,t,i){try{e.style[t]=i}catch(e){}},i.resetCuesStyle=function(e){e&&e.length&&e.forEach((function(e){e.displayState&&(e.displayState=null)}))},i.dispose=function(){e.prototype.dispose.call(this),this.overlayId=null,this.currentCues=null},t}(f),a=function(e){function t(t){return(t=e.call(this,t=void 0===t?{}:t)||this).type=f.RENDER_TYPE_NATIVE,t}o(t,e);var i,n=t.prototype;return n.addTrack=function(e){var t=this.player.tag,i=Array.from(t.textTracks)||[],r=i.find((function(t){return t.language===e.language}));this.log("sameLangTrack",r,i),(i=r?(this.clearCurrentCues(r),r.kind=e.kind,r.label=e.label,r):t.addTextTrack(e.kind,e.label,e.language)).mode=e.default?d.SHOWING:d.DISABLED,r=new u(e);r.nativeTrack=i,this.trackList.addTrack(r)},n.addCues=function(e,t){var i;e&&e.length&&(i=this.trackList.list.find((function(e){return e.language===t})))&&e.forEach((function(e){i.addCue(e)}))},n.hide=function(){this.trackList.list.forEach((function(e){e.mode=e.mode===d.SHOWING?d.HIDDEN:e.mode}))},n.invalidAllTracks=function(){},n.forceUpdateCuesStyle=function(e,t){l.addCssByStyle("video::-webkit-media-text-track-container{transform: "+e.transform+";}")},n.dispose=function(){e.prototype.dispose.call(this)},n=t,(i=[{key:"activeTrack",get:function(){return this.trackList.list.find((function(e){return e.mode===d.SHOWING}))}}])&&r(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(f);t.exports.VttBasicRenderer=f,t.exports.CustomRenderer=e,t.exports.NativeRenderer=a},{"../../lib/dom":32,"../../player/base/event/eventtype":70,"./text-track":57,"./vttjs":61}],61:[function(e,t,i){t.exports={WebVTT:e("./vtt.js").WebVTT}},{"./vtt.js":62}],62:[function(e,t,i){function r(e,t){return void 0===t&&(t=1),"rgba("+[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),t].join(",")+")"}var n,o=1;function a(e,t,i){switch(i){case"webvtt.font.color":case"webvtt.font.opacity":var a=Services.prefs.getCharPref("webvtt.font.color"),s=Services.prefs.getIntPref("webvtt.font.opacity")/100;n.fontSet=r(a,s);break;case"webvtt.font.scale":o=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":a=Services.prefs.getCharPref("webvtt.bg.color"),s=Services.prefs.getIntPref("webvtt.bg.opacity")/100,n.backgroundSet=r(a,s);break;case"webvtt.edge.color":case"webvtt.edge.type":a=Services.prefs.getIntPref("webvtt.edge.type"),s=Services.prefs.getCharPref("webvtt.edge.color"),n.edgeSet=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "][a]+r(s)}}"undefined"!=typeof Services&&(n={},["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"].forEach((function(e){a(0,0,e),Services.prefs.addObserver(e,a,!1)})));var s=Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return l.prototype=e,new l};function l(){}function u(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function c(e){function t(e,t,i,r){return 3600*(0|e)+60*(0|t)+(0|i)+(0|r)/1e3}return e=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/),e?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):59<e[1]?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null}function d(){this.values=s(null)}function f(e,t,i,r){var n,o,a=r?e.split(r):[e];for(n in a)"string"==typeof a[n]&&2===(o=a[n].split(i)).length&&t(o[0],o[1])}((u.prototype=s(Error.prototype)).constructor=u).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},d.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var h={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},p={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},v={v:"title",lang:"lang"},g={rt:"ruby"};function y(e,t){function i(e){return h[e]}for(var r,n,o,a,s,l,u,d=e.document.createElement("div"),f=d,y=[];null!==(u=void 0,u=t?(u=(u=t.match(/^([^<]*)(<[^>]+>?)?/))[1]||u[2],t=t.substr(u.length),u):null);)"<"===u[0]?"/"===u[1]?y.length&&y[y.length-1]===u.substr(2).replace(">","")&&(y.pop(),f=f.parentNode):(o=c(u.substr(1,u.length-2)))?(r=e.document.createProcessingInstruction("timestamp",o),f.appendChild(r)):(n=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(o=n[1],a=n[3],l=s=void 0,l=p[o],r=l?((s=e.document.createElement(l)).localName=l,(l=v[o])&&a&&(s[l]=a.trim()),s):null)&&(o=f,g[(l=r).localName]&&g[l.localName]!==o.localName||(n[2]&&(r.className=n[2].substr(1).replace("."," ")),y.push(n[1]),f.appendChild(r),f=r)):f.appendChild(e.document.createTextNode(function(e){for(;n=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(n[0],i);return e}(u)));return d}var m=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function _(){}function b(e,t,i){var r="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)",s="",l=(o=(void 0!==n&&(o=n.fontSet,a=n.backgroundSet,s=n.edgeSet),r&&(o="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),_.call(this),this.cue=t,this.cueDiv=y(e,t.text),{color:o,backgroundColor:a,textShadow:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"}),r||(o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",o.unicodeBidi="plaintext"),this.applyStyles(o,this.cueDiv),this.div=e.document.createElement("div"),o={textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},r||(o.direction=function(e){var t=[],i="";if(e&&e.childNodes)for(n(t,e);i=function e(t){var i,r,o;return t&&t.length?(r=(i=t.pop()).textContent||i.innerText)?(o=r.match(/^.*(\n|\r)/))?o[t.length=0]:r:"ruby"===i.tagName?e(t):i.childNodes?(n(t,i),e(t)):void 0:null}(t);)for(var r=0;r<i.length;r++)if(function(e){for(var t=0;t<m.length;t++){var i=m[t];if(e>=i[0]&&e<=i[1])return 1}}(i.charCodeAt(r)))return"rtl";return"ltr";function n(e,t){for(var i=t.childNodes.length-1;0<=i;i--)e.push(t.childNodes[i])}}(this.cueDiv),o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"plaintext"),this.applyStyles(o),this.div.appendChild(this.cueDiv),0);switch(t.positionAlign){case"start":l=t.position;break;case"middle":l=t.position-t.size/2;break;case"end":l=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(l,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(l,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function S(e){var t,i,r,n,o="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent);e.div&&(t=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop,n=(n=(n=e.div.childNodes)&&n[0])&&n.getClientRects&&n.getClientRects(),e=e.div.getBoundingClientRect(),n=n?Math.max(n[0]&&n[0].height||0,e.height/n.length):0),this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||t,this.bottom=e.bottom||r+(e.height||t),this.width=e.width||i,this.lineHeight=void 0!==n?n:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function T(e,t,i,r){var n,o=new S(t),a=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,i=t.textTrackList,r=0,n=0;n<i.length&&i[n]!==t;n++)"showing"===i[n].mode&&r++;return-1*++r}(a),l=[];if(a.snapToLines){switch(a.vertical){case"":l=["+y","-y"],n="height";break;case"rl":l=["+x","-x"],n="width";break;case"lr":l=["-x","+x"],n="width"}var u=o.lineHeight,c=u*Math.round(s),d=i[n]+u,f=l[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),s<0&&(c+=""===a.vertical?i.height:i.width,l=l.reverse()),o.move(f,c)}else{var h=o.lineHeight/i.height*100;switch(a.lineAlign){case"middle":s-=h/2;break;case"end":s-=h}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}l=["+y","-x","+x","-y"],o=new S(t)}d=function(e,t){for(var n,o=new S(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(i,t[s])||e.within(i)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(i))return e;var l=e.intersectPercentage(i);l<a&&(n=new S(e),a=l),e=new S(o)}return n||o}(o,l),t.move(d.toCSSCompatValues(i))}function E(){}_.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},_.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(b.prototype=s(_.prototype)).constructor=b,S.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},S.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},S.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},S.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},S.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},S.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},S.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},S.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||i}},E.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},E.convertCueToDOMTree=function(e,t){return e&&t?y(e,t):null},E.processCues=function(e,t,i){if(!e||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",i.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return 1}(t))for(var n,a,s=[],l=S.getSimpleBoxPosition(r),u={font:Math.round(.05*l.height*100)/100*o+"px sans-serif"},c=0;c<t.length;c++)a=t[c],n=new b(e,a,u),r.appendChild(n.div),T(0,n,l,s),a.displayState=n.div,s.push(S.getSimpleBoxPosition(n));else for(var d=0;d<t.length;d++)r.appendChild(t[d].displayState)},(E.Parser=function(e,t){this.window=e,this.state="INITIAL",this.buffer="",this.decoder=t||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof u))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function i(){for(var e=t.buffer,i=0;i<e.length&&"\r"!==e[i]&&"\n"!==e[i];)++i;var r=e.substr(0,i);return"\r"===e[i]&&++i,"\n"===e[i]&&++i,t.buffer=e.substr(i),r}function r(e){f(e,(function(e,i){var r;"Region"===e&&(e=i,r=new d,f(e,(function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var i,n=t.split(",");2===n.length&&((i=new d).percent("x",n[0]),i.percent("y",n[1]),i.has("x")&&i.has("y"))&&(r.set(e+"X",i.get("x")),r.set(e+"Y",i.get("y")));break;case"scroll":r.alt(e,t,["up"])}}),/=/,/\s/),r.has("id"))&&((e=new t.window.VTTRegion).width=r.get("width",100),e.lines=r.get("lines",3),e.regionAnchorX=r.get("regionanchorX",0),e.regionAnchorY=r.get("regionanchorY",100),e.viewportAnchorX=r.get("viewportanchorX",0),e.viewportAnchorY=r.get("viewportanchorY",100),e.scroll=r.get("scroll",""),t.onregion&&t.onregion(e),t.regionList.push({id:r.get("id"),region:e}))}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var n,o=(n=i()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new u(u.Errors.BadSignature);t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:n=i(),t.state){case"HEADER":/:/.test(n)?r(n):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){t.state="NOTE";break}if(!n)continue;if(t.cue=new t.window.VTTCue(0,0,""),t.state="CUE",-1===n.indexOf("--\x3e")){t.cue.id=n;continue}case"CUE":try{!function(e,t,i){var r,n,o=e;function a(){var t=c(e);if(null===t)throw new u(u.Errors.BadTimeStamp,"Malformed timestamp: "+o);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function s(){e=e.replace(/^\s+/,"")}if(s(),t.startTime=a(),s(),"--\x3e"!==e.substr(0,3))throw new u(u.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);e=e.substr(3),s(),t.endTime=a(),s(),r=e,t=t,n=new d,f(r,(function(e,t){switch(e){case"region":for(var r=i.length-1;0<=r;r--)if(i[r].id===t){n.set(e,i[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position","auto"),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(n,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var s=-1!==n.indexOf("--\x3e");if(!n||s&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=n;continue;case"BADCUE":n||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new u(u.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},this.WebVTT=E},{}],63:[function(e,t,i){var r=e("../lib/io");function n(e){this._uploadDuration=e.logDuration||5,this._uploadCount=e.logCount||10,this._logReportTo=e.logReportTo,this._logs=[],this._retry=0,this._disposed=!1,this._supportLocalStorage=!0;var t,i=this;window&&(window.onbeforeunload=function(e){if(0<i._logs.length)if(i._supportLocalStorage)localStorage.setItem("__aliplayer_log_data",JSON.stringify(i._logs));else{i._report();for(var t=(new Date).getTime(),r=t;r<t+500;)r=(new Date).getTime()}});try{localStorage?(t=localStorage.getItem("__aliplayer_log_data"),localStorage.removeItem("__aliplayer_log_data"),t&&(this._logs=JSON.parse(t))):this._supportLocalStorage=!1}catch(e){this._supportLocalStorage=!1}this._start()}e("../lib/storage"),n.prototype.add=function(e){var t=this._logs.length;e.__time__=Math.round(new Date/1e3),0<t&&"4001"==e.e&&(t=this._logs[t-1],"4001"==t.e&&t.__time__-e.__time__<5)||(this._logs.push(e),(this._logs.length>this._uploadCount||"4001"==e.e||"2002"==e.e)&&this._report())},n.prototype.dispose=function(){this._report(),this._disposed=!0},n.prototype._start=function(){this._disposed=!1,this._retry=0,this._report()},n.prototype._report=function(e){var t,i,n;this._tickHandler&&(clearTimeout(this._tickHandler),this._tickHandler=null),0<(e=e||this._logs.splice(0,this._uploadCount)).length?(n={"Content-Type":"application/json;charset=UTF-8","x-log-apiversion":"0.6.0","x-log-bodyrawsize":(t=JSON.stringify({__logs__:e,__source__:""})).length},r.postWithHeader((i=this)._logReportTo,t,n,(function(e){i._tick()}),(function(t){0==i._retry?(i._retry=1,i._report(e)):i._tick()}))):this._tick()},n.prototype._tick=function(){var e;this._disposed||(this._retry=0,(e=this)._logs.length>this._uploadCount?e._report():this._tickHandler=setTimeout((function(){e._report()}),1e3*this._uploadDuration))},t.exports=n},{"../lib/io":40,"../lib/storage":48}],64:[function(e,t,i){function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i,r=arguments[t];for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var n,o=e("../lib/oo"),a=e("../lib/object"),s=e("../lib/data"),l=e("../lib/io"),u=e("../lib/ua"),c=e("../config"),d=e("../player/base/event/eventtype"),f=e("./util"),h=e("./log"),p=0,v={STARTFETCHDATA:1003,COMPLETEFETCHDATA:1004,PREPARE:1101,PREPAREEND:1102,STARTPLAY:2e3,PLAY:2001,STOP:2002,PAUSE:2003,SEEK:2004,FULLSREEM:2005,QUITFULLSCREEM:2006,RESOLUTION:2007,RESOLUTION_DONE:2008,RECOVER:2010,SEEK_END:2011,PLAYABORT:2012,SEEKED:2014,CANPLAY:2018,FETCHEDIP:2020,CDNDETECT:2021,DETECT:2022,HEVCINFO:2023,UNDERLOAD:3002,LOADED:3001,RETRY:3003,HEARTBEAT:9001,ERROR:4001,ERRORRETRY:4002,RTSFALLBACK:4003,LICENSE_RESULT:5004,SNAPSHOT:2027,ROTATE:2028,IMAGE:2029,THUMBNAILSTART:2031,THUMBNAILCOMPLETE:2032,CCSTART:2033,CCCOMPLETE:2034,AUDIOTRACKSTART:2033,AUDIOTRACKCOMPLETE:2034};e=o.extend({init:function(e,t,i){this.trackLog=i=void 0===i||i,this.player=e,this.requestId="",this.sessionId=s.guid(),this.playId=0,this.firstPlay=!0,this.osName=u.os.name,this.osVersion=u.os.version||"",this.exName=u.browser.name,this.exVersion=u.browser.version||"",this.lightSaasVideoId="",this._logService="",this._h265ProbeCost={},this.startPlayReported=!1,this.canplayReported=!1,this.seekingData={seekingStartTime:0},this.prevStats={timestamp:0,bytesReceived:0,framesDecoded:0,packetsLost:0,packetsReceived:0,rtt:0},t.logBatched&&(this._logService=new h(c));i=this.player.getOptions(),e=t.from||"",i.isLive,t=i.isLive?"live":"vod";var r="pc",n=(u.IS_IPAD?r="pad":u.os.phone&&(r="phone"),this.encodeURL(u.getReferer())),o=u.getHref(),a=this.encodeURL(o),l="",d=(o=(o&&(l=u.getHost(o)),c.h5Version),f.getUuid()),p=i.source?this.encodeURL(i.source):"",v=u.getHost(i.source),g=i.userId?i.userId+"":"0",y=this.sessionId,m=(new Date).getTime(),_=i.traceId||"";this._userNetInfo={cdnIp:"",localIp:""},this.opt={APIVersion:"0.6.0",t:m,ll:"info",lv:"1.0",pd:"player",md:"saas_player",ui:"saas_player",sm:"play",os:this.osName,ov:this.osVersion,et:this.exName,ev:this.exVersion,uat:u.USER_AGENT,hn:"0.0.0.0",bi:e,ri:y,e:"0",args:"0",li_ki:i.license.key||"",vt:t,tt:r,dm:"h5",av:o,uuid:d,vu:p,vd:v,ua:g,dn:"custom",cdn_ip:"0.0.0.0",app_n:l,r:n,pu:a,ti:_},this.bindEvent()},updateVideoInfo:function(e){e=e.from||"",this.opt.bi=e+"",this.updateSourceInfo()},updateSourceInfo:function(){var e,t=this.player.getOptions();t&&(e=t.source?this.encodeURL(t.source):"",t=u.getHost(t.source),this.opt.vu=e,this.opt.vd=t)},updateTraceId:function(e){this.opt.ti=e},updateLightSaasVideoId:function(e){this.lightSaasVideoId=e},replay:function(){this.reset(),this.player.trigger(d.Video.LoadStart),this.player.trigger(d.Video.LoadedMetadata),this.player.trigger(d.Video.LoadedData)},bindEvent:function(){var e=this;this.player.on(d.Player.Init,(function(){e._onPlayerInit()})),this.player.on(d.Video.LoadStart,(function(){e._onPlayerloadstart()})),this.player.on(d.Video.LoadedMetadata,(function(){e._onPlayerLoadMetadata()})),this.player.on(d.Video.LoadedData,(function(){e._onPlayerLoaddata()})),this.player.on(d.Player.H265PlayInfo,(function(t){e._onPlayerH265PlayInfo(t)})),this.player.on(d.Video.Play,(function(){e._onPlayerPlay()})),this.player.on(d.Video.Playing,(function(){e._onPlayerReady()})),this.player.on(d.Video.Ended,(function(){e._onPlayerFinish()})),this.player.on(d.Video.Pause,(function(){e._onPlayerPause()})),this.player.on("seeking",(function(){e._onPlayerSeeking()})),this.player.on("seeked",(function(){e._onPlayerSeeked()})),this.player.on(d.Private.LicenseHasResult,(function(t){e._onLicenseHasResult(t)})),this.player.on(d.Private.SeekStart,(function(t){e._onPlayerSeekStart(t)})),this.player.on(d.Private.EndStart,(function(t){e._seekEndData=t.paramData})),this.player.on(d.Player.Waiting,(function(){e._onPlayerLoaded()})),this.player.on(d.Video.CanPlayThrough,(function(){})),this.player.on(d.Video.CanPlay,(function(){e._waitingDelayLoadingShowHandle&&(clearTimeout(e._waitingDelayLoadingShowHandle),e._waitingDelayLoadingShowHandle=null),e._onPlayerUnderload(),e._onPlayerCanplay()})),this.player.on(d.Video.TimeUpdate,(function(){e._waitingDelayLoadingShowHandle&&(clearTimeout(e._waitingDelayLoadingShowHandle),e._waitingDelayLoadingShowHandle=null),e._seekEndData&&e.player._seeking&&e._onPlayerSeekEnd()})),this.player.on(d.Player.Error,(function(){e._onPlayerError()})),this.player.on(d.Player.RequestFullScreen,(function(){e._onFullscreenChange(1)})),this.player.on(d.Player.CancelFullScreen,(function(){e._onFullscreenChange(0)})),this.player.on(d.Private.PREPARE,(function(t){e._prepareTime=(new Date).getTime(),e._log("PREPARE",{dn:t.paramData})})),this.player.on(d.Player.Snapshoted,(function(){e._log("SNAPSHOT")})),this.player.on(d.Private.Retry,(function(t){t=t.paramData||{},e._log("RETRY",{type:t.type,source:t.source})})),this.player.on(d.Player.RtsFallback,(function(t){var i;t=t.paramData||{};e._log("RTSFALLBACK",{reason:null==(i=t.reason)?void 0:i.error_msg,url:t.fallbackUrl})})),this.startHeartBeat.call(this)},removeEvent:function(){this.player.off("init"),this.player.off("ready"),this.player.off("ended"),this.player.off("play"),this.player.off("pause"),this.player.off("seekStart"),this.player.off("seekEnd"),this.player.off("canplaythrough"),this.player.off("playing"),this.player.off("timeupdate"),this.player.off("error"),this.player.off("fullscreenchange"),this.player.off("seeking"),this.player.off("seeked"),this.player.off(d.Private.PREPARE),this.player.off(d.Player.RtsFallback),this._logService&&this._logService.dispose(),clearInterval(n)},reset:function(){this.stucking=!1,this.startTimePlay=0,this.buffer_flag=0,this.firstPlay=!1,this.playId=0,this._LoadedData=0,this._canPlay=0,this.seekingStartTime=0,this.prevStats={timestamp:0,bytesReceived:0,framesDecoded:0,packetsLost:0,packetsReceived:0,rtt:0},p=0,this.lightSaasVideoId=""},encodeURL:function(e){var t;return e?(t=this.player.getOptions())&&!t.logBatched?encodeURIComponent(e):e:""},startHeartBeat:function(){var e=this;n&&clearInterval(n),n=setInterval((function(){var t;e.player.getCurrentTime()&&(t=Math.floor(1e3*e.player.getCurrentTime()),e.player.paused()?e.prevStats.timestamp=0:++p>=e.player._options.heartHeatInterval&&e.updateStats.call(e,(function(i){var n=e._imageInfo()||{},o=e.player.tag.playbackRate,a=e.player.getVolume();n={vt:t,interval:1e3*p,imgLength:n.imgLength,playbackRate:o,volume:a};i&&(n=r({},n,{dls:Math.floor(i.downloadSpeedPerSec),dfps:Math.floor(i.decodedFramesPerSec),pkl:Number((i.packageLossRate||0).toFixed(2)),rtt:1e3*i.rtt})),e._log("HEARTBEAT",n),p=0})))}),1e3)},updateStats:function(e){e=e||function(){};var t=this;this.player.getStats().then((function(i){var r,n,o,a;i?(a=t.prevStats,i.bytesReceived=i.bytesReceived||0,i.framesDecoded=i.framesDecoded||0,i.packetsLost=i.packetsLost||0,i.packetsReceived=i.packetsReceived||0,r=((t.prevStats=i).timestamp-a.timestamp)/1e3,n=(i.bytesReceived-a.bytesReceived)/r,o=(i.framesDecoded-a.framesDecoded)/r,a=(i.packetsLost-a.packetsLost)/(i.packetsLost-a.packetsLost+(i.packetsReceived-a.packetsReceived)),i=i.rtt,e({downloadSpeedPerSec:n,decodedFramesPerSec:o,packageLossRate:a,rtt:i,timeGap:r})):e()})).catch((function(t){__f__("log","error in monitor getStats: ",t," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),e()}))},reportStartPlay:function(){this.startPlayReported||(this._log("STARTPLAY",{vt:(new Date).getTime()}),this.startPlayReported=!0)},reportCanplay:function(){this.canplayReported||(this._log("CANPLAY",{vt:(new Date).getTime()}),this.canplayReported=!0)},reportPlayAbort:function(){this._log("PLAYABORT",{vt:(new Date).getTime()})},resetStartPlayReportFlag:function(){this.startPlayReported=!1},resetCanplayReportFlag:function(){this.canplayReported=!1},resetSessionId:function(){this.sessionId=s.guid()},resetVV:function(){this.startPlayReported&&(this.resetStartPlayReportFlag(),this.resetCanplayReportFlag(),this.resetSessionId())},updateH265ProbeCost:function(e){this._h265ProbeCost=e||{}},_onFullscreenChange:function(e){e?this._log("FULLSREEM",{}):this._log("QUITFULLSCREEM",{})},_onPlayerloadstart:function(){this.loadstartTime=(new Date).getTime(),this.playId=s.guid()},_onPlayerLoadMetadata:function(){this.loadMetaDataCost=(new Date).getTime()-this.loadstartTime},_onPlayerLoaddata:function(){var e,t,i,r;this._LoadedData||this.buffer_flag||(t=e=0,this.player.tag&&(e=this.player.tag.videoWidth,t=this.player.tag.videoHeight),e={tc:(new Date).getTime()-this._prepareTime,cc:(new Date).getTime()-this.loadstartTime,md:this.loadMetaDataCost,mi:JSON.stringify({type:"video",definition:e+"*"+t})},null!=(t=this.player.tag)&&t.duration&&(e.vdur=1e3*(null==(t=this.player.tag)?void 0:t.duration)),(5<this._h265ProbeCost.codecCost||5<this._h265ProbeCost.decoderCost)&&(t=Math.floor(this._h265ProbeCost.codecCost)||0,i=Math.floor(this._h265ProbeCost.decoderCost)||0,e.tc+=r=t+i,e.cc+=r,e.pcc=t,e.pdc=i),this._log("PREPAREEND",e)),this._LoadedData=1},_onPlayerH265PlayInfo:function(e){e=e.paramData||{},this._log("HEVCINFO",{cd:e.codecTag,rd:e.renderType,si:e.simd,sio:e.simdOption,wt:e.wasmThreads,wto:e.wasmThreadsOption,sp:e.splayer})},_onPlayerCanplay:function(){this._canPlay=1,this.reportCanplay(),this._reportPlay(),this.prevStats.timestamp||this.updateStats.call(this)},_onPlayerInit:function(){this.stucking=!1,this.buffer_flag=0,this.pause_flag=0,this.startTimePlay=0,this._LoadedData=0,this._canPlay=0,this.seekingStartTime=0},_onPlayerReady:function(){this.startTimePlay||(this.startTimePlay=(new Date).getTime())},_onPlayerFinish:function(){this._log("STOP",{vt:Math.floor(1e3*this.player.getCurrentTime())}),this.reset()},_reportPlay:function(){var e;return!(this.buffer_flag||!this._LoadedData||!this.playstartTime||(this.first_play_time=(new Date).getTime(),e={dsm:"fix",tc:this.first_play_time-this.loadstartTime,fc:this.first_play_time-this.playstartTime},this._log("PLAY",e),this.buffer_flag=1,0))},_onPlayerPlay:function(){this.playstartTime=(new Date).getTime(),0==this.playId&&(this.playId=s.guid()),this.player._isPreload()||(this.loadstartTime=(new Date).getTime()),this._canPlay&&this._reportPlay()||this.buffer_flag&&this.pause_flag&&(this.pause_flag=0,this.pauseEndTime=(new Date).getTime(),this._log("RECOVER",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:this.pauseEndTime-this.pauseTime}))},_onPlayerPause:function(){!this.buffer_flag||this.startTimePlay&&!this.player._seeking&&(this.pause_flag=1,this.pauseTime=(new Date).getTime(),this._log("PAUSE",{vt:Math.floor(1e3*this.player.getCurrentTime())}))},_onLicenseHasResult:function(e){e=e.paramData||{},this._log("LICENSE_RESULT",{li_ri:e.result,li_ti:e.featureId||"sdk"})},_onPlayerSeekStart:function(e){this.seekStartTime=e.paramData.fromTime,this.startTimePlay=0,this.seekStartStamp=(new Date).getTime()},_onPlayerSeekEnd:function(){this.seekEndStamp=(new Date).getTime(),this._log("SEEK",{drag_from_timestamp:Math.floor(1e3*this.seekStartTime),drag_to_timestamp:Math.floor(1e3*this._seekEndData.toTime)}),this._log("SEEK_END",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:this.seekEndStamp-this.seekStartStamp}),this._seekEndData=null},_onPlayerLoaded:function(){var e,t=this;this.buffer_flag&&!this.stucking&&(this.player._seeking?(this.seekingStartTime=this.player.getCurrentTime(),setTimeout((function(){var e=t.player.readyState()<4;t.player.readyState()||(e=!0),t.player.getCurrentTime()===t.seekingStartTime&&e&&(e=t._getbwEstimator(),t._log("UNDERLOAD",{vt:Math.floor(1e3*t.player.getCurrentTime()),bw:e,cbs:t._getCbs()}),t.stucking=!0,t.stuckStartTime=(new Date).getTime())}),500)):(this.stuckStartTime=(new Date).getTime(),this.stuckStartTime-this.startTimePlay<=1e3||(this.stucking=!0,e=this._getbwEstimator(),this._log("UNDERLOAD",{vt:Math.floor(1e3*this.player.getCurrentTime()),bw:e,cbs:this._getCbs()}),this.stuckStartTime=(new Date).getTime())))},_onPlayerUnderload:function(){var e,t,i;!this.buffer_flag&&this.player._options&&this.player._options.autoplay||this.stucking&&(e=Math.floor(1e3*this.player.getCurrentTime()),t=this.stuckStartTime||(new Date).getTime(),0<(t=Math.floor((new Date).getTime()-t))&&t<(1e3*this.player._options.waitingTimeout||6e4)&&(i=this._getbwEstimator(),this._log("LOADED",{vt:e,cost:t,bw:i,cbs:this._getCbs()})),this.seekStart=!1,this.stucking=!1)},_onPlayerSeeking:function(){this.seekStart=!0,this.seekingData.seekingStartTime=performance.now()},_onPlayerSeeked:function(){var e=this;this.player._splayer?this.player.one("canplay",(function(){e._reportSeeked()})):this._reportSeeked()},_reportSeeked:function(){var e=performance.now();e=Math.floor(e-this.seekingData.seekingStartTime);this._log("SEEKED",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:e})},_onPlayerError:function(){this.playId=0,this._LoadedData=1,this.buffer_flag||this._reportPlay(),this.player.getOptions().autoplay&&this.reportStartPlay()},_getbwEstimator:function(){var e=NaN;try{e=this.player._getbwEstimator&&this.player._getbwEstimator()}catch(e){}return e},_getCbs:function(){return!this.player.getOptions().isLive&&this.seekStart?1:0},_log:function(e,t){if(this.trackLog){this.updateSourceInfo();var i,r=a.copy(this.opt),n=(this.requestId=s.guid(),c.logReportTo),o=(e=(r.e=v[e]+"",r.ri=this.sessionId,r.bi=r.bi&&String(r.bi),r.t=(new Date).getTime()+"",r.cdn_ip=this._userNetInfo.cdnIp,r.hn=this._userNetInfo.localIp,this.player.getCurrentQuality()),""!=e&&(r.definition=e.definition),[]);e=(a.each(t,(function(e,t){if("string"!=typeof t)try{t=JSON.stringify(t)}catch(e){}o.push(e+"="+t)})),""),t=this.player.getOptions(),e=((t&&t.vid||this.lightSaasVideoId)&&(e=t.vid||this.lightSaasVideoId),o.push("vid="+e),"");(e=t&&t.mediaAuth?t.mediaAuth:e)&&o.push("pauth="+e);try{Aliplayer&&Aliplayer.__logCallback__&&(r.args=o,Aliplayer.__logCallback__(r))}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}return""==(o=o.join("&"))&&(o="0"),r.args=this.encodeURL(o),this._logService?this._logService.add(r):(i=[],a.each(r,(function(e,t){i.push(e+"="+t)})),i=i.join("&"),l.jsonp(n+"?"+i,(function(){}),(function(){}))),this.sessionId}},_imageInfo:function(){try{var e,t,i,r,n,o,a;return/MSIE\s8\.0/.test(navigator.userAgent)?{}:(e=this.player.tag)?(t=document.createElement("canvas"),i=e.videoWidth,r=e.videoHeight,t.width=i,t.height=r,(n=t.getContext("2d")).save(),n.drawImage(e,0,0,i,r),n.restore(),o=t.toDataURL("image/jpeg",1),a="",{imgLength:(a=o?(a=o.substr(o.indexOf(",")+1))||"":a).length}):{}}catch(e){return{}}}});t.exports=e},{"../config":14,"../lib/data":30,"../lib/io":40,"../lib/object":42,"../lib/oo":43,"../lib/ua":49,"../player/base/event/eventtype":70,"./log":63,"./util":65}],65:[function(e,t,i){var r=e("../lib/cookie"),n=e("../lib/data"),o=e("../lib/ua");t.exports.getUuid=function(){var e=r.get("p_h5_u");return e||(e=n.guid(),r.set("p_h5_u",e,730)),e},t.exports.getTerminalType=function(){var e="pc";return o.IS_IPAD?e="pad":o.IS_ANDROID?e="android":o.IS_IOS&&(e="iphone"),e},t.exports.returnUTCDate=function(e){var t=e.getUTCFullYear(),i=e.getUTCMonth(),r=e.getUTCDate(),n=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds();e=e.getUTCMilliseconds();return Date.UTC(t,i,r,n,o,a,e)},t.exports.getRfc822=function(e){return e.toUTCString().replace("UTC","GMT")}},{"../lib/cookie":29,"../lib/data":30,"../lib/ua":49}],66:[function(e,t,i){var r=e("./base/player"),n=e("./flash/flashplayer"),o=e("./saas/mtsplayer"),a=e("./saas/vodplayer"),s=e("./saas/lightPlayer"),l=e("./audio/audioplayer"),u=e("./hls/hlsplayer"),c=e("./flv/flvplayer"),d=e("./rts/rtsplayer"),f=e("./drm/drmplayer"),h=e("./splayer/splayer"),p=e("../lib/ua"),v=e("../lib/playerutil"),g=(e("../lib/dom"),e("../lib/io"),e("../lang/index")),y=e("../lib/constants"),m=e("./base/event/eventtype");t.exports.create=function(e,t){navigator&&navigator.userAgent&&-1<navigator.userAgent.indexOf("Olympic_Android")&&(e.useNativeControls=!0),e.readyCallback=t="function"!=typeof t?function(){}:t,g.setCurrentLanguage(e.language,"h5",e.languageTexts);t=v.handleOption(e),e=t.source;var i,_=v.isAudio(e),b=(_&&(t.mediaType="audio"),v.createWrapper(t));if(b.player)return b.player;if(_)i=new l(b,t);else if(v.isRts(e))i=new d(b,t);else if((t.forceH265||t.enableH265)&&(v.isMp4(e)||v.isFlv(e)))i=new h(b,t);else if(!t.useFlashPrism&&v.isFlv(e)&&v.isSupportFlv())i=new c(b,t);else if(p.IS_MOBILE||!t.useFlashPrism&&!v.isRTMP(e))if(-1!==[null,void 0].indexOf(t.mediaAuth)||t.source)if(t.vid&&!t.source)if(t.authInfo)i=new o(b,t);else{if(!(t.playauth||t.accessKeyId&&t.accessKeySecret))throw _="vid="+t.vid+" playauth='', playauth property is required by VOD(\u89c6\u9891\u70b9\u64ad) as new Aliplayer.",new Error(_);i=new a(b,t)}else v.isDash(e)&&v.isSupportMSE()?i=new f(b,t):v.isHls(e)?v.canPlayHls()?i=new(v.isSupportHls()&&(v.isUsedHlsPluginOnMobile()||v.isSafariUsedHlsPlugin(t.useHlsPluginForSafari))?t.isDrm?f:u:t.isDrm?f:r)(b,t):v.isSupportHls()?i=new(t.isDrm?f:u)(b,t):p.os.pc?t.userH5Prism||t.useH5Prism||(i=new n(b,t)):i=new r(b,t):(i=new r(b,t),t.source||(_={error_code:y.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL",display_msg:g.get("Error_Empty_Source")},i.trigger(m.Player.Error,_)));else i=new s(b,t);else i=new n(b,t);return i}},{"../lang/index":23,"../lib/constants":28,"../lib/dom":32,"../lib/io":40,"../lib/playerutil":46,"../lib/ua":49,"./audio/audioplayer":68,"./base/event/eventtype":70,"./base/player":91,"./drm/drmplayer":98,"./flash/flashplayer":99,"./flv/flvplayer":101,"./hls/hlsplayer":103,"./rts/rtsplayer":105,"./saas/lightPlayer":109,"./saas/mtsplayer":111,"./saas/vodplayer":117,"./splayer/splayer":126}],67:[function(e,t,i){var r=e("./base/player"),n=e("./flash/flashplayer"),o=e("./saas/mtsplayer"),a=e("./saas/vodplayer"),s=e("./saas/lightPlayer"),l=e("./audio/audioplayer"),u=e("./hls/hlsplayer"),c=e("./flv/flvplayer"),d=e("./rts/rtsplayer"),f=e("./drm/drmplayer"),h=e("./splayer/splayer"),p=e("../lib/ua"),v=e("../lib/playerutil"),g=(e("../lib/dom"),e("../lib/io"),e("../lang/index")),y=e("../lib/constants"),m=e("./base/event/eventtype");t.exports.create=function(e,t){navigator&&navigator.userAgent&&-1<navigator.userAgent.indexOf("Olympic_Android")&&(e.useNativeControls=!0),e.readyCallback=t="function"!=typeof t?function(){}:t,g.setCurrentLanguage(e.language,"h5",e.languageTexts);t=v.handleOption(e),e=t.source;var i,_=v.isAudio(e),b=(_&&(t.mediaType="audio"),v.createWrapper(t));if(b.player)return b.player;if(_)i=new l(b,t);else if(v.isRts(e))i=new d(b,t);else if((t.forceH265||t.enableH265)&&(v.isMp4(e)||v.isFlv(e)))i=new h(b,t);else if(!t.useFlashPrism&&v.isFlv(e)&&v.isSupportFlv())i=new c(b,t);else if(p.IS_MOBILE||!t.useFlashPrism&&!v.isRTMP(e))if(-1!==[null,void 0].indexOf(t.mediaAuth)||t.source)if(t.vid&&!t.source)if(t.authInfo)i=new o(b,t);else{if(!(t.playauth||t.accessKeyId&&t.accessKeySecret))throw _="vid="+t.vid+" playauth='', playauth property is required by VOD(\u89c6\u9891\u70b9\u64ad) as new Aliplayer.",new Error(_);i=new a(b,t)}else v.isDash(e)&&v.isSupportMSE()?i=new f(b,t):v.isHls(e)?v.canPlayHls()?i=new(v.isSupportHls()&&(v.isUsedHlsPluginOnMobile()||v.isSafariUsedHlsPlugin(t.useHlsPluginForSafari))?t.isDrm?f:u:t.isDrm?f:r)(b,t):v.isSupportHls()?i=new(t.isDrm?f:u)(b,t):p.os.pc?t.userH5Prism||t.useH5Prism||(i=new n(b,t)):i=new r(b,t):(i=new r(b,t),t.source||(_={error_code:y.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL",display_msg:g.get("Error_Empty_Source")},i.trigger(m.Player.Error,_)));else i=new s(b,t);else i=new n(b,t);return i}},{"../lang/index":23,"../lib/constants":28,"../lib/dom":32,"../lib/io":40,"../lib/playerutil":46,"../lib/ua":49,"./audio/audioplayer":68,"./base/event/eventtype":70,"./base/player":91,"./drm/drmplayer":98,"./flash/flashplayer":99,"./flv/flvplayer":101,"./hls/hlsplayer":103,"./rts/rtsplayer":105,"./saas/lightPlayer":109,"./saas/mtsplayer":111,"./saas/vodplayer":117,"./splayer/splayer":126}],68:[function(e,t,i){var r=e("../base/player"),n=e("../../ui/component"),o=e("../../lib/dom"),a=e("../../lib/object"),s=e("../../lib/playerutil");e=r.extend({init:function(e,t){this._isAudio=!0,void 0===t.skinLayout&&(t.skinLayout=s.defaultAudioLayout),r.call(this,e,t)}});e.prototype.createEl=function(){"AUDIO"!==this.tag.tagName&&(this._el=this.tag,this.tag=n.prototype.createEl.call(this,"audio"));var e=this._el,t=this.tag,i=(t.player=this,o.getElementAttributes(t));return a.each(i,(function(t){e.setAttribute(t,i[t])})),this.setVideoAttrs(),t.parentNode&&t.parentNode.insertBefore(e,t),o.insertFirst(t,e),e},t.exports=e},{"../../lib/dom":32,"../../lib/object":42,"../../lib/playerutil":46,"../../ui/component":130,"../base/player":91}],69:[function(e,t,i){var r=e("../../../lib/event"),n=e("./eventtype"),o=e("../eventHandler/video/index"),a=e("../eventHandler/player/index");t.exports.offAll=function(e){var t,i,o,a=e.tag,s=e._el;for(t in n.Video)r.off(a,n.Video[t]);for(i in n.Player)r.off(s,n.Player[i]);for(o in n.Private)r.off(s,n.Private[o])},t.exports.offVideoAll=function(e){var t,i=e.tag;for(t in n.Video)r.off(i,n.Video[t])},t.exports.onAll=function(e){o.bind(e),a.bind(e)}},{"../../../lib/event":33,"../eventHandler/player/index":74,"../eventHandler/video/index":84,"./eventtype":70}],70:[function(e,t,i){t.exports={Video:{TimeUpdate:"timeupdate",Play:"play",Playing:"playing",Pause:"pause",CanPlay:"canplay",Waiting:"waiting",Ended:"ended",Error:"error",Suspend:"suspend",Stalled:"stalled",LoadStart:"loadstart",DurationChange:"durationchange",LoadedData:"loadeddata",LoadedMetadata:"loadedmetadata",Progress:"progress",CanPlayThrough:"canplaythrough",ContextMenu:"contextmenu",Seeking:"seeking",Seeked:"seeked",ManualEnded:"manualended",VolumeChange:"volumechange",RateChange:"ratechange"},Player:{TimeUpdate:"timeupdate",DurationChange:"durationchange",Init:"init",Ready:"ready",Play:"play",Playing:"playing",Pause:"pause",CanPlay:"canplay",Waiting:"waiting",Ended:"ended",Error:"error",RequestFullScreen:"requestFullScreen",CancelFullScreen:"cancelFullScreen",Snapshoted:"snapshoted",Snapshoting:"snapshoting",OnM3u8Retry:"onM3u8Retry",LiveStreamStop:"liveStreamStop",AutoPlayPrevented:"autoPlayPrevented",AutoPlay:"autoplay",StartSeek:"startSeek",CompleteSeek:"completeSeek",TextTrackReady:"textTrackReady",AudioTrackReady:"audioTrackReady",AudioTrackUpdated:"audioTrackUpdated",LevelsLoaded:"levelsLoaded",AudioTrackSwitch:"audioTrackSwitch",AudioTrackSwitched:"audioTrackSwitched",LevelSwitch:"levelSwitch",LevelSwitched:"levelSwitched",MarkerDotOver:"markerDotOver",MarkerDotOut:"markerDotOut",DefaultBandWidth:"defaultbandwidth",ResolutionChange:"resolutionChange",SeiFrame:"seiFrame",RtsFallback:"rtsFallback",H265PlayInfo:"h265PlayInfo",H265DecoderOverload:"h265DecoderOverload"},Private:{Play_Btn_Show:"play_btn_show",UiH5Ready:"uiH5Ready",Error_Hide:"error_hide",Error_Show:"error_show",Info_Show:"info_show",Info_Hide:"info_hide",H5_Loading_Show:"h5_loading_show",H5_Loading_Hide:"h5_loading_hide",HideProgress:"hideProgress",CancelHideProgress:"cancelHideProgress",UpdateProgress:"updateProgress",UpdateCursorPosition:"updateCursorPosition",Click:"click",MouseOver:"mouseover",MouseOut:"mouseout",MouseEnter:"mouseenter",MouseLeave:"mouseleave",TouchStart:"touchstart",TouchMove:"touchmove",TouchEnd:"touchend",HideBar:"hideBar",ShowBar:"showBar",ControlBarClick:"controlBarClick",ReadyState:"readyState",SourceLoaded:"sourceloaded",QualityChange:"qualitychange",Play_Btn_Hide:"play_btn_hide",Cover_Hide:"cover_hide",Cover_Show:"cover_show",SeekStart:"seekStart",EndStart:"endStart",UpdateProgressBar:"updateProgressBar",LifeCycleChanged:"lifeCycleChanged",Dispose:"dispose",Created:"created",Snapshot_Hide:"snapshot_hide",AutoStreamShow:"auto_stream_show",AutoStreamHide:"auto_stream_hide",VolumnChanged:"volumnchanged",LiveShiftQueryCompleted:"liveShiftQueryCompleted",LiveShiftSwitchToLive:"LiveShiftSwitchToLive",StreamSelectorHide:"streamSelectorHide",SpeedSelectorHide:"speedSelectorHide",SettingShow:"settingShow",SettingHide:"settingHide",SelectorShow:"selectorShow",SelectorHide:"selectorHide",SettingListShow:"settingListShow",SettingListHide:"settingListHide",ThumbnailHide:"thumbnailHide",ThumbnailShow:"thumbnailShow",ThumbnailLoaded:"thumbnailLoaded",TooltipShow:"tooltipShow",TooltipHide:"tooltipHide",SelectorUpdateList:"selectorUpdateList",SelectorValueChange:"selectorValueChange",SelectorGenerateList:"selectorGenerateList",VolumeVisibilityChange:"volumeVisibilityChange",VolumeUpdatePosition:"volumeUpdatePosition",ChangeURL:"changeURL",UpdateToSettingList:"updateToSettingList",CCChanged:"CCChanged",CCStateChanged:"CCStateChanged",CCReset:"ccReset",TextTrackFounded:"textTrackFounded",UserTrackReset:"userTrackReset",PlayClick:"click",ProgressMarkerLoaded:"progressMarkerLoaded",MarkerTextShow:"markerTextShow",MarkerTextHide:"markerTextHide",PREPARE:"prepare",ProgressMarkerChanged:"progressMarkerChanged",SeiFrame:"privateSeiFrame",PlayInfoLoaded:"playInfoLoaded",Retry:"retry",LicenseHasResult:"licenseHasResult",PatchWaiting:"patchWaiting",VttHide:"vttHide",VttSwitchTrack:"vttSwitchTrack",VttClearTracks:"vttClearTracks",SafariDrmLevelSwitch:"safariDrmLevelSwitch"}}},{}],71:[function(e,t,i){e("../../event/eventtype");var r=e("../../../../lib/dom"),n=e("../../../../lib/ua");t.exports.handle=function(){(!n.IS_IOS||n.IS_IOS&&this._splayer&&2===this._splayer.renderType)&&r.removeClass(this.el(),"prism-fullscreen")}},{"../../../../lib/dom":32,"../../../../lib/ua":49,"../../event/eventtype":70}],72:[function(e,t,i){var r=e("../../event/eventtype");t.exports.handle=function(e){var t=this;t.trigger(r.Player.CompleteSeek,e.paramData.toTime),t.one(r.Player.CanPlay,(function(){t._enteredProgressMarker&&t.pause()}))}},{"../../event/eventtype":70}],73:[function(e,t,i){var r=e("../../event/eventtype"),n=(e("../../../../lib/constants"),e("../../../../lang/index"),e("../../../../monitor/util"));t.exports.handle=function(e){var t=this;e=e.paramData;t.trigger(r.Private.H5_Loading_Hide),t.trigger(r.Private.Cover_Hide),t.trigger(r.Private.Play_Btn_Hide),t.trigger(r.Private.SettingListHide),t.trigger(r.Private.SelectorHide),t.trigger(r.Private.VolumeVisibilityChange,""),e=e||{},t._monitor&&(e.uuid=n.getUuid(),e.requestId=t._serverRequestId,e.cdnIp=t._monitor._userNetInfo.cdnIp,e.localIp=t._monitor._userNetInfo.localIp),t._isError=!0,t.trigger(r.Private.Error_Show,e),t.trigger(r.Private.LifeCycleChanged,{type:r.Player.Error,data:e})}},{"../../../../lang/index":23,"../../../../lib/constants":28,"../../../../monitor/util":65,"../../event/eventtype":70}],74:[function(e,t,i){var r=e("../../event/eventtype"),n=e("../../../../lib/event"),o=e("./lifecyclecommon"),a={endStart:e("./endstart"),seekStart:e("./seekstart"),requestFullScreen:e("./requestfullscreen"),cancelFullScreen:e("./cancelfullscreen"),error:e("./error"),privateSeiFrame:e("./seiframe"),patchWaiting:e("../video/waiting")},s=[r.Private.EndStart,r.Private.SeekStart,r.Player.RequestFullScreen,r.Player.CancelFullScreen,r.Player.Error,r.Player.Ready,r.Private.Dispose,r.Private.Created,r.Private.SeiFrame,r.Private.PatchWaiting];t.exports.bind=function(e){e.el();for(var t=0;t<s.length;t++){var i=s[t];"undefined"!=a[i]&&function(e,t,i){var r=e.el();n.on(r,t,(function(r){var n=(i&&i.handle?i:o).handle;n.call(e,r,t)}))}(e,i,a[i])}}},{"../../../../lib/event":33,"../../event/eventtype":70,"../video/waiting":90,"./cancelfullscreen":71,"./endstart":72,"./error":73,"./lifecyclecommon":75,"./requestfullscreen":76,"./seekstart":77,"./seiframe":78}],75:[function(e,t,i){var r=e("../../event/eventtype");t.exports.handle=function(e,t){this.trigger(r.Private.LifeCycleChanged,{type:t,data:e})}},{"../../event/eventtype":70}],76:[function(e,t,i){e("../../event/eventtype");var r=e("../../../../lib/dom"),n=e("../../../../lib/ua");t.exports.handle=function(){(!n.IS_IOS||n.IS_IOS&&this._splayer&&2===this._splayer.renderType)&&r.addClass(this.el(),"prism-fullscreen")}},{"../../../../lib/dom":32,"../../../../lib/ua":49,"../../event/eventtype":70}],77:[function(e,t,i){var r=e("../../event/eventtype");t.exports.handle=function(e){this._seeking=!0,this.trigger(r.Player.StartSeek,e.paramData.fromTime)}},{"../../event/eventtype":70}],78:[function(e,t,i){e("../../event/eventtype"),t.exports.handle=function(e){e=e.paramData;var t,i,r=e.pts;this._hls&&(t=e.pts,i=this._initPTS,r=parseInt((t-i)/90,10)),this._seis[r]=e.dataContent}},{"../../event/eventtype":70}],79:[function(e,t,i){var r=e("../../event/eventtype");t.exports.handle=function(e){var t=this,i=(t._retrySwitchUrlCount=0,t._liveRetryCount=0,t._clearLiveErrorHandle(),(new Date).getTime()-t.readyTime);t._options.autoplay||t._options._autoplay||!t.paused()||(t.trigger(r.Private.H5_Loading_Hide),t.trigger(r.Private.Play_Btn_Show)),t.trigger(r.Player.CanPlay,{loadtime:i})}},{"../../event/eventtype":70}],80:[function(e,t,i){var r=e("../../event/eventtype"),n=e("../../../../lib/dom"),o=e("../../../../lib/ua");t.exports.handle=function(e){this._seeking=!1;var t=this.tag;"none"===t.style.display&&o.IS_IOS&&setTimeout((function(){n.css(t,"display","block")}),100),this.trigger(r.Video.CanPlayThrough)}},{"../../../../lib/dom":32,"../../../../lib/ua":49,"../../event/eventtype":70}],81:[function(e,t,i){t.exports.handle=function(e,t){var i="";e&&e.paramData&&(i=e.paramData),this.trigger(t,i)}},{}],82:[function(e,t,i){var r=e("../../event/eventtype");e("../../../../lang/index"),e("../../../../lib/event"),t.exports.handle=function(e){var t=this;t.waiting=!1,t._ended=!0,t._monitor&&t._monitor._onPlayerInit(),t._options.rePlay?(t.seek(0),t.tag.play()):t._options.isLive&&t.trigger(r.Private.H5_Loading_Hide),t.trigger(r.Private.Play_Btn_Show),t.trigger(r.Player.Ended)}},{"../../../../lang/index":23,"../../../../lib/event":33,"../../event/eventtype":70}],83:[function(e,t,i){var r=e("../../event/eventtype"),n=e("../../../../lib/constants"),o=e("../../../../lang/index"),a=e("../../../../lib/event"),s=e("../../../../lib/ua"),l=(e("../../../../lib/io"),e("../../../../lib/playerutil"));function u(e,t,i){var r=e._options,a=r.source||"";4===(t=4!==t&&s.IS_IOS&&/qqbrowser/i.test(s.USER_AGENT)?4:t)&&l.isHls(a)?l.detectRegionBlock(a,(function(t){t?(t={mediaId:r.isLive?"ISLIVE":r.vid||"",error_code:n.ErrorCode.RegionBlock,error_msg:o.get("Error_Region_Block_Text")},e.logError(t),e.trigger("error",t)):i()})):i()}t.exports.handle=function(e){var t,i,l,c,d=this;d.waiting=!1,d._clearTimeout(),d.checkOnline()&&!d._splayer&&(l="",e=e.target||e.srcElement,t=e.error&&e.error.message,l="",e.error&&e.error.code&&(i=e.error.code,l=n.VideoErrorCode[e.error.code],t=i+" || "+t),d._options.isLive?u(d,i,(function(){d._options.liveRetry>d._liveRetryCount?d._reloadAndPlayForM3u8():(d._liveRetryCount=0,d.trigger(r.Player.LiveStreamStop),d._liveErrorHandle=setTimeout((function(){var e={mediaId:"ISLIVE",error_code:l,error_msg:o.get("Error_Play_Text")+"\uff0c"+o.get("Error_Retry_Text")};d.logError(e),d.trigger("error",e)})),s.IS_UC&&(d._liveErrorHandle=null))})):-1<t.indexOf("NS_ERROR_DOM_MEDIA_FATAL_ERR")?(e=d.getCurrentTime(),(c=d.getDuration())-e<.5&&(d.pause(),d._ended=!0,d.tag.currentTime=c,a.trigger(d.tag,r.Video.ManualEnded))):3==i?(e={mediaId:d._options.vid||"",error_code:l,error_msg:t},d.logError(e),e.display_msg=n.VideoErrorCodeText[i],d.trigger(r.Player.Error,e)):d._reloadForVod()||u(d,i,(function(){var e,a,s;e=o.get("Error_Play_Text"),a=!1,i<3?e=n.VideoErrorCodeText[i]:d._eventState==n.SUSPEND?(e=o.get("Error_Load_Abort_Text"),l=n.ErrorCode.RequestDataError):d._eventState==n.LOAD_START?(e=o.get("Error_Network_Text"),0<d._options.source.indexOf("auth_key")&&(e=e+"\uff0c"+o.get("Error_AuthKey_Text")),l=n.ErrorCode.StartLoadData):d._eventState==n.LOADED_METADATA&&(e=o.get("Error_Play_Text"),l=n.ErrorCode.PlayingError),e=e+"\uff0c"+o.get("Error_Retry_Text"),1<d._urls.length&&d._retrySwitchUrlCount<3&&-1==d._options.source.indexOf(".mpd")&&(d.switchUrl(),a=!0),s={mediaId:d._options.vid||"",error_code:l,error_msg:t},a||(d.logError(s),s.display_msg=e,d.trigger(r.Player.Error,s))})))}},{"../../../../lang/index":23,"../../../../lib/constants":28,"../../../../lib/event":33,"../../../../lib/io":40,"../../../../lib/playerutil":46,"../../../../lib/ua":49,"../../event/eventtype":70}],84:[function(e,t,i){var r=e("../../../../lib/event"),n=e("../../event/eventtype"),o={canplay:e("./canplay"),canplaythrough:e("./canplaythrough"),common:e("./common"),ended:e("./ended"),error:e("./error"),pause:e("./pause"),play:e("./play"),playing:e("./playing"),waiting:e("./waiting"),timeupdate:e("./timeupdate"),manualended:e("./ended"),loadedmetadata:e("./loadedmetadata")};t.exports.bind=function(e){for(var t in e.tag,n.Video)t=n.Video[t],function(e,t,i){var o=e.tag;r.on(o,t,(function(r){i.handle.call(e,r,t),t!=n.Video.Error&&(t==n.Video.ManualEnded&&(t=n.Video.Ended),e.trigger(n.Private.LifeCycleChanged,{type:t,data:r}))}))}(e,t,void 0!==o[t]?o[t]:o.common)}},{"../../../../lib/event":33,"../../event/eventtype":70,"./canplay":79,"./canplaythrough":80,"./common":81,"./ended":82,"./error":83,"./loadedmetadata":85,"./pause":86,"./play":87,"./playing":88,"./timeupdate":89,"./waiting":90}],85:[function(e,t,i){var r=e("../../event/eventtype");t.exports.handle=function(e){var t=this.tag;this._duration=t.duration<1?0:t.duration,this.trigger(r.Private.ReadyState),this._splayer&&this.trigger(r.Video.DurationChange),this.trigger(r.Video.LoadedMetadata)}},{"../../event/eventtype":70}],86:[function(e,t,i){var r=e("../../event/eventtype"),n=e("../../../../lib/ua");t.exports.handle=function(e){var t=this;t._seeking&&t._splayer||(t._hls&&t._options&&t._options.isLive&&n.IS_FIREFOX&&t.trigger(r.Private.Play_Btn_Show),t._clearTimeout(),t.trigger(r.Private.AutoStreamHide),t.trigger(r.Player.Pause),t._isManualPause&&(t.trigger(r.Private.Play_Btn_Show),t.trigger(r.Private.H5_Loading_Hide)),t.waiting=!1)}},{"../../../../lib/ua":49,"../../event/eventtype":70}],87:[function(e,t,i){var r=e("../../event/eventtype");t.exports.handle=function(e){this.trigger(r.Private.Error_Hide),this.trigger(r.Private.Cover_Hide),this.trigger(r.Private.AutoStreamHide),this.waiting=!1,this.trigger(r.Player.Play)}},{"../../event/eventtype":70}],88:[function(e,t,i){var r=e("../../event/eventtype");t.exports.handle=function(e){var t=this,i=(t.trigger(r.Private.H5_Loading_Hide),t.trigger(r.Private.Cover_Hide),t.trigger(r.Private.Info_Hide),t.waiting=!1,t._ended=!1,t._liveRetryCount=0,t._vodRetryCount=0,t._seeking=!1,t.getCurrentTime());t._waitingReloadTime!=i&&(t._waitingTimeoutCount=0),t._checkTimeoutHandle&&(clearTimeout(t._checkTimeoutHandle),t._checkTimeoutHandle=null),t._waitingLoadedHandle&&(clearTimeout(t._waitingLoadedHandle),t._waitingLoadedHandle=null),t._ucSourceHandle&&(clearTimeout(t._ucSourceHandle),t._ucSourceHandle=null),t._waitingDelayLoadingShowHandle&&(clearTimeout(t._waitingDelayLoadingShowHandle),t._waitingDelayLoadingShowHandle=null),t._waitingTimeoutHandle&&(clearTimeout(t._waitingTimeoutHandle),t._waitingTimeoutHandle=null,t._ccService)&&t._options.isLive&&(i=t._ccService.getCurrentSubtitle(),t._setDefaultCC=!0,i)&&t._ccService.switch(i),t.trigger(r.Private.AutoStreamHide),t.trigger(r.Player.Playing),t.trigger(r.Private.Error_Hide),t.tag.paused||t.trigger(r.Private.Play_Btn_Hide)}},{"../../event/eventtype":70}],89:[function(e,t,i){var r=e("../../event/eventtype"),n=e("../../../../lib/ua"),o=e("../../../../lib/event"),a=e("../../plugin/status");t.exports.handle=function(e){var t,i=this,s=(e=(i.trigger(r.Player.TimeUpdate,e.timeStamp),(n.IS_IOS||n.IS_MAC_SAFARI)&&(clearTimeout(i._waitingPatchTimer),i._waitingPatchTimer=setTimeout((function(){i.waiting||i._isError||i.paused()||i._disposed||(__f__("log","!!!!!!!manually waiting!!!!!!!"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),i.trigger(r.Private.PatchWaiting))}),3e3)),i.getCurrentTime()),i.waiting&&!i._TimeUpdateStamp&&(i._TimeUpdateStamp=e),0!=i.waiting&&i._TimeUpdateStamp==e||(i.trigger(r.Private.H5_Loading_Hide),i.trigger(r.Private.AutoStreamHide),i._checkTimeoutHandle&&clearTimeout(i._checkTimeoutHandle),i._waitingTimeoutHandle&&clearTimeout(i._waitingTimeoutHandle),i._waitingLoadedHandle&&clearTimeout(i._waitingLoadedHandle),i._ucSourceHandle&&(clearTimeout(i._ucSourceHandle),i._ucSourceHandle=null),i.waiting=!1),n.IS_ANDROID&&n.IS_UC&&(i._timeNotUpdateCount=i._timeNotUpdateCount||0,i.waiting||e!==i._TimeUpdateStamp||(i._timeNotUpdateCount++,2<=i._timeNotUpdateCount&&(i._timeNotUpdateCount=0,i.trigger(r.Private.PatchWaiting)))),i._TimeUpdateStamp=e,i._options.isLive||(t=!1,(t=!!((s=i.getDuration())<e&&!i.paused()||s-e<.2&&0<=n.browser.version.indexOf("49.")&&!i.paused()||i.exceedPreviewTime(e))||t)&&!i._ended&&(i.pause(),o.trigger(i.tag,r.Video.ManualEnded))),i._player.tag),l=(s&&i._options.isLive&&(i._player.resolution&&0<s.videoWidth&&0<s.videoHeight&&(0<i._player.resolution.width||0<i._player.resolution.height)&&(i._player.resolution.width!==s.videoWidth||i._player.resolution.height!==s.videoHeight)&&(t={oldResolution:{width:i._player.resolution.width,height:i._player.resolution.height},newResolution:{width:s.videoWidth,height:s.videoHeight}},i.trigger(r.Player.ResolutionChange,t)),i._player.resolution.width=0==s.videoWidth?i._player.resolution.width:s.videoWidth,i._player.resolution.height=0==s.videoHeight?i._player.resolution.height:s.videoHeight),n.IS_CHROME&&Number(n.CHROME_VERSION)<50&&(i._playingSlientPause&&(clearTimeout(i._playingSlientPause),i._playingSlientPause=null),i._playingSlientPause=setTimeout((function(){var e,t;i._status!=a.playing||i.paused()||i._drm||i._urls.length||(e=i.getCurrentTime(),t=i._options.isLive?0:e,i._loadByUrlInner(i._options.source,t,e,!0))}),3e3)),i._seis||{}),u=Object.keys(l);if(0!==u.length){var c=parseInt(1e3*e,10);if(!(f=l[c]))for(var d=0;d<250;d++){var f,h=c+d;if(f=l[h]){for(var p=0;p<u.length&&u[p]<=h;p++)delete l[u[p]];break}}f&&i.trigger(r.Player.SeiFrame,f)}}},{"../../../../lib/event":33,"../../../../lib/ua":49,"../../event/eventtype":70,"../../plugin/status":95}],90:[function(e,t,i){var r=e("../../event/eventtype"),n=e("../../../../lib/constants"),o=e("../../../../lib/event"),a=e("../../../../lang/index"),s=e("../../../../lib/ua"),l=e("../../../../lib/playerutil");t.exports.handle=function(e){var t=this;if(!t._options.isLive){var i=this.getCurrentTime(),u=this.getDuration();if(!t._ended&&0<u&&(u-i<.5||u<i))return t.pause(),t._ended=!0,void o.trigger(this.tag,r.Video.ManualEnded)}function c(){t._checkTimeoutHandle&&(clearTimeout(t._checkTimeoutHandle),t._checkTimeoutHandle=null),t._waitingTimeoutHandle&&(clearTimeout(t._waitingTimeoutHandle),t._waitingTimeoutHandle=null),t._waitingLoadedHandle&&(clearTimeout(t._waitingLoadedHandle),t._waitingLoadedHandle=null),t._waitingDelayLoadingShowHandle&&(clearTimeout(t._waitingDelayLoadingShowHandle),t._waitingDelayLoadingShowHandle=null),t._ucSourceHandle&&(clearTimeout(t._ucSourceHandle),t._ucSourceHandle=null)}t.waiting=!0,c(),t._waitingDelayLoadingShowHandle=setTimeout((function(){t.trigger(r.Private.H5_Loading_Show)}),1e3*t._options.delayLoadingShow),t._TimeUpdateStamp=null,t._checkTimeoutHandle=setTimeout((function(){t.trigger(r.Private.AutoStreamShow)}),1e3*t._options.loadDataTimeout),t.trigger(r.Player.Waiting),t._waitingTimeoutHandle=setTimeout((function(){var e;t.tag&&t._options&&(t.pause(),e={mediaId:t._options.vid||"",error_code:n.ErrorCode.LoadingTimeout,error_msg:a.get("Error_Waiting_Timeout_Text")},t.logError(e),t.trigger("error",e))}),1e3*t._options.waitingTimeout),t._waitingLoadedHandle=setTimeout((function(){var e=t.getCurrentTime();0==t._waitingTimeoutCount&&e!=t._waitingReloadTime&&(t._waitingTimeoutCount=1,t._waitingReloadTime=e,e=t._options.isLive?0:e,t._loadByUrlInner(t._options.source,e,!0))}),t._options.waitingTimeout/2*1e3),s.IS_ANDROID&&s.IS_DINGTALK&&(t._ucSourceHandle=setTimeout((function(){l.detectRegionBlock(t._options.source,(function(e){e&&(e={mediaId:t._options.vid,error_code:n.ErrorCode.RegionBlock,error_msg:a.get("Error_Region_Block_Text")},t.logError(e),t.trigger("error",e))}))}),5e3)),t.on("error",(function(){c()}))}},{"../../../../lang/index":23,"../../../../lib/constants":28,"../../../../lib/event":33,"../../../../lib/playerutil":46,"../../../../lib/ua":49,"../../event/eventtype":70}],91:[function(e,t,i){var r="undefined"==typeof Promise?e("es6-promise").Promise:Promise,n=e("../../ui/component"),o=e("../../lib/object"),a=e("../../lib/dom"),s=e("../../lib/event"),l=e("../../ui/exports"),u=e("../../monitor/monitor"),c=e("../../lib/ua"),d=e("../../lib/constants"),f=e("../../lib/playerutil"),h=e("./x5play"),p=e("../../lib/cookie"),v=e("../../lang/index"),g=e("../../feature/autoPlayDelay"),y=e("./event/eventmanager"),m=e("../../ui/component/cover"),_=e("../../ui/component/license-watermark"),b=e("../../feature/license"),S=e("../../ui/component/text-track-display"),T=e("../../ui/component/play-animation"),E=e("../../commonui/autostreamselector"),w=e("./event/eventtype"),k=e("./plugin/lifecyclemanager"),x=e("../service/export"),A=e("../../ui/component/progressmarker"),C=e("../../feature/keyboardControl"),L=e("../../feature/AntiRecord"),I=e("./eventHandler/video/index"),P=e("../../lib/vttnext/index"),D=e("../../lib/codec-probe"),R=e("../splayer/splayerinjector"),O=(e=e("../../ui/component/util").throttle,n.extend({init:function(e,t){var i;this.tag=e,this.loaded=!1,this.played=!1,this.waiting=!1,this._urls=[],this._currentPlayIndex=0,this._retrySwitchUrlCount=0,this._isError=!1,this._isHls=!1,this._liveRetryCount=0,this._liveRetryTimer=null,this._vodRetryCount=0,this._seeking=!1,this._serverRequestId=0,this._waitingTimeoutCount=0,this._waitingReloadTime=0,this._created=!1,this._enteredProgressMarker=!1,this._liveShiftSeekStartTime=0,this._duration=0,this._seis={},this._initPTS=0,this.isMutiLevel=!1,this._antiRecord=null,this.__disposed=!1,this.resolution={width:0,height:0},void 0===t.skinLayout&&(t.skinLayout=f.defaultH5Layout),f.isRts(t.source)&&!t.autoplay&&(t.preload=!1),n.call(this,this,t),this.addClass("prism-player"),t.plugins&&o.each(t.plugins,(function(e,t){this[e](t)}),this),this._createService(),this.UI={},t.useNativeControls?this.tag.setAttribute("controls","controls"):(this.UI=l,0==t.errorDisplay&&(this.UI.errorDisplay=void 0)),this.initChildren(),this._options.trackLog&&(this._monitor=new u(this,{video_id:0,album_id:0,from:this._options.from,source:this._options.source,logBatched:this._options.logBatched},this._options.trackLog)),y.onAll(this),this._options.preventRecord&&(this._antiRecord=new L({player:this}),this._antiRecord.start()),this._lifeCycleManager=new k(this),this._overrideNativePlay(),this._liveshiftService&&!this._liveshiftService.validate()?(e={mediaId:this._options.vid||"",error_code:d.ErrorCode.InvalidParameter,error_msg:v.get("ShiftLiveTime_Error")},this.trigger(w.Player.Error,e)):(this._options.extraInfo&&(e=this._options.extraInfo).liveRetry&&(this._options.liveRetry=e.liveRetry),this.on(w.Private.ReadyState,(function(){this.trigger(w.Player.Ready)})),this.on(w.Player.H265PlayInfo,(function(e){var i=this;"native"!==e.paramData.renderType&&b.getLicense(t.license.domain,t.license.key).then((function(e){if(e=e.validate(d.PLAYER_SDK_CODE,d.FEATURE_ID_H265),__f__("log","license validate result => ",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),0===e)i.trigger(w.Private.LicenseHasResult,{result:d.LicenseResultCode.Success,featureId:d.FEATURE_ID_H265});else{if(1===e)return r.reject(d.LicenseResultCode.NotFound);if(2===e)return r.reject(d.LicenseResultCode.Expired);__f__("error","license validate unknown error"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}})).catch((function(e){i.trigger(w.Private.LicenseHasResult,{result:e,featureId:d.FEATURE_ID_H265}),b.logError(e)}))})),this.on(w.Private.LicenseHasResult,(function(e){var t=d.LicenseResultCode;-1<[t.NotFound,t.Expired,t.CertInvalid,t.ResourceIncorrect,t.LicenseKeyInvalid,t.DomainInvalid].indexOf(e.paramData.result)&&(this.UI.licenseWatermark=_,this._licenseWatermark=this.addChild("licenseWatermark",this._options))})),this._thumbnailService&&this._options.thumbnailUrl&&this._thumbnailService.get(this._options.thumbnailUrl),0<this._options.progressMarkers.length&&this.trigger(w.Private.ProgressMarkerLoaded,this._options.progressMarkers),this._options.source&&this._options._native&&this._executeReadyCallback(),this._options.autoplay||this._options.preload?this.trigger(w.Private.H5_Loading_Show):this.trigger(w.Private.Play_Btn_Show),this._extraMultiSources(),this._options.source&&(this.trigger(w.Private.PREPARE,"custom"),this._options.autoPlayDelay?(this._autoPlayDelay=new g(this),(i=this)._autoPlayDelay.handle((function(){i.initPlay()}))):this.initPlay()),C.init.call(this),this._vttBroker=new P({player:this}),this._getUserTextTracks())}}));O.prototype.isSupportMSE=function(){return f.isSupportMSE()},O.prototype.initPlay=function(e){this._initPlayBehavior(e,this._options.source)},O.prototype.initChildren=function(){var e=this.options(),t=e.skinLayout;if(!1!==t&&!o.isArray(t))throw new Error("PrismPlayer Error: skinLayout should be false or type of array!");!1!==t&&0!==t.length&&(this.options({children:t}),n.prototype.initChildren.call(this)),this.UI.cover=m,e.className="",this.addChild("cover",e),this.UI.playanimation=T,this.addChild("playanimation",e),this.UI.autoStreamSelector=E,this.addChild("autoStreamSelector",e),this.UI.progressMarker=A,this.addChild("progressMarker",e),this.UI.textTrackDisplay=S,this.addChild("textTrackDisplay",e),this.trigger(w.Private.UiH5Ready)},O.prototype.createEl=function(){var e=!1,t=("VIDEO"!==this.tag.tagName?(this._el=this.tag,this.tag=n.prototype.createEl.call(this,"video"),this._options.playsinline&&(this.tag.setAttribute("webkit-playsinline",""),this.tag.setAttribute("playsinline",""),this.tag.setAttribute("x-webkit-airplay",""),this.tag.setAttribute("x5-playsinline",""))):(e=!0,this._el=this.tag.parentNode),this._el),i=this.tag,r=(this._options.enableSystemMenu||(i.addEventListener?i.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1):i.attachEvent("oncontextmenu",(function(){window.event.returnValue=!1}))),i.player=this,a.getElementAttributes(i));return o.each(r,(function(e){t.setAttribute(e,r[e])})),this.setVideoAttrs(),e||(i.parentNode&&i.parentNode.insertBefore(t,i),a.insertFirst(i,t)),t},O.prototype.setVideoAttrs=function(){var e=this._options.preload,t=this._options.autoplay;if(this.tag.style.width=this._options.videoWidth||"100%",this.tag.style.height=this._options.videoHeight||"100%",e&&this.tag.setAttribute("preload","preload"),t&&!this._isEnabledAILabel()&&"15"!==c.IOS_VERSION&&this.tag.setAttribute("autoplay","autoplay"),c.IS_IOS&&this.tag.setAttribute("poster","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAMZJREFUeAHt0DEBAAAAwqD1T20LL4hAYcCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMDAc2CcpAABaODCqQAAAABJRU5ErkJggg=="),(c.IS_UC||c.dingTalk())&&this.tag.setAttribute("renderer","standard"),this._options.extraInfo)for(var i in this._options.extraInfo)this.tag.setAttribute(i,this._options.extraInfo[i]);h.adaptX5Play(this)},O.prototype.checkOnline=function(){var e;return!(this._options&&!this._options.debug&&0==navigator.onLine&&((e={mediaId:this._options.vid||"",error_code:d.ErrorCode.NetworkUnavaiable,error_msg:v.get("Error_Offline_Text")}).display_msg=v.get("Error_Offline_Text"),this.trigger(w.Player.Error,e),1))},O.prototype.id=function(){return this.el().id},O.prototype.renderUI=function(){},O.prototype.switchUrl=function(){var e,t;0!=this._urls.length&&(this._currentPlayIndex=this._currentPlayIndex+1,this._urls.length<=this._currentPlayIndex&&(this._currentPlayIndex=0,this._retrySwitchUrlCount++),e=this._urls[this._currentPlayIndex],p.set(d.SelectedStreamLevel,e.definition,365),this.trigger(w.Private.QualityChange,v.get("Quality_Change_Fail_Switch_Text")),t=this.getCurrentTime(),this._vodRetryCount=0,this._originalSource="",this._loadByUrlInner(e.Url,t,!0))},O.prototype.setControls=function(){var e=this.options();e.useNativeControls?this.tag.setAttribute("controls","controls"):"object"==_typeof(e.controls)&&(e=this._initControlBar(e.controls),this.addChild(e))},O.prototype._initControlBar=function(e){return new ControlBar(this,e)},O.prototype.getMetaData=function(){},O.prototype.getReadyTime=function(){return this.readyTime},O.prototype.readyState=function(){return this.tag.readyState},O.prototype.getError=function(){return this.tag.error},O.prototype.getRecentOccuredEvent=function(){return this._eventState},O.prototype.getSourceUrl=function(){return this._options?this._options.source:""},O.prototype.getMonitorInfo=function(){return this._monitor?this._monitor.opt:{}},O.prototype.getCurrentQuality=function(){var e;return 0<this._urls.length?{width:(e=this._urls[this._currentPlayIndex]).width,url:e.Url,definition:e.definition}:""},O.prototype.getCurrentPDT=function(){var e;if((c.IS_SAFARI||c.IS_IOS)&&this.tag)return e=Date.parse(this.tag.getStartDate()),isNaN(e)?0:e+1e3*this.getCurrentTime()},O.prototype.setSpeed=function(e){this.tag&&(this._originalPlaybackRate=e,this.tag.playbackRate=e)},O.prototype.play=function(e){return this.tag&&(this.tag.ended||this._ended?this.replay():((this._options.preload||this.loaded)&&this.tag.src||this._initLoad(this._options.source),this.trigger(w.Private.Cover_Hide),this.tag.play())),this._isManualPlay=e||!1,this},O.prototype.replay=function(){return this._monitor&&this._monitor.replay(),this.seek(0),this.tag.play(),this},O.prototype.pause=function(e){return this.tag&&this.tag.pause(),this._isManualPause=e||!1,this},O.prototype.stop=function(){return this.tag.setAttribute("src",null),this},O.prototype.paused=function(){if(this.tag)return!1!==this.tag.paused},O.prototype.getDuration=function(){var e=0;return this.tag?this.isPreview()?this._vodDuration||this.tag.duration:this._duration&&this._duration!=1/0?this._duration:this.tag.duration:e},O.prototype.getDisplayDuration=function(){var e=0;return this.tag?this._vodDuration||this.getDuration():e},O.prototype.getCurrentTime=function(){return this.tag?this.tag.currentTime:0},O.prototype.seek=function(e){this._seeking=!0;var t=this.tag.duration;if(e=Math.floor(e),!Number.isNaN(e))return this._doSeek(this,e=t<=e?t:e),this},O.prototype._doSeek=e((function(e){var t=e[0];e=e[1];try{var i=t._originalPlaybackRate||t.tag.playbackRate;t.tag.currentTime=e,c.IS_IE11&&setTimeout((function(){t.tag&&(t.tag.playbackRate=i)}))}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}}),100),O.prototype.firstNewUrlloadByUrl=function(e,t){this._clearTimeout(),this._options.vid=0,this._options.source=e,this._monitor&&this._monitor.updateVideoInfo({video_id:0,album_id:0,source:e,from:this._options.from}),this.trigger(w.Private.ChangeURL),this.initPlay(),this._options.autoplay&&this.trigger(w.Private.Cover_Hide),this._options.autoplay?this.trigger(w.Player.Play):this.trigger(w.Player.Pause),!(t=t||0)&&0!=t||isNaN(t)||this.seek(t)},O.prototype._loadByUrlInner=function(e,t,i,r){var n=this,o=this.tag.volume;if(r&&c.IS_ANDROID_FIREFOX){for(var a in w.Video)s.off(this.tag,w.Video[a]);this.tag.remove(),this.tag=this._el,this.createEl()}this.loadByUrl(e,t,i,!0),this.tag.volume=o,r&&c.IS_ANDROID_FIREFOX&&this.tag.addEventListener(w.Video.LoadedData,(function e(){n._player.trigger(w.Player.DurationChange),I.bind(n),n.tag.removeEventListener(w.Video.LoadedData,e)}))},O.prototype.loadByUrl=function(e,t,i,r){var n=this,o=(this._monitor&&this._monitor._onPlayerUnderload(),this._monitor&&0===this._vodRetryCount&&0===this._liveRetryCount&&(this._monitor.reportPlayAbort(),this._monitor.resetVV()),/\.m3u8|\.flv|\.mp4|artc\:\/\/|rtmp\:\/\//gi),a=((this._options.source||"").match(o)||[])[0]!==((e||"").match(o)||[])[0];if(this._h265InfoReported=!1,this._probeInfo||(this._probeInfo={}),this._probeInfo.codecTag=void 0,!a&&(f.isMp4(e)||f.isFlv(e)))return!this._options.forceH265&&this._options.enableH265?void D(e,(function(t){t=f.getVideoTrack(t.tracks);var i=(t||{}).codecTag||(t||{}).codec.split(".")[0];n._probeInfo.codecTag=i,t&&f.isH265Codec(i)?f.isFlv(e)?(n._splayer||(a=!0),l.call(n)):f.shouldUseBasePlayer(i,(function(e){e?(n._splayer&&(a=!0),n._probeInfo.codecTag&&R.reportH265PlayInfo.call(n,{renderType:"native",codecTag:n._probeInfo.codecTag})):n._splayer||(a=!0),l.call(n)})):(n._splayer&&(a=!0),l.call(n))}),(function(e){l.call(n)})):void l.call(this);function l(){var n=this;a&&this._splayer&&this.removeChild(this._licenseWatermark),a&&window.Aliplayer?(__f__("log","!!!!! NEED RELOAD INSTANCE !!!!!"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),this._options.source=e,window.Aliplayer.reloadInstance(this._options,(function(){}),this)):(r||(this._urls=[]),this._monitor&&!r&&this._monitor.reset(),this._isError=!1,this._duration=0,this._clearTimeout(),this.trigger(w.Private.Error_Hide),this._options.source=e,this._monitor&&this._monitor.updateVideoInfo({video_id:0,album_id:0,source:e,from:this._options.from}),r||(this.trigger(w.Private.ChangeURL),this._vodRetryCount=0),this._options._autoplay=i,this.initPlay(i),(this._options.autoplay||i)&&this.trigger(w.Private.Cover_Hide),this._options.autoplay||i?this.trigger(w.Player.Play):this.trigger(w.Player.Pause),this._options.isLive||!t&&0!=t||isNaN(t)||s.one(this.tag,w.Video.CanPlay,(function(e){var i=n.getDuration();n.seek(i<=t?i:t)})))}l.call(this)},O.prototype.dispose=function(){this.__disposed=!0,this.trigger(w.Private.Dispose),this.tag.pause(),y.offAll(this),C.dispose.call(this),this._antiRecord&&(this._antiRecord.dispose(),this._antiRecord=null),this._monitor&&(this._monitor.reportPlayAbort(),this._monitor.removeEvent(),this._monitor=null),this._autoPlayDelay&&this._autoPlayDelay.dispose(),this._checkTimeoutHandle&&(clearTimeout(this._checkTimeoutHandle),this._checkTimeoutHandle=null),this._waitingTimeoutHandle&&(clearTimeout(this._waitingTimeoutHandle),this._waitingTimeoutHandle=null),this._playingSlientPause&&(clearTimeout(this._playingSlientPause),this._playingSlientPause=null),this._waitingLoadedHandle&&(clearTimeout(this._waitingLoadedHandle),this._waitingLoadedHandle=null),this._ucSourceHandle&&(clearTimeout(this._ucSourceHandle),this._ucSourceHandle=null),this._readyStateTimer&&(clearInterval(this._readyStateTimer),this._readyStateTimer=null),this._vodRetryCountHandle&&(clearTimeout(this._vodRetryCountHandle),this._vodRetryCountHandle=null),this._waitingDelayLoadingShowHandle&&(clearTimeout(this._waitingDelayLoadingShowHandle),this._waitingDelayLoadingShowHandle=null),this._liveRetryTimer&&(clearTimeout(this._liveRetryTimer),this._liveRetryTimer=null),this._disposeService(),this._clearLiveErrorHandle(),this._el.innerHTML="",this.destroy(),this._releaseMediaElement(),this._options.recreatePlayer=null,this._options=null,this.isMutiLevel=!1,this._seis={},this._initPTS=0},O.prototype._releaseMediaElement=function(){this.tag.removeAttribute("src"),this.tag.load(),this.tag=null},O.prototype.mute=function(){this._muteInner(),this._originalVolumn=this.tag.volume;var e=v.get("Volume_Mute");return this._player.trigger(w.Private.Info_Show,{text:e,duration:1e3,align:"lb"}),this._setInnerVolume(0),this},O.prototype._muteInner=function(){this.tag.muted=!0,this.trigger(w.Private.VolumnChanged,-1)},O.prototype.unMute=function(){this._unMuteInner();var e=v.get("Volume_UnMute");return this._player.trigger(w.Private.Info_Show,{text:e,duration:1e3,align:"lb"}),this._setInnerVolume(this._originalVolumn||.5),this},O.prototype._unMuteInner=function(){this.tag.muted=!1,this.trigger(w.Private.VolumnChanged,-2)},O.prototype.muted=function(){return this.tag.muted},O.prototype.getVolume=function(){return this.tag.volume},O.prototype.getOptions=function(){return this._options},O.prototype.setVolume=function(e,t){0!=e?this._unMuteInner():0==e&&this._muteInner(),this._setInnerVolume(e),e=v.get("Curent_Volume")+"<span>"+(100*e).toFixed()+"%</span>",this._player.trigger(w.Private.Info_Show,{text:e,duration:1e3,align:"lb"})},O.prototype._setInnerVolume=function(e){this.tag.volume=e,this.trigger(w.Private.VolumnChanged,e)},O.prototype.hideProgress=function(){this.trigger(w.Private.HideProgress)},O.prototype.cancelHideProgress=function(){this.trigger(w.Private.CancelHideProgress)},O.prototype.setPlayerSize=function(e,t){this._el&&(this._el.style.width=e,this._el.style.height=t)},O.prototype.getBuffered=function(){return this.tag.buffered},O.prototype.setRotate=function(e){this.tag&&(this._rotate=e,this._setTransform(),this.log("ROTATE",{rotation:e}))},O.prototype.getRotate=function(e){return void 0===this._rotate?0:this._rotate},O.prototype.setImage=function(e){this.tag&&(this._image=e,this._setTransform(),this.log("IMAGE",{mirror:"horizon"==e?2:1,text:e}))},O.prototype.getImage=function(){return this._image},O.prototype.cancelImage=function(){this.tag&&(this._image="",this._setTransform(),this.log("IMAGE",{mirror:0}))},O.prototype.setCover=function(e){var t=document.querySelector("#"+this.id()+" .prism-cover");t&&e&&(t.style.backgroundImage="url("+e+")",this._options.cover=e,this.trigger(w.Private.Cover_Show))},O.prototype.setTextTracks=function(e){e=f.unqiueTextTracks(e||[]),this.trigger(w.Private.VttClearTracks),e&&e.length&&this.trigger(w.Private.TextTrackFounded,{from:"user",textTracks:e}),this.trigger(w.Private.CCReset)},O.prototype._setTransform=function(){this._transformProp||(this._transformProp=a.getTransformName(this.tag));var e=" translate(-50%, -50%)";this._rotate&&(e+=" rotate("+this._rotate+"deg)"),this._image&&("vertical"==this._image?e+=" scaleY(-1)":"horizon"==this._image&&(e+=" scaleX(-1)")),this.tag.style[this._transformProp]=e},O.prototype._startPlay=function(){this.tag.paused&&this.tag.play()},O.prototype._initPlayBehavior=function(e,t){return this._monitor&&0===this._vodRetryCount&&0===this._liveRetryCount&&this._monitor.resetVV(),!this._checkSupportVideoType()&&(f.validateSource(t)?(void 0===e&&(e=!1),this._created||(this._created=!0,this.trigger(w.Private.Created)),this.loaded||this.trigger(w.Player.Init),this._options.autoplay||this._options._autoplay||this._options.preload||e?(this._options._preload=!0,this._initLoad(t),(this._options.autoplay||this._options._autoplay)&&this._startPlay()):this.trigger(w.Private.Play_Btn_Show),!0):((e={mediaId:this._options.vid||"",error_code:d.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=v.get("Error_Invalidate_Source"),this.trigger(w.Player.Error,e),!1))},O.prototype._isPreload=function(){return this._options.autoplay||this._options.preload||this._options._preload},O.prototype._initLoad=function(e){e&&(this._isPreload()&&!c.IS_MOBILE?this.trigger(w.Private.H5_Loading_Show):(this.trigger(w.Private.H5_Loading_Hide),this.trigger(w.Private.Play_Btn_Show)),this.tag.setAttribute("src",e),this.loaded=!0)},O.prototype._clearLiveErrorHandle=function(){this._liveErrorHandle&&(clearTimeout(this._liveErrorHandle),this._liveErrorHandle=null)},O.prototype._reloadAndPlayForM3u8=function(){0==this._liveRetryCount&&this.trigger(w.Player.OnM3u8Retry);var e=this._options,t=e.liveRetryInterval+e.liveRetryStep*this._liveRetryCount,i=this;this._liveRetryTimer&&(clearTimeout(this._liveRetryTimer),this._liveRetryTimer=null),this._liveRetryTimer=setTimeout((function(){i._liveRetryCount++,i.tag.load(i._options.source),e.autoplay&&i.tag.play()}),1e3*t)},O.prototype._checkSupportVideoType=function(){var e,t;return this.tag.canPlayType&&this._options.source&&c.IS_MOBILE?(e="",0<(t=this._options.source).indexOf("m3u8")?""!=this.tag.canPlayType("application/x-mpegURL")||f.isSupportHls()||(e=v.get("Error_Not_Support_M3U8_Text")):0<t.indexOf("mp4")?""==this.tag.canPlayType("video/mp4")&&(e=v.get("Error_Not_Support_MP4_Text")):(f.isRTMP(t)||f.isFlv(t))&&c.IS_MOBILE&&(e=v.get("Error_Not_Support_Format_On_Mobile")),e&&(t={mediaId:this._options.vid||"",error_code:d.ErrorCode.FormatNotSupport,error_msg:e},this.logError(t),t.display_msg=e,this.trigger(w.Player.Error,t)),e):""},O.prototype.getComponent=function(e){return this._lifeCycleManager.getComponent(e)},O.prototype.logError=function(e,t){(e=e||{}).vt=this.getCurrentTime(),this.log(t?"ERRORRETRY":"ERROR",e)},O.prototype.log=function(e,t){var i=0,r=0;if(this._monitor)return this._options&&(i=this._options.vid||"0",r=this._options.from||"0"),this._monitor.updateVideoInfo({video_id:i,album_id:0,source:this._options.source,from:r}),this._monitor._log(e,t)},O.prototype.setSanpshotProperties=function(e,t,i){if(this._snapshotMatric||(this._snapshotMatric={}),this._snapshotMatric.width=e,this._snapshotMatric.height=t,1<i)throw new Error("rate doesn't allow more than 1");this._snapshotMatric.rate=i},O.prototype.getStatus=function(){return this._status||"init"},O.prototype.enterProgressMarker=function(){this._enteredProgressMarker=!0},O.prototype.isInProgressMarker=function(){return this._enteredProgressMarker},O.prototype.exitProgressMarker=function(){this._enteredProgressMarker=!1},O.prototype.setProgressMarkers=function(e){this.trigger(w.Private.ProgressMarkerChanged,e=e||[])},O.prototype.getProgressMarkers=function(){return this._progressMarkerService?this._progressMarkerService.progressMarkers:[]},O.prototype.setPreviewTime=function(e){this._options.playConfig||(this._options.playConfig={}),this._options.playConfig.PreviewTime=e},O.prototype.getPreviewTime=function(){var e=0;return this._options.playConfig?this._options.playConfig.PreviewTime:e},O.prototype.exceedPreviewTime=function(e){return this.isPreview()&&e>=this._options.playConfig.PreviewTime},O.prototype.isPreview=function(){var e=this._options.playConfig.PreviewTime,t=this._vodDuration||this.tag.duration;return 0<e&&e<t},O.prototype.getStats=function(){return new r((function(e){e()}))},O.prototype.setTraceId=function(e){this._monitor&&this._monitor.updateTraceId(e)},O.prototype._getSanpshotMatric=function(){return this._snapshotMatric||(this._snapshotMatric={}),this._snapshotMatric},O.prototype._autoplayFailedHandler=function(){this.trigger(w.Private.Play_Btn_Show),this.trigger(w.Private.H5_Loading_Hide),this.trigger(w.Player.AutoPlayPrevented),this.trigger(w.Player.AutoPlay,!1),this._options.cover&&this.trigger(w.Private.Cover_Show)},O.prototype._overrideNativePlay=function(){var e=this.tag.play,t=this;this.tag.play=function(){var i,r;t._monitor&&t._monitor.reportStartPlay(),t._options.source?(t.readyTime=(new Date).getTime(),i=e.apply(t.tag),void 0!==i&&i.then((function(){t.trigger(w.Player.AutoPlay,!0)})).catch((function(e){!t.tag||!t.tag.paused||t._isError||t._options._autoplay||t._switchedLevel||t._autoplayFailedHandler()})),r=t._originalPlaybackRate||t.tag.playbackRate,setTimeout((function(){t.tag&&(t.tag.playbackRate=r)}))):(i={mediaId:t._options.vid||"",error_code:d.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"},t._options.vid?i.display_msg=v.get("Error_Vid_Empty_Source"):t._options.mediaAuth?i.display_msg=v.get("Error_Mediaauth_Empty_Source"):i.display_msg=v.get("Error_Empty_Source"),t.trigger(w.Player.Error,i))}},O.prototype._extraMultiSources=function(){var e=this._options.source;if(e&&-1<e.indexOf("{")&&-1<e.indexOf("}")){var t="";try{t=JSON.parse(e)}catch(e){__f__("error",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),__f__("error","\u5730\u5740json\u4e32\u683c\u5f0f\u4e0d\u5bf9"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}var i,r=[];for(i in t){var n=d.QualityLevels[i];r.push({definition:i,Url:t[i],desc:n||i})}this._setupSourceList(r)}return r},O.prototype._setupSourceList=function(e){var t;(e=void 0===e?[]:e).length&&(this._currentPlayIndex=f.findSelectedStreamLevel(e),t=e[this._currentPlayIndex],this._urls=e,this._options.source=t.Url,this.trigger(w.Private.SourceLoaded,t))},O.prototype._isEnabledAILabel=function(){return this._options.ai&&this._options.ai.label},O.prototype._createService=function(){if(x)for(var e=x.length,t=0;t<e;t++){var i=x[t],r=i.condition;void 0===r?r=!0:"function"==typeof r&&(r=r.call(this)),r&&(this[i.name]=new i.service(this))}},O.prototype._disposeService=function(){if(x)for(var e=x.length,t=0;t<e;t++){var i=this[x[t].name];void 0!==i&&i.dispose&&i.dispose()}},O.prototype._executeReadyCallback=function(){this._options._readyCallbackCalled=!0;try{this._options.autoplay||this._options.preload||(this.trigger(w.Private.H5_Loading_Hide),this.trigger(w.Private.Play_Btn_Show)),this._options.readyCallback(this)}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}},O.prototype._clearTimeout=function(){this._checkTimeoutHandle&&(clearTimeout(this._checkTimeoutHandle),this._checkTimeoutHandle=null),this._waitingTimeoutHandle&&(clearTimeout(this._waitingTimeoutHandle),this._waitingTimeoutHandle=null),this._clearLiveErrorHandle()},O.prototype._reloadForVod=function(){var e,t,i;return this._originalSource||(this._originalSource=this._options.source),!!(this._vodRetryCount<this._options.vodRetry&&navigator.onLine)&&(e=this.getCurrentTime(),(t=this._originalSource).indexOf("auth_key=")<0&&(t=t&&0<t.indexOf("?")?t+"&_t="+(new Date).valueOf():t+"?_t="+(new Date).valueOf()),this._vodRetryCountHandle&&clearTimeout(this._vodRetryCountHandle),(i=this)._vodRetryCountHandle=setTimeout((function(){i._loadByUrlInner(t,e,i.getOptions().autoplay)}),100*this._vodRetryCount),this._vodRetryCount=this._vodRetryCount+1,!0)},O.prototype._getUserTextTracks=function(){var e=this._options.textTracks||[];(e=f.unqiueTextTracks(e)).length&&this.trigger(w.Private.TextTrackFounded,{from:"user",textTracks:e})},t.exports=O},{"../../commonui/autostreamselector":11,"../../feature/AntiRecord":16,"../../feature/autoPlayDelay":17,"../../feature/keyboardControl":18,"../../feature/license":19,"../../lang/index":23,"../../lib/codec-probe":26,"../../lib/constants":28,"../../lib/cookie":29,"../../lib/dom":32,"../../lib/event":33,"../../lib/object":42,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/vttnext/index":56,"../../monitor/monitor":64,"../../ui/component":130,"../../ui/component/cover":134,"../../ui/component/license-watermark":139,"../../ui/component/play-animation":141,"../../ui/component/progressmarker":144,"../../ui/component/text-track-display":155,"../../ui/component/util":159,"../../ui/exports":162,"../service/export":120,"../splayer/splayerinjector":127,"./event/eventmanager":69,"./event/eventtype":70,"./eventHandler/video/index":84,"./plugin/lifecyclemanager":94,"./x5play":96,"es6-promise":8}],92:[function(e,t,i){e=e("../../../lib/oo").extend({}),t.exports=e},{"../../../lib/oo":43}],93:[function(e,t,i){t.exports={createEl:"createEl",created:"created",ready:"ready",loading:"loading",play:"play",pause:"pause",playing:"playing",waiting:"waiting",timeUpdate:"timeupdate",error:"error",ended:"ended",dispose:"dispose",markerDotOver:"markerDotOver",markerDotOut:"markerDotOut"}},{}],94:[function(e,t,i){function r(e){(this._player=e)._status="init",this.components=[];var t=e.getOptions().components;if(t&&n.isArray(t)&&0<t.length)for(var i=0;i<t.length;i++){var r=t[i];if(!r)return void __f__("log","The "+i+" custome component is "+r," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");var s=void 0===r.type?r:r.type,u=void 0===r.args?[]:r.args;r=void 0===r.name?"":r.name;if(!s)return void __f__("log",r+" compenent is "+s," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");u=u&&0<u.length?[].concat.call([s],u):[],s=new(Function.prototype.bind.apply(s,u)),u=s[a.createEl],u&&"function"==typeof u&&u.call(s,e.el(),e),this.components.push({name:r,obj:s})}var c=this;e.on(o.Private.LifeCycleChanged,(function(t){var i=t.paramData,r=i.type;i=i.data;r===o.Video.CanPlayThrough&&c._player.trigger(o.Player.TimeUpdate,i.target.currentTime),r===o.Video.Ended&&c._player.trigger(o.Player.TimeUpdate,c._player.getDuration()),0!=c.components.length&&l.call(c,e,t)}))}var n=e("../../../lib/object"),o=e("../event/eventtype"),a=e("./lifecycle"),s=e("./status"),l=(r.prototype.getComponent=function(e){var t=null,i=this.components.length;if(e)for(var r=0;r<i;r++)if(this.components[r].name==e){t=this.components[r].obj;break}return t},function(e,t){if(t){t=t.paramData;for(var i=t.type,r=t.data,n=((t=i)!=o.Video.LoadStart&&t!=o.Video.LoadedData&&t!=o.Video.LoadedMetadata||(i=a.loading),u(e,i),this.components.length),s=0;s<n;s++){var l=this.components[s].obj,c=l[i];c&&"function"==typeof c&&c.call(l,e,r)}i==o.Private.Dispose&&(this.components=[])}}),u=function(e,t){void 0===s[t]||t==s.pause&&(e._status==s.error||e._status==s.ended)||t==s.ready&&e._status==s.playing||(e._status=t)};t.exports=r},{"../../../lib/object":42,"../event/eventtype":70,"./lifecycle":93,"./status":95}],95:[function(e,t,i){t.exports={init:"init",ready:"ready",loading:"loading",play:"play",pause:"pause",playing:"playing",waiting:"waiting",error:"error",ended:"ended"}},{}],96:[function(e,t,i){function r(e,t){var i=e.el().style.height,r=e.el().style.width,n=(e.originalLayout={container:{height:i,width:r},video:{width:e.tag.style.width,height:e.tag.style.height}},document.body.clientHeight*(window.devicePixelRatio||1)+"px"),o=document.body.clientWidth+"px";width=t?(height=n,o):(height=i.indexOf("%")?i:i+"px",r.indexOf("%")?r:r+"px"),e.tag.style.width=o,e.tag.style.height=n,e.el().style.height=t?n:height}var n=e("../../lib/ua"),o=e("../../lib/dom");t.exports.isAndroidX5=function(){return n.os.android&&n.is_X5||n.dingTalk()},t.exports.adaptX5Play=function(e){n.os.android&&n.is_X5&&("h5"==e._options.x5_type&&(e.tag.setAttribute("x5-video-player-type",e._options.x5_type),window.onresize=function(){var t,i;r(e,e._options.x5_fullscreen||"center"==e._options.x5_video_position),"landscape"==(t=e)._x5VideoOrientation&&(t._originalTagWidth=t.tag.style.width,t._originalTagHeight=t.tag.style.height,(i=document.querySelector("#"+t.id()+" .prism-controlbar"))&&parseFloat(i.offsetHeight),t.tag.style.height="100%",t.tag.style.width=window.screen.width+"px")},e.tag.addEventListener("x5videoenterfullscreen",(function(){r(e,e._options.x5_fullscreen||"center"==e._options.x5_video_position),e.trigger("x5requestFullScreen")})),e.tag.addEventListener("x5videoexitfullscreen",(function(){var t,i;(t=e).originalLayout&&(i=t.originalLayout,t.el().style.height=i.container.height,t.el().style.width=i.container.width,t.tag.style.width=i.video.width,t.tag.style.height=i.video.height),e.trigger("x5cancelFullScreen"),e.fullscreenService.getIsFullScreen()&&e.fullscreenService.cancelFullScreen()})),e.on("requestFullScreen",(function(){"top"==e._options.x5_video_position&&o.removeClass(e.tag,"x5-top-left"),n.os.android&&n.is_X5&&e._options.x5LandscapeAsFullScreen&&(e.tag.setAttribute("x5-video-orientation","landscape"),e._x5VideoOrientation="landscape")})),e.on("cancelFullScreen",(function(){"top"==e._options.x5_video_position&&o.addClass(e.tag,"x5-top-left"),n.os.android&&n.is_X5&&e._options.x5LandscapeAsFullScreen&&(e.tag.setAttribute("x5-video-orientation","portrait"),r(e,e._options.x5_fullscreen||"center"==e._options.x5_video_position),e._x5VideoOrientation="portrait")}))),void 0!==e._options.x5_fullscreen&&e._options.x5_fullscreen&&(e.tag.setAttribute("x5-video-player-fullscreen",e._options.x5_fullscreen),o.addClass(e.tag,"x5-full-screen")),"top"==e._options.x5_video_position&&o.addClass(e.tag,"x5-top-left"),void 0!==e._options.x5_orientation)&&e.tag.setAttribute("x5-video-orientation",e._options.x5_orientation)}},{"../../lib/dom":32,"../../lib/ua":49}],97:[function(e,t,i){var r=e("../../lib/io"),n=e("../../config"),o=e("../../lib/constants"),a=e("../../lib/util"),s=e("../../lib/playerutil"),l=(e("../../lib/dom"),e("../../lang/index")),u=e("../base/event/eventtype"),c=e("../saas/drm"),d=e("../../lib/ua"),f=function(){function e(){}var t=e.prototype;return t.destroy=function(){},t.append=function(e){},t.remove=function(e,t){},t.isTextVisible=function(){},t.setTextVisibility=function(e){},e}();t.exports.inject=function(e,t,i,h,p,v,g){var y,m=h.source;function _(e){var t=this;this._drm.load(this._options.source,e.startTime).then((function(){if(t.trigger(u.Private.H5_Loading_Hide),e.continuePlay&&(t.play(),e.prevVariant)&&0!==e.prevVariant){for(var i,r=t._drm.getVariantTracks(),n=0;n<r.length;n++)if(r[n].id===e.prevVariant){i=r[n];break}i&&t._drm.selectVariantTrack(i,!0)}})).catch((function(e){S.call(t,e)}))}function b(){var e=o.ErrorCode.DrmNotSupported,t=l.get("Error_Drm_Not_Supported");e={mediaId:this._options.vid||"",error_code:e,error_msg:t};this.logError(e),this.trigger(u.Player.Error,e)}function S(e){var t=o.ErrorCode.DrmLoadError,i=l.get("Error_Drm_Load");t={mediaId:this._options.vid||"",error_code:t,error_msg:i+"("+e.code+")"};this.logError(t),this.trigger(u.Player.Error,t)}function T(){this._sessionTimer&&(clearTimeout(this._sessionTimer),this._sessionTimer=null)}function E(e,t){t=t.getVariantTracks().find((function(e){return e.active})),__f__("log","activeTrack",t," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),e.trigger(u.Private.QualityChange,{levelSwitch:!0,bitrate:t.bandwidth,desc:t.height})}!v&&(h=m,e._drm||!s.isDash(h)&&!s.isHls(h))||(e._isDrm=!0,e._drm=null,e._isLoadedDrm=!1,e._sessionTimer=null,e._isFairPlay=d.IS_MAC_SAFARI||d.IS_IOS,e._fairPlayHandlers={},__f__("log","use FairPlay",e._isFairPlay," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),t.prototype._checkDrmReady=function(){if(null==e._drm&&!e._isFairPlay)throw new Error("please invoke this method after ready event")},t.prototype.play=function(e){return this._checkDrmReady(),this._isManualPlay=e||!1,this.trigger(u.Private.Cover_Hide),this.tag.ended?this.replay():(this.getCurrentTime(),this.tag.paused&&this.tag.play()),this},t.prototype.initPlay=function(e){var t;function i(e,t){var i,r;e._antiRecord&&(__f__("log","Manual check before load source"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),e._antiRecord.check())||(!shaka.Player.isBrowserSupported()||function(){if(d.IS_ANDROID)return!(!d.IS_UC&&!d.IS_FIREFOX)}()?b.call(e):(i=!e._drm,r=function(){var r;e._drm=new shaka.Player(e.tag),y(e,e._drm),r=e._options.isLive?"https://"+s.getLiveHostByRegion(e._options.region):"https://vod."+e._options.region+".aliyuncs.com",e._drm.configure({drm:{servers:{"com.widevine.alpha":r,"com.microsoft.playready":r},retryParameters:{maxAttempts:1}},textDisplayFactory:function(){return new f}}),e._drm.getNetworkingEngine().registerRequestFilter((function(t,i){shaka.util.StringUtils;var r=shaka.util.Uint8ArrayUtils;t==shaka.net.NetworkingEngine.RequestType.LICENSE&&(t=r.toBase64(new Uint8Array(i.body)),r=e._options.isLive?c.getRequestUrl(t,e):c.postData(t,e),i.uris[0]=r.url,i.headers["content-type"]="application/x-www-form-urlencoded",i.body=r.data)})),e._drm.getNetworkingEngine().registerResponseFilter((function(t,i){var r=shaka.util.StringUtils,n=shaka.util.Uint8ArrayUtils;t==shaka.net.NetworkingEngine.RequestType.LICENSE&&(t=r.fromUTF8(i.data),r=JSON.parse(t),t=e._options.isLive?r.Response.B64License:JSON.parse(r.License).b64License,i.data=n.fromBase64(t))})),e._drm.addEventListener("error",(function(e){__f__("log","errorMessage"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),__f__("log",e.detail.code," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),__f__("log",e.detail," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")})),e._drm.load(e._options.source).then((function(){e._initPlayBehavior(t)})).catch((function(t){S.call(e,t)})),T.call(e),e.one(u.Video.CanPlay,(function(){T.call(e)})),e._sessionTimer=setTimeout((function(){S.call(e,{code:"session timeout"}),e._drm&&e._drm.destroy()}),e._player.getOptions().drmSessionTimeout||5e3),p&&p(e._drm),i&&e._executeReadyCallback()},e.destroy((function(e){try{r()}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}}))))}a.contentProtocolMixed(m)?((t={mediaId:this._options.vid||"",error_code:o.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=l.get("Request_Block_Text"),this.trigger(u.Player.Error,t)):(this._waitingTimeoutCount=1,this._isFairPlay?(this.trigger(u.Private.H5_Loading_Show),function(e,t){var i;this._isFairPlay&&(function(){return d.IS_IOS?(e=parseInt(d.os.version),__f__("log","osVersion",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),12<=e):d.IS_MAC_SAFARI?(e=parseInt(d.browser.version),__f__("log","browserVersion",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),12<=e):void 0;var e}()?((i=this).destroy(),c.loadCertificate(this,(function(){e&&e(),i._initPlayBehavior(t,i._options.source),i._executeReadyCallback()}))):b.call(this))}.call(this,p,e)):this._isLoadedDrm&&"undefined"!=typeof shaka?i(this,e):(this.trigger(u.Private.H5_Loading_Show),function(e){var t="aliplayer-drm-min.js",i=n.domain?"https://"+n.domain+"/de/prismplayer/"+n.h5Version+"/drm/"+t:"/build/drm/"+t,o=this;r.loadJS(i,(function(){shaka.polyfill.installAll(),e.apply(o)}))}.call(this,(function(){this._isLoadedDrm=!0,i(this,e)}))))},t.prototype.destroy=function(e){var t;this._drm?(T.call(t=this),this._drm.destroy().then((function(){t._drm=null,"function"==typeof e&&e(t)}))):(this._isFairPlay&&this._destroyFairPlay(),"function"==typeof e&&e(this))},t.prototype._destroyFairPlay=function(){c.destroyFairPlay.call(this)},t.prototype.dispose=function(){i.dispose.call(this),this.destroy()},t.prototype._switchLevel=function(e,t){if(t=t||{},this.trigger(u.Player.LevelSwitch),this._switchedLevel=!0,this._isFairPlay){this._manuallySwitchDrmLevel=!t.isAuto;var i=this.autoplay||"pause"!=this._status;this._loadByUrlInner(e,this.getCurrentTime(),i,!0)}else if(t.isAuto)this._drm.configure({abr:{enabled:!0}}),E(this._player,this._drm);else{for(var r,n=this._drm.getVariantTracks(),o=0;o<n.length;o++){var a=n[o];if(Number(a.bandwidth)===Number(t.bitrate)&&Number(a.height)===Number(t.resolution.split("x")[1])){r=a;break}}__f__("log","find track",r," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),this._drm.configure({abr:{enabled:!1}}),this._drm.selectVariantTrack(r,!this._options.seamlessHandover)}var s=this;setTimeout((function(){s.trigger(u.Player.LevelSwitched),this._switchedLevel=!1}),1e3)},t.prototype._getDRMEncryptItem=function(){var e=this._urls;if(e&&0<e.length)for(var t=e.length,i=0;i<t;i++){var r=e[i];if(r.Url==this._options.source&&+r.encryption)return r}return""},t.prototype._getItemBySource=function(){var e=this._urls;if(e&&0<e.length)for(var t=e.length,i=0;i<t;i++){var r=e[i];if(r.Url==this._options.source)return r}return""},y=function(e,t){t.addEventListener("error",(function(t){var i,r=e,n=(t=t.detail,"Error code:"+t.code+"message:"+t.message),a=(__f__("log",n," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),o.ErrorCode.OtherError);n=l.get("Error_Play_Text");t.code==shaka.util.Error.Code.EXPIRED?function(){var e=this,t=(this.trigger(u.Private.H5_Loading_Show),null);this._options.isLive||(t=this.getCurrentTime());var i,r=!this.paused(),n=this._drm.getConfiguration().abr.enabled;if(!n)for(var o=this._drm.getVariantTracks(),a=0;a<o.length;a++)if(o[a].active){i=o[a].id;break}var s={startTime:t,continuePlay:r,prevVariant:i,isAdaptive:n};"function"==typeof this._options.refreshAccessInfo?this._options.refreshAccessInfo().then((function(t){(t=t||{}).accessKeyId&&(e._options.accessKeyId=t.accessKeyId),t.securityToken&&(e._options.securityToken=t.securityToken),t.accessKeySecret&&(e._options.accessKeySecret=t.accessKeySecret),_.call(e,s)})):_.call(e,s)}.call(r):(t.code==shaka.util.Error.Code.HTTP_ERROR?(a=o.ErrorCode.NetworkError,n=l.get("Http_Error")):t.code==shaka.util.Error.Code.TIMEOUT?(a=o.ErrorCode.LoadingTimeout,n=l.get("Error_Waiting_Timeout_Text")):t.code==shaka.util.Error.Code.LICENSE_REQUEST_FAILED?(a=o.ErrorCode.DrmLicenseRequestFailed,n=l.get("Error_Drm_License_Request_Failed")):t.Category==shaka.util.Error.NETWORK&&(a=o.ErrorCode.NetworkError,n=l.get("Error_Network_Text")),T.call(r),setTimeout((function(){r.trigger(u.Private.Play_Btn_Hide)})),r.checkOnline()&&(i=r._drm.drmInfo()||{},i={keyIds:Array.from(i.keyIds||[]),initData:String((null==(i=(i.initData||[])[0])?void 0:i.initData)||[])},i={mediaId:r._options.vid||"",error_code:a,error_msg:t.message,shaka_error:JSON.stringify(t.data||[]),drm_info:JSON.stringify(i)},r.logError(i),i.display_msg=t.code+"|"+n,r.trigger(u.Player.Error,i)))})),t.addEventListener("variantchanged",(function(e){__f__("log","DRM Event: variantchanged",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")})),t.addEventListener("abrstatuschanged",(function(e){__f__("log","DRM Event: abrstatuschanged",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")})),t.addEventListener("drmsessionupdate",(function(t){__f__("log","DRM Event: drmsessionupdate",t," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),T.call(e)})),t.addEventListener("expirationupdated",(function(e){__f__("log","DRM Event: expirationupdated",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),__f__("log","Exp:",this.getExpiration()," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")})),t.addEventListener("adaptation",(function(i){__f__("log","adaptation",i," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),E(e,t)})),t.addEventListener("trackschanged",(function(i){__f__("log","DRM EVENT: trackschanged",t.getTextLanguages(),t.getTextTracks()," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");var r=t.getTextLanguages();r&&r.length&&(r=function(e){var t={subtitle:"subtitles",caption:"captions"},i=(__f__("log","Building track config"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),e.getManifest().textStreams||[]),r=(__f__("log","textStreams",i," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),e.getTextLanguages()),n=(__f__("log","languageList",r," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),[]);try{i.forEach((function(e){r.includes(e.language)&&n.push({kind:t[e.kind]||e.kind,label:e.label,srclang:e.language,src:Array.from(e.segmentIndex)[0].getUris()[0]})}))}catch(e){__f__("log","error in retrieving text track url: ",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}return n}(t),e.trigger(u.Private.TextTrackFounded,{from:"drm",textTracks:r}),e.trigger(u.Private.CCReset))}))})}},{"../../config":14,"../../lang/index":23,"../../lib/constants":28,"../../lib/dom":32,"../../lib/io":40,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/util":51,"../base/event/eventtype":70,"../saas/drm":107}],98:[function(e,t,i){var r=e("../base/player"),n=e("./drminjector"),o=r.extend({init:function(e,t){n.inject(this,o,r.prototype,t,(function(e){})),t._native=!1,r.call(this,e,t)}});t.exports=o},{"../base/player":91,"./drminjector":97}],99:[function(e,t,i){var r=e("../../ui/component"),n=e("../../lib/data"),o=e("../../lib/ua"),a=e("../../lib/constants"),s=e("../../lib/dom"),l=e("../../lib/object"),u=e("../../config"),c=e("../../lang/index"),d=e("../../lib/playerutil"),f=e("../../lib/util"),h=e("../../ui/component/info-display"),p=e("../../ui/component/error-display"),v=e("../../feature/autoPlayDelay"),g=e("../../commonui/autostreamselector"),y=e("../base/event/eventtype"),m=e("../saas/ststoken");e=r.extend({init:function(e,t){var i;void 0===t.skinLayout&&(t.skinLayout=d.defaultFlashLayout),r.call(this,this,t),this._id="prism-player-"+n.guid(),this.tag=e,this._el=this.tag,this._childrenUI=[p],this.initChildren(),this.id=this._id,window[this.id]=this,c.setCurrentLanguage(this._options.language,"flash",this._options.languageTexts),f.openInFile()?(t={mediaId:this._options.vid||"",error_code:a.ErrorCode.FormatNotSupport,error_msg:c.get("Open_Html_By_File","flash")},this.trigger(y.Private.Error_Show,t)):o.IS_MOBILE?this.trigger(y.Private.Error_Show,{mediaId:this._options.vid||"",error_code:a.ErrorCode.FormatNotSupport,error_msg:c.get("Cant_Use_Flash_On_Mobile","flash")}):(this._options.vid&&this._options.accessKeyId&&this._options.securityToken&&this._options.accessKeySecret?m.getPlayAuth((i=this)._options,(function(e){i._options.playauth=e,i._createPlayer()}),(function(e){var t={mediaId:i._options.vid,error_code:e.Code,error_msg:e.Message};e.sri&&(t.sri=e.sri),t.display_msg=e.display_msg,i.trigger(y.Private.Error_Show,t)}),"flash"):this._createPlayer(),this._status="init")},_createPlayer:function(){var e,t;this._options.autoPlayDelay?(t=new v(this),e=this,t.handle((function(){e._options.autoplay=!0,e._initPlayer(),e._childrenUI=[h,g],e.initChildren()}))):(this._initPlayer(),this._childrenUI=[h,g],this.initChildren()),o.HAS_FLASH||(t=c.get("Flash_Not_Ready","flash"),this.trigger(y.Private.Info_Show,{text:t,align:"tc",isBlack:!1}))},_initPlayer:function(){var e="//"+u.domain+"/de/prismplayer-flash/"+u.flashVersion+"/PrismPlayer.swf",t=(this._options.playerSwfPath?e=this._options.playerSwfPath:u.domain?-1<u.domain.indexOf("localhost")&&(e="//"+u.domain+"/build/flash//PrismPlayer.swf"):e="de/prismplayer-flash/"+u.flashVersion+"/PrismPlayer.swf",this._comboFlashVars()),i=this._options.wmode||"opaque";this.tag.innerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=5,0,0,0" width="100%" height="100%" id="'+this.id+'"><param name=movie value="'+e+'"><param name=quality value=High><param name="FlashVars" value="'+t+'"><param name="WMode" value="'+i+'"><param name="AllowScriptAccess" value="always"><param name="AllowFullScreen" value="true"><param name="AllowFullScreenInteractive" value="true"><embed name="'+this.id+'" src="'+e+'" quality=high pluginspage="//www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" type="application/x-shockwave-flash" width="100%" height="100%" AllowScriptAccess="always" AllowFullScreen="true" AllowFullScreenInteractive="true" WMode="'+i+'" FlashVars="'+t+'"></embed></object>'},_getPlayer:function(e){return-1!=navigator.appName.indexOf("Microsoft")?document.getElementById(e):document[e]},_getLowerQualityLevel:function(){var e,t=this._getVideoUrls();return t&&(e=t.Urls,t=t.index,!(e&&0==e.length||-1==t))&&0<t?{item:e[t-1],index:t-1}:""},_comboFlashVars:function(){var e=encodeURIComponent(o.getReferer()),t=o.getHref(),i=encodeURIComponent(t),r="",n=(t=(t&&(r=o.getHost(t)),this._options),e={autoPlay:t.autoplay?1:0,isInner:0,actRequest:1,vid:t.vid,diagnosisButtonVisible:t.diagnosisButtonVisible?1:0,domain:t.domain||"//tv.taobao.com",statisticService:t.statisticService||u.logReportTo,videoInfoService:t.videoInfoService||"/player/json/getBaseVideoInfo.do",disablePing:t.trackLog?0:1,namespace:this.id,barMode:0!=t.barMode?1:0,isLive:t.isLive?1:0,waterMark:t.waterMark,environment:t.environment,vurl:t.source?encodeURIComponent(t.source):"",plugins:t.plugins||"",snapShotShow:t.snapshot?1:0,accessId:t.accId||"",accessKey:t.accSecret||"",apiKey:t.apiKey||"",flashApiKey:t.flashApiKey||"",disableSeek:t.disableSeek?1:0,disableFullScreen:t.disableFullScreen?1:0,stsToken:t.stsToken||"",domainRegion:t.domainRegion||"",authInfo:t.authInfo?encodeURIComponent(t.authInfo):"",playDomain:t.playDomain||"",stretcherZoomType:t.stretcherZoomType||"",playauth:t.playauth?t.playauth.replace(/\+/g,"%2B"):"",prismType:t.prismType||0,formats:t.formats||"",notShowTips:t.notShowTips?1:0,showBarTime:t.showBarTime||0,showBuffer:0==t.showBuffer?0:1,rePlay:t.rePlay?1:0,encryp:t.encryp||"",secret:t.secret||"",mediaType:"video",logInfo:{ud:o.getHost(t.source),os:o.os.name,ov:o.os.version||"",et:o.browser.name,ev:o.browser.version||"",uat:o.USER_AGENT,r:e,pu:i,app_n:r}},[]);return void 0!==t.rtmpBufferTime&&(e.rtmpBufferTime=t.rtmpBufferTime),t.cover&&(e.cover=t.cover),t.extraInfo&&(e.extraInfo=encodeURIComponent(JSON.stringify(t.extraInfo))),e.logInfo&&(e.logInfo=encodeURIComponent(JSON.stringify(e.logInfo))),e.languageData=encodeURIComponent(JSON.stringify(c.getLanguageData("flash"))),e.language=c.getCurrentLanguage(),l.each(e,(function(e,t){n.push(e+"="+t)})),n.join("&")},initChildren:function(){for(var e=this._childrenUI.length,t=0;t<e;t++){var i=new this._childrenUI[t](this,this._options),r=i.el();r.id=i.id(),this.contentEl().appendChild(r),i.bindEvent()}var n=document.querySelector("#"+this._options.id+" .prism-info-display");s.css(n,"display","none")},flashReady:function(){this.flashPlayer=this._getPlayer(this.id),this._isReady=!0;var e=this._options.skinRes,t=this._options.skinLayout;if(!1!==t&&!l.isArray(t))throw new Error("PrismPlayer Error: skinLayout should be false or type of array!");if("string"!=typeof e)throw new Error("PrismPlayer Error: skinRes should be string!");e=0!=t&&0!==t.length&&{skinRes:e,skinLayout:t},this.flashPlayer.setPlayerSkin(e),this.trigger("ready");var i=this;window.addEventListener("beforeunload",(function(){try{i.flashPlayer.setPlayerCloseStatus()}catch(e){}}))},jsReady:function(){return!0},snapshoted:function(e){var t=f.toBinary(e);e="data:image/jpeg;base64,"+e;this.trigger("snapshoted",{time:this.getCurrentTime(),base64:e,binary:t})},uiReady:function(){this._status="ready",this.trigger("uiReady")},loadedmetadata:function(){"ended"!=this._status&&(this._status="loading",this.trigger("loadedmetadata"))},onPlay:function(){this._status="play",this.trigger("play"),this._clearTimeoutHandle(),this.trigger(y.Private.AutoStreamHide)},onEnded:function(){this._clearTimeoutHandle(),this._status="ended",this.trigger("ended")},onPause:function(){this._status="pause",this._clearTimeoutHandle(),this.trigger(y.Private.AutoStreamHide),this.trigger("pause")},onBulletScreenReady:function(){this.trigger("bSReady")},onBulletScreenMsgSend:function(e){this.trigger("bSSendMsg",e)},onVideoRender:function(e){this._clearTimeoutHandle(),this.trigger("videoRender"),this.trigger("canplay",{loadtime:e})},onVideoError:function(e){this._clearTimeoutHandle(),this._status="error",this.trigger("error",{errortype:e})},onM3u8Retry:function(){this.trigger("m3u8Retry")},hideBar:function(){this.trigger("hideBar")},showBar:function(){this.trigger("showBar")},liveStreamStop:function(){this.trigger("liveStreamStop")},stsTokenExpired:function(){this._status="error",this.trigger("stsTokenExpired")},onVideoBuffer:function(){var e;"pause"!=this._status&&(this._status="waiting",this.trigger("waiting"),this._clearTimeoutHandle(),(e=this)._checkTimeoutHandle=setTimeout((function(){e.trigger(y.Private.AutoStreamShow)}),1e3*this._options.loadDataTimeout),this._checkVideoStatus())},startSeek:function(e){this.trigger("startSeek",e)},completeSeek:function(e){this.trigger("completeSeek",e)},_invoke:function(){var e=arguments[0],t=arguments;if(Array.prototype.shift.call(t),!this.flashPlayer)throw new Error("PrismPlayer Error: flash player is not ready\uff0cplease use api after ready event occured!");if("function"!=typeof this.flashPlayer[e])throw new Error("PrismPlayer Error: function "+e+" is not found!");return this.flashPlayer[e].apply(this.flashPlayer,t)},play:function(){this._invoke("playVideo")},replay:function(){this._invoke("replayVideo")},pause:function(){this._invoke("pauseVideo")},stop:function(){this._invoke("stopVideo")},seek:function(e){this._invoke("seekVideo",e)},getCurrentTime:function(){return this._invoke("getCurrentTime")},getDuration:function(){return this._invoke("getDuration")},getStatus:function(){return this._status},_getVideoUrls:function(){var e=this._invoke("getVideoUrls"),t=[];if(e&&e.Urls)for(var i=0;i<e.Urls.length;i++){var r=e.Urls[i].value,n=r.desc.indexOf("_"),o=c.get(r.definition,"flash");r.desc=0<n?o+"_"+r.height:o,t.push(r)}return{Urls:t,index:e.index}},_getVideoStatus:function(){return this._invoke("getVideoStatus")},_checkVideoStatus:function(){var e;this.flashPlayer&&!this._checkVideoStatusHandler&&(e=this,function t(){e._checkVideoStatusHandler=setTimeout((function(){var i=e._getVideoStatus();"playing"==i.videoStatus&&"bufferFull"==i.bufferStatus?(e._status="playing",e._clearTimeoutHandle()):"videoPlayOver"==i.videoStatus&&(e._status="ended",e._clearTimeoutHandle()),t()}),500)}())},_clearTimeoutHandle:function(){this._checkTimeoutHandle&&(clearTimeout(this._checkTimeoutHandle),this._checkTimeoutHandle=null)},_changeStream:function(e){return this._invoke("changeStream",e)},mute:function(){this.setVolume(0)},unMute:function(){this.setVolume(.5)},getVolume:function(){return this._invoke("getVolume")},setVolume:function(e){this._invoke("setVolume",e)},loadByVid:function(e){this._invoke("loadByVid",e,!1)},loadByUrl:function(e,t){this._invoke("loadByUrl",e,t)},dispose:function(){this._clearTimeoutHandle(),this._checkVideoStatusHandler&&(clearTimeout(this._checkVideoStatusHandler),this._checkVideoStatusHandler=null),this._invoke("pauseVideo");var e=this;setTimeout((function(){e.off("completeSeek"),e.off("startSeek"),e.off("stsTokenExpired"),e.off("liveStreamStop"),e.off("showBar"),e.off("hideBar"),e.off("m3u8Retry"),e.off("error"),e.off("canplay"),e.off("pause"),e.off("ended"),e.off("play"),e.off("loadedmetadata"),e.off("snapshoted"),e.off("uiReady"),e.off("ready"),e.flashPlayer=null,e._el&&(e._el.innerHTML="")}))},showBSMsg:function(e){this._invoke("showBSMsg",e)},setToastEnabled:function(e){this._invoke("setToastEnabled",e)},setLoadingInvisible:function(){this._invoke("setLoadingInvisible")},setPlayerSize:function(e,t){this._el.style.width=e,this._el.style.height=t}});t.exports=e},{"../../commonui/autostreamselector":11,"../../config":14,"../../feature/autoPlayDelay":17,"../../lang/index":23,"../../lib/constants":28,"../../lib/data":30,"../../lib/dom":32,"../../lib/object":42,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/util":51,"../../ui/component":130,"../../ui/component/error-display":135,"../../ui/component/info-display":138,"../base/event/eventtype":70,"../saas/ststoken":114}],100:[function(e,t,i){var r=e("../../lib/io"),n=e("../../config"),o=e("../../lib/constants"),a=e("../../lib/util"),s=e("../../lib/playerutil"),l=e("../../lib/ua"),u=e("../../lang/index"),c=e("../base/event/eventtype");t.exports.inject=function(e,t,i,d,f,h){var p,v=d.source;!h&&(d=v,e._flv||!s.isFlv(d))||(e._Type=t,e._superType=i,e._superPt=i.prototype,e._disposed=!1,t.prototype._checkFlvReady=function(){if(null==e._flv)throw new Error("please invoke this method after ready event")},e._isFlv=!0,e._flv=null,e._isLoadedFlv=!1,e._originalUrl="",t.prototype.play=function(e){return this._checkFlvReady(),this._isManualPlay=e||!1,this.trigger(c.Private.Cover_Hide),this._options.isLive&&e?this._loadByUrlInner(this._options.source,0,e):this.tag.ended||this._ended?this.replay():(0==this._seeking&&(e=0,this.tag.ended||this._ended||0==(e=this.getCurrentTime())&&(e=-1),-1!=e)&&this.seek(e),this.tag.paused&&(this._hasLoaded||this._flv.load(),this._flv.play())),this},t.prototype.seek=function(e){this._checkFlvReady(),this._seeking=!0;var t=this.getDuration();t<=(e=Math.floor(e))&&(e=t);try{this._flv.currentTime=e}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}return this},t.prototype.pause=function(e){return this._checkFlvReady(),this._isManualPause=e||!1,this._flv.pause(),this},t.prototype.getProgramDateTime=function(){var e;return this._checkFlvReady(),this._metadata?(e=(e=this._flv.getFirstSample())&&e.pts?e.pts:0,__f__("log","\u63a8\u6d41\u65f6\u95f4\uff1a"+this._metadata.NtpTime," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),__f__("log","\u9996\u5e27PTS\uff1a"+e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),this._metadata.NtpTime+e):""},t.prototype.initPlay=function(e){var t;function i(e,t){var i,r=!e._flv,n=(e._destroyFlv(),e._options.isLive),o={isLive:n,enableWorker:e._options.enableWorker,stashInitialSize:2048},a=(l.IS_IE11&&(o.enableWorker=!1),{type:"flv",isLive:n,url:e._options.source});for(i in n?(o.enableStashBuffer=e._options.enableStashBufferForFlv,stashInitialSize=e._options.stashInitialSizeForFlv,o.autoCleanupSourceBuffer=!1):o.lazyLoadMaxDuration=600,e._options.isLive&&(e._options.flvFrameChasing&&(o.flvFrameChasing=e._options.flvFrameChasing),e._options.chasingFirstParagraph&&(o.chasingFirstParagraph=e._options.chasingFirstParagraph),e._options.chasingSecondParagraph&&(o.chasingSecondParagraph=e._options.chasingSecondParagraph),e._options.chasingFirstSpeed&&(o.chasingFirstSpeed=e._options.chasingFirstSpeed),e._options.chasingSecondSpeed)&&(o.chasingSecondSpeed=e._options.chasingSecondSpeed),e._options.flvOption)"cors"==i||"hasAudio"==i||"withCredentials"==i||"hasVideo"==i||"type"==i?a[i]=e._options.flvOption[i]:o[i]=e._options.flvOption[i];e._originalUrl=e._options.source,flvjs.LoggingControl.enableAll=e._options.debug,e._flv=flvjs.createPlayer(a,o),p(e,e._flv),e._flv.on(flvjs.Events.MEDIA_INFO,(function(t){e._metadata=t.metadata})),e._flv.on(flvjs.Events.METADATA_ARRIVED,(function(t){t&&t.dataContent&&t.dataContent.length&&e.trigger(c.Private.SeiFrame,{dataContent:t.dataContent,pts:t.pts})})),e._flv.attachMediaElement(e.tag),e._initPlayBehavior(t)&&((e._options.preload||e._options.autoplay)&&(e._hasLoaded=!0,e._flv.load()),e._options.autoplay&&!e.tag.paused&&e._flv.play(),f&&f(e._flv),r)&&(e._executeReadyCallback(),e._urls)&&0<e._urls.length&&!e._options.defaultDefinition&&(e._currentPlayIndex=s.findSelectedStreamLevel(e._urls),n=e._urls[e._currentPlayIndex],e._options.source=n.Url,e.trigger(c.Private.SourceLoaded,n))}l.browser.safari&&this.trigger(c.Private.Snapshot_Hide),a.contentProtocolMixed(v)?((t={mediaId:this._options.vid||"",error_code:o.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=u.get("Request_Block_Text"),this.trigger(c.Player.Error,t)):(that=this)._isLoadedFlv&&"undefined"!=typeof Hls?setTimeout((function(){i(that,e)}),1e3):(this.trigger(c.Private.H5_Loading_Show),function(e,t){var i="aliplayer-flv-min.js",o=n.domain?"https://"+n.domain+"/de/prismplayer/"+n.h5Version+"/flv/"+i:"/build/flv/"+i,a=this;r.loadJS(o,(function(){e.apply(a)}))}.call(that,(function(){this._isLoadedFlv=!0,i(this,e)}),this._options.debug))},t.prototype._destroyFlv=function(){try{this._flv&&(this._flv.pause(),this._flv.destroy())}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}this.loaded=!1,this._hasLoaded=!1,this._flv=null},t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._superPt&&this._superPt.dispose.call(this),this._destroyFlv(),this._superPt&&(t.prototype.play=this._superPt.play,t.prototype.pause=this._superPt.pause,t.prototype.initPlay=this._superPt.initPlay,t.prototype.seek=this._superPt.seek,t.prototype.canSeekable=this._superPt.canSeekable))},t.prototype.canSeekable=function(e){var t=this._flv.mediaInfo;return!(!this._flv._isTimepointBuffered(e)&&t&&!t.hasKeyframesIndex)},p=function(e,t){var i=!1;t.on(flvjs.Events.ERROR,(function(t,r,a){var s,l,d=o.ErrorCode.OtherError,f=u.get("Error_Play_Text");t!==flvjs.ErrorTypes.BUFFER_FULL&&(r==flvjs.ErrorDetails.NETWORK_EXCEPTION?!(t=e.getOptions().source)||0!=t.toLowerCase().indexOf("http://")&&0!=t.toLowerCase().indexOf("https://")?(d=o.ErrorCode.InvalidSourceURL,f=u.get("Error_Invalidate_Source_Widthout_Protocal"),i=!0):f=navigator.onLine?(d=o.ErrorCode.RequestDataError,u.get("Maybe_Cors_Error")):(d=o.ErrorCode.NetworkError,u.get("Error_Network_Text")):r==flvjs.ErrorDetails.NETWORK_STATUS_CODE_INVALID?"404"==a.code?(d=o.ErrorCode.NotFoundSourceURL,f=u.get("Error_Not_Found")):"403"==a.code?(d=o.ErrorCode.AuthKeyExpired,f=u.get("Error_AuthKey_Text"),i=!0):(d=o.ErrorCode.NetworkError,f=u.get("Error_Network_Text")):r==flvjs.ErrorDetails.NETWORK_TIMEOUT?(d=o.ErrorCode.LoadingTimeout,f=u.get("Error_Waiting_Timeout_Text")):r!=flvjs.ErrorDetails.MEDIA_FORMAT_UNSUPPORTED&&r!=flvjs.ErrorDetails.MEDIA_CODEC_UNSUPPORTED||(d=o.ErrorCode.FormatNotSupport,f=u.get("Error_H5_Not_Support_Text"),i=!0),t=function(){var t;setTimeout((function(){e.trigger(c.Private.Play_Btn_Hide)})),e.checkOnline()&&(t={mediaId:e._options&&e._options.vid?e._options.vid:"",error_code:d,error_msg:a.msg},e.logError(t),t.display_msg=f,n.cityBrain&&(e.flv=null),e.trigger(c.Player.Error,t))},e._options&&e._options.isLive&&!i?(s=e._options).liveRetry>e._liveRetryCount?(0==e._liveRetryCount&&e.trigger(c.Player.OnM3u8Retry),l=s.liveRetryInterval+s.liveRetryStep*e._liveRetryCount,e._liveRetryCount++,setTimeout((function(){e._loadByUrlInner(s.source)}),1e3*l)):(e._liveErrorHandle&&clearTimeout(e._liveErrorHandle),e.trigger(c.Player.LiveStreamStop),e._liveErrorHandle=setTimeout(t,500)):r===flvjs.ErrorDetails.MEDIA_MSE_ERROR&&11===a.code&&e.getCurrentTime()<e.getDuration()?(e._flv.unload(),e._flv.load(),e._flv.detachMediaElement(),e._flv.attachMediaElement(e.tag)):i?(e._flv.unload(),t()):e._reloadForVod()||t())}))})}},{"../../config":14,"../../lang/index":23,"../../lib/constants":28,"../../lib/io":40,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/util":51,"../base/event/eventtype":70}],101:[function(e,t,i){var r=e("../base/player"),n=e("./flvinjector"),o=r.extend({init:function(e,t){n.inject(this,o,r,t,(function(e){})),t._native=!1,r.call(this,e,t)}});t.exports=o},{"../base/player":91,"./flvinjector":100}],102:[function(e,t,i){var r=e("../../lib/io"),n=e("../../config"),o=e("../../lib/constants"),a=e("../../lib/util"),s=e("../../lib/playerutil"),l=e("../../lib/ua"),u=e("../../lang/index"),c=e("../base/event/eventtype"),d=e("../../lib/hls/hlsparse");function f(){this&&this._hls&&(this._hls.stopLoad(),this._hls.destroy(),this._hls=null)}t.exports.inject=function(e,t,i,h,p,v){e._hls2=!1;var g,y,m=h.source,_=h.useHlsPluginForSafari;h=h.useHlsPlugOnMobile;(p||v||(g=m,_=_,h=h,!e._hls&&s.isHls(g)&&(!s.canPlayHls()||s.isSafariUsedHlsPlugin(_)||h&&s.isUsedHlsPluginOnMobile())))&&(e._Type=t,e._superType=i,e._superPt=i.prototype,e._disposed=!1,t.prototype._checkHlsReady=function(){if(null==e._hls)throw new Error("please invoke this method after ready event")},e._isHls=!0,e._hls=null,e._isLoadedHls=!1,e._stopLoadAsPaused=!0,e._sce_dlgtqred_saved=p,t.prototype.play=function(e){return this._checkHlsReady(),this._isManualPlay=e||!1,this.trigger(c.Private.Cover_Hide),this._options.autoplay||this._options.preload||this._loadSourced||(this._loadSourced=!0,this._options._autoplay=!0,this._hls.loadSource(this._options.source)),this.tag.ended||this._ended?this.replay():this.tag.paused&&(this.tag.play(),this._stopLoadAsPaused)&&(e=this.getCurrentTime(),this._hls.startLoad(e)),this},t.prototype.replay=function(){return this._monitor&&this._monitor.replay(),this._hls.startLoad(0),this.tag.play(),this},t.prototype.pause=function(e){return this.tag&&(this._checkHlsReady(),this.tag.pause(),this._stopLoadAsPaused)&&this._hls.stopLoad(),this._isManualPause=e||!1,this},t.prototype.stop=function(){return this._checkHlsReady(),this.tag.setAttribute("src",null),this._hls.stopLoad(),this},t.prototype.seek=function(e){this._checkHlsReady();try{this._superPt.seek.call(this,e),this.tag.paused&&this._stopLoadAsPaused&&this._hls.startLoad(e)}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}return this},t.prototype.getProgramDateTime=function(){if(this._checkHlsReady(),-1==this._hls.currentLevel)return"";var e=this._hls.currentLevel;e=this._hls.levels[e].details;return e&&(e=e.programDateTime,__f__("log","ProgramDateTime="+e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),e)?new Date(e).valueOf():0},t.prototype.getCurrentPDT=function(){var e,t;return this._checkHlsReady(),-1==this._hls.currentLevel?"":(e=(t=this._hls.streamController.fragPlaying||{}).pdt)?(t=1e3*t.startPTS,e+(1e3*this.getCurrentTime()-t)):0},t.prototype._reloadAndPlayForM3u8=function(){0==this._liveRetryCount&&this.trigger(c.Player.OnM3u8Retry),this._liveRetryCount++},t.prototype._switchLevel=function(e){var t=this.getCurrentTime(),i=!this._qualityService.levels.length&&1<this._urls.length,r=(i&&(this.pause(),this._hls.stopLoad(),this._hls.detachMedia(),this._hls.destroy()),this.trigger(c.Player.LevelSwitch),this._hls.levels),n=!0;i&&this._loadByUrlInner(e,t,n,!0);for(var o=0;o<r.length;o++)if(r[o].url==e||r[o].url[0]==e){n=!1,this._hls2&&this._options.seamlessHandover?(this._hls.loadLevel=o,__f__("log","Seamlessly set nextLevel to",o," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")):(this._hls.currentLevel=o,__f__("log","Immediately set currentLevel to",o," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"));break}n&&(this._hls.currentLevel=-1),this._switchedLevel=!0;var a=this;setTimeout((function(){a.trigger(c.Player.LevelSwitched),this._switchedLevel=!1}),1e3)},t.prototype._getHlsVersion=function(e){var t,i,r;function n(e,t){var i=this.getOptions()||{};i={mediaId:i.vid||"",mediaAuth:i.mediaAuth||"",error_code:o.ErrorCode.LoadedMetadata,error_msg:u.get("Error_Play_Text")},t=Number(t);404===t?(i.error_code=o.ErrorCode.NotFoundSourceURL,i.error_msg=u.get("Error_Not_Found")):403===t?e===d.ERROR_REGION_BLOCK?(i.error_code=o.ErrorCode.RegionBlock,i.error_msg=u.get("Error_Region_Block_Text")):(i.error_code=o.ErrorCode.AuthKeyExpired,i.error_msg=u.get("Error_AuthKey_Text")):0===t&&navigator.onLine?(i.error_code=o.ErrorCode.RequestDataError,i.error_msg=i.error_msg+"\uff0c"+u.get("Maybe_Cors_Error")):i.error_msg=u.get("Error_Load_M3U8_Failed_Text"),this.logError(i),i.display_msg=i.error_msg,this.trigger(c.Player.Error,i)}!0===this._options.useHls2?(this._hls2=!0,e()):!1===this._options.useHls2||!this._options.isLive||v?e():this._options.lowLatencyMode?(this._hls2=!0,e()):(t=this,i=new d,r=t._options.source,i.load(r,(function(o){var a,s;o.levels&&0!==o.levels.length?a=o.levels[0].url:(a=r,s=o.string),i.loadMediaPlaylist({url:a,string:s},(function(i){i&&(t._hls2="number"==typeof i.partTarget),e()}),n.bind(t))}),n.bind(t)))},t.prototype.initPlay=function(e){var t,i;function d(e,t){if(!e._antiRecord||(__f__("log","Manual check before load source"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),!e._antiRecord.check())){var i,r=!e._hls,n=(e._destroyHls(),{xhrSetup:function(t,i){t.withCredentials=e._options.withCredentials||!1}}),o=e._options.loadingTimeOut||e._options.hlsLoadingTimeOut;for(i in o&&(n.manifestLoadingTimeOut=o,n.levelLoadingTimeOut=o,n.fragLoadingTimeOut=o),e._options.liveSyncDurationCount&&(n.liveSyncDurationCount=e._options.liveSyncDurationCount),e._options.defaultBandwidth&&(n.defaultBandwidth=e._options.defaultBandwidth),e._options.isLive&&(e._options.hlsFrameChasing&&(n.hlsFrameChasing=e._options.hlsFrameChasing),e._options.chasingFirstParagraph&&(n.chasingFirstParagraph=e._options.chasingFirstParagraph),e._options.chasingSecondParagraph&&(n.chasingSecondParagraph=e._options.chasingSecondParagraph),e._options.chasingFirstSpeed&&(n.chasingFirstSpeed=e._options.chasingFirstSpeed),e._options.chasingSecondSpeed)&&(n.chasingSecondSpeed=e._options.chasingSecondSpeed),!e._hls2||e._options.isLive&&!l.IS_IE11&&(n.backBufferLength=12,n.liveDurationInfinity=!0),e._options.nudgeMaxRetry&&(n.nudgeMaxRetry=e._options.nudgeMaxRetry),e._options.maxMaxBufferLength&&(n.maxMaxBufferLength=e._options.maxMaxBufferLength),e._options.maxBufferSize&&(n.maxBufferSize=e._options.maxBufferSize),e._options.fragLoadingRetryDelay&&(n.fragLoadingRetryDelay=e._options.fragLoadingRetryDelay),e._options.maxBufferLength&&(n.maxBufferLength=e._options.maxBufferLength),e._options.hlsBandWidthUpCacheTime&&(n.abrBandWidthUpCacheTime=e._options.hlsBandWidthUpCacheTime),e._options.seamlessHandover&&(n.seamlessHandover=e._options.seamlessHandover),e._options.accessKeyId&&(n.accessKeyId=e._options.accessKeyId),e._options.accessKeySecret&&(n.accessKeySecret=e._options.accessKeySecret),e._options.securityToken&&(n.securityToken=e._options.securityToken),e._options.app&&(n.app=e._options.app),e._options.stream&&(n.stream=e._options.stream),e._options.domain&&(n.domain=e._options.domain),e._options.regionId&&(n.regionId=e._options.regionId),e._sce_dlgtqred_saved&&(n._sce_dlgtqredxx=e._sce_dlgtqred_saved),n.enableWorker=e._options.enableWorker,n.debug=e._options.debug,e._stopLoadAsPaused=e._options.hlsOption.stopLoadAsPaused,e._options.hlsOption)n[i]=e._options.hlsOption[i];l.IS_IE11&&(n.enableWorker=!1),e._hls=new Hls(n),y(e,e._hls),e._loadSourced=!1,e._hls.attachMedia(e.tag),e._hls.on(Hls.Events.INIT_PTS_FOUND,(function(t,i){e._initPTS=i.initPTS})),e._hls.on(Hls.Events.FRAG_PARSING_USERDATA,(function(t,i){i&&i.dataContent&&i.dataContent.length&&e.trigger(c.Private.SeiFrame,{dataContent:i.dataContent,pts:i.pts})})),e._hls.on(Hls.Events.MEDIA_ATTACHED,(function(){var i;e._hls.on(Hls.Events.MANIFEST_PARSED,(function(){e._initPlayBehavior(t||e._loadSourced)})),e._hls.on(Hls.Events.AUDIO_TRACKS_UPDATED,(function(t,i){e.trigger(c.Player.AudioTrackUpdated,i)})),e._hls.on(Hls.Events.MANIFEST_LOADED,(function(t,i){e.trigger(c.Player.LevelsLoaded,i)})),e._hls.on(Hls.Events.LEVEL_SWITCHED,(function(t,i){if(e._qualityService){for(var r=e._hls.levels[i.level].url,n=e._qualityService.levels,o="",a="",s=0;s<n.length;s++)if(n[s].Url==r){a=n[s].desc,o=n[s].bitrate;break}(a||o)&&e.trigger(c.Private.QualityChange,{levelSwitch:!0,url:r,bitrate:o,desc:a})}})),e._hls.on(Hls.Events.AUDIO_TRACK_SWITCH,(function(t,i){e.trigger(c.Player.AudioTrackSwitch,i),setTimeout((function(){e.trigger(c.Player.AudioTrackSwitched,i)}),1e3)})),(e._options.autoplay||e._options.preload||t)&&(e._loadSourced=!0,e._levels&&1<e._levels.length?(e._hls.trigger(Hls.Events.MANIFEST_LOADING,{}),e._hls.trigger(Hls.Events.MANIFEST_LOADED,{levels:e._levels})):e._hls.loadSource(e._options.source||"__INVALID__")),r?(e._executeReadyCallback(),e._urls&&0<e._urls.length&&!e._options.defaultDefinition&&(e._currentPlayIndex=s.findSelectedStreamLevel(e._urls),i=e._urls[e._currentPlayIndex],e._options.source=i.Url,e.trigger(c.Private.SourceLoaded,i))):e.trigger(c.Private.H5_Loading_Show)}))}}this.trigger(c.Private.H5_Loading_Show),a.contentProtocolMixed(m)?((t={mediaId:(t=this.getOptions()||{}).vid||"",mediaAuth:t.mediaAuth||"",error_code:o.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=u.get("Request_Block_Text"),this.trigger(c.Player.Error,t)):(i=this)._isLoadedHls&&"undefined"!=typeof Hls?d(this,e):(this.trigger(c.Private.H5_Loading_Show),this._getHlsVersion((function(t){(function(e,t){var i="aliplayer-hls-min.js",o=(t=((t=t||{}).hls2&&(i="aliplayer-hls2-min.js"),""),t=n.domain?"https://"+n.domain+"/de/prismplayer/"+n.h5Version+"/hls/"+i:"/build/hls/"+i,this);r.loadJS(t,(function(){e.apply(o)}))}).call(i,(function(){i._isLoadedHls=!0,d(i,e)}),{debug:i._options.debug,hls2:i._hls2})})),this.on("error",f))},t.prototype._getbwEstimator=function(){var e,t=NaN;return this._hls?(e=this._hls.abrController._bwEstimator)?e.getEstimate():NaN:t},t.prototype._destroyHls=function(){this._hls&&this._hls.destroy(),this._hls=null},t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._superPt&&this._superPt.dispose.call(this),this._destroyHls(),this._superPt&&(t.prototype.play=this._superPt.play,t.prototype.pause=this._superPt.pause,t.prototype.initPlay=this._superPt.initPlay,t.prototype.replay=this._superPt.replay,t.prototype.stop=this._superPt.stop,t.prototype.seek=this._superPt.seek))},y=function(e,t){t.on(Hls.Events.DEFAULT_BANDWIDTH,(function(t,i){e.trigger(c.Player.DefaultBandWidth,{width:i.width,height:i.height,bitrate:i.bitrate})})),t.on(Hls.Events.ERROR,(function(i,r){var n,a,l,d,f,h,p;!e._options||r.details==Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR||1==e._seeking||0==r.fatal&&r.type!=Hls.ErrorTypes.NETWORK_ERROR||(e._clearTimeout(),n=o.ErrorCode.LoadedMetadata,d=u.get("Error_Play_Text"),p=a=!1,r.details==Hls.ErrorDetails.MANIFEST_LOAD_ERROR||r.details==Hls.ErrorDetails.LEVEL_LOAD_ERROR?(a=!0,h=r.networkDetails,l=Number(h.status),e.liveShiftSerivce&&e.liveShiftSerivce.isLiveShiftPlaying()&&404===l?(n=o.ErrorCode.NotFoundSourceURL,d=u.get("Error_Liveshift_M3U8_Not_Found_Text"),p=!0):d=404===l?(n=o.ErrorCode.NotFoundSourceURL,u.get("Error_Not_Found")):403===l?(h=s.parseHttpHeaders(h)["x-tengine-error"])&&-1<o.RegionBlockMessages.indexOf(h)?(n=o.ErrorCode.RegionBlock,u.get("Error_Region_Block_Text")):(n=o.ErrorCode.AuthKeyExpired,u.get("Error_AuthKey_Text")):0===l&&navigator.onLine?(n=o.ErrorCode.RequestDataError,d+"\uff0c"+u.get("Maybe_Cors_Error")):u.get("Error_Load_M3U8_Failed_Text")):r.details==Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT||r.details==Hls.ErrorDetails.LEVEL_LOAD_TIMEOUT?(a=!0,d=u.get("Error_Load_M3U8_Timeout_Text")):r.details==Hls.ErrorDetails.MANIFEST_PARSING_ERROR||r.details==Hls.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR?(a=!0,d=u.get("Error_M3U8_Decode_Text")):r.type==Hls.ErrorTypes.NETWORK_ERROR?(n=o.ErrorCode.NetworkError,d=u.get("Error_Network_Text")):r.type!=Hls.ErrorTypes.MUX_ERROR&&r.type!=Hls.ErrorTypes.MEDIA_ERROR||(n=o.ErrorCode.PlayDataDecode,d=u.get("Error_TX_Decode_Text")),d=d+"("+r.details+")",f=function(){var t;setTimeout((function(){e.trigger(c.Private.Play_Btn_Hide)})),e.checkOnline()&&(t={mediaId:(t=e.getOptions()||{}).vid||"",mediaAuth:t.mediaAuth||"",error_code:n,error_msg:r.details},e.logError(t),t.display_msg=d,e.trigger(c.Player.Error,t))},h=function(){e._liveErrorHandle&&clearTimeout(e._liveErrorHandle),t.stopLoad(),e.trigger(c.Player.LiveStreamStop),e._liveErrorHandle=setTimeout(f,500)},e._options&&e._options.isLive?p?h():e._hls2?r.fatal&&h():(p=e._options).liveRetry>e._liveRetryCount?(0==e._liveRetryCount&&e.trigger(c.Player.OnM3u8Retry),p=p.liveRetryInterval+p.liveRetryStep*e._liveRetryCount,e._liveRetryCount++,e.trigger(c.Private.H5_Loading_Show),setTimeout((function(){a&&e._loadByUrlInner(e._options.source,0,!0)}),1e3*p)):h():(a&&-1<[403,404].indexOf(l)||!e._reloadForVod())&&f())}))})}},{"../../config":14,"../../lang/index":23,"../../lib/constants":28,"../../lib/hls/hlsparse":39,"../../lib/io":40,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/util":51,"../base/event/eventtype":70}],103:[function(e,t,i){var r=e("../base/player"),n=e("./hlsinjector"),o=r.extend({init:function(e,t){t._native=!1,n.inject(this,o,r,t),r.call(this,e,t)}});t.exports=o},{"../base/player":91,"./hlsinjector":102}],104:[function(e,t,i){var r="undefined"==typeof Promise?e("es6-promise").Promise:Promise,n=e("../../lib/io"),o=e("../../config"),a=e("../../lib/constants"),s=e("../../lang/index"),l=e("../base/event/eventtype"),u=e("../../lib/ua");function c(e){var t=this._options;t.rtsFallbackSource&&window.Aliplayer?(this.trigger(l.Player.RtsFallback,{reason:e,fallbackUrl:t.rtsFallbackSource}),this.loadByUrl(t.rtsFallbackSource)):(this.trigger(l.Player.Error,e),this.logError(e))}function d(e){var t=this,i=(this.trigger(l.Private.H5_Loading_Show),this.trigger(l.Private.Play_Btn_Hide),new h(t,e));return t._rts.subscribe(t._options.source,{mediaTimeout:t._options.rtsLoadDataTimeout}).then((function(e){return t._retryTimer&&(clearTimeout(t._retryTimer),t._retryTimer=null),i.preProcess(),t.tag.srcObject=null,e.play(t.tag),!0})).catch((function(e){var i=null,r=null;switch(Number(e.errorCode)){case 10101:i=a.ErrorCode.RtsSignalError,r=s.get("Rts_Err_Http_Signal_Error");break;case 10114:i=a.ErrorCode.RtsCreateOfferError,r=s.get("Rts_Err_Create_Offer_Error");break;case 10202:i=a.ErrorCode.RtsPlayUrlError,r=s.get("Rts_Err_Play_Url_Error");break;case 10203:i=a.ErrorCode.RtsSubscribeNonthing,r=s.get("Rts_Err_Subscribe_Nonthing");break;case 10205:var n=null==(n=e.extraInfo)?void 0:n.response;if(403===(null==n?void 0:n.status)&&(n=n.headers["x-tengine-error"],n&&-1<a.RegionBlockMessages.indexOf(n))){i=a.ErrorCode.RegionBlock,r=s.get("Error_Region_Block_Text");break}i=a.ErrorCode.RtsHttpRequestFaild,r=s.get("Rts_Err_Http_Request_Failed");break;case 10206:i=a.ErrorCode.RtsHttpAnswerFaild,r=s.get("Rts_Err_Http_Answer_Failed")}return c.call(t,{error_code:i,error_msg:r}),!1}))}function f(){this._noDataTimer&&(clearTimeout(this._noDataTimer),this._noDataTimer=null)}t.exports.inject=function(e,t,i,u,h,p){function v(e,t){var i,r,n;f.call(this),this._retryTimer||(e=e||a.ErrorCode.RtsPlayFailedError,t=t||s.get("Rts_Err_Play_Failed")+", "+this._options.rtsLoadDataTimeout*(this._options.liveRetry+1)+s.get("Rts_Err_No_Data_For"),(r=(i=this)._options)?r.liveRetry>i._liveRetryCount?(0==i._liveRetryCount&&i.trigger(l.Player.OnM3u8Retry),n=Number(r.liveRetryInterval||0)+Number(r.liveRetryStep*i._liveRetryCount||0),i._liveRetryCount++,i.stop(),setTimeout((function(){i.trigger(l.Private.H5_Loading_Show),i.trigger(l.Private.Play_Btn_Hide)}),50),i._retryTimer=setTimeout((function(){i.trigger(l.Private.Retry,{type:"rts",source:r.source}),d.call(i,!0)}),1e3*n)):(i._retryTimer&&clearTimeout(i._retryTimer),i._liveErrorHandle&&clearTimeout(i._liveErrorHandle),i.stop(),i._liveRetryCount=0,i.trigger(l.Player.LiveStreamStop),i._liveErrorHandle=setTimeout(g.call(this,e,t),500)):__f__("warn","no options!"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"))}function g(e,t){var i=this;i.pause(),setTimeout((function(){i.trigger(l.Private.Play_Btn_Hide)})),i.checkOnline()&&c.call(this,{error_code:e,error_msg:t})}e._Type=t,e._superType=i,e._superPt=i.prototype,e._disposed=!1,t.prototype._checkRtsReady=function(){if(null==e._rts)throw new Error("please invoke this method after ready event")},e._isRts=!0,e._rts=null,e._isLoadedRts=!1,e._liveErrorHandle=null,e._retryTimer=null,e._noDataTimer=null,e.bind_rtsPlayEventHandler=null,e.bind_rtsErrorEventHandler=null,t.prototype.play=function(e){this._checkRtsReady(),this._isManualPlay=e||!1;var t=this;return t.trigger(l.Private.Cover_Hide),t.trigger(l.Private.Play_Btn_Hide),d.call(t).then((function(e){e&&t._startPlay()})),this},t.prototype.seek=function(e){},t.prototype.setSpeed=function(e){},t.prototype.pause=function(e){return this._checkRtsReady(),this._superPt.pause.call(this,!0),this},t.prototype.stop=function(){return this._rts&&this._rts.unsubscribe(),this},t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._superPt&&this._superPt.dispose.call(this),this._destroyRts(),this._superPt,this._liveErrorHandle&&(clearTimeout(this._liveErrorHandle),this._liveErrorHandle=null),this._retryTimer&&(clearTimeout(this._retryTimer),this._retryTimer=null),f.call(this))},t.prototype._destroyRts=function(){this._rts&&(this.stop(),this._rts.off("onError",this.bind_rtsErrorEventHandler),this._rts.off("onPlayEvent",this.bind_rtsPlayEventHandler)),this._rts=null},t.prototype.initPlay=function(e){function t(e,t){var i=!e._rts;e._destroyRts(),e._rts=new AliRTS.createClient({customReporter:function(t){if(126===Number(t.msgid)){var i={};try{i=JSON.parse(t.args)}catch(t){i={}}i.tcid&&e._rts&&(e._rts.traceid=i.tcid)}}}),e._checkRtsSupport((function(r){(function(e){var t=this._rtsPlayEventHandler.bind(this),i=this._rtsErrorEventHandler.bind(this);this.bind_rtsPlayEventHandler=t,this.bind_rtsErrorEventHandler=i,e.on("onError",i),e.on("onPlayEvent",t)}).call(e,e._rts),e._options.autoplay?d.call(e).then((function(i){i&&e._initPlayBehavior(t)})):e._initPlayBehavior(t),i&&e._executeReadyCallback()}),(function(t){__f__("log","[RTS isSupport error]",t," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");var i=null,r=null;switch(Number(t.errorCode)){case 10110:i=a.ErrorCode.RtsNotSupportWebRtc,r=s.get("Rts_Err_Not_Support_Webrtc");break;case 10111:i=a.ErrorCode.RtsBrowserNotSupport,r=s.get("Rts_Err_Browser_Not_Support");break;case 10112:i=a.ErrorCode.RtsBrowserVersionTooLow,r=s.get("Rts_Err_Browser_Version_Too_Low");break;case 10113:i=a.ErrorCode.RtsNotSupportH264,r=s.get("Rts_Err_Not_Support_H264");break;case 10114:i=a.ErrorCode.RtsCreateOfferError,r=s.get("Rts_Err_Create_Offer_Error")}return c.call(e,{error_code:i,error_msg:r}),!1}))}this._isLoadedRts?t(this,e):(this.trigger(l.Private.H5_Loading_Show),function(e,t){var i="",r=this._options,a=(i="https://g.alicdn.com/CodeBaseOne/H5RTSSdk/"+(r.rtsVersion||o.rtsVersion)+"/aliyun-rts-sdk.js",r.rtsSdkUrl&&(i=r.rtsSdkUrl),this);n.loadJS(i,(function(){e.apply(a)}))}.call(this,(function(){this._isLoadedRts=!0,t(this,e)}),this._options.debug))},t.prototype.getStats=function(){return this._rts&&this._rts.getTransportStats?r.all([this._rts.getTransportStats(),this._rts.getRemoteVideoStats(),this._rts.getRemoteAudioStats()]).then((function(e){var t=e[0],i=e[1];e=e[2];return{rtt:t.rtt,bytesReceived:t.bytesReceived,framesDecoded:i.framesDecoded,packetsLost:(i.packetsLost||0)+(e.packetsLost||0),packetsReceived:(i.packetsReceived||0)+(e.packetsReceived||0),timestamp:t.timestamp||Date.now()}})).catch((function(e){return __f__("log","ERR in RTS getstats: ",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),{}})):r.resolve()},t.prototype._rtsPlayEventHandler=function(e){"canplay"===e.event?f.call(this):"waiting"!==e.event&&("playing"===e.event?f.call(this):"timeout"!==e.event&&"ended"!==e.event||v.call(this))},t.prototype._checkRtsSupport=function(e,t){this._options.skipRtsSupportCheck?e():this._rts.isSupport({isReceiveVideo:!0}).then(e).catch(t)},t.prototype._rtsErrorEventHandler=function(e){var t,i;switch(__f__("log","RTS Error:",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),Number(e.errorCode)){case 10102:v.call(this);break;case 12e3:t=a.ErrorCode.RtsPeerConnectionUnknown,i=s.get("Rts_Err_PeerConnection_Unknown"),g.call(this,t,i)}}};var h=function(){function e(e,t){(this.isRetry=t)&&(this.isApple=u.IS_IOS||u.IS_SAFARI,this.player=e)}return e.prototype.preProcess=function(){var e,t,i;this.isRetry&&this.isApple&&(e=this.player.getVolume(),t=this.player.muted(),e)&&!t&&((i=this.player.tag).volume=0,this.player.one("canplay",(function(){i.volume=e})))},e}()},{"../../config":14,"../../lang/index":23,"../../lib/constants":28,"../../lib/io":40,"../../lib/ua":49,"../base/event/eventtype":70,"es6-promise":8}],105:[function(e,t,i){var r=e("../base/player"),n=e("./rtsinjector"),o=r.extend({init:function(e,t){t.isLive&&(t._native=!1,n.inject(this,o,r,t),r.call(this,e,t))}});t.exports=o},{"../base/player":91,"./rtsinjector":104}],106:[function(e,t,i){var r=e("../../lib/constants");e=e("../../lib/oo").extend({init:function(e){this.player=e,this.tickhandle=null}});e.prototype.tick=function(e,t){var i=this;this.tickhandle=setTimeout((function(){i.player&&i.player.trigger(r.AuthKeyExpiredEvent),t&&t()}),1e3*e)},e.prototype.clearTick=function(e){this.tickhandle&&clearTimeout(this.tickhandle)},t.exports=e},{"../../lib/constants":28,"../../lib/oo":43}],107:[function(e,t,i){function r(e,t,i){var r=s.randomUUID(),o="https://mts."+e.domainRegion+".aliyuncs.com/?";r={AccessKeyId:e.accessId,Action:"GetLicense",MediaId:e.vid,LicenseUrl:o,data:e.data,SecurityToken:e.stsToken,Format:"JSON",Type:e.encryptionType,Version:"2014-06-18",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:r};e.header&&(r.Header=e.header),o+="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(r,e.accessSecret,"POST")),e=s.makeUTF8sort(r,"=","&"),n.post(o,e,(function(e){e?(e=JSON.parse(e),t&&(e=e.License,t(e))):i&&i(l.createError("MPS\u83b7\u53d6License\u5931\u8d25"))}),(function(e){if(i){var t={Code:"",Message:d.get("Error_MTS_Fetch_Urls_Text")};try{t=JSON.parse(e)}catch(e){}i({Code:a.ErrorCode.ServerAPIError,Message:t.Code+"|"+t.Message,sri:t.RequestId||""})}}))}var n=e("../../lib/io"),o=(e("../../lib/ua"),e("../../lib/bufferbase64")),a=e("../../lib/constants"),s=e("./signature"),l=e("./util"),u=e("../../lib/url"),c=e("../../lib/playerutil"),d=e("../../lang/index"),f=e("../base/event/eventtype");function h(e){window.console.error("The license request failed.")}function p(e){window.console.error("A decryption key error was encountered"),window.console.error("A decryption key error was encountered",e)}function v(e){window.console.log("Decryption key was added to session.")}function g(e,t,i){i.addEventListener(e,(function(){t(arguments[0])}),!1)}t.exports.requestLicenseKey=function(e){var t=e;return t._options.vid&&(t.__vid=t._options.vid),function(e,i){var n,s,l=t._options,u=t._getDRMEncryptItem();u&&(n={vid:t.__vid,accessId:l.accId,accessSecret:l.accSecret,stsToken:l.stsToken,domainRegion:l.domainRegion,authInfo:l.authInfo,encryptionType:u.encryptionType},u.encryptionType==a.EncryptionType.Widevine?n.data=o.encode(e.message):u.encryptionType==a.EncryptionType.PlayReady&&(l=o.unpackPlayReady(e.message),n.data=l.changange,l.header)&&(n.header=JSON.stringify(l.header)),__f__("log",n.data," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),e=t.__licenseKeys,s=t.__vid+u.Url,e&&e[s],r(n,(function(e){t.__licenseKeys||(t.__licenseKeys={}),10<n.data.length&&(t.__licenseKeys[s]=e),e=o.decode(e),i(e)}),(function(e){e={mediaId:t.__vid,error_code:e.Code,error_msg:e.Message},t.logError(e),t.trigger("error",e)})))}},t.exports.loadCertificate=function(e,t){var i,r,n,o=new XMLHttpRequest,l=(o.addEventListener("load",function(e,t){var i;t=t.target;if(200!==t.status){var r=a.ErrorCode.DrmLicenseRequestFailed,n=d.get("Error_Drm_License_Request_Failed");r={mediaId:this._options.vid||"",error_code:r,error_msg:t.response};player.logError(r),r.display_msg=n,player.trigger(f.Player.Error,r)}else{try{i=this._options.isLive?JSON.parse(t.response).Response.B64ServCert:JSON.parse(JSON.parse(t.response).DRMCertInfo).b64ServCert}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}n=s.base64DecodeUint8Array(i),r=function(e,t){var i=t.target,r=(t=t.initData,s.arrayToString(t).split("skd://")[1].split("?")[0]),n=s.stringToArray(r);if(t=function(e,t,i){"string"==typeof t&&(t=stringToArray(t));var r=0,n=new ArrayBuffer(e.byteLength+4+t.byteLength+4+i.byteLength),o=new DataView(n);new Uint8Array(n,0,e.byteLength).set(e),r+=e.byteLength,o.setUint32(r,t.byteLength,!0),r+=4,e=new Uint16Array(n,r,t.length);return e.set(t),r+=e.byteLength,o.setUint32(r,i.byteLength,!0),r+=4,new Uint8Array(n,r,i.byteLength).set(i),new Uint8Array(n,0,n.byteLength)}(t,n,e),i.webkitKeys||(function(){if(!WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4"))throw"Key System not supported";keySystem="com.apple.fps.1_0"}(),i.webkitSetMediaKeys(new WebKitMediaKeys(keySystem))),!i.webkitKeys)throw"Could not create MediaKeys";if(n=i.webkitKeys.createSession("video/mp4",t),!n)throw"Could not create key session";n.contentId=r,g("webkitkeymessage",function(e){var t=this,i=e.target,r=e.message,n=new XMLHttpRequest,o=(e=(e.sessionId,n.responseType="text",n.session=i,n.addEventListener("load",function(e){e=e.target,t=this._options.isLive?JSON.parse(e.response).Response.B64License:JSON.parse(JSON.parse(e.response).License).b64License;var t=s.base64DecodeUint8Array(t);t=s.Uint8ArrayToString(t);"<ckc>"===t.substr(0,5)&&"</ckc>"===t.substr(-6)&&(t=t.slice(5,-6)),t=s.base64DecodeUint8Array(t),e.session.update(t)}.bind(this),!1),n.addEventListener("error",h,!1),btoa("spc="+s.base64EncodeUint8Array(r)+"&assetId="+encodeURIComponent(i.contentId))),{Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),AccessKeyId:t._options.accessKeyId,SecurityToken:t._options.securityToken,CertId:t._options.certId});t._options.isLive?(o.RegionId=t._options.region,o.Action="DescribeDRMLicense",o.Version="2016-11-01",o.CdmData=e,o.Type="fairplay",o.Domain=u.parseUrl(t._options.source).hostname):(o.region=t._options.region,o.Action="GetDRMLicense",o.Version="2017-03-21",o.VideoId=t._options.vid,o.CDMData=e,o.DRMType="FairPlay");var a,l;r="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(o,t._options.accessKeySecret,"POST"));for(l in i=t._options.isLive?"https://"+c.getLiveHostByRegion(t._options.region)+"/?"+r:"https://vod."+t._options.region+".aliyuncs.com/?"+r,n.open("POST",i,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o){var d;o.hasOwnProperty(l)&&(d=o[l],a=a?a+"&"+s.AliyunEncodeURI(l)+"="+s.AliyunEncodeURI(d):s.AliyunEncodeURI(l)+"="+s.AliyunEncodeURI(d))}n.send(a)}.bind(this),n),g("webkitkeyadded",v,n),g("webkitkeyerror",p,n)}.bind(this,n),this._fairPlayHandlers.onNeedKey=r,t=function(e){window.console.error("A video playback error occurred")}.bind(this),this._fairPlayHandlers.onError=t,this.tag.addEventListener("webkitneedkey",r,!1),this.tag.addEventListener("error",t,!1),this.tag.src=this._options.source}e&&e()}.bind(e,t),!1),o.addEventListener("error",function(e){window.console.error("Failed to retrieve the server certificate.")}.bind(e),!1),{Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),AccessKeyId:e._options.accessKeyId,SecurityToken:e._options.securityToken,CertId:e._options.certId});e._options.isLive?(l.RegionId=e._options.region,l.Action="DescribeDRMCertificate",l.Version="2016-11-01"):(l.region=e._options.region,l.Action="GetDRMCertInfo",l.Version="2017-03-21",l.VideoId=e._options.vid),t="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(l,e._options.accessKeySecret,"POST")),e=e._options.isLive?"https://"+c.getLiveHostByRegion(e._options.region)+"/?"+t:"https://vod."+e._options.region+".aliyuncs.com/?"+t;for(i in o.open("POST",e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l)l.hasOwnProperty(i)&&(r=l[i],n=n?n+"&"+s.AliyunEncodeURI(i)+"="+s.AliyunEncodeURI(r):s.AliyunEncodeURI(i)+"="+s.AliyunEncodeURI(r),__f__("log",r," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"));o.send(n)},t.exports.getRequestUrl=function(e,t){e={AccessKeyId:t._options.accessKeyId,Format:"JSON",Version:"2016-11-01",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),SecurityToken:t._options.securityToken,RegionId:t._options.region,Action:"DescribeDRMLicense",Type:"widevine",CdmData:e,Domain:u.parseUrl(t._options.source).hostname};var i=(t._options.widevineCertId&&(e.CertId=t._options.widevineCertId),"Signature="+s.AliyunEncodeURI(s.makeChangeSiga(e,t._options.accessKeySecret,"POST")));return{url:"https://"+c.getLiveHostByRegion(t._options.region)+"/?"+i,data:s.makeUTF8sort(e,"=","&"),jsonData:s.makeUTF8sort(e,"=","&","json")}},t.exports.postData=function(e,t){var i=s.randomUUID();i={AccessKeyId:t._options.accessKeyId,VideoId:t._options.vid,Format:"JSON",Version:"2017-03-21",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:i,SecurityToken:t._options.securityToken,region:t._options.region,Action:"GetDRMLicense",DRMType:"Widevine",CDMData:e},t._options.widevineCertId&&(i.CertId=t._options.widevineCertId),e="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(i,t._options.accessKeySecret,"POST"));return{url:"https://vod."+t._options.region+".aliyuncs.com/?"+e,data:s.makeUTF8sort(i,"=","&"),jsonData:s.makeUTF8sort(i,"=","&","json")}},t.exports.destroyFairPlay=function(){this._fairPlayHandlers.onNeedKey&&this.tag.removeEventListener("webkitneedkey",this._fairPlayHandlers.onNeedKey),this._fairPlayHandlers.onError&&this.tag.removeEventListener("error",this._fairPlayHandlers.onError),this._fairPlayHandlers={}}},{"../../lang/index":23,"../../lib/bufferbase64":25,"../../lib/constants":28,"../../lib/io":40,"../../lib/playerutil":46,"../../lib/ua":49,"../../lib/url":50,"../base/event/eventtype":70,"./signature":113,"./util":115}],108:[function(e,t,i){var r=e("../../lib/io"),n=e("../../lib/constants"),o=e("../../lib/data"),a=e("./util");t.exports.getDataByAuthInfo=function(e,t,i,s){e={playAuth:e.playAuth,requestId:e.requestId},r.get("https://api.h5video.shop/api/page/getMediaPlayInfo"+function(e){return e.requestId=o.guid(),Object.keys(e).reduce((function(t,i){return t+(t?"&":"?")+i+"="+encodeURIComponent(e[i])}),"")}(e),(function(e){if(e)if(e=JSON.parse(e),200!==e.httpStatusCode)s&&s({Code:n.ErrorCode.ServerAPIError,Message:e.httpStatusCode+"|"+e.code,sri:e.requestId});else{for(var r=e.data.PlayInfoList,o=[],l=r.length-1;0<=l;--l)"AUTO"===r[l].Definition&&(o=[r.splice(l,1)[0]]);var u,c=null;(c=(c=0===o.length?a.objectPlayerMessageSort(r,t):a.objectPlayerMessageSort(o)).map((function(e){return"m3u8"===e.format&&(e.Url=e.Url+"&_ext=.m3u8"),e})))&&i&&(u=e.data.VideoBase||{},i({videoId:u.VideoId,userId:u.UserId,requestId:e.requestId,urls:c,encryptUrlArr:[],thumbnailUrl:"",coverUrl:u.CoverURL,playInfoAry:r,textTracks:e.data.SubtitlesList}))}else s&&s(a.createError("\u8f7bSaaS\u670d\u52a1\u83b7\u53d6\u6570\u636e\u5931\u8d25"))}),(function(e){e&&"string"==typeof e&&-1<e.indexOf("Invalid CORS request")?s&&s({Code:n.ErrorCode.ServerAPIError,Message:e}):s&&s(a.createError("\u8f7bSaaS\u670d\u52a1\u83b7\u53d6\u6570\u636e\u5931\u8d25"))}))}},{"../../lib/constants":28,"../../lib/data":30,"../../lib/io":40,"./util":115}],109:[function(e,t,i){var r=e("./saasplayer"),n=e("./light"),o=e("../base/event/eventtype");e=r.extend({init:function(e,t){r.call(this,e,t),this.service=n,this.loadByLightSaas()}});e.prototype.loadByLightSaas=function(e){var t=this._options,i={playAuth:t.mediaAuth,defaultDefinition:t.defaultDefinition};this.log("STARTFETCHDATA",{it:"lightSaasPlayAuth",pa:{playAuth:t.mediaAuth}}),this.loadData(i,e)},e.prototype.replayByMediaAuth=function(e){this.trigger(o.Private.Error_Hide),this.tag&&(this.tag.pause(),this.tag.removeAttribute("src"),this.tag.load()),this.setTextTracks([]),this.trigger(o.Private.UserTrackReset),this._options.source="",this._options.mediaAuth=e,this._isError=!1,this._duration=0,this._options.cover="",this._vodRetryCount=0,this._clearTimeout(),this.loadByLightSaas(!0)},t.exports=e},{"../base/event/eventtype":70,"./light":108,"./saasplayer":112}],110:[function(e,t,i){var r=e("../../lib/io"),n=e("../../lib/constants"),o=e("./signature"),a=e("./util"),s=e("../../lang/index"),l=e("../../lib/ua"),u=function(e,t){for(var i="",r=(e.sort((function(e,i){return e=parseInt(e.width),i=parseInt(i.width),"desc"==t?i<e?-1:e<i?1:void 0:e<i?-1:i<e?1:void 0})),e.length),o=0;o<r;o++){var a=e[o],s=n.QualityLevels[a.definition],l=void 0===s?"":i==s?s+a.height:s;a.desc=l,i=s}};t.exports.getDataByAuthInfo=function(e,t,i,c){o.returnUTCDate(),o.randomUUID();var d=o.randomUUID();d={AccessKeyId:e.accessId,Action:"PlayInfo",MediaId:e.vid,Formats:e.format,AuthInfo:e.authInfo,AuthTimeout:e.authTimeout||n.AuthKeyExpired,IncludeSnapshotList:e.includeSnapshotList,Rand:e.rand,SecurityToken:e.stsToken,Format:"JSON",Version:"2014-06-18",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Terminal:l.IS_CHROME?"Chrome":l.IS_EDGE?"Edge":l.IS_IE11?"IE":l.IS_SAFARI?"Safari":l.IS_FIREFOX?"Firefox":"",SignatureNonce:d},e.hlsUriToken&&(e.MtsHlsUriToken=e.hlsUriToken),e.playConfig&&(d.PlayConfig=JSON.stringify(e.playConfig)),d=o.makeUTF8sort(d,"=","&")+"&Signature="+o.AliyunEncodeURI(o.makeChangeSiga(d,e.accessSecret)),e="https://mts."+e.domainRegion+".aliyuncs.com/?"+d;r.get(e,(function(e){var r,o,s;e?(r=(e=JSON.parse(e)).PlayInfoList.PlayInfo,o="",(s=e.SnapshotList?e.SnapshotList.Snapshot:[])&&0<s.length&&(o=s[0].Url),s=function(e,t){for(var i=[],r=[],o=[],a=[],s=e.length-1;0<=s;s--){var l=e[s];("mp4"==l.format?r:"mp3"==l.format?o:"m3u8"==l.format?i:a).push(l)}return 0<o.length?(function(e,t){for(var i="",r=(e.sort((function(e,i){return e=parseInt(e.bitrate),i=parseInt(i.bitrate),"desc"==t?i<e?-1:e<i?1:void 0:e<i?-1:i<e?1:void 0})),e.length),o=0;o<r;o++){var a=e[o],s=n.QualityLevels[a.definition],l=void 0===s?a.bitrate:i==s?s+a.bitrate:s;a.desc=l,i=s}}(o,t),o):0<r.length?(u(r,t),r):0<i.length?(u(i,t),i):(u(a,t),a)}(r,t),i&&i({requestId:e.RequestId,urls:s,thumbnailUrl:o})):c&&c(a.createError("MPS\u83b7\u53d6\u53d6\u6570\u5931\u8d25"))}),(function(e){if(c){var t={Code:"",Message:s.get("Error_MTS_Fetch_Urls_Text")};try{t=JSON.parse(e)}catch(e){}c({Code:n.ErrorCode.ServerAPIError,Message:t.Code+"|"+t.Message,sri:t.RequestId||""})}}))}},{"../../lang/index":23,"../../lib/constants":28,"../../lib/io":40,"../../lib/ua":49,"./signature":113,"./util":115}],111:[function(e,t,i){var r=e("./saasplayer"),n=(e("../../lib/constants"),e("./mts"));e=r.extend({init:function(e,t){r.call(this,e,t),this.service=n,this.loadByMts()}});e.prototype.loadByMts=function(e){var t={vid:this._options.vid,accessId:this._options.accId,accessSecret:this._options.accSecret,stsToken:this._options.stsToken,domainRegion:this._options.domainRegion,authInfo:this._options.authInfo,format:this._options.format,includeSnapshotList:this._options.includeSnapshotList||!1,defaultDefinition:this._options.defaultDefinition,authTimeout:this._options.authTimeout,hlsUriToken:this._options.hlsUriToken,playConfig:this._options.playConfig};this.loadData(t,e)},e.prototype.replayByVidAndAuthInfo=function(e,t,i,r,n,o){this.trigger("error_hide"),this._options.source="",this._isError=!1,this._duration=0,this._options.cover="",this._vodRetryCount=0,this._clearTimeout(),this.reloadNewVideoInfo(e,t,i,r,n,o)},e.prototype.reloadNewVideoInfo=function(e,t,i,r,n,o){if(this.trigger("error_hide"),this._options.source="",e&&(this._options.vid=e,this._options.accId=t,this._options.accessSecret=i,this._options.stsToken=r,this._options.domainRegion=o,this._options.authInfo=n),!(this._options.vid&&this._options.accId&&this._options.accessSecret&&this._options.stsToken&&this._options.domainRegion&&this._options.authInfo))throw new Error("\u9700\u8981\u63d0\u4f9bvid\u3001accId\u3001accessSecret\u3001stsToken\u3001domainRegion\u548cauthInfo\u53c2\u6570");this.log("STARTFETCHDATA",{it:"mps",pa:{vid:e}}),this.loadByMts(!0)},t.exports=e},{"../../lib/constants":28,"./mts":110,"./saasplayer":112}],112:[function(e,t,i){var r=e("../base/player"),n=e("../audio/audioplayer"),o=(e("../../lib/event"),e("../../lib/io")),a=e("../../lib/constants"),s=e("./signature"),l=e("./authkeyexpiredhandle"),u=e("../hls/hlsinjector"),c=e("../flv/flvinjector"),d=e("../drm/drminjector"),f=(e("../../lib/cookie"),e("../../lang/index")),h=e("../../lib/ua"),p=e("../../config"),v=e("../../lib/playerutil"),g=e("../base/event/eventtype"),y=e("../../protected/anti-injector-protected"),m=r.extend({init:function(e,t){y(t,this),this._authKeyExpiredHandle=new l(this),r.prototype._videoCreateEl||(r.prototype._videoCreateEl=r.prototype.createEl),"mp3"==t.format?(t.height="auto",t.mediaType="audio",r.prototype.createEl=n.prototype.createEl,n.call(this,e,t),m.prototype.play=r.prototype.play,m.prototype.pause=r.prototype.pause,m.prototype.initPlay=r.prototype.initPlay,m.prototype.replay=r.prototype.replay,m.prototype.stop=r.prototype.stop,m.prototype.seek=r.prototype.seek):(r.prototype.createEl=r.prototype._videoCreateEl,t._native=!1,r.call(this,e,t))}});m.prototype.loadData=function(e,t){var i,r,n;"undefined"!=typeof _sce_r_skjhfnck||""!=e.format&&"m3u8"!=e.format&&1!=this._options.encryptType?this._loadData(e,t):(i="aliplayer-vod-min.js","",r=p.domain?"https://"+p.domain+"/de/prismplayer/"+p.h5Version+"/hls/"+i:"/build/hls/"+i,n=this,o.loadJS(r,(function(){n._loadData(e,t)})))},m.prototype._loadData=function(e,t){var i,n=(new Date).getTime(),o=this;this._urls=[],this._currentPlayIndex=0,this._retrySwitchUrlCount=0,this._authKeyExpiredHandle.clearTick(),""!=e.format&&"m3u8"!=e.format||1!=this._options.encryptType?e.rand=s.randomUUID():(i=_sce_r_skjhfnck(),e.rand=_sce_lgtcaygl(i,o._vdnct6f)),this._options.thumbnailUrl&&(e.thumbnailUrl=this._options.thumbnailUrl),this.trigger(g.Private.H5_Loading_Show),this.service.getDataByAuthInfo(e,this._options.qualitySort,(function(s){if(o.trigger(g.Private.PlayInfoLoaded,s),s.userId&&(o._options.from=s.userId),s.videoId&&o._monitor&&o._monitor.updateLightSaasVideoId(s.videoId),s.textTracks&&s.textTracks.length&&(l=v.unqiueTextTracks(s.textTracks),o.trigger(g.Private.TextTrackFounded,{from:"saas",textTracks:l})),s.urls&&0==s.urls.length)o._mtsError_message(o,{Code:a.ErrorCode.URLsIsEmpty,Message:f.get("Error_Vod_URL_Is_Empty_Text")+(e.format?"(format:"+e.format+")":"")},"");else{o.log("COMPLETEFETCHDATA",{cost:(new Date).getTime()-n,mi:JSON.stringify(function(e){for(var t=[],i=0;i<e.length;i++)t.push({width:e[i].width,height:e[i].height,definition:e[i].definition,format:e[i].format,encryptionType:e[i].encryptionType,duration:e[i].duration});return t}(s.urls))}),o._urls=s.urls,o._currentPlayIndex=v.findSelectedStreamLevel(o._urls,e.defaultDefinition);var l=(p=s.urls[o._currentPlayIndex]).Url;if(o._vodDuration=p.duration||0,o._options.source=l,o.encType="",o.trigger(g.Private.PREPARE,p.definition),o.UI.cover&&s.coverUrl&&!o._options.cover&&o.setCover(s.coverUrl),v.isHls(l))if(s&&s.playInfoAry&&0<s.playInfoAry.length&&"Widevine-FairPlay"==s.playInfoAry[0].EncryptType)d.inject(o,m,r.prototype,o._options);else{if(s.encryptUrlArr&&0<s.encryptUrlArr.length)for(var p,y,_=[],b=0;b<s.encryptUrlArr.length;++b)(p=s.encryptUrlArr[b]).encryptionType===a.EncryptionType.Private&&(y=_sce_dlgtqred(i,p.rand,p.plaintext),_.push({url:p.Url,secData:y}));else if(ecData="",p.encryptionType==a.EncryptionType.Private){o.encType=p.encryptionType;var S=v.checkSecuritSupport();if(S)return void o._mtsError_message(o,{Code:a.ErrorCode.EncrptyVideoNotSupport,Message:S,display_msg:S},"");_=_sce_dlgtqred(i,p.rand,p.plaintext)}o._hls&&(o._hls.destroy(),o._hls=null),u.inject(o,m,r,o._options,_)}else v.isFlv(l)?c.inject(o,m,r,o._options):v.isDash(l)?(__f__("log","isDash"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),d.inject(o,m,r,o._options)):o._player._executeReadyCallback();o._authKeyExpiredHandle.tick(a.AuthKeyRefreshExpired),o.trigger(g.Private.SourceLoaded,p),o.initPlay(t),o.trigger(g.Private.ChangeURL,{from:"saas"}),s.thumbnailUrl&&o._thumbnailService.get(s.thumbnailUrl),S=o._player._isFlv,l=-1<o._player.getOptions().source.indexOf("mp4"),1==o._player.encType||S||l||(h.IS_IOS||h.IS_MAC_SAFARI||h.IS_X5||h.IS_EDGE)&&(o._player._executeReadyCallback(),o._urls.length)&&o.trigger(g.Private.SourceLoaded,p)}}),(function(e){o._mtsError_message(o,e,"")}))},m.prototype._changeStream=function(e,t){this._urls.length>e&&(this._loadByUrlInner(this._urls[e].Url,this.getCurrentTime(),!0),this._currentPlayIndex=e,this.trigger(g.Private.QualityChange,t||f.get("Quality_Change_Fail_Switch_Text")))},m.prototype._getLowerQualityLevel=function(){if(0!=this._urls.length&&-1!=this._currentPlayIndex)if("asc"==this.options().qualitySort){if(0<this._currentPlayIndex)return{item:this._urls[this._currentPlayIndex-1],index:this._currentPlayIndex-1}}else if(this._currentPlayIndex<this._urls.length-1)return{item:this._urls[this._currentPlayIndex+1],index:this._currentPlayIndex+1};return""},m.prototype._mtsError_message=function(e,t,i){e._serverRequestId=t.sri,e.trigger(g.Private.H5_Loading_Hide);var r=t.Code||"OTHER_ERR_CODE",n=t.Message||"OTHER_ERR_MSG",o=(a.ErrorCode.ServerAPIError,t.display_msg||""),s=(-1<n.indexOf("InvalidParameter.Rand")||-1<n.indexOf('"Rand" is not valid.')?(a.ErrorCode.EncrptyVideoNotSupport,o=f.get("Error_Not_Support_encrypt_Text")):-1<n.indexOf("SecurityToken.Expired")?(a.ErrorCode.AuthKeyExpired,o=f.get("Error_Playauth_Expired_Text")):-1<n.indexOf("InvalidVideo.NoneStream")?(a.ErrorCode.URLsIsEmpty,o=f.get("Error_Fetch_NotStream")+"("+e._options.format+"|"+e._options.definition+")"):-1<n.indexOf("DataNotFound")&&(a.ErrorCode.MediaNotFound,o=f.get("Error_Fetch_Media_Not_Found")),e._options.vid||"");e._options.from,s={mediaId:s,mediaAuth:e._options.mediaAuth||"",error_code:r,error_msg:n};t.sri&&(s.sri=t.sri),e.logError(s),s.display_msg=(o||f.get("Error_Vod_Fetch_Urls_Text"))+"</br>"+n,e.trigger("error",s),__f__("log","PrismPlayer Error: "+i+"! error_msg :"+n+";"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")},t.exports=m},{"../../config":14,"../../lang/index":23,"../../lib/constants":28,"../../lib/cookie":29,"../../lib/event":33,"../../lib/io":40,"../../lib/playerutil":46,"../../lib/ua":49,"../../protected/anti-injector-protected":129,"../audio/audioplayer":68,"../base/event/eventtype":70,"../base/player":91,"../drm/drminjector":97,"../flv/flvinjector":100,"../hls/hlsinjector":102,"./authkeyexpiredhandle":106,"./signature":113}],113:[function(e,t,r){var n=e("crypto-js/hmac-sha1"),o=e("crypto-js/enc-base64"),a=e("crypto-js/enc-utf8");t.exports.randomUUID=function(){for(var e=[],t="0123456789abcdef",i=0;i<36;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},t.exports.returnUTCDate=function(){var e=new Date,t=e.getUTCFullYear(),i=e.getUTCMonth(),r=e.getUTCDate(),n=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds();e=e.getUTCMilliseconds();return Date.UTC(t,i,r,n,o,a,e)},t.exports.AliyunEncodeURI=function(e){return e=encodeURIComponent(e),(e=(e=e.replace("+","%2B")).replace("*","%2A")).replace("%7E","~")},t.exports.makesort=function(e,t,i){if(!e)throw new Error("PrismPlayer Error: vid should not be null!");var r=[];for(s in e)r.push(s);for(var n=r.sort(),o="",a=n.length,s=0;s<a;s++)""==o?o=n[s]+t+e[n[s]]:o+=i+n[s]+t+e[n[s]];return o},t.exports.makeUTF8sort=function(e,i,r){if(!e)throw new Error("PrismPlayer Error: vid should not be null!");var n=[];for(l in e)n.push(l);for(var o=n.sort(),a="",s=o.length,l=0;l<s;l++){var u=t.exports.AliyunEncodeURI(o[l]),c=t.exports.AliyunEncodeURI(e[o[l]]);""==a?a=u+i+c:a+=r+u+i+c}return a},t.exports.makeChangeSiga=function(e,i,r){if(e)return o.stringify(n((r=r||"GET")+"&"+t.exports.AliyunEncodeURI("/")+"&"+t.exports.AliyunEncodeURI(t.exports.makeUTF8sort(e,"=","&")),i+"&"));throw new Error("PrismPlayer Error: vid should not be null!")},t.exports.ISODateString=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"},t.exports.encPlayAuth=function(e){if(e=a.stringify(o.parse(e)))return JSON.parse(e);throw new Error("playuth\u53c2\u6570\u89e3\u6790\u4e3a\u7a7a")},t.exports.encRsa=function(){},t.exports.stringToArray=function(e){for(var t=new ArrayBuffer(2*e.length),i=new Uint16Array(t),r=0,n=e.length;r<n;r++)i[r]=e.charCodeAt(r);return i},t.exports.Uint8ArrayToString=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},t.exports.arrayToString=function(e){return e=new Uint16Array(e.buffer),String.fromCharCode.apply(null,e)},t.exports.base64DecodeUint8Array=function(e){var t=window.atob(e),r=t.length,n=new Uint8Array(new ArrayBuffer(r));for(i=0;i<r;i++)n[i]=t.charCodeAt(i);return n},t.exports.base64EncodeUint8Array=function(e){for(var t,i,r,n,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;u<e.length;)r=(t=e[u++])>>2,n=(3&t)<<4|(t=u<e.length?e[u++]:Number.NaN)>>4,o=(15&t)<<2|(i=u<e.length?e[u++]:Number.NaN)>>6,a=63&i,isNaN(t)?o=a=64:isNaN(i)&&(a=64),l+=s.charAt(r)+s.charAt(n)+s.charAt(o)+s.charAt(a);return l}},{"crypto-js/enc-base64":3,"crypto-js/enc-utf8":4,"crypto-js/hmac-sha1":5}],114:[function(e,t,i){var r=e("../../lib/io"),n=e("../../lib/constants"),o=e("./signature"),a=e("./util"),s=e("../../lang/index");t.exports.getPlayAuth=function(e,t,i,l){o.randomUUID();var u=o.randomUUID();u={AccessKeyId:e.accessKeyId,Action:"GetVideoPlayAuth",VideoId:e.vid,AuthTimeout:n.AuthInfoExpired,SecurityToken:e.securityToken,Format:"JSON",Version:"2017-03-21",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:u},u=o.makeUTF8sort(u,"=","&")+"&Signature="+o.AliyunEncodeURI(o.makeChangeSiga(u,e.accessKeySecret)),e="https://vod."+e.region+".aliyuncs.com/?"+u;r.get(e,(function(e){e?(e=JSON.parse(e),t&&t(e.PlayAuth)):i&&i(a.createError("\u83b7\u53d6\u89c6\u9891\u64ad\u653e\u51ed\u8bc1\u5931\u8d25"))}),(function(e){if(i){var t={Code:"",Message:s.get("Fetch_Playauth_Error")};try{(t=JSON.parse(e)).Code}catch(e){}i({Code:n.ErrorCode.ServerAPIError,Message:t.Code+"|"+t.Message,sri:t.RequestId,display_msg:s.get("Fetch_Playauth_Error",l)})}}))}},{"../../lang/index":23,"../../lib/constants":28,"../../lib/io":40,"./signature":113,"./util":115}],115:[function(e,t,i){var r=e("../../lib/constants");t.exports.createError=function(e,t){return{requestId:"",code:t||"",message:e}},t.exports.getItem=function(e){var t={};return t.width=e.Width,t.height=e.Height,t.definition=e.Definition,t.Url=e.PlayURL,t.format=e.Format,t.desc=r.QualityLevels[t.definition],t.encryptionType=r.VodEncryptionType[e.EncryptType],t.plaintext=e.Plaintext,t.rand=e.Rand,t.encrypt=e.Encrypt,t.duration=e.Duration,t.bitrate=e.Bitrate,t},t.exports.objectPlayerMessageSort=function(e,i){for(var r=[],n=[],o=[],a=[],s=e.length-1;0<=s;s--){var l=e[s];l=t.exports.getItem(l);("mp4"==l.format?n:"mp3"==l.format?o:"m3u8"==l.format?r:a).push(l)}var u=[];u=0<o.length?o:0<n.length?n:0<r.length?r:a;return"asc"==i&&u.reverse(),u}},{"../../lib/constants":28}],116:[function(e,t,i){var r=e("../../lib/io"),n=e("../../lib/constants"),o=e("./signature"),a=e("./util"),s=e("../../config"),l=e("../../lang/index");t.exports.getDataByAuthInfo=function(e,t,i,u){o.randomUUID();var c=o.randomUUID();c={AccessKeyId:e.accessId,Action:"GetPlayInfo",VideoId:e.vid,Formats:e.format,AuthTimeout:e.authTimeout||n.AuthKeyExpired,Rand:e.rand,SecurityToken:e.stsToken,StreamType:e.mediaType,Format:"JSON",Version:"2017-03-21",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:c,PlayerVersion:s.h5Version,Channel:"HTML5"},"AUTO"===e.definition?c.ResultType="Multiple":e.definition&&(c.Definition=e.definition),e.authInfo&&(c.AuthInfo=e.authInfo),e.outputType&&(c.OutputType=e.outputType),e.playConfig&&(c.PlayConfig=JSON.stringify(e.playConfig)),e.reAuthInfo&&(c.ReAuthInfo=JSON.stringify(e.reAuthInfo)),c=o.makeUTF8sort(c,"=","&")+"&Signature="+o.AliyunEncodeURI(o.makeChangeSiga(c,e.accessSecret)),c="https://vod."+e.domainRegion+".aliyuncs.com/?"+c;r.get(c,(function(r){if(r){r=JSON.parse(r);for(var n="",o=r.VideoBase.ThumbnailList,s=(o&&o.Thumbnail&&0<o.Thumbnail.length?n=o.Thumbnail[0].URL:e.thumbnailUrl&&(n=String(e.thumbnailUrl)),r.PlayInfoList.PlayInfo),l=[],c=[],d=s.length-1;0<=d;--d)"AUTO"===s[d].Definition?l=[s.splice(d,1)[0]]:1===s[d].Encrypt&&c.push(s[d]);o=null,c=0===l.length?(o=a.objectPlayerMessageSort(s,t),[]):(o=a.objectPlayerMessageSort(l),a.objectPlayerMessageSort(c)),o&&i&&i({requestId:r.RequestId,urls:o,encryptUrlArr:c,thumbnailUrl:n,coverUrl:r.VideoBase.CoverURL,playInfoAry:s})}else u&&u(a.createError("\u70b9\u64ad\u670d\u52a1\u83b7\u53d6\u6570\u636e\u5931\u8d25"))}),(function(e){if(u){var t={Code:"",Message:l.get("Error_Vod_Fetch_Urls_Text")};try{t=JSON.parse(e)}catch(e){}u({Code:n.ErrorCode.ServerAPIError,Message:t.Code+"|"+t.Message,sri:t.RequestId||""})}}))}},{"../../config":14,"../../lang/index":23,"../../lib/constants":28,"../../lib/io":40,"./signature":113,"./util":115}],117:[function(e,t,i){var r=e("./saasplayer"),n=e("../../lib/constants"),o=e("./vod"),a=e("./signature"),s=(e("./authkeyexpiredhandle"),e("./ststoken"),e("../../lib/io")),l=e("../../config");e=r.extend({init:function(e,t){r.call(this,e,t),this.service=o,this.loadByVod()}});e.prototype.loadByVod=function(e){var t,i,r;"undefined"!=typeof _pa_n4lto7xi?this._loadByVod(e):(t="aliplayer-vod-p-min.js","",i=l.domain?"https://"+l.domain+"/de/prismplayer/"+l.h5Version+"/hls/"+t:"/build/hls/"+t,r=this,s.loadJS(i,(function(){r._loadByVod(e)})))},e.prototype._loadByVod=function(e){var t="",i="",r="",o="",s="";if(this._options.accessKeyId&&this._options.accessKeySecret)t=this._options.accessKeyId,i=this._options.accessKeySecret,r=this._options.securityToken,o=this._options.region,this.log("STARTFETCHDATA",{it:"sts",pa:{vid:this._options.vid}});else{try{var l=_pa_n4lto7xi(this._options.playauth),u=(this._options.playauth!==l&&(this._vdnct6f=!0),a.encPlayAuth(l));t=u.AccessKeyId,i=u.AccessKeySecret,r=u.SecurityToken,o=u.Region,s=u.AuthInfo}catch(e){__f__("log","e",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");var c={Code:n.ErrorCode.PlayauthDecode,Message:"playauth decoded failed.",displayMessage:"playauth\u89e3\u6790\u9519\u8bef"};return void this._mtsError_message(this,c,l)}this._options.from=u.CustomerId||"",this.log("STARTFETCHDATA",{it:"playAuth",pa:{vid:this._options.vid}})}this._loadByVodBySTS(t,i,r,o,s,e)},e.prototype.replayByVidAndPlayAuth=function(e,t){this.trigger("error_hide"),this._options.source="",this._options.vid=e,this._options.playauth=t,this._isError=!1,this._duration=0,this._options.cover="",this._vodRetryCount=0,this._clearTimeout(),this.loadByVod(!0)},e.prototype.updateSourcesByVidAndPlayAuth=function(e,t){var i,r,n;"undefined"!=typeof _pa_n4lto7xi?this._updateSourcesByVidAndPlayAuth(e,t):(i="aliplayer-vod-p-min.js","",r=l.domain?"https://"+l.domain+"/de/prismplayer/"+l.h5Version+"/hls/"+i:"/build/hls/"+i,n=this,s.loadJS(r,(function(){n._updateSourcesByVidAndPlayAuth(e,t)})))},e.prototype._updateSourcesByVidAndPlayAuth=function(e,t){if(e!=this._options.vid)__f__("log","\u4e0d\u80fd\u66f4\u65b0\u5730\u5740\uff0cvid\u548c\u64ad\u653e\u4e2d\u7684\u4e0d\u4e00\u81f4"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");else{this._options.vid=e,this._options.playauth=t;try{var i=_pa_n4lto7xi(this._options.playauth),r=(this._options.playauth!==i&&(this._vdnct6f=!0),a.encPlayAuth(i))}catch(e){return void __f__("log","playauth\u89e3\u6790\u9519\u8bef"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}t={vid:e,accessId:r.AccessKeyId,accessSecret:r.AccessKeySecret,stsToken:r.SecurityToken,domainRegion:r.Region,authInfo:r.AuthInfo,playDomain:r.PlayDomain,format:this._options.format,mediaType:this._options.mediaType};var o=(this._authKeyExpiredHandle.clearTick(),this);this.service.loadData(t,this._options.qualitySort,(function(e){o._serverRequestId=e.requestId,0!=e.urls.length&&(o._urls=e.urls),o._authKeyExpiredHandle.tick(n.AuthKeyRefreshExpired)}),(function(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}))}},e.prototype.reloaduserPlayInfoAndVidRequestMts=function(e,t){this.replayByVidAndPlayAuth(e,t,accessSecret)},e.prototype._loadByVodBySTS=function(e,t,i,r,n,o){e={vid:this._options.vid,accessId:e,accessSecret:t,stsToken:i,authInfo:n,domainRegion:r,format:this._options.format,mediaType:this._options.mediaType,definition:this._options.definition,defaultDefinition:this._options.defaultDefinition,authTimeout:this._options.authTimeout,outputType:this._options.outputType,playConfig:this._options.playConfig,reAuthInfo:this._options.reAuthInfo},this.loadData(e,o)},t.exports=e},{"../../config":14,"../../lib/constants":28,"../../lib/io":40,"./authkeyexpiredhandle":106,"./saasplayer":112,"./signature":113,"./ststoken":114,"./vod":116}],118:[function(e,t,i){function r(e){this._player=e,this._video=e.tag;var t=this;this._isCreated=!1,this._canPlayTriggered=!1,this._defaultTrack="",e.on(n.Private.ChangeURL,(function(){t._isCreated=!1,t._canPlayTriggered=!1,t._defaultTrack=""})),e.on(n.Player.CanPlay,(function(){var i;t._player._drm||t._canPlayTriggered||((i=t._getTracks())&&(t._isCreated=!0,t._player._options.isVBR||t._hls||(e.trigger(n.Player.AudioTrackReady,i),t._notifyDefaultValue(i))),t._canPlayTriggered=!0)})),e.on(n.Player.AudioTrackUpdated,(function(i){t._isCreated||(i=t._getTracks(i.paramData.audioTracks))&&(t._isCreated=!0,e.trigger(n.Player.AudioTrackReady,i),t._notifyDefaultValue(i))}))}var n=e("../base/event/eventtype");r.prototype._notifyDefaultValue=function(e){!this._defaultTrack&&0<e.length&&(this._defaultTrack=e[0]),this._defaultTrack&&this._player.trigger(n.Private.SelectorUpdateList,{type:"audio",text:this._defaultTrack.text})},r.prototype.support=function(){return!!this._video.audioTracks},r.prototype._getTracks=function(e){if(!this.support()&&!e)return null;for(var t=[],i=(e=!this._video||!this._video.audioTracks||e&&0!=e.length?e:this._video.audioTracks)?e.length:0,r=0;r<i;r++){var n=e[r],o={value:n.id,text:n.label||n.name||n.language};(n.default||n.enabled)&&(this._defaultTrack=o),t.push(o)}return t},r.prototype.switch=function(e){if(this._player._hls)this._player._hls.audioTrack=+e;else for(var t=this._video.audioTracks?this._video.audioTracks.length:0,i=0;i<t;i++){var r=this._video.audioTracks[i];r.id==e?r.enabled=!0:r.enabled=!1}},r.prototype.dispose=function(){this._player=null},t.exports=r},{"../base/event/eventtype":70}],119:[function(e,t,i){function r(e){this._video=e.tag,this._player=e,this._isCreated=!1,this._backupCC="",this.tracks=[],this._defaultTrack="",this._currentValue="",this._switchTimer=null,this._storedTracks=[];var t=this,i=(e.on(n.Player.LevelsLoaded,(function(e){if(a.IS_MAC_SAFARI||a.IS_IOS)if(e&&e.paramData&&e.paramData.subtitles&&e.paramData.subtitles.length){for(var i=e.paramData.subtitles||[],r=[],n=0;n<i.length;n++){var o=i[n];o.vttUrl=o.url&&o.url.replace(".m3u8",".vtt"),r.push(o)}t._storedTracks=r}else t._resotreTracks()})),e.on(n.Private.SafariDrmLevelSwitch,(function(){t._resotreTracks()})),e.on(n.Private.ChangeURL,(function(e){e&&e.paramData&&"saas"===e.paramData.from||(t._disabledTracks(),t._isCreated=!1,t._defaultTrack="",t._backupCC="")})),e.on(n.Private.VttClearTracks,(function(){t.switch("off"),t._disabledTracks(),t._isCreated=!1,t._defaultTrack={value:"off",text:"Off"},t.tracks=[t._defaultTrack],e.trigger(n.Private.SelectorGenerateList,{type:"cc"}),e.trigger(n.Private.CCStateChanged,{value:"off",lang:""})})),e.on(n.Player.CanPlay,(function(){t._isCreated||(t.tracks=t._getTracks(),e.trigger(n.Player.TextTrackReady,t.tracks),e.trigger(n.Private.CCReset)),t._isCreated&&!t._player._setDefaultCC||!t._defaultTrack||(e.trigger(n.Private.SelectorUpdateList,{type:"cc",text:t._defaultTrack.text}),t.switch(t._defaultTrack.value),t._player._setDefaultCC=!1,t._isCreated=!0)})),a.os.ios&&parseFloat(a.os.version)<=15.1&&o.addCssByStyle("video::-webkit-media-text-track-container{position: relative; top: -44px !important;}"),"always"===e.getOptions().controlBarVisibility&&o.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY(-44px);}"),u.throttle((function(){e._vttBroker&&e._vttBroker.enabled||o.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY(-44px);}")}),100));e.on(n.Private.ShowBar,i),i=u.throttle((function(){e._vttBroker&&e._vttBroker.enabled||o.addCssByStyle("video::-webkit-media-text-track-container{transform: none;}")}),100);e.on(n.Private.HideBar,i),e.on(n.Private.CCReset,(function(){t._updateSelectorList()}))}var n=e("../base/event/eventtype"),o=(e("../../lib/event"),e("../../lib/dom")),a=e("../../lib/ua"),s=e("../../lib/cookie"),l=e("../../lib/constants"),u=e("../../ui/component/util");r.prototype._adaptiveCueStype=function(){var e,t=-10;a.IS_SAFARI?(t=-65,(e=this._player.fullscreenService)&&e.getIsFullScreen()&&(t=-95)):a.IS_MOBILE&&(t=-30),o.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY("+t+"px) !important;}")},r.prototype.close=function(){for(var e=this.getTextTracks(),t=e.length,i=0;i<t;i++){var r=e[i];"expired"!=r.mode&&("showing"==r.mode&&(this._backupCC=r),r.mode="disabled")}this._player.trigger(n.Private.VttHide)},r.prototype.open=function(){var e,t,i;return!this.tracks||this.tracks.length<2||(t=this._backupCC?this._backupCC.language:"",i=this._backupCC?this._backupCC.label:"",this.tracks.forEach((function(i){t===i.value&&(e=!0)})),(t=e?t:i="")||(t=this.tracks[1].value,i=this.tracks[1].text),this.switch(t)),{label:i,language:t}},r.prototype.getCurrentSubtitle=function(){return this._currentValue},r.prototype._getTracks=function(){for(var e=this.getTextTracks(),t=e.length,i=(this._defaultTrack={value:"off",text:"Off"},[this._defaultTrack]),r=s.get(l.SelectedCC),n="",o=!1,a=0;a<t;a++){var u,c=e[a];"expired"==c.mode||"subtitles"!=c.kind&&"captions"!=c.kind||(u={value:c.language,text:c.label},c.default&&(this._defaultTrack=u,o=!0),u.value==r&&(n=u),i.push(u))}return!o&&n&&(this._defaultTrack=n),i},r.prototype._disabledTracks=function(){for(var e=this.getTextTracks(),t=e.length,i=0;i<t;i++)e[i].mode="expired"},r.prototype.switch=function(e){var t=this._player;if(this.close(),"off"!=e)for(var i=this.getTextTracks(),r=i.length,o=0;o<r;o++){var a=i[o];a.language===e&&"expired"!=a.mode&&(i[o].mode="showing",t.trigger(n.Private.VttSwitchTrack,a.language))}else this.close();this._currentValue=e,t.trigger(n.Private.CCChanged,e)},r.prototype.updateUI=function(e){var t,i="on";t=e?(this.tracks.find((function(t){return t.value===e}))||{}).text||"":(i="off","Off"),player.trigger(n.Private.CCChanged,i),player.trigger(n.Private.CCStateChanged,{value:i,lang:t})},r.prototype.dispose=function(){this._player=null,this._switchTimer&&(clearTimeout(this._switchTimer),this._switchTimer=null)},r.prototype._patchSafariTracks=function(){var e=this;if(a.IS_MAC_SAFARI||a.IS_IOS){if(!(this._video&&this._video.textTracks&&this._video.textTracks.length)){var t=!1;if(t=!(!this._video.textTracks||!this._video.textTracks.length)||t)return;for(var i=0;i<this._storedTracks.length;i++){var r=this._storedTracks[i],n=r.vttUrl,o=document.createElement("track");o.src=n,o.kind="subtitles",o.label=r.name,o.srclang=r.lang,this._video.appendChild(o)}}this._switchTimer&&clearTimeout(this._switchTimer),this._switchTimer=setTimeout((function(){var t=e.getCurrentSubtitle();t&&"off"!==t&&e.switch(t)}),1e3)}},r.prototype.getTextTracks=function(){var e=this._player,t=e.tag;return e._vttBroker&&e._vttBroker.enabled&&e.getTextTracks?e.getTextTracks()||[]:t&&t.textTracks||[]},r.prototype._updateSelectorList=function(){var e=this._player;this.tracks=this._getTracks(),e.trigger(n.Private.SelectorGenerateList,{type:"cc",value:"Off"})},r.prototype._resotreTracks=function(){this._patchSafariTracks(),this.tracks=this._getTracks(),this._player.trigger(n.Player.TextTrackReady,this.tracks)},t.exports=r},{"../../lib/constants":28,"../../lib/cookie":29,"../../lib/dom":32,"../../lib/event":33,"../../lib/ua":49,"../../ui/component/util":159,"../base/event/eventtype":70}],120:[function(e,t,i){var r=e("../../lib/playerutil");t.exports=[{service:e("./ccservice"),name:"_ccService",condition:!0},{service:e("./audiotrackservice"),name:"_audioTrackService"},{service:e("./qualityservice"),name:"_qualityService"},{service:e("./fullscreenservice"),name:"fullscreenService",condition:function(){return!0}},{service:e("./liveshiftservice"),name:"_liveshiftService",condition:function(){var e=this.options();return r.isLiveShift(e)}},{service:e("./thumbnailservice"),name:"_thumbnailService",condition:function(){return!0}},{service:e("./progressmarkerservice"),name:"_progressMarkerService",condition:function(){return!0}}]},{"../../lib/playerutil":46,"./audiotrackservice":118,"./ccservice":119,"./fullscreenservice":121,"./liveshiftservice":122,"./progressmarkerservice":123,"./qualityservice":124,"./thumbnailservice":125}],121:[function(e,t,i){function r(e){this.isFullWindow=!1,this.isFullScreen=!1,this.isFullScreenChanged=!1,this._requestFullScreenTimer=null,this._cancelFullScreenTimer=null,this._player=e;var t=this,i=l;this._fullscreenChanged=function(e){var r;null!=t._player&&(e.target||e.srcElement)===(e=t._player.el())&&(r=document[i.fullscreenElement],t.isFullScreen=r===e,(t.isFullScreenChanged=!0)===t.isFullScreen?t._player.trigger(s.Player.RequestFullScreen):t._player.trigger(s.Player.CancelFullScreen))},i&&a.on(document,i.eventName,this._fullscreenChanged)}var n=e("../../lib/ua"),o=e("../../lib/dom"),a=e("../../lib/event"),s=e("../base/event/eventtype"),l=(e("../base/x5play"),e("../../lang/index"),function(){o.createEl("div");var e={},t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullScreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","webkitfullScreen"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","webkitIsFullScreen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","mozFullScreen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","MSFullScreen"]],i=!1;if(!(i=!(!n.IS_IOS||(e.requestFn="webkitEnterFullscreen",e.cancelFn="webkitExitFullscreen",e.fullscreenElement="webkitFullscreenElement",e.eventName="webkitfullscreenchange",e.isFullScreen="webkitDisplayingFullscreen",!document[e.requestFn]))||i)){for(var r=0;r<5;r++)if(t[r][1]in document){e.requestFn=t[r][0],e.cancelFn=t[r][1],e.fullscreenElement=t[r][2],e.eventName=t[r][4],e.isFullScreen=t[r][6];break}"requestFullscreen"in document?e.requestFn="requestFullscreen":"webkitRequestFullscreen"in document?e.requestFn="webkitRequestFullscreen":"webkitRequestFullScreen"in document?e.requestFn="webkitRequestFullScreen":"webkitEnterFullscreen"in document?e.requestFn="webkitEnterFullscreen":"mozRequestFullScreen"in document?e.requestFn="mozRequestFullScreen":"msRequestFullscreen"in document&&(e.requestFn="msRequestFullscreen"),"fullscreenchange"in document?e.eventName="fullscreenchange":"webkitfullscreenchange"in document||"webkitfullscreenchange"in document||"webkitfullscreenchange"in document?e.eventName="webkitfullscreenchange":"mozfullscreenchange"in document?e.eventName="mozfullscreenchange":"MSFullscreenChange"in document&&(e.eventName="MSFullscreenChange"),"fullScreen"in document?e.isFullScreen="fullScreen":"webkitfullScreen"in document?e.isFullScreen="webkitfullScreen":"webkitIsFullScreen"in document?e.isFullScreen="webkitIsFullScreen":"webkitDisplayingFullscreen"in document?e.isFullScreen="webkitDisplayingFullscreen":"mozFullScreen"in document?e.isFullScreen="mozFullScreen":"mozfullScreen"in document?e.isFullScreen="mozfullScreen":"MSFullScreen"in document&&(e.isFullScreen="MSFullScreen"),"fullscreenElement"in document?e.fullscreenElement="fullscreenElement":"webkitFullscreenElement"in document?e.fullscreenElement="webkitFullscreenElement":"webkitFullScreenElement"in document?e.fullscreenElement="webkitFullScreenElement":"mozFullScreenElement"in document?e.fullscreenElement="mozFullScreenElement":"msFullscreenElement"in document?e.fullscreenElement="msFullscreenElement":"MSFullscreenElement"in document&&(e.fullscreenElement="MSFullscreenElement")}return e.requestFn?e:null}()),u=(r.prototype.requestFullScreen=function(){var e=l,t=this._player.el(),i=this;if(n.IS_IOS){var r=this._player._splayer;if(!r||2!==r.renderType){t=this._player.tag;try{var o=t[e.requestFn]();o&&"function"==typeof o.catch&&o.catch((function(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")})),i._player.trigger(s.Player.RequestFullScreen)}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}return this}this._player._options.enableMockFullscreen=!0}if(this.isFullScreen=!0,this.isFullScreenChanged=!1,this._requestFullScreenTimer=null,this._cancelFullScreenTimer||clearTimeout(this._cancelFullScreenTimer),i=this,e&&!this._player._options.enableMockFullscreen)try{var a=t[e.requestFn]();a&&"function"==typeof a.catch&&a.catch((function(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")})),this._requestFullScreenTimer=setTimeout((function(){i.isFullScreenChanged||(u.apply(i),i._player.trigger(s.Player.RequestFullScreen)),i._requestFullScreenTimer=null}),1e3)}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}else u.apply(i),this._player.trigger(s.Player.RequestFullScreen);return this._player},r.prototype.cancelFullScreen=function(){var e=l,t=(this.isFullScreen=!1,this.isFullScreenChanged=!1,this._cancelFullScreenTimer=null,this._requestFullScreenTimer||clearTimeout(this._requestFullScreenTimer),this);if(e&&!this._player._options.enableMockFullscreen){try{var i=document[e.cancelFn]();i&&"function"==typeof i.catch&&i.catch((function(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}))}catch(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}t._cancelFullScreenTimer=setTimeout((function(){t.isFullScreenChanged||(c.apply(t),t._player.trigger(s.Player.CancelFullScreen)),t._cancelFullScreenTimer=null}),500)}else c.apply(t),this._player.trigger(s.Player.CancelFullScreen);return this._player.tag.paused||this._player.trigger(s.Player.Play),this._player},r.prototype.getIsFullScreen=function(){return this.isFullScreen},r.prototype.dispose=function(){this._player=null,l&&a.off(document,l.eventName,this._fullscreenChanged)},function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden",o.addClass(document.getElementsByTagName("body")[0],"prism-full-window")}),c=function(){this.isFullWindow=!1,document.documentElement.style.overflow=this.docOrigOverflow,o.removeClass(document.getElementsByTagName("body")[0],"prism-full-window")};t.exports=r},{"../../lang/index":23,"../../lib/dom":32,"../../lib/event":33,"../../lib/ua":49,"../base/event/eventtype":70,"../base/x5play":96}],122:[function(e,t,i){function r(e,t){var i;if(e)return e=new Date(e),i=(t=new Date(t)).valueOf()/1e3-e.valueOf()/1e3,{start:e,end:t,endDisplay:s.extractTime(t),totalTime:i}}function n(e,t){t&&(e.currentTimestamp=t,e.currentTime=s.convertToDate(t),e.currentTimeDisplay=s.extractTime(e.currentTime),e.liveShiftStart=e.liveTimeRange.start,e.liveShiftEnd=e.liveTimeRange.end,e.liveShiftStartDisplay=s.extractTime(e.liveShiftStart),e.liveShiftEndDisplay=s.extractTime(e.liveShiftEnd),e.availableLiveShiftTime=t-e.liveShiftStart.valueOf()/1e3,e.timestampStart=s.convertToTimestamp(e.liveShiftStart),e.timestampEnd,s.convertToTimestamp(e.liveShiftEnd))}function o(e){function t(){var t=e._options.source;this._originalPlayUrl=t,this._liveShiftUrl=e._options.liveTimeShiftUrl,this.liveTimeRange=r(e._options.liveStartTime,e._options.liveOverTime),this.availableLiveShiftTime=0,this.seekTime=-1}this._player=e,this._isLiveShiftPlaying=!1;var i=this;t.call(this),e.liveShiftSerivce={setLiveTimeRange:function(e,t){i.setLiveTimeRange(e,t)},queryLiveShift:function(e,t,r){i.queryLiveShift(e,t,r)},isLiveShiftPlaying:function(){return i._isLiveShiftPlaying}},e.on(h.Private.ChangeURL,(function(){t.call(i)}))}var a=e("../../lib/io"),s=e("../../lib/util"),l=e("../../lib/playerUtil"),u=e("../../lang/index"),c=e("../flv/flvinjector"),d=e("../hls/hlsinjector"),f=e("../../lib/constants"),h=e("../base/event/eventtype");e("../../lib/url"),o.prototype.validate=function(){return!(this.liveTimeRange.start>=this.liveTimeRange.end)},o.prototype.switchToLive=function(){this.seekTime=-1;var e=this._originalPlayUrl,t=this._player._options.liveShiftSource,i=this._player._options.source;l.isHls(i)&&l.isFlv(e)&&t&&l.isHls(t)&&(this._player._hls&&this._player._destroyHls(),i=this._player._superType,t=this._player._Type,this._player._options._autoplay=!0,c.inject(this._player,t,i,this._player._options,"",!0)),this._player._loadByUrlInner(e,null,!0),this._isLiveShiftPlaying=!1,this._player.trigger(h.Private.LiveShiftSwitchToLive)},o.prototype.getBaseTime=function(){return this.liveShiftStartDisplay,-1==this.seekTime?s.parseTime(this.currentTimeDisplay):s.parseTime(this.liveShiftStartDisplay)+this.seekTime},o.prototype.getSourceUrl=function(e,t){var i=this._originalPlayUrl;return this.availableLiveShiftTime<e||(this._isLiveShiftPlaying=!0,e=parseInt(e),i=(i=this._switchLiveShiftPlayer(t))&&this._cleanUrl(i),t=parseInt(this.currentTimestamp)-e,-1===(i=-1==i.indexOf("?")?i+"?lhs_start_unix_s_0="+t:i+"&lhs_start_unix_s_0="+t).indexOf("aliyunols=on")&&(i+="&aliyunols=on"),-1===i.indexOf("continue=on")&&(i+="&continue=on")),i},o.prototype._cleanUrl=function(e){var t;return-1===e.indexOf("?")?e:(e=(e=(t=e.split("?"))[1])&&(0===(e=e.replace(/&?lhs_start_unix_s_0=[0-9]*/g,"")).indexOf("&")?e.replace("&",""):e))?t[0]+"?"+e:t[0]},o.prototype._switchLiveShiftPlayer=function(e){var t,i=this._originalPlayUrl,r=this._player._options.liveShiftSource,n=this._player._options.source;if(l.isHls(n))i=n;else if(l.isFlv(i)&&r&&l.isHls(r))return this._player._flv&&this._player._destroyFlv(),n=this._player._superType,t=this._player._Type,this._player._options._autoplay=!0,d.inject(this._player,t,n,this._player._options,"",!0),r;return i},o.prototype.getTimeline=function(e,t){var i;this._player.trigger(h.Private.LiveShiftQueryCompleted),this._liveShiftUrl?(i=this).queryLiveShift(this._liveShiftUrl,(function(r){r?0==(r=r).retCode?(n(i,r.content.current),e&&e()):t({Code:f.ErrorCode.ServerAPIError,Message:r.retCode+"|"+r.description+"|"+r.content}):__f__("log","\u83b7\u53d6\u76f4\u64ad\u65f6\u79fb\u6570\u636e\u5931\u8d25"," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}),(function(e){if(t&&e){var i={};if(e){if("string"==typeof e&&-1<e.indexOf("403 Forbidden"))i.Code=f.ErrorCode.AuthKeyExpired,i.Message="Query liveshift failed:"+u.get("Error_AuthKey_Text");else{var r;i=e;try{r=JSON.parse(e)}catch(e){}r&&(i.Code=f.ErrorCode.ServerAPIError,i.Message=r.retCode+"|"+r.description+"|"+r.content)}t(i)}}})):(n(this,(new Date).valueOf()/1e3),e&&e())},o.prototype.start=function(e,t){var i=this;i.getTimeline((function(e){i._localLiveTimeHandler||i.tickLocalLiveTime()}),t),function r(){i._loopHandler&&clearTimeout(i._loopHandler),i._loopHandler=setTimeout((function(){i.getTimeline((function(){}),t),r()}),e)}()},o.prototype.tickLocalLiveTime=function(){var e=this;(function t(){e._localLiveTimeHandler=setTimeout((function(){e.currentTimestamp++,n(e,e.currentTimestamp),e._player.trigger(h.Private.LiveShiftQueryCompleted),t()}),1e3)})()},o.prototype.setLiveTimeRange=function(e,t){e=e||this._player._options.liveStartTime,t=t||this._player._options.liveOverTime,this.liveTimeRange=r(e,t),n(this,this.currentTimestamp),this._player.trigger(h.Private.LiveShiftQueryCompleted)},o.prototype.queryLiveShift=function(e,t,i){a.get(e,(function(e){var r;e?0==(r=JSON.parse(e)).retCode?t&&t(r):i&&i(r):i&&i(e)}),(function(e){i&&i(e)}))},o.prototype.stop=function(e){this._loopHandler&&(clearTimeout(this._loopHandler),this._loopHandler=null)},o.prototype.dispose=function(){this.stop(),this._localLiveTimeHandler&&(clearTimeout(this._localLiveTimeHandler),this._localLiveTimeHandler=null),this._loopHandler&&(clearTimeout(this._loopHandler),this._loopHandler=null),this._player=null},t.exports=o},{"../../lang/index":23,"../../lib/constants":28,"../../lib/io":40,"../../lib/playerUtil":45,"../../lib/url":50,"../../lib/util":51,"../base/event/eventtype":70,"../flv/flvinjector":100,"../hls/hlsinjector":102}],123:[function(e,t,i){function r(e){function t(){var t=document.querySelector("#"+e.id()+" .prism-progress-marker");if(t){t.innerHTML="";var r=i._player.getDuration();if(0<r){for(var s=0;s<i.progressMarkers.length;s++){var l,u=i.progressMarkers[s];void 0!==u.offset&&""!==u.offset&&(u=document.createElement("div"),o.addClass(u,"prism-marker-dot"),l=i.progressMarkers[s].offset/r,u.style.left=100*l+"%",t.appendChild(u),l=function(e,t){return function(){i._player.trigger(n.Private.MarkerTextShow,{left:e,progressMarker:t})}}(l,i.progressMarkers[s]),a.on(u,"mouseover",l),a.on(u,"mouseout",(function(e){i._player.trigger(n.Private.MarkerTextHide)})),a.on(u,"touchstart",l),a.on(u,"mousemove",(function(e){e.preventDefault()})),a.on(u,"touchmove",(function(e){e.preventDefault()})))}var c=document.querySelector("#"+i._player.id()+" .prism-progress-cursor");i._player.on(c,"click",(function(e){for(var t=i._player.getCurrentTime(),o=0;o<i.progressMarkers.length;o++){var a,s=i.progressMarkers[o];s&&t-1<s.offset&&s.offset<t+1&&(a=s.offset/r*100+"%",i._player.trigger(n.Private.MarkerTextShow,{left:a,progressMarker:s}))}}))}}}this.progressMarkers=[],this._player=e;var i=this;e.on(n.Private.ProgressMarkerLoaded,(function(e){e=e.paramData,e&&0<e.length&&(i.progressMarkers=e)})),e.on(n.Private.ProgressMarkerChanged,(function(e){e=e.paramData,e&&0<e.length&&(i.progressMarkers=e,t())})),e.on(n.Video.LoadedMetadata,t)}var n=e("../base/event/eventtype"),o=(e("../../lang/index"),e("../../lib/hls/hlsparse"),e("../../lib/object"),e("../../lib/dom")),a=e("../../lib/event");e("../../lib/playerutil"),r.prototype.dispose=function(){this._player=null,this.progressMarkers=[]},t.exports=r},{"../../lang/index":23,"../../lib/dom":32,"../../lib/event":33,"../../lib/hls/hlsparse":39,"../../lib/object":42,"../../lib/playerutil":46,"../base/event/eventtype":70}],124:[function(e,t,i){function r(e){this.levels=[],this.drmUrl={},this._player=e;var t=this;e.on(n.Private.PlayInfoLoaded,(function(e){for(var i=e.paramData.encryptUrlArr||[],r=[],n=0;n<i.length;n++){var o=i[n];o.encryptionType===u.VodEncryptionType["Widevine-FairPlay"]&&r.push(o)}t.drmUrl=r})),e.on(n.Player.LevelsLoaded,(function(i){if(0<t.levels.length&&(t.levels=[]),(i=i.paramData)&&i.levels){for(var r,a=i.levels.length-1;-1<a;a--){var l,u=i.levels[a];u.url&&0<u.url.length&&u.attrs&&u.attrs.BANDWIDTH&&(l=u.url,s.isArray(l)&&(l=l[0]),l={Url:l=!e._hls&&e._options.isVBR&&e._options.isDrm?c.call(t,u):l,desc:u.height||u.width,bitrate:u.bitrate,resolution:u.attrs.RESOLUTION,bandwidth:u.attrs.BANDWIDTH},t.levels.push(l))}"AUTO"===e._options.definition&&(e._urls=[],Object.assign(e._urls,this.levels)),t.levels.sort((function(e,t){return e.desc-t.desc})),0<t.levels.length&&(r="",this._player._options.isVBR&&(r=o.get("Auto")),t.levels.push({Url:i.url,desc:r}),e.trigger(n.Private.SelectorUpdateList,{type:"quality",text:r}))}})),e.on(n.Video.LoadStart,(function(){var i;e._options&&(i=e._options.source,!e._hls)&&i&&l.isHls(i)&&(e._manuallySwitchDrmLevel?(e._manuallySwitchDrmLevel=!1,e.trigger(n.Private.SafariDrmLevelSwitch)):t.loadLevels(i))}))}var n=e("../base/event/eventtype"),o=e("../../lang/index"),a=e("../../lib/hls/hlsparse"),s=e("../../lib/object"),l=e("../../lib/playerutil"),u=e("../../lib/constants");function c(e){for(var t,i=this.drmUrl,r=0;r<this.drmUrl.length;r++)if(Number(e.height)===Number(i[r].height)){t=i[r].Url;break}return t}(r.prototype={loadLevels:function(e){var t=new a,i=this;t.load(e,(function(e){i._player.trigger(n.Player.LevelsLoaded,e)}))}}).dispose=function(){this._player=null},t.exports=r},{"../../lang/index":23,"../../lib/constants":28,"../../lib/hls/hlsparse":39,"../../lib/object":42,"../../lib/playerutil":46,"../base/event/eventtype":70}],125:[function(e,t,i){function r(e){this._player=e,this.cues=[],this.baseUrl="";var t=this;e.on(s.Private.ChangeURL,(function(){t.cues=[],t.baseUrl=""}))}var n=e("../../lib/io"),o=e("../../lib/url"),a=e("../../lib/vtt/thumbnailvtt"),s=e("../base/event/eventtype");(r.prototype={get:function(e){var t,i,r=this;this.baseUrl=(t=e,(i=o.parseUrl(t))&&(i=i.segments)&&0<i.length&&(i=i[i.length-1],baseUrl=t.replace(i,"")),baseUrl),n.get(e,(function(e){e&&a.parse(e,(function(e){r.cues=e,r._player.trigger(s.Private.ThumbnailLoaded,e)}))}),(function(e){__f__("log",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2")}))},findAvailableCue:function(e){for(var t=this.cues.length,i=0;i<t;i++){var r=this.cues[i];if(r.startTime<=e&&e<r.endTime)return r}return null},makeUrl:function(e){return-1==e.indexOf("://")?this.baseUrl+e:e}}).dispose=function(){this._player=null},t.exports=r},{"../../lib/io":40,"../../lib/url":50,"../../lib/vtt/thumbnailvtt":53,"../base/event/eventtype":70}],126:[function(e,t,i){var r=e("../base/player"),n=e("./splayerinjector"),o=e("../flv/flvinjector"),a=e("../../lib/playerutil"),s=e("../base/event/eventtype"),l=e("../../lib/constants"),u=e("../../lib/codec-probe"),c=l.USER_EVENT_NAME,d=a.isH265Codec,f=a.getVideoTrack,h={},p={codecCost:0,decoderCost:0},v=r.extend({init:function(e,t){var i,l=this,g=(this._options=t,a.isFlv(t.source)),y=this._extraMultiSources(),m={};function _(){g&&(o.inject(this,v,r,t),t._native=!1),r.call(this,e,t),this._monitor&&this._monitor.updateH265ProbeCost(p),S.call(this),h.codecTag&&n.reportH265PlayInfo.call(this,{renderType:"native",codecTag:h.codecTag})}function b(){t._native=!1,n.inject(this,v,r,t,h),r.call(this,e,t),this._monitor&&this._monitor.updateH265ProbeCost(p),S.call(this)}function S(){var e,t,i=this,n=m,o=this[c];o&&(n=Object.assign({},m,o),e=Object.keys(m),t=Object.keys(o),e.forEach((function(e){-1<t.indexOf(e)&&(n[e]=m[e].concat(o[e]))}))),Object.keys(n).forEach((function(e){n[e].forEach((function(t){t.binded||r.prototype.on.call(i,e,t)}))}))}m[s.Player.Ready]=[function(){l._setupSourceList(y),l.trigger(s.Private.SelectorGenerateList,{type:"quality"})}],"zhihu"===t.from||t.forceH265?b.call(this):(i=performance.now(),u(t.source,(function(e){p.codecCost+=performance.now()-i;e=f(e.tracks);var t,r=(e||{}).codecTag||(e||{}).codec.split(".")[0];h.codecTag=r,e&&d(r)?(t=performance.now(),g?(p.decoderCost+=performance.now()-t,b.call(l)):a.shouldUseBasePlayer(r,(function(e){p.decoderCost+=performance.now()-t,(e?_:b).call(l)}))):_.call(l)}),(function(e){__f__("log","error in demuxer, fallback to basePlayer",e," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),p.codecCost+=performance.now()-i,_.call(l)})))}});t.exports=v},{"../../lib/codec-probe":26,"../../lib/constants":28,"../../lib/playerutil":46,"../base/event/eventtype":70,"../base/player":91,"../flv/flvinjector":100,"./splayerinjector":127}],127:[function(e,t,i){function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i,r=arguments[t];for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var n=e("../../lib/io"),o=e("../base/event/eventtype"),a=e("../base/event/eventmanager"),s=(e("../../lib/event"),e("../../lib/util")),l=e("../../lib/dom"),u=e("../../lib/playerutil"),c=e("../../lib/constants"),d=e("../../lang/index");function f(e){var t=this._options,i=(p.call(this),function(){u.isVideoTag(this.tag)&&(a.offVideoAll(this),this.tag.parentNode.removeChild(this.tag),this.tag=null)}.call(this),Videox.Videox),n=new i(r({container:this._el,wasmDomain:t.splayerWasmDomain,progressive:!0,skipFrame:i.DiscardType.NONE,loop:t.rePlay,controls:!1,muted:!1,threads:t.h265Threads,simd:t.h265Simd,autoplay:t.autoplay,live:t.isLive,poster:t.cover||void 0,src:t.source,trackOptions:{disable:!0},preload:t.preload?"auto":"none",timeout:1e3*t.waitingTimeout},t.splayerOptions||{})),s=(t.debug&&(n.setLogLevel(i.LogLevel.LOG),n.setLogPrintLevel(i.LogLevel.LOG)),this._splayer=n,(this.tag=n).play),l=this;this.tag.play=function(){l._monitor&&l._monitor.reportStartPlay(),s.call(this)},function(){var e,t=this,i=document.createElement("video");for(e in i)!function(e){t.tag[e]||0===e.indexOf("on")||"function"!=typeof i[e]||(t.tag[e]=function(){__f__("warn","Function ["+e+"] is called on splayer, which should be a mistake."," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2"),i[e].apply(i,arguments)})}(e)}.call(this),function(e){var t=this,i=(a.onAll(this),this._splayer);i.addEventListener("error",function(e){__f__("log","Splayer error",(e||{}).detail," at node_modules/aliyun-aliplayer/dist/aliplayer-min.js:2");var t,i,r=Videox.Videox,n=(e||{}).detail;e=Number((n||{}).code),r=r.ErrorCode;switch(e){case r.WASM_NOT_SUPPORTED:case r.CANVAS_NOT_SUPPORTED:case r.AUDIOCONTEXT_NOT_SUPPORTED:case r.WORKER_NOT_SUPPORTED:case r.WEBGL_NOT_SUPPORTED:t=c.ErrorCode.SplayerEnvCheckError,i=d.get("Splayer_Err_Env_Check")+" | "+h(n);break;case r.DECODE:t=c.ErrorCode.SplayerDecodeError,i=d.get("Splayer_Err_Decode")+" | "+h(n);break;case r.NETWORK:t=c.ErrorCode.NetworkError,i=d.get("Error_Network_Text")+" | "+h(n);var a=(n.origin||{}).response;a?404===(a=a.status)?(t=c.ErrorCode.NotFoundSourceURL,i=d.get("Error_Not_Found")+" | "+h(n)):403===a&&(t=c.ErrorCode.AuthKeyExpired,i=d.get("Error_AuthKey_Text")+" | "+h(n)):navigator.onLine&&(t=c.ErrorCode.RequestDataError,i=i+"\uff0c"+d.get("Maybe_Cors_Error"));break;case r.PARSER:t=c.ErrorCode.SplayerParserNotFound,i=d.get("Splayer_Err_Parser_Not_Found")+" | "+h(n);break;default:t=c.ErrorCode.OtherError,i="(SP)"+d.get("Error_Play_Text")+" | "+h(n)}t===c.ErrorCode.NetworkError&&this._reloadForVod()||(e={error_code:t,error_msg:i},null!==e.error_code&&null!==e.error_msg&&(this.logError(e),this.trigger(o.Player.Error,e)),v.call(this,{splayer:!0}))}.bind(this)),i.addEventListener("decoderoverload",(function(e){e=e.detail,delete e.shouldWarn,t.trigger(o.Player.H265DecoderOverload,e)})),i.addEventListener("loadedsupportinfo",(function(e){e=e.detail||{};var r=e.detail||{},n=i.controller.options||{};i.renderType=e.renderer,v.call(t,{renderer:e.renderer,wasmThreads:r.wasmThreads&&n.threads,wasmThreadsOption:n.threads,simd:r.simd&&n.simd,simdOption:n.simd,codecTag:i.controller.videoTrack&&i.controller.videoTrack.codecTag||i.controller.videoTrack.codec.split(".")[0],splayer:!0})})),this._options.autoplay&&(i.once("canplay",(function(){i.paused&&t._autoplayFailedHandler()})),i.once("timeupdate",(function(){t.trigger(o.Player.Play)})),this._monitor)&&this._monitor.reportStartPlay()}.call(this,e)}function h(e){e=e=void 0===e?{}:e;var t=e.code,i=(e=e.message,Videox.Videox.ErrorCode),r="";return t?r+t+": "+(e||i[t]):r}function p(){this._splayer&&(this._splayer.destroy(),this._splayer=null)}function v(e){var t;void 0===e&&(e={}),this._h265InfoReported||(this._h265InfoReported=!0,t={0:"native",1:"mse",2:"wasm"},delete(e=r({codecTag:(this._probeInfo||{}).codecTag||e.codecTag,renderType:e.renderType||t[e.renderer]},e)).renderer,e.renderType!==t[2]&&(delete e.simd,delete e.simdOption,delete e.wasmThreads,delete e.wasmThreadsOption),e.codecTag&&u.isH265Codec(e.codecTag)&&this.trigger(o.Player.H265PlayInfo,e))}t.exports.reportH265PlayInfo=v,t.exports.inject=function(e,t,i,r,a){e._Type=t,e._superType=i,e._superPt=i.prototype,e._disposed=!1,e._splayer=null,e._splayerLoaded=!1,e._probeInfo=a,t.prototype.initPlay=function(e){var t=this;this.trigger(o.Private.H5_Loading_Show),function(e){return!s.contentProtocolMixed(e,"alwaysCheck")||((e={mediaId:this._options.vid||"",error_code:c.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=d.get("Request_Block_Text"),this.logError(e),this.trigger(o.Player.Error,e),!1)}.call(this,this._options.source)&&(this._splayerLoaded?f.call(this,e):function(e){var t=this._options.splayerUrl||"https://g.alicdn.com/splayer/splayer/0.6.6/dist/index.js";n.loadJS(t,e.bind(this))}.call(this,(function(){this._splayerLoaded=!0,f.call(this,e),t._executeReadyCallback()})))},t.prototype.replay=function(){return this._monitor&&this._monitor.replay(),this._splayer.load(),this._splayer.play(),this},t.prototype.setPlayerSize=function(e,t){this._superPt.setPlayerSize.call(this,e,t),e=this._el.querySelector("canvas"),e&&(t=this._el.offsetWidth/this._el.offsetHeight,e.offsetWidth/e.offsetHeight<t?(e.style.height="100%",e.style.width="initial"):(e.style.width="100%",e.style.height="initial"))},t.prototype._setTransform=function(){var e=this._player._el.querySelector("canvas"),t=(this._transformProp||(this._transformProp=l.getTransformName(e)),"");this._rotate&&(t+=" rotate("+this._rotate+"deg)"),this._image&&("vertical"==this._image?t+=" scaleY(-1)":"horizon"==this._image&&(t+=" scaleX(-1)")),e.style[this._transformProp]=t},t.prototype.dispose=function(){this._disposed||(this._superPt&&(this._superPt.dispose.call(this),t.prototype.replay=this._superPt.replay,t.prototype.setPlayerSize=this._superPt.setPlayerSize,t.prototype._setTransform=this._superPt._setTransform,t.prototype.initPlay=this._superPt.initPlay,t.prototype.dispose=this._superPt.dispose),p.call(this),this._Type=null,this._superType=null,this._superPt=null,this._disposed=!0,this._splayerLoaded=!1,this._h265InfoReported=!1)}}},{"../../lang/index":23,"../../lib/constants":28,"../../lib/dom":32,"../../lib/event":33,"../../lib/io":40,"../../lib/playerutil":46,"../../lib/util":51,"../base/event/eventmanager":69,"../base/event/eventtype":70}],128:[function(require,module,exports){(function _SkeinEnclosedFunction($jsskein_array_37,$jsskein_array_38,$jsskein_array_39,$jsskein_array_40,$jsskein_array_41,$jsskein_array_42,$jsskein_array_43,$jsskein_array_44){function kl5f8(){function e(e){var t=(t=$jsskein_array_37[3]).split($jsskein_array_42[0]).reverse().join($jsskein_array_43[3]);t=window[t];return $jsskein_array_39[2],$jsskein_array_39[2],t[e]=function(){}}for(var t=1;void 0!==t;){var i=1&t>>1;switch(1&t){case 0:switch(i){case 0:t=void 0;continue;case 1:var r=[],n=(n=$jsskein_array_44[1]).split($jsskein_array_38[1]).reverse().join($jsskein_array_44[2]),o=$jsskein_array_43[2];o+=$jsskein_array_39[1];var a=(a=$jsskein_array_37[2]).split($jsskein_array_43[3]).reverse().join($jsskein_array_43[3]);r.push($jsskein_array_44[3],$jsskein_array_40[0],n,o,$jsskein_array_44[4],$jsskein_array_44[5],a,$jsskein_array_38[2]),r.forEach(e),t=0;continue}continue;case 1:0==i&&($jsskein_array_37[0],t=window?2:0)}}}function gas4s8(){for(var NEXTBB12=0;void 0!==NEXTBB12;){var $jsskein_indexLevel46_0=1&NEXTBB12,$jsskein_indexLevel46_1_Base=NEXTBB12>>1,$jsskein_indexLevel46_1=1&$jsskein_indexLevel46_1_Base;switch($jsskein_indexLevel46_0){case 0:switch($jsskein_indexLevel46_1){case 0:NEXTBB12=2;continue;case 1:NEXTBB12=$jsskein_array_40[1]?1:3;continue}continue;case 1:switch($jsskein_indexLevel46_1){case 0:eval(fs56j57),NEXTBB12=2;continue;case 1:NEXTBB12=void 0;continue}continue}}}function n5fg6f(player){function _SkeinIIFE19(){function cl48s87(isOpen){for(var NEXTBB22=5;void 0!==NEXTBB22;){var $jsskein_indexLevel47_0=3&NEXTBB22,$jsskein_indexLevel47_1_Base=NEXTBB22>>2,$jsskein_indexLevel47_1=3&$jsskein_indexLevel47_1_Base;switch($jsskein_indexLevel47_0){case 0:switch($jsskein_indexLevel47_1){case 0:NEXTBB22=void 0;continue;case 1:$jsskein_simplify_tmp24=$jsskein_cl48s87_var14,NEXTBB22=$jsskein_simplify_tmp24?9:0;continue;case 2:$jsskein_simplify_tmp24=Aliplayer.__unable2Anti9Debugger13Key,$jsskein_cl48s87_var14=$jsskein_array_40[2]!==$jsskein_simplify_tmp24,NEXTBB22=4;continue}continue;case 1:switch($jsskein_indexLevel47_1){case 0:devtoolsDetector.removeListener(cl48s87),devtoolsDetector.setDetectDelay($jsskein_array_44[6]),devtoolsDetector.stop(),NEXTBB22=0;continue;case 1:var $jsskein_simplify_tmp24=$jsskein_array_41[0],$jsskein_cl48s87_var14=isOpen,NEXTBB22=$jsskein_cl48s87_var14?8:4;continue;case 2:eval(fs56j57),$jsskein_simplify_tmp24=Aliplayer.__unable2Anti9Debugger13Key,$jsskein_simplify_tmp24=$jsskein_array_42[1]===$jsskein_simplify_tmp24,NEXTBB22=$jsskein_simplify_tmp24?1:2;continue}continue;case 2:0===$jsskein_indexLevel47_1&&(kl5f8(),player.dispose(),gas4s8(),NEXTBB22=0)}}}devtoolsDetector.addListener(cl48s87),devtoolsDetector.launch()}for(var NEXTBB17=0;void 0!==NEXTBB17;){var $jsskein_indexLevel48_0=1&NEXTBB17,$jsskein_indexLevel48_1_Base=NEXTBB17>>1,$jsskein_indexLevel48_1=1&$jsskein_indexLevel48_1_Base;switch($jsskein_indexLevel48_0){case 0:switch($jsskein_indexLevel48_1){case 0:var $jsskein_simplify_tmp25=_SkeinIIFE19,$jsskein_simplify_tmp26=$jsskein_array_37[0],$jsskein_n5fg6f_var16=document.body,NEXTBB17=$jsskein_n5fg6f_var16?2:3;continue;case 1:$jsskein_n5fg6f_var16=$jsskein_array_42[2],NEXTBB17=1;continue}continue;case 1:switch($jsskein_indexLevel48_1){case 0:$jsskein_simplify_tmp26=$jsskein_n5fg6f_var16,setTimeout($jsskein_simplify_tmp25,$jsskein_simplify_tmp26),NEXTBB17=void 0;continue;case 1:var $jsskein__rand36=parseInt($jsskein_array_44[7],$jsskein_array_44[8]),$jsskein_n5fg6f_var16=$jsskein__rand36-$jsskein_array_43[4];NEXTBB17=1;continue}continue}}}function _SkeinIIFE34(e){n5fg6f(e)}var $jsskein_global_string_encryption_stack27=[],$jsskein_simplify_tmp18=($jsskein_global_string_encryption_stack27.unshift([]),window),$jsskein_simplify_tmp19=$jsskein_array_37[0],$jsskein_simplify_tmp19=require("../lib/devtools-detector"),devtoolsDetector=($jsskein_simplify_tmp18.__devtoolsDetector=$jsskein_simplify_tmp19,$jsskein_simplify_tmp19),$jsskein_fs56j57_string_plus28=$jsskein_array_44[0],fs56j57=($jsskein_fs56j57_string_plus28+=$jsskein_array_43[0],$jsskein_fs56j57_string_plus28+=$jsskein_array_38[0],$jsskein_fs56j57_string_plus28+=$jsskein_array_43[1],$jsskein_fs56j57_string_plus28=$jsskein_fs56j57_string_plus28.split($jsskein_array_39[0]).reverse().join($jsskein_array_37[1]),$jsskein_fs56j57_string_plus28),$jsskein_simplify_tmp18=module;$jsskein_simplify_tmp18.exports=_SkeinIIFE34}).call(this,[0,"","lmxrid","elosnoc"],["gu","","table"],["","rn",0],["log",!0,"error"],[0],["","error",0],["g","bed","wa","",147],["re","gubed","","info","error","dir",0,"11110111",2])},{"../lib/devtools-detector":31}],129:[function(e,t,i){(function(i,r,n,o,a,s,l,u){[].unshift([]),i[0];var c=e("./anti-debugging-protected");t.exports=function(e,t){for(var i=3;void 0!==i;){var o=1&i>>1;switch(1&i){case 0:switch(o){case 0:i=void 0;continue;case 1:var a=Aliplayer.__unable2Anti9Debugger13Key,s=l[0];i=(a=(s+=r[0])+l[1]+n[0]!==a)?1:0;continue}continue;case 1:switch(o){case 0:c(t),i=0;continue;case 1:a=e.encryptType;i=(a=u[0]==a)?2:0;continue}continue}}}}).call(this,[0],["rr"],["r"],[],[],[],["e","o"],[1])},{"./anti-debugging-protected":128}],130:[function(e,t,i){var r=e("../lib/oo"),n=e("../lib/data"),o=e("../lib/object"),a=e("../lib/dom"),s=e("../lib/event"),l=e("../lib/function"),u=e("../lib/layout"),c=(e("../lib/constants"),e("../lib/util"),e("../player/base/event/eventtype"));e=e("./component/util"),r=r.extend({init:function(e,t){var i=this,r=(this._player=e,this._eventState="",this._options=o.copy(t),this._el=this.createEl(),e.id);"function"==typeof e.id&&(r=e.id()),this._id=r+"_component_"+n.guid(),this._children=[],this._childIndex={},t.className&&this.addClass(t.className),this._player.on(c.Private.UiH5Ready,(function(){i.renderUI(),i.syncUI(),i.bindEvent()}))}});r.prototype.renderUI=function(){u.render(this.el(),this.options()),this.el().id=this.id()},r.prototype.syncUI=function(){},r.prototype.bindEvent=function(){},r.prototype.createEl=function(e,t){return a.createEl(e,t)},r.prototype.options=function(e){return void 0===e?this._options:this._options=o.merge(this._options,e)},r.prototype.el=function(){return this._el},r.prototype._contentEl,r.prototype.player=function(){return this._player},r.prototype.contentEl=function(){return this._contentEl||this._el},r.prototype._id,r.prototype.id=function(){return this._id},r.prototype.getId=function(){return this._id},r.prototype.addChild=function(e,t){var i;if("string"==typeof e){if(!this._player.UI[e])return;i=new this._player.UI[e](this._player,t)}else i=e;return this._children.push(i),"function"==typeof i.id&&(this._childIndex[i.id()]=i),"function"==typeof i.el&&i.el()&&((t=i.el()).id=i.id(),this.contentEl().appendChild(t)),i},r.prototype.removeChild=function(e){if(e&&this._children){for(var t,i=!1,r=this._children.length-1;0<=r;r--)if(this._children[r]===e){i=!0,this._children.splice(r,1);break}i&&(this._childIndex[e.id]=null,t=e.el())&&t.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}},r.prototype.initChildren=function(){var e,t,i=this,r=this.options().children;if(r)if(o.isArray(r))for(var n=0;n<r.length;n++)t="string"==typeof(t=r[n])?(e=t,{}):(e=t.name,t),i.addChild(e,t);else o.each(r,(function(e,t){!1!==t&&i.addChild(e,t)}))},r.prototype.on=function(e,t){return s.on(this._el,e,l.bind(this,t)),this},r.prototype.offListener=function(e,t){return s.off(this._el,e,t),this},r.prototype.one=function(e,t){return s.one(this._el,e,l.bind(this,t)),this},r.prototype.trigger=function(e,t){if(this._el)return!t&&0!=t||(this._el.paramData=t),this._eventState=e,s.trigger(this._el,e),this},r.prototype.off=function(e){return s.off(this._el,e),this},r.prototype.addClass=function(e){return a.addClass(this._el,e),this},r.prototype.removeClass=function(e){return a.removeClass(this._el,e),this},r.prototype.show=function(){return this._el&&(this._el.style.display="block"),this},r.prototype.hide=function(){return this._el&&(this._el.style.display="none"),this},r.prototype.destroy=function(){if(this.trigger({type:"destroy",bubbles:!1}),this._children)for(var e=this._children.length-1;0<=e;e--)this._children[e].destroy&&this._children[e].destroy();"function"==typeof this.disposeUI&&this.disposeUI(),this.children_=null,this.childIndex_=null,this.off(),this._el.parentNode&&this._el.id!=this._player.id()&&this._el.parentNode.removeChild(this._el),n.removeData(this._el),this._el=null},r.prototype.registerControlBarTooltip=e.registerTooltipEvent,t.exports=r},{"../lib/constants":28,"../lib/data":30,"../lib/dom":32,"../lib/event":33,"../lib/function":35,"../lib/layout":41,"../lib/object":42,"../lib/oo":43,"../lib/util":51,"../player/base/event/eventtype":70,"./component/util":159}],131:[function(e,t,i){var r=e("../component"),n=e("../../lib/dom"),o=e("../../lib/event"),a=e("../../player/base/event/eventtype"),s=e("../../player/base/plugin/status");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-big-play-btn")},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML='<div class="outter"></div>',e},bindEvent:function(){var e=this,t=(this._player.on(a.Player.Play,(function(){e.addClass("playing"),e.removeClass("pause"),e._hide()})),this._player.on(a.Player.Pause,(function(){var t,i;e._player._switchSourcing||(e.removeClass("playing"),e.addClass("pause"),t=e._player._status,i=e._player._seeking,t==s.ended)||t==s.error||t==s.playing||i||e._show()})),document.querySelector("#"+e.id()+" .outter"));o.on(this.el(),"mouseover",(function(){n.addClass(t,"big-playbtn-hover-animation")})),o.on(this.el(),"mouseout",(function(){n.removeClass(t,"big-playbtn-hover-animation")})),this.on(a.Private.PlayClick,(function(){var t;e._player.paused()?(t=e._player.getCurrentTime(),(e._player.getDuration()<=t||e._player._ended||e._player.exceedPreviewTime(t))&&e._player.seek(0),e._player.play(!0)):e._player.pause(!0)})),this._player.on(a.Private.Play_Btn_Show,(function(){e._show()})),this._player.on(a.Private.Play_Btn_Hide,(function(){e._hide()}))},_show:function(){n.css(this.el(),"display","block")},_hide:function(){n.css(this.el(),"display","none")}});t.exports=e},{"../../lib/dom":32,"../../lib/event":33,"../../player/base/event/eventtype":70,"../../player/base/plugin/status":95,"../component":130}],132:[function(e,t,i){var r=e("../component"),n=e("../../lib/dom"),o=e("./util"),a=e("../../lang/index"),s=e("../../player/base/event/eventtype");e=r.extend({init:function(e,t){this.isOpened=!1,r.call(this,e,t),this.addClass("prism-cc-btn")},createEl:function(){return r.prototype.createEl.call(this,"div")},bindEvent:function(){var e=this;this.on("click",(function(){n.addClass(e._el,"disabled");var t="on",i="";e.isOpened?(e._player._ccService.close(),t="off"):i=e._player._ccService.open().label,e._player.trigger(s.Private.CCChanged,t),e._player.trigger(s.Private.CCStateChanged,{value:t,lang:i}),e.disabledHandler&&clearTimeout(e.disabledHandler),e.disabledHandler=setTimeout((function(){n.removeClass(e._el,"disabled")}),1e3),e._player.trigger(s.Private.MarkerTextHide)})),this._player.on(s.Private.CCChanged,(function(t){t=t.paramData,e.isOpened="off"!=t})),o.registerTooltipEvent.call(this,this.el(),(function(){return e.isOpened?a.get("CloseSubtitle"):a.get("OpenSubtitle")}))},disposeUI:function(){this.disabledHandler&&(clearTimeout(this.disabledHandler),this.disabledHandler=null)}});t.exports=e},{"../../lang/index":23,"../../lib/dom":32,"../../player/base/event/eventtype":70,"../component":130,"./util":159}],133:[function(e,t,i){var r=e("../component"),n=e("../../player/base/event/eventtype"),o=e("../../lib/event"),a=e("../../lib/dom"),s=e("../../lib/ua");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-controlbar"),this.initChildren(),this.onEvent()},createEl:function(){var e=r.prototype.createEl.call(this);return e.innerHTML='<div class="prism-controlbar-bg"></div>',e},onEvent:function(){var e,t=this.player(),i=t.options(),r=this,l=(o.on(this._el,"mouseover",(function(){var e=document.querySelector("#"+r.id()+" .prism-progress-cursor");a.css(e,"display","block")})),o.on(this._el,"mouseout",(function(e){var i=document.querySelector("#"+r.id()+" .prism-progress-cursor");a.css(i,"display","none"),t.trigger(n.Private.ThumbnailHide)})),o.on(this._el,"click",(function(e){t.trigger(n.Private.ControlBarClick,e)})),s.IS_IOS&&(o.on(this._el,"touchstart",(function(){var e=document.querySelector("#"+r.id()+" .prism-progress-cursor");a.css(e,"display","block")})),o.on(this._player.tag,"touchstart",(function(){var e=document.querySelector("#"+r.id()+" .prism-progress-cursor");a.css(e,"display","none"),t.trigger(n.Private.ThumbnailHide)}))),this.timer=null,i.controlBarVisibility);"hover"==(l=1==i.controlBarForOver?"hover":l)?(r.hide(),e=function(){r._hideHandler&&clearTimeout(r._hideHandler),r._show(),t.fullscreenService.getIsFullScreen()&&r._hide()},t.on(n.Private.MouseOver,(function(){e()})),o.on(this._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e()})),o.on(this._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e()})),t.on(n.Private.MouseOut,(function(){r._hideHandler=setTimeout((function(){r.hide(),t.trigger(n.Private.HideBar),t.trigger(n.Private.ThumbnailHide),t.trigger(n.Private.VolumeVisibilityChange,""),t.trigger(n.Private.SettingListHide)}))}))):"click"==l?(t.on(n.Private.Click,(function(e){t._isError||(e.preventDefault(),e.stopPropagation(),r._show(),r._hide())})),t.on(n.Player.Ready,(function(){r._hide()})),t.on(n.Private.TouchStart,(function(){r._show()})),t.on(n.Private.TouchMove,(function(){r._show()})),t.on(n.Private.TouchEnd,(function(){r._hide()}))):"never"==l?r._hide():r._show()},_show:function(){this.show(),this._player.trigger(n.Private.ShowBar),this.timer&&(clearTimeout(this.timer),this.timer=null)},_hide:function(){var e=this,t=this.player().options();t="never"==t.controlBarVisibility?0:t.showBarTime;this.timer=setTimeout((function(){e.hide(),e._player.trigger(n.Private.HideBar),e._player.trigger(n.Private.ThumbnailHide),e._player.trigger(n.Private.VolumeVisibilityChange,""),e._player.trigger(n.Private.SettingListHide)}),t)},disposeUI:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._hideHandler&&(clearTimeout(this._hideHandler),this._hideHandler=null)}});t.exports=e},{"../../lib/dom":32,"../../lib/event":33,"../../lib/ua":49,"../../player/base/event/eventtype":70,"../component":130}],134:[function(e,t,i){var r=e("../component"),n=e("../../lib/dom"),o=e("../../player/base/event/eventtype");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-cover")},createEl:function(){var e=r.prototype.createEl.call(this,"div"),t=this.options().cover;return t?e.style.backgroundImage="url("+t+")":n.css(e,"display","none"),e},_hide:function(e){var t=document.querySelector("#"+this.id()+" .prism-cover");t&&n.css(t,"display","none")},_show:function(e){var t=document.querySelector("#"+this.id()+" .prism-cover");t&&n.css(t,"display","block")},bindEvent:function(){this._player.on(o.Private.Cover_Show,this._show),this._player.on(o.Private.Cover_Hide,this._hide)}});t.exports=e},{"../../lib/dom":32,"../../player/base/event/eventtype":70,"../component":130}],135:[function(e,t,i){var r=e("../component"),n=e("../../lib/util"),o=e("../../lib/dom"),a=e("../../lib/event"),s=e("../../lib/ua"),l=e("../../lang/index"),u=e("../../player/base/event/eventtype");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-ErrorMessage")},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML="<div class='prism-error-content'><p></p></div><div class='prism-error-operation'><a class='prism-button prism-button-refresh'>"+l.get("Refresh_Text")+"</a><a class='prism-button prism-button-retry'  target='_blank'>"+l.get("Retry")+"</a><a class='prism-button prism-button-orange'  target='_blank'>"+l.get("Detection_Text")+"</a></div><div class='prism-detect-info prism-center'><p class='errorCode'><span class='info-label'>code:&nbsp;</span><span class='info-content'></span></p><p class='vid'><span class='info-label'>vid:&nbsp;</span><span class='info-content'></span></p><p class='mediaAuth'><span class='info-label'>mediaAuth:&nbsp;</span><span class='info-content'></span></p><p class='uuid'><span class='info-label'>uuid:&nbsp;</span><span class='info-content'></span></p><p class='requestId'><span class='info-label'>requestId:&nbsp;</span><span class='info-content'></span></p><p class='dateTime'><span class='info-label'>"+l.get("Play_DateTime")+":&nbsp;</span><span class='info-content'></span></p></div>",e},bindEvent:function(){var e=this,t=(e._player.on(u.Private.Error_Show,(function(t){var i=null;e._player.getMonitorInfo&&(i=e._player.getMonitorInfo()),e._show(t,i)})),e._player.on(u.Private.Error_Hide,(function(){e._hide()})),document.querySelector("#"+e.id()+" .prism-button-refresh"));a.on(t,"click",(function(){location.reload(!0)})),s.IS_MOBILE&&(t=document.querySelector("#"+e.id()+" .prism-detect-info"),o.addClass(t,"prism-width90")),t=document.querySelector("#"+e.id()+" .prism-button-retry");a.on(t,"click",(function(){var t=e._player.getCurrentTime(),i=e._player._options.source;e._player._setDefaultCC=!0,e._player._loadByUrlInner(i,t,!0)}))},_show:function(e,t){e=e.paramData;var i,r="",a="",s=(e.mediaId&&(r=e.mediaId),e.mediaAuth&&e.mediaAuth,document.querySelector("#"+this.id()+" .prism-button-orange"));s&&(t&&this._player._options.diagnosisButtonVisible?(t.vu?a=decodeURIComponent(t.vu):o.css(s,"display","none"),r="//player.alicdn.com/detection.html?from=h5&vid="+r+"&source="+(a?encodeURIComponent(a):"")+"&uuid="+t.uuid+"&lang="+l.getCurrentLanguage(),s&&(s.href=r)):o.css(s,"display","none"),a=e.display_msg||e.error_msg,document.querySelector("#"+this.id()+" .prism-error-content p").innerHTML=a,document.querySelector("#"+this.id()+" .errorCode .info-content").innerText=e.error_code,t=document.querySelector("#"+this.id()+" .vid"),e.mediaId?(o.css(t,"display","block"),document.querySelector("#"+this.id()+" .vid .info-content").innerText=e.mediaId):o.css(t,"display","none"),r=document.querySelector("#"+this.id()+" .mediaAuth"),e.mediaAuth?(o.css(r,"display","block"),document.querySelector("#"+this.id()+" .mediaAuth .info-content").innerText=e.mediaAuth):o.css(r,"display","none"),e.uuid?document.querySelector("#"+this.id()+" .uuid .info-content").innerText=e.uuid:(s=document.querySelector("#"+this.id()+" .uuid"),o.css(s,"display","none")),e.requestId?document.querySelector("#"+this.id()+" .requestId .info-content").innerText=e.requestId:(a=document.querySelector("#"+this.id()+" .requestId"),o.css(a,"display","none")),document.querySelector("#"+this.id()+" .dateTime .info-content").innerText=n.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),t=document.querySelector("#"+this.id()),o.css(t,"display","block"),(i=this).playHideHandler&&clearTimeout(i.playHideHandler),i.playHideHandler=setTimeout((function(){i._player.trigger("play_btn_hide")})))},_hide:function(){var e=document.querySelector("#"+this.id());o.css(e,"display","none")},disposeUI:function(){this.playHideHandler&&(clearTimeout(this.playHideHandler),this.playHideHandler=null)}});t.exports=e},{"../../lang/index":23,"../../lib/dom":32,"../../lib/event":33,"../../lib/ua":49,"../../lib/util":51,"../../player/base/event/eventtype":70,"../component":130}],136:[function(e,t,i){var r=e("../component"),n=e("../../player/base/event/eventtype"),o=(e("../../lib/event"),e("../../lib/ua")),a=e("../../lang/index"),s=e("./util");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-fullscreen-btn")},bindEvent:function(){var e=this;this._player.on(n.Player.RequestFullScreen,(function(){o.IS_IOS||e.addClass("fullscreen")})),this._player.on(n.Player.CancelFullScreen,(function(){e.removeClass("fullscreen")})),s.registerTooltipEvent.call(this,this.el(),(function(){return e._player.fullscreenService.getIsFullScreen()?a.get("ExistFullScreen"):a.get("Fullscreen")})),this.on("click",(function(){e._player.fullscreenService.getIsFullScreen()?e._player.fullscreenService.cancelFullScreen():e._player.fullscreenService.requestFullScreen(),e._player.trigger(n.Private.MarkerTextHide)}))}});t.exports=e},{"../../lang/index":23,"../../lib/event":33,"../../lib/ua":49,"../../player/base/event/eventtype":70,"../component":130,"./util":159}],137:[function(e,t,i){"use strict";var r=e("../component"),n=e("../../lib/dom"),o=e("../../player/base/event/eventtype"),a=e("../../lib/ua.js");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-hide")},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML=a.IS_ANDROID_FIREFOX?'<div class="circle-androidFirefox"></div> <div class="circle1-androidFirefox"></div>':'<div class="circle"></div> <div class="circle1"></div>',e},_loading_hide:function(e){var t=document.querySelector("#"+this.id()+" .prism-loading");t&&(n.removeClass(t,"prism-loading"),n.addClass(t,"prism-hide"))},_loading_show:function(e){var t=document.querySelector("#"+this.id()+" .prism-hide");t&&(n.removeClass(t,"prism-hide"),n.addClass(t,"prism-loading"))},bindEvent:function(){this._player.on(o.Private.H5_Loading_Show,this._loading_show),this._player.on(o.Private.H5_Loading_Hide,this._loading_hide)}});t.exports=e},{"../../lib/dom":32,"../../lib/ua.js":49,"../../player/base/event/eventtype":70,"../component":130}],138:[function(e,t,i){var r=e("../component"),n=(e("../../lib/util"),e("../../lib/dom")),o=(e("../../lib/event"),e("../../lib/ua"),e("../../lang/index"),e("../../player/base/event/eventtype"));e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-info-display")},createEl:function(){return r.prototype.createEl.call(this,"p")},bindEvent:function(){var e=this;e._player.on(o.Private.Info_Show,(function(t){var i=document.querySelector("#"+e.id());t=t.paramData;t&&(void 0!==t.text&&t.text?(i.innerHTML=t.text,void 0!==t.duration&&t.duration&&(e.handler&&clearTimeout(e.handler),e.handler=setTimeout((function(){n.css(i,"display","none")}),t.duration)),"lb"==t.align?(n.addClass(i,"prism-info-left-bottom"),n.removeClass(i,"prism-info-top-center")):"tc"==t.align?(n.addClass(i,"prism-info-top-center"),n.removeClass(i,"prism-info-left-bottom")):(n.removeClass(i,"prism-info-left-bottom"),n.removeClass(i,"prism-info-top-center")),t.isBlack?n.addClass(i,"prism-info-black"):n.removeClass(i,"prism-info-black")):i.innerHTML=t,n.css(i,"display","block"))})),e._player.on(o.Private.Info_Hide,(function(t){var i=document.querySelector("#"+e.id());n.css(i,"display","none")}))},disposeUI:function(){this.handler&&(clearTimeout(this.handler),this.handler=null)}});t.exports=e},{"../../lang/index":23,"../../lib/dom":32,"../../lib/event":33,"../../lib/ua":49,"../../lib/util":51,"../../player/base/event/eventtype":70,"../component":130}],139:[function(e,t,i){var r=e("../component"),n=e("../../lang/index");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-license-watermark")},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML='<div class="no-authorization">'+n.get("License_No_Authorization")+'</div><a class="apply-button" target="_blank" href="https://help.aliyun.com/document_detail/434250.html">'+n.get("License_Click_To_Apply")+"</a>",e}});t.exports=e},{"../../lang/index":23,"../component":130}],140:[function(e,t,i){var r=e("../component"),n=e("./util"),o=(e("../../lib/util"),e("../../lib/dom")),a=e("../../lib/event"),s=e("../../lib/playerUtil"),l=e("../../lang/index");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-live-display")},createEl:function(){var e=r.prototype.createEl.call(this,"p");return e.innerText="LIVE",s.isLiveShift(this._player._options)&&o.addClass(e,"live-shift-display"),e},bindEvent:function(){var e=document.querySelector("#"+this.id()),t=this;s.isLiveShift(this._player._options)&&(a.on(e,"click",(function(){t._player._liveshiftService.switchToLive()})),n.registerTooltipEvent.call(this,this.el(),l.get("SwitchToLive")))}});t.exports=e},{"../../lang/index":23,"../../lib/dom":32,"../../lib/event":33,"../../lib/playerUtil":45,"../../lib/util":51,"../component":130,"./util":159}],141:[function(e,t,i){var r=e("../component"),n=(e("../../lib/dom"),e("../../lib/event"),e("../../player/base/event/eventtype")),o=e("../../player/base/plugin/status"),a=e("../../lib/ua.js");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-animation")},bindEvent:function(){var e=this;this._player.on(n.Player.Play,(function(){e._player._isManualPlay&&(e.removeClass("prism-pause-animation"),e.addClass("prism-play-animation"),a.IS_ANDROID_FIREFOX||e.removeClass("play-apply-animation"),e.playHandler&&clearTimeout(e.playHandler),e.playHandler=setTimeout((function(){a.IS_ANDROID_FIREFOX||e.addClass("play-apply-animation")})))})),this._player.on(n.Player.Pause,(function(){var t=e._player._status;t!=o.ended&&t!=o.error&&e._player._isManualPause&&(e.removeClass("prism-play-animation"),e.addClass("prism-pause-animation"),a.IS_ANDROID_FIREFOX||e.removeClass("play-apply-animation"),e.pauseHandler&&clearTimeout(e.pauseHandler),e.pauseHandler=setTimeout((function(){a.IS_ANDROID_FIREFOX||e.addClass("play-apply-animation")})))}))},disposeUI:function(){this.playHandler&&(clearTimeout(this.playHandler),this.playHandler=null),this.pauseHandler&&(clearTimeout(this.pauseHandler),this.pauseHandler=null)}});t.exports=e},{"../../lib/dom":32,"../../lib/event":33,"../../lib/ua.js":49,"../../player/base/event/eventtype":70,"../../player/base/plugin/status":95,"../component":130}],142:[function(e,t,i){var r=e("../component"),n=e("../../player/base/event/eventtype"),o=e("./util"),a=e("../../lang/index");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-play-btn")},bindEvent:function(){var e=this;this._player.on(n.Player.Play,(function(){e.addClass("playing")})),this._player.on(n.Player.Pause,(function(){e.removeClass("playing")})),this.on(n.Private.PlayClick,(function(){var t;e._player.paused()?(t=e._player.getCurrentTime(),(e._player.getDuration()<=t||e._player._ended||e._player.exceedPreviewTime(t))&&e._player.seek(0),e._player.play(!0),e.addClass("playing")):(e._player.pause(!0),e.removeClass("playing")),e._player.trigger(n.Private.MarkerTextHide)})),o.registerTooltipEvent.call(this,this.el(),(function(){return e._player.paused()?a.get("Play"):a.get("Pause")}))}});t.exports=e},{"../../lang/index":23,"../../player/base/event/eventtype":70,"../component":130,"./util":159}],143:[function(e,t,i){var r=e("../component"),n=e("../../lib/dom"),o=(e("../../lib/constants"),e("../../lib/event")),a=e("../../lib/ua"),s=e("../../lib/function"),l=e("../../lang/index"),u=e("../../config"),c=e("../../lib/util"),d=e("../../player/base/event/eventtype"),f=e("./util").debounce;e=r.extend({init:function(e,t){r.call(this,e,t),this._seekTime=-1,this._lastSeekTime=0,this._moving=!1,this._thumbnailHideTimer=null,this.addClass("prism-progress")},createEl:function(){var e=r.prototype.createEl.call(this);return e.innerHTML='<div class="prism-progress-loaded"></div><div class="prism-progress-played"></div><div class="prism-progress-marker"></div><div class="prism-progress-cursor"><img></img></div><p class="prism-progress-time"></p>',e},bindEvent:function(){function e(e){t._progressDown=e}var t=this,i=(this.loadedNode=document.querySelector("#"+this.id()+" .prism-progress-loaded"),this.playedNode=document.querySelector("#"+this.id()+" .prism-progress-played"),this.cursorNode=document.querySelector("#"+this.id()+" .prism-progress-cursor"),this.timeNode=document.querySelector("#"+this._player._options.id+" .prism-progress-time"),this.thumbnailNode=document.querySelector(".prism-thumbnail"),this.controlNode=document.querySelector("#"+this._player._options.id+" .prism-controlbar"),document.querySelector("#"+this.id())),r=document.querySelector("#"+this.id()+" .prism-progress-cursor img"),l="";l=this._player._options.skinsDomain?this._player._options.skinsDomain+"/skins/default/img/dragcursor.png":u.domain?"https://"+u.domain+"/de/prismplayer/"+u.h5Version+"/skins/default/img/dragcursor.png":"/build/skins/default/img/dragcursor.png";r.src=l,o.on(this.cursorNode,"mousedown",(function(e){t._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){t._onMouseDown(e)})),o.on(i,"mousemove",(function(e){t._progressMove(e)})),o.on(i,"touchmove",(function(e){t._progressMove(e)})),o.on(i,"mousedown",(function(t){e(!0)})),o.on(i,"touchstart",(function(t){e(!0)})),o.on(i,"mouseup",(function(t){e(!1)})),o.on(i,"touchend",(function(i){e(!1),t._moving&&a.IS_MOBILE&&(t._player.trigger(d.Private.EndStart,{toTime:t._lastSeekTime}),t._moving=!1)})),o.on(this._el,"click",(function(e){t._onMouseClick(e)})),this._player.on(d.Private.HideProgress,(function(e){t._hideProgress(e)})),this._player.on(d.Private.CancelHideProgress,(function(e){t._cancelHideProgress(e)})),this._player.on(d.Private.HideBar,(function(e){t._player._seeking=!1})),o.on(i,d.Private.MouseOver,(function(e){t._onMouseOver(e)})),o.on(i,d.Private.MouseOut,(function(e){t._onMouseOut(e)})),o.on(this.controlNode,d.Private.MouseLeave,(function(e){t._offMouseUp()})),a.IS_PC?(r=f((function(){n.addClass(i,"prism-progress-hover"),n.addClass(t.cursorNode,"cursor-hover")}),100),o.on(i,"mouseover",r),l=f((function(){n.removeClass(i,"prism-progress-hover"),n.removeClass(t.cursorNode,"cursor-hover"),t._progressDown=!1}),100),o.on(i,"mouseout",l)):(n.addClass(i,"prism-progress-hover"),n.addClass(t.cursorNode,"cursor-hover")),this.bindTimeupdate=s.bind(this,this._onTimeupdate),this._player.on(d.Player.TimeUpdate,this.bindTimeupdate),a.IS_IPAD?this.interval=setInterval((function(){t._onProgress()}),500):this._player.on(d.Video.Progress,(function(){t._onProgress()})),this._player.on(d.Private.UpdateProgress,(function(e){t._updateProgressBar(t.playedNode,e.paramData.targetTime)})),this._player.on(d.Private.UpdateCursorPosition,(function(e){t._updateCursorPosition(e.paramData.targetTime)}))},_progressMove:function(e){e.preventDefault();var t,i,r=this._getSeconds(e);r!=1/0&&(t=c.formatTime(r),i=this._getDistance(e),this.cursorNode)&&(this._player.trigger(d.Private.ThumbnailShow,{time:r,formatTime:t,left:i,progressWidth:this.el().offsetWidth}),this._autoHideThumbnail(),this._progressDown)&&this._onMouseMove(e)},_hideProgress:function(e){o.off(this.cursorNode,"mousedown"),o.off(this.cursorNode,"touchstart")},_cancelHideProgress:function(e){var t=this;o.on(this.cursorNode,"mousedown",(function(e){t._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){t._onMouseDown(e)}))},_canSeekable:function(e){var t=!0;return"function"==typeof this._player.canSeekable?this._player.canSeekable(e):t},_onMouseOver:function(e){this._cursorHideHandler&&(clearTimeout(this._cursorHideHandler),this._cursorHideHandler=null),this._mouseInProgress||this._updateCursorPosition(this._player.getCurrentTime()),this._mouseInProgress=!0},_onMouseOut:function(e){var t=this;this._cursorHideHandler&&clearTimeout(this._cursorHideHandler),this._cursorHideHandler=setTimeout((function(){t._player.trigger(d.Private.ThumbnailHide),t._mouseInProgress=!1}))},_getSeconds:function(e){e=this._getDistance(e);var t=this.el().offsetWidth;e=this._player.getDuration()?e/t*this._player.getDuration():0;return(e=e<0?0:e)>this._player.getDuration()?this._player.getDuration():e},_getDistance:function(e){for(var t=this.el().offsetLeft,i=this.el();i=i.offsetParent;){var r=n.getTranslateX(i);t+=i.offsetLeft+r}return e=(e.touches?e.touches[0]:e).pageX-t,e<0?0:e},_onMouseClick:function(e){var t=this,i=t._getSeconds(e);t._canSeekable(i)?(t._player.exceedPreviewTime(i)&&(i=t._player.getPreviewTime()),this._seekTime=i,t._updateProgressBar(this.playedNode,i),t._updateCursorPosition(i),this._mouseClickTimeHandle&&clearTimeout(this._mouseClickTimeHandle),this._mouseClickTimeHandle=setTimeout((function(){t._player._seeking=!0,t._mouseDown&&!a.IS_MOBILE||(t._player.trigger(d.Private.SeekStart,{fromTime:t._player.getCurrentTime()}),t._player.trigger(d.Private.EndStart,{toTime:i})),t._player.seek(i),t._mouseDown=!1,t._mouseClickTimeHandle=null,t._inWaitingSeek=!1}),0),this._inWaitingSeek=!0):t._player.trigger(d.Private.Info_Show,{text:l.get("Can_Not_Seekable"),duration:2e3})},_onMouseDown:function(e){var t=this;e.preventDefault(),this._mouseDown=!0,a.IS_PC&&this._player.trigger(d.Private.SeekStart,{fromTime:this._player.getCurrentTime()}),o.on(this.controlNode,"mousemove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"touchmove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"mouseup",(function(e){t._onControlBarMouseUp(e)})),o.on(this.controlNode,"touchend",(function(e){t._onControlBarMouseUp(e)})),e=t._getSeconds(e);t._canSeekable(e)?t._player.exceedPreviewTime(e)&&t._player.getPreviewTime():t._player.trigger(d.Private.Info_Show,{text:l.get("Can_Not_Seekable"),duration:2e3})},_onMouseUp:function(e){this._onMouseUpIntern(e)},_onControlBarMouseUp:function(e){this._onMouseUpIntern(e)},_onPlayerMouseUp:function(e){this._onMouseUpIntern(e)},_offMouseUp:function(){o.off(this.controlNode,"mousemove"),o.off(this.controlNode,"touchmove"),o.off(this.controlNode,"mouseup"),o.off(this.controlNode,"touchend")},_onMouseUpIntern:function(e){e.preventDefault(),this._offMouseUp(),e=this.playedNode.offsetWidth/this.el().offsetWidth*this._player.getDuration(),this._player.getDuration(),isNaN(e)||this._player.seek(e),a.IS_PC&&this._player.trigger(d.Private.EndStart,{toTime:e}),this._autoHideThumbnail()},_onMouseMove:function(e){e.preventDefault(),!this._moving&&a.IS_MOBILE&&(this._player.trigger(d.Private.SeekStart,{fromTime:this._player.getCurrentTime()}),this._moving=!0),e=this._getSeconds(e),this._player.exceedPreviewTime(e)&&(e=this._player.getPreviewTime()),this._player.seek(e),this._updateProgressBar(this.playedNode,e),this._updateCursorPosition(e),this._lastSeekTime=e},_onTimeupdate:function(e){var t=this._player._options.source,i=(t=this._getUrlSuffix(t),!1);"mp4"===t&&(a.IS_MAC_SAFARI&&(i=!0),a.IS_IOS&&(i=!0),a.IS_IE11)&&(i=!0),"m3u8"===t&&a.IS_IE11&&(i=!0),"audio"==this._player._options.mediaType&&a.IS_IOS&&(this._player._seeking=!1),(this._inWaitingSeek||this._player._seeking&&!a.IS_EDGE||this._progressDown)&&!i||(this._updateProgressBar(this.playedNode,this._player.getCurrentTime()),this._updateCursorPosition(this._player.getCurrentTime()),this._player.trigger(d.Private.UpdateProgressBar,{time:this._player.getCurrentTime()}))},_onProgress:function(e){this._player.getDuration()&&1<=this._player.getBuffered().length&&this._updateProgressBar(this.loadedNode,this._player.getBuffered().end(this._player.getBuffered().length-1))},_updateProgressBar:function(e,t){var i=this._player.getDuration();1!=this._player._switchSourcing&&i&&(-1!=this._seekTime&&(this._player.getCurrentTime()>=this._seekTime||!this._player._seeking?this._seekTime=-1:t=this._seekTime),1<(t=t/i+.005)&&(t=1),e)&&n.css(e,"width",100*t+"%")},_updateCursorPosition:function(e){var t,i,r,o=this._player.getDuration();1!=this._player._switchSourcing&&o&&(t=1,i=10/(r=this._player.el().clientWidth),0!=r&&(t=1-i),r=(r=e/o-i)<0?0:r,this.cursorNode)&&(t<r?(n.css(this.cursorNode,"right","0px"),n.css(this.cursorNode,"left","auto")):(n.css(this.cursorNode,"right","auto"),n.css(this.cursorNode,"left",100*r+"%")))},_getUrlSuffix:function(e){return e&&"string"==typeof e?((e=(e.split("?")[0]||"").split("."))[e.length-1]||"").toLowerCase():""},_autoHideThumbnail:function(){var e=this;a.IS_MOBILE&&(this._thumbnailHideTimer&&clearTimeout(this._thumbnailHideTimer),this._thumbnailHideTimer=setTimeout((function(){e._moving||e._player.trigger(d.Private.ThumbnailHide)}),2e3))},disposeUI:function(){this._seekTime=-1,this._lastSeekTime=0,this._moving=!1,this.cursorNodeHandler&&(clearTimeout(this.cursorNodeHandler),this.cursorNodeHandler=null),this._cursorHideHandler&&(clearTimeout(this._cursorHideHandler),this._cursorHideHandler=null),this._mouseClickTimeHandle&&(clearTimeout(this._mouseClickTimeHandle),this._mouseClickTimeHandle=null)}});t.exports=e},{"../../config":14,"../../lang/index":23,"../../lib/constants":28,"../../lib/dom":32,"../../lib/event":33,"../../lib/function":35,"../../lib/ua":49,"../../lib/util":51,"../../player/base/event/eventtype":70,"../component":130,"./util":159}],144:[function(e,t,i){var r=e("../component"),n=(e("../../lib/util"),e("../../lib/dom")),o=e("../../lib/event"),a=e("../../player/base/event/eventtype");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-marker-text")},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML="<p></p>",e},bindEvent:function(){var e=this;e._player.on(a.Private.MarkerTextShow,(function(t){var i=t.paramData,r=a.Player.MarkerDotOver;e._player.trigger(r,t.paramData),i.progressMarker.isCustomized?e._player.trigger(a.Private.LifeCycleChanged,{type:r,data:t.paramData}):(e._thumbnailShowHanlde&&(n.css(e.el(),"display","none"),clearTimeout(e._thumbnailShowHanlde)),e._thumbnailShowHanlde=setTimeout((function(){var t;document.querySelector("#"+e.id()+" p").innerText=i.progressMarker.text||"",i&&(n.css(e.el(),"display","block"),t=e._player.el().offsetWidth,left=t*i.left,width=e.el().offsetWidth,left+width>t?(n.css(e.el(),"right","0px"),n.css(e.el(),"left","auto")):(left=(left-=width/2)<0?0:left,n.css(e.el(),"right","auto"),n.css(e.el(),"left",left+"px")))}),30))})),e._player.on(a.Private.MarkerTextHide,(function(t){e._player.trigger(a.Player.MarkerDotOut),e._player.trigger(a.Private.LifeCycleChanged,{type:a.Player.MarkerDotOut,data:""}),e._thumbnailShowHanlde&&clearTimeout(e._thumbnailShowHanlde),n.css(e.el(),"display","none")})),o.on(e._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e._player.trigger(a.Private.MarkerTextHide)})),o.on(e._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e._player.trigger(a.Private.MarkerTextHide)}))},disposeUI:function(){this._thumbnailShowHanlde&&(clearTimeout(this._thumbnailShowHanlde),this._thumbnailShowHanlde=null)}});t.exports=e},{"../../lib/dom":32,"../../lib/event":33,"../../lib/util":51,"../../player/base/event/eventtype":70,"../component":130}],145:[function(e,t,i){var r=e("./selector"),n=e("../../../lib/object"),o=(e("../../../lib/util"),e("../../../lib/cookie")),a=e("../../../lib/dom"),s=(e("../../../lib/event"),e("../../../lib/constants")),l=e("../../../lang/index"),u=e("../../../player/base/event/eventtype");e=r.extend({init:function(e,t){this.Name=l.get("Quality"),this.Type="quality",this.Tooltip=l.get("Quality_Switch_To"),r.call(this,e,t),this._isMasterLevel=!1},showTip:function(e,t){this._player.trigger(u.Private.Info_Show,{text:e,duration:t,align:"lb"})},bindEvent:function(){this.bindCommonEvent();var e=this,t=(this._player.on(u.Private.QualityChange,(function(t){var i,r,n=0<e._player._urls.length?e._player._urls:e._player._qualityService.levels;(data=t.paramData).levelSwitch?(i=data.desc||data.bitrate,e._autoSWitchDesc=i,e._updateText(i)):0<e._player._currentPlayIndex&&(e._autoSWitchDesc="",r=n[(i=e._player._currentPlayIndex)-1].desc,n=n[i].desc,e.showTip(r+t.paramData+n,1e3),e._player.trigger(u.Private.SelectorValueChange,{type:e.Type,text:n}))})),document.querySelector("#"+e.id()+" .selector-list"));this._player.on(u.Player.LevelSwitch,(function(){a.addClass(t,"disabled")})),this._player.on(u.Player.LevelSwitched,(function(){a.removeClass(t,"disabled")}))},generateList:function(e){var t,i=this._player._urls,r=this._player._currentPlayIndex,o=this._player._qualityService.levels,s=(0<o.length&&(this._isMasterLevel=!0,this._player._options.isVBR)&&(r=(i=o).length-1),document.querySelector("#"+this.id()+" .selector-list"));0<i.length&&(t=this,n.each(i,(function(e,i){var n,o;(e.desc||e.bitrate)&&(n=a.createEl.call(this,"li",{key:e.Url,index:i,text:e.desc||e.bitrate}),o=a.createEl.call(this,"span",{key:e.Url,index:i,text:e.desc||e.bitrate}),i==r&&(a.addClass(n,"current"),t._previousSelection=n),o.innerText=e.desc||e.bitrate,n.appendChild(o),s.appendChild(n))}))),this._autoSWitchDesc&&this._updateText(this._autoSWitchDesc)},execute:function(e){if(this._player._switchSourcing=!0,this._isMasterLevel){for(var t,i=this._player._qualityService.levels,r=0;r<i.length;r++)i[r].Url==e&&i[r].desc!=l.get("Auto")&&(t=i[r],this._resetAutoText());this._player._switchLevel?this._player._switchLevel(e,t||{isAuto:!0}):(n=this._player.autoplay||"pause"!=this._player._status,this._player._loadByUrlInner(e,this._player.getCurrentTime(),n))}else{var n,a=this._player._urls.length,u=this._player._currentPlayIndex,c=-1;for(r=0;r<a;r++)if(this._player._urls[r].Url==e){c=this._player._currentPlayIndex=r,o.set(s.SelectedStreamLevel,this._player._urls[r].definition,365);break}u!=c&&-1<c&&(u=this._player.getCurrentTime(),n=this._player.autoplay||"pause"!=this._player._status,this._player.autoplay||0!=u||(n=!1),this._player._switchLevel&&!this._player._options.isLive?this._player._switchLevel(e):this._player._loadByUrlInner(e,u,n,!0))}var d=this;setTimeout((function(){d._player._switchSourcing=!1}))},_updateText:function(e){var t=document.querySelector("#"+this.id()+" .selector-list .current"),i=document.querySelector("#"+this.id()+" .selector-list .current span"),r=l.get("Auto");i&&i.innerText&&-1<i.innerText.indexOf(r)&&(i.innerText=r+=e?"("+e+")":"",t)&&(t.text=r)},_resetAutoText:function(){for(var e=l.get("Auto"),t=document.querySelectorAll("#"+this.id()+" .selector-list li"),i=0;i<=t.length;i++){var r=t[i],n=r.querySelector("span");if(-1<n.innerText.indexOf(e)){n.innerText=e,r.text=e;break}}}});t.exports=e},{"../../../lang/index":23,"../../../lib/constants":28,"../../../lib/cookie":29,"../../../lib/dom":32,"../../../lib/event":33,"../../../lib/object":42,"../../../lib/util":51,"../../../player/base/event/eventtype":70,"./selector":151}],146:[function(e,t,i){var r=e("./selector"),n=e("../../../lib/object"),o=(e("../../../lib/util"),e("../../../lib/cookie"),e("../../../lib/dom")),a=(e("../../../lib/event"),e("./util"),e("../../../lang/index")),s=e("../../../player/base/event/eventtype");e=r.extend({init:function(e,t){this.Name=a.get("AudioTrack"),this.Type="audio",this.Tooltip=a.get("AudioTrack_Switch_To"),r.call(this,e,t)},bindEvent:function(){this.bindCommonEvent();var e=this,t=document.querySelector("#"+e.id()+" .selector-list");document.querySelector("#"+e.id()+" .header"),e._player.on(s.Private.ChangeURL,(function(){e._hasGeneratedList=!1})),this._player.on(s.Player.AudioTrackSwitch,(function(){o.addClass(t,"disabled")})),this._player.on(s.Player.AudioTrackSwitched,(function(){o.removeClass(t,"disabled")})),e._player.on(s.Player.AudioTrackReady,(function(i){!e._hasGeneratedList&&(e._clear(),i=i.paramData)&&(n.each(i,(function(i,r){var n=o.createEl.call(e,"li",{key:i.value,text:i.text}),a=o.createEl.call(e,"span",{key:i.value,text:i.text});a.innerText=i.text,n.appendChild(a),t.appendChild(n)})),e._hasGeneratedList=!0)}))},execute:function(e){this._player._audioTrackService.switch(e)}});t.exports=e},{"../../../lang/index":23,"../../../lib/cookie":29,"../../../lib/dom":32,"../../../lib/event":33,"../../../lib/object":42,"../../../lib/util":51,"../../../player/base/event/eventtype":70,"./selector":151,"./util":153}],147:[function(e,t,i){var r=e("../../component"),n=(e("../../../lib/dom"),e("../../../player/base/event/eventtype")),o=e("./list"),a=e("../../../lang/index"),s=e("../util");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass(t.className||"prism-setting-btn"),this._settingList=new o(e,t),e.addChild(this._settingList,t)},createEl:function(){return r.prototype.createEl.call(this,"div")},bindEvent:function(){var e=this;this.on("click",(function(){e._settingList.isOpened?e._player.trigger(n.Private.SettingListHide):e._player.trigger(n.Private.SettingListShow),e._player.trigger(n.Private.SelectorHide),e._player.trigger(n.Private.MarkerTextHide),e._player.trigger(n.Private.VolumeVisibilityChange,"")})),s.registerTooltipEvent.call(this,this.el(),a.get("Setting"))}});t.exports=e},{"../../../lang/index":23,"../../../lib/dom":32,"../../../player/base/event/eventtype":70,"../../component":130,"../util":159,"./list":150}],148:[function(e,t,i){var r=e("./selector"),n=e("../../../lib/object"),o=e("../../../lib/dom"),a=(e("../../../lib/event"),e("./util"),e("../../../lib/cookie")),s=e("../../../lib/constants"),l=e("../../../lang/index"),u=e("../../../player/base/event/eventtype");e=r.extend({init:function(e,t){this.Name=l.get("Subtitle"),this.Type="cc",this.Tooltip=l.get("CC_Switch_To"),r.call(this,e,t)},bindEvent:function(){this.bindCommonEvent();var e=this;this._player.on(u.Private.CCStateChanged,(function(t){var i=t.paramData.value;t=t.paramData.lang,"on"==i&&t?e._backCCText=t:"off"==i&&""==e._backCCText&&(e._backCCText=e._previousSelection.text),t="Off";"on"==i&&(t=e._backCCText),e._player.trigger(u.Private.SelectorUpdateList,{type:"cc",text:t})}))},generateList:function(e){var t=document.querySelector("#"+this.id()+" .selector-list"),i=this._player._ccService.tracks,r=this;n.each(i,(function(i,n){var a=o.createEl.call(this,"li",{key:i.value,text:i.text}),s=o.createEl.call(this,"span",{key:i.value,text:i.text});i.text==e&&(o.addClass(a,"current"),r._previousSelection=a),s.innerText=i.text,a.appendChild(s),t.appendChild(a)}))},execute:function(e){this._backCCText="",a.set(s.SelectedCC,e,365),this._player._ccService.switch(e)}});t.exports=e},{"../../../lang/index":23,"../../../lib/constants":28,"../../../lib/cookie":29,"../../../lib/dom":32,"../../../lib/event":33,"../../../lib/object":42,"../../../player/base/event/eventtype":70,"./selector":151,"./util":153}],149:[function(e,t,i){t.exports={CC:e("./cc"),Speed:e("./speed"),Quality:e("./Quality"),Audio:e("./audio")}},{"./Quality":145,"./audio":146,"./cc":148,"./speed":152}],150:[function(e,t,i){var r=e("../../component"),n=e("../../../lib/dom"),o=e("../../../lib/ua"),a=e("../../../lib/event"),s=e("../../../player/base/event/eventtype"),l=e("./export"),u=e("./util"),c=e("../../../lang/index");e=r.extend({init:function(e,t){for(var i in this.isOpened=!1,r.call(this,e,t),this.addClass(t.className||"prism-setting-list"),l)i=new l[i](e,t),e.addChild(i,t)},createEl:function(){var e=r.prototype.createEl.call(this,"div"),t="<div class='prism-setting-item prism-setting-{type}' type={type}><div class='setting-content'><span class='setting-title'>{value}</span><span class='array'></span><span class='current-setting'></span></div></div>",i=t.replace(/{type}/g,"speed").replace("{value}",c.get("Speed")),n=t.replace(/{type}/g,"cc").replace("{value}",c.get("Subtitle")),o=t.replace(/{type}/g,"audio").replace("{value}",c.get("AudioTrack"));t=t.replace(/{type}/g,"quality").replace("{value}",c.get("Quality"));return e.innerHTML=i+n+o+t,e},bindEvent:function(){function e(){i._player.trigger(s.Private.SettingListHide),i.isOpened=!1}function t(e){e&&e.text&&(document.querySelector("#"+i.id()+" .prism-setting-"+e.type+" .current-setting").innerText=e.text)}var i=this,r=(this._player.on(s.Private.SettingListShow,(function(e){i.isOpened=!0,e=e.paramData,t(e),n.css(i.el(),"display","block")})),this._player.on(s.Private.UpdateToSettingList,(function(e){e=e.paramData,t(e)})),this._player.on(s.Private.SelectorUpdateList,(function(e){e=e.paramData,t(e),i._player.trigger(s.Private.SelectorValueChange,e)})),this._player.on(s.Private.SettingListHide,(function(){i.isOpened=!1,n.css(i.el(),"display","none")})),a.on(this.el(),"click",(function(e){i._player.trigger(s.Private.SettingListHide);e=e.srcElement||e.target;(e=u.findItemElementForList(e))&&(e=e.getAttribute("type"),i._player.trigger(s.Private.SelectorShow,{type:e}))})),o.IS_MOBILE?"touchleave":"mouseleave");a.on(this.el(),r,(function(){e()})),a.on(this._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e()})),a.on(this._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e()})),this._player.on(s.Private.QualityChange,(function(e){var t,r;e=e.paramData;e.levelSwitch&&(t=document.querySelector("#"+i.id()+" .prism-setting-quality .current-setting"),r=c.get("Auto"),-1<t.innerText.indexOf(r))&&(t.innerText=r+(e.desc?"("+e.desc+")":""))}))}});t.exports=e},{"../../../lang/index":23,"../../../lib/dom":32,"../../../lib/event":33,"../../../lib/ua":49,"../../../player/base/event/eventtype":70,"../../component":130,"./export":149,"./util":153}],151:[function(e,t,i){var r=e("../../component"),n=(e("../../../lib/object"),e("../../../lib/util"),e("../../../lib/ua")),o=(e("../../../lib/cookie"),e("../../../lib/dom")),a=e("../../../lib/event"),s=e("./util"),l=(e("../../../lang/index"),e("../../../player/base/event/eventtype"));e=r.extend({init:function(e,t){this._hasGeneratedList=!1,this._previousSelection=null,this._backupSelector="",r.call(this,e,t),this.className=t.className||"prism-"+this.Type+"-selector prism-setting-selector",this.addClass(this.className)},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML='<div class="header"><div class="left-array"></div><span>'+this.Name+'</span></div><ul class="selector-list"></ul>',e},bindEvent:function(){this.bindCommonEvent()},bindCommonEvent:function(){var e=this,t=document.querySelector("#"+e.id()+" .selector-list"),i=document.querySelector("#"+e.id()+" .header");function r(){e._hasGeneratedList||(e._clear(),e.generateList(e._backupSelector),e._backupSelector="",e._hasGeneratedList=!0)}this._player.on(l.Private.ChangeURL,(function(){e._hasGeneratedList=!1})),a.on(i,"click",(function(){e._player.trigger(l.Private.SelectorHide),e._player.trigger(l.Private.SettingListShow,{type:e.Type,text:e._previousSelection?e._previousSelection.text:""})})),a.on(t,"click",(function(t){t=t.srcElement||t.target;var i=t.key,r=t.text;void 0!==r&&(e._previousSelection&&o.removeClass(e._previousSelection,"current"),e._previousSelection=s.findliElementForSelector(t),o.addClass(e._previousSelection,"current"),e.execute&&e.execute(i),t=e.Tooltip+"<span>"+r+"</span>",e._player.trigger(l.Private.Info_Show,{text:t,duration:1e3,align:"lb"}))})),e._player.on(l.Private.SelectorHide,(function(){u()})),e._player.on(l.Private.SelectorValueChange,(function(t){var i=t.paramData;if(i&&i.type==e.Type){var r=document.querySelectorAll("#"+e.id()+" .selector-list li");if(r){var n=r.length;0==n&&(e._backupSelector=i.text);for(var a=0;a<n;a++)if(r[a].text==i.text){e._previousSelection&&o.removeClass(e._previousSelection,"current"),o.addClass(r[a],"current"),e._previousSelection=r[a];break}}}})),e._player.on(l.Private.SettingListShow,(function(){r()})),e._player.on(l.Private.SelectorGenerateList,(function(t){var i=t.paramData&&t.paramData.type;t=t.paramData&&t.paramData.value;i===e.Type&&(e._hasGeneratedList=!1,t&&(e._backupSelector=t),r())})),e._player.on(l.Private.SelectorShow,(function(t){(t=t.paramData).type==e.Type&&(t=document.querySelector("#"+e._player.id()+" .prism-"+t.type+"-selector"),e._hasGeneratedList||r(),o.css(t,"display","block"))}));var u=function(){o.css(e.el(),"display","none"),e._player.trigger(l.Private.UpdateToSettingList,{type:e.Type,text:e._previousSelection?e._previousSelection.text:""})};i=n.IS_MOBILE?"touchleave":"mouseleave";a.on(this.el(),i,(function(){u()})),a.on(this._player.tag,"click",(function(e){e&&e.target==e.currentTarget&&u()})),a.on(this._player.tag,"touchstart",(function(e){e&&e.target==e.currentTarget&&u()}))},setSelected:function(e){},generateList:function(){},_clear:function(){document.querySelector("#"+this.id()+" .selector-list").innerHTML=""}});t.exports=e},{"../../../lang/index":23,"../../../lib/cookie":29,"../../../lib/dom":32,"../../../lib/event":33,"../../../lib/object":42,"../../../lib/ua":49,"../../../lib/util":51,"../../../player/base/event/eventtype":70,"../../component":130,"./util":153}],152:[function(e,t,i){var r=e("./selector"),n=e("../../../lib/object"),o=(e("../../../lib/util"),e("../../../lib/cookie"),e("../../../lib/dom")),a=(e("../../../lib/event"),e("./util"),e("../../../lib/constants")),s=e("../../../lang/index");e("../../../player/base/event/eventtype"),e=r.extend({init:function(e,t){this.Name=s.get("Speed"),this.Type="speed",this.Tooltip=s.get("Speed_Switch_To"),r.call(this,e,t)},generateList:function(){var e=document.querySelector("#"+this.id()+" .selector-list"),t=a.SpeedLevels,i=this;n.each(t,(function(t,r){var n=o.createEl.call(this,"li",{key:t.key,text:t.text}),a=o.createEl.call(this,"span",{key:t.key,text:t.text});a.innerText=t.text,t.text==s.get("Speed_1X_Text")&&(o.addClass(n,"current"),i._previousSelection=n),n.appendChild(a),e.appendChild(n)}))},execute:function(e){this._player.setSpeed(e)}});t.exports=e},{"../../../lang/index":23,"../../../lib/constants":28,"../../../lib/cookie":29,"../../../lib/dom":32,"../../../lib/event":33,"../../../lib/object":42,"../../../lib/util":51,"../../../player/base/event/eventtype":70,"./selector":151,"./util":153}],153:[function(e,t,i){t.exports.findliElementForSelector=function(e){var t;return e&&"li"!=e.tagName.toLowerCase()?(t=e.parentElement)&&"li"==t.tagName.toLowerCase()?t:null:e},t.exports.findliElementByKey=function(e,t){return document.querySelectors(e),null},t.exports.findItemElementForList=function(e){var i;return!e||-1<e.className.indexOf("prism-setting-item")||(i=e.parentElement)&&(e=t.exports.findItemElementForList(i)),e}},{}],154:[function(e,t,i){var r=e("../component"),n=e("../../lib/dom"),o=e("../../lib/util"),a=e("../../lang/index"),s=e("../../player/base/event/eventtype"),l=e("./util"),u=(e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-snapshot-btn")},createEl:function(){return r.prototype.createEl.call(this,"div")},bindEvent:function(){var e=this,t=this._player;t.on(s.Private.Snapshot_Hide,(function(){n.css(e._el,"display","none")})),l.registerTooltipEvent.call(this,this.el(),a.get("Snapshot")),this.on("click",(function(){e.trigger(s.Player.Snapshoting);var i=document.createElement("canvas"),r=t.tag,n=r.videoWidth,a=r.videoHeight,l=t._getSanpshotMatric(),c=(i.width=l.width||n,i.height=l.height||a,t.getCurrentTime()),d=i.getContext("2d"),f=(d.save(),t.getImage());"vertical"==f?(d.translate(0,i.height),d.scale(1,-1)):"horizon"==f&&(d.translate(i.width,0),d.scale(-1,1)),f=r,t._splayer&&(f=t._el.querySelector("canvas")),d.drawImage(f,0,0,n,a),d.restore(),u(d,t.getOptions()),r="",f="";try{r=i.toDataURL("image/jpeg",l.rate||1)}catch(i){f=i}n="",a="",r&&(d=(n=r).substr(n.indexOf(",")+1),a=o.toBinary(d)),e.trigger(s.Player.Snapshoted,{time:c,base64:n,binary:a,error:f})}))}}),function(e,t){t=t.snapshotWatermark,t&&t.text&&(e.font=t.font,t.fillColor&&(e.fillStyle=t.fillColor,e.fillText(t.text,t.left,t.top)),t.strokeColor&&(e.strokeStyle=t.strokeColor,e.strokeText(t.text,t.left,t.top)),e.stroke())});t.exports=e},{"../../lang/index":23,"../../lib/dom":32,"../../lib/util":51,"../../player/base/event/eventtype":70,"../component":130,"./util":159}],155:[function(e,t,i){var r=e("../component");e("../../lib/dom"),e("../../player/base/event/eventtype"),e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-text-overlay")},createEl:function(){return r.prototype.createEl.call(this,"div")},_hide:function(e){},_show:function(e){},bindEvent:function(){}});t.exports=e},{"../../lib/dom":32,"../../player/base/event/eventtype":70,"../component":130}],156:[function(e,t,i){var r=e("../component"),n=(e("../../lib/util"),e("../../lib/dom")),o=e("../../lib/event"),a=(e("../../lib/ua"),e("../../lang/index"),e("../../player/base/event/eventtype")),s=e("./util");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-thumbnail")},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML="<img></img><span></span>",e},bindEvent:function(){var e=this,t=(o.on(this._el,"mousemove",(function(e){e.preventDefault()})),o.on(this._el,"touchmove",(function(e){e.preventDefault()})),e._player.on(a.Private.ThumbnailLoaded,(function(t){var i,r,o;t=t.paramData;t&&0<t.length&&(i=e._player._thumbnailService.makeUrl(t[0].text),e._player.log("THUMBNAILSTART",{tu:encodeURIComponent(i)}),r=(new Date).getTime(),t[0].isBig?(n.css(e.el(),"background","url("+i+")"),n.css(e.el(),"width",t[0].w+"px"),n.css(e.el(),"height",t[0].h+"px"),e._player.log("THUMBNAILCOMPLETE",{ftt:(new Date).getTime()-r})):((o=document.querySelector("#"+e.id()+" img")).onload=function(){var t=o.width,i=o.height;n.css(e.el(),"width",t+"px"),n.css(e.el(),"height",i+"px"),e._player.log("THUMBNAILCOMPLETE",{ftt:(new Date).getTime()-r})},o.src=i))})),s.throttle((function(t){t=t[0];var i,r,o,a=document.querySelector("#"+e.id()+" span");t=t.paramData;a.innerText=t.formatTime,t&&((i=e._player._thumbnailService.findAvailableCue(t.time))?i.isBig?(r=e._player._thumbnailService.makeUrl(i.text),n.css(e.el(),"background","url("+r+")"),i.w,i.h,o=-1*i.x+"px "+-1*i.y+"px",n.css(e.el(),"background-position",o)):(o=document.querySelector("#"+e.id()+" img"),r=e._player._thumbnailService.makeUrl(i.text),o.src!=r&&(o.src=r)):(n.css(e.el(),"border","none"),n.css(a,"left","0px")),n.css(e.el(),"display","block"),o=0,r=(i?e.el():a).offsetWidth,o=t.left+r>t.progressWidth?t.left-r:(o=t.left-r/2)<0?0:o,n.css(e.el(),"left",o+"px"))}),30));e._player.on(a.Private.ThumbnailShow,t),e._player.on(a.Private.ThumbnailHide,(function(t){n.css(e.el(),"display","none")}))},_createSamllThumbnail:function(){},disposeUI:function(){}});t.exports=e},{"../../lang/index":23,"../../lib/dom":32,"../../lib/event":33,"../../lib/ua":49,"../../lib/util":51,"../../player/base/event/eventtype":70,"../component":130,"./util":159}],157:[function(e,t,i){var r=e("../component"),n=e("../../lib/util"),o=e("../../player/base/event/eventtype");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-time-display")},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML='<span class="current-time">00:00</span> <span class="time-bound">/</span> <span class="duration">00:00</span>',e},bindEvent:function(){var e=this;this._player.on(o.Video.DurationChange,(function(){var t=n.formatTime(e._player.getDisplayDuration());t?(document.querySelector("#"+e.id()+" .time-bound").style.display="inline",document.querySelector("#"+e.id()+" .duration").style.display="inline",document.querySelector("#"+e.id()+" .duration").innerText=t):(document.querySelector("#"+e.id()+" .duration").style.display="none",document.querySelector("#"+e.id()+" .time-bound").style.display="none")})),this._player.on(o.Video.TimeUpdate,(function(){var t=e._player.getCurrentTime();t=n.formatTime(t);document.querySelector("#"+e.id()+" .current-time")&&(t?(document.querySelector("#"+e.id()+" .current-time").style.display="inline",document.querySelector("#"+e.id()+" .current-time").innerText=t):document.querySelector("#"+e.id()+" .current-time").style.display="none")}))}});t.exports=e},{"../../lib/util":51,"../../player/base/event/eventtype":70,"../component":130}],158:[function(e,t,i){var r=e("../component"),n=e("../../lib/dom"),o=e("../../player/base/event/eventtype");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-tooltip")},createEl:function(){var e=r.prototype.createEl.call(this,"p");return e.innerText="\u63d0\u793a\u4fe1\u606f",e},bindEvent:function(){var e=this;e._player.on(o.Private.TooltipShow,(function(t){var i=document.querySelector("#"+e.id()),r=(t=t.paramData,i.innerText=t.text,n.css(i,"display","block"),i.offsetWidth),o=document.querySelector("#"+e._player.id()+" .prism-controlbar");o&&(o=o.offsetWidth,t.left+r>o?n.css(i,"left",o-r+"px"):n.css(i,"left",t.left-(r-t.width)/2+"px"))})),e._player.on(o.Private.TooltipHide,(function(t){var i=document.querySelector("#"+e.id());n.css(i,"display","none")}))}});t.exports=e},{"../../lib/dom":32,"../../player/base/event/eventtype":70,"../component":130}],159:[function(e,t,i){var r=e("../../lib/event"),n=e("../../player/base/event/eventtype");t.exports.registerTooltipEvent=function(e,t){function i(){o._controlbarTooltipHandler&&(clearTimeout(o._controlbarTooltipHandler),o._controlbarTooltipHandler=null)}var o=this;r.on(this.el(),"mouseover",(function(e){i(),o._controlbarTooltipHandler=setTimeout((function(){o._player.trigger(n.Private.TooltipHide)}),4e3);var r=o.el().offsetLeft,a=o.el().offsetWidth,s=t;"function"==typeof t&&(s=t.call(this)),o._player.trigger(n.Private.TooltipShow,{left:r,width:a,text:s})})),r.on(this.el(),"mouseout",(function(){i(),o._player.trigger(n.Private.TooltipHide)}))},t.exports.throttle=function(e,t){var i=Date.now();return function(){var r=arguments,n=Date.now();t<=n-i&&(e(r),i=n)}},t.exports.debounce=function(e,t){var i;return function(){var r=this,n=arguments;clearTimeout(i),i=setTimeout((function(){e.apply(r,n)}),t)}}},{"../../lib/event":33,"../../player/base/event/eventtype":70}],160:[function(e,t,i){var r=e("../component"),n=e("../../lib/dom"),o=e("../../lib/event"),a=e("../../player/base/event/eventtype"),s=e("./util"),l=e("../../lang/index"),u=e("./volumecontrol");e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-volume");var i=new u(e,t);e.addChild(i,t),this.volumeControl=i},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML='<div class="volume-icon"><div class="short-horizontal"></div><div class="long-horizontal"></div></div>',e},bindEvent:function(){var e=this,t=e._player,i=(this.icon=document.querySelector("#"+e.id()+"  .volume-icon"),s.registerTooltipEvent.call(this,this.el(),(function(){return e._player.muted()||0==e._player.getVolume()?l.get("Muted"):l.get("Volume")})),o.on(this.icon,"click",(function(i){var r;e.volumeControl._shown?t.muted()?t.unMute():t.mute():(r=e.el().offsetLeft,e._player.trigger(a.Private.SettingListHide),e._player.trigger(a.Private.SelectorHide),e._player.trigger(a.Private.VolumeVisibilityChange,r),e._player.trigger(a.Private.MarkerTextHide))})),document.querySelector("#"+e.id()+"  .long-horizontal")),r=document.querySelector("#"+e.id()+"  .short-horizontal");o.on(this.el(),"mouseover",(function(){n.removeClass(i,"volume-hover-animation"),setTimeout((function(){n.addClass(i,"volume-hover-animation")})),setTimeout((function(){n.removeClass(i,"volume-hover-animation"),n.addClass(r,"volume-hover-animation"),setTimeout((function(){n.removeClass(r,"volume-hover-animation"),n.addClass(i,"volume-hover-animation")}),300)}),300)})),o.on(window,"resize",(function(){var t;e.volumeControl._shown&&(t=e.el().offsetLeft,e._player.trigger(a.Private.VolumeUpdatePosition,t))}))}});t.exports=e},{"../../lang/index":23,"../../lib/dom":32,"../../lib/event":33,"../../player/base/event/eventtype":70,"../component":130,"./util":159,"./volumecontrol":161}],161:[function(e,t,i){var r=e("../component"),n=e("../../lib/dom"),o=e("../../lib/event"),a=e("../../player/base/event/eventtype");e("./util"),e("../../lang/index"),e=r.extend({init:function(e,t){r.call(this,e,t),this.addClass("prism-volume-control"),this._shown=!1},createEl:function(){var e=r.prototype.createEl.call(this,"div");return e.innerHTML='<div class="volume-range"><div class="volume-value"></div><div class="volume-cursor"></div></div>',e},bindEvent:function(){var e=this;this.icon=document.querySelector("#"+e._player.id()+"  .volume-icon"),this.control=document.querySelector("#"+e.id()),this.volumnValue=document.querySelector("#"+e.id()+"  .volume-value"),this.volumnRange=document.querySelector("#"+e.id()+"  .volume-range"),this.volumnCursor=document.querySelector("#"+e.id()+"  .volume-cursor"),this._player.on(a.Private.VolumeVisibilityChange,(function(t){var i;t=t.paramData;!e._shown&&t?(i=e._player.getVolume(),e._setVolumnUI(i),n.css(e.control,"display","block"),t&&e._updatePosition(t),e._shown=!0):e._hide()})),this._player.on(a.Private.VolumeUpdatePosition,(function(t){t=t.paramData,e._shown&&e._updatePosition(t)})),this._player.on(a.Private.ControlBarClick,(function(t){n.hasClass(t.paramData.target,"prism-controlbar-bg")&&e._hide()})),o.on(this.volumnRange,"click",(function(t){t=n.getPointerPosition(e.volumnRange,t).y,t<0||1<t||(e._setVolumnUI(t=1<(t=t<0?0:t)?1:t),e._setMuteUI(t),e._player.setVolume(t))})),o.on(this._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e._hide()})),o.on(this._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e._hide()})),o.on(this.volumnCursor,"mousedown",(function(t){e._onMouseDown(t)})),o.on(this.volumnCursor,"touchstart",(function(t){e._onMouseDown(t)})),this._player.on(a.Private.VolumnChanged,(function(t){t=t.paramData,-1<t&&e._setVolumnUI(t),e._setMuteUI(t)})),o.on(this.control,"mouseleave",(function(){e._offEvent(),e._hide()})),o.on(this.control,"mouseover",(function(){n.addClass(e.control,"hover")})),e._rangeBottom=e._getBottom()},_getBottom:function(){var e;return window.getComputedStyle?(e=window.getComputedStyle(this.volumnRange,null).getPropertyValue("bottom"),parseFloat(e)):26},_onMouseDown:function(e){var t=this;e.preventDefault(),o.on(this.control,"mousemove",(function(e){t._onMouseMove(e)})),o.on(this.control,"touchmove",(function(e){t._onMouseMove(e)})),o.on(this._player.tag,"mouseup",(function(e){t._onMouseUp(e)})),o.on(this._player.tag,"touchend",(function(e){t._onMouseUp(e)})),o.on(this.control,"mouseup",(function(e){t._onMouseUp(e)})),o.on(this.control,"touchend",(function(e){t._onMouseUp(e)}))},_onMouseUp:function(e){e.preventDefault(),this._offEvent(),this.volumnRange.offsetHeight&&(e=(this.volumnValue.offsetHeight/this.volumnRange.offsetHeight).toFixed(2),this._player.setVolume(e),this._setMuteUI(e))},_onMouseMove:function(e){e.preventDefault(),e=n.getPointerPosition(this.volumnRange,e).y,e<0||1<e||this._setVolumnUI(e=1<(e=e<0?0:e)?1:e)},_getPosition:function(e){for(var t=this.volumnRange,i=0;t=t.offsetParent;)i+=t.offsetTop;var r=this.volumnRange.offsetHeight,n=this.volumnCursor.offsetHeight,o=(e.touches?e.touches[0]:e).pageY;return(r-((o=r<o-i?e.clientY:o)-i)+n)/this.volumnRange.offsetHeight},_offEvent:function(){o.off(this._player.tag,"mouseup"),o.off(this._player.tag,"touchend"),o.off(this.control,"mousemove"),o.off(this.control,"touchmove"),o.off(this.control,"mouseup"),o.off(this.control,"touchend")},_setMuteUI:function(e){isNaN(e)||(0==e||-1==e?n.addClass(this.icon,"mute"):n.removeClass(this.icon,"mute"))},_setVolumnUI:function(e){isNaN(e)||(n.css(this.volumnValue,"height",100*e+"%"),n.css(this.volumnCursor,"bottom",100*(e=1==e?.99:e)+"%"))},_hide:function(){n.css(this.control,"display","none"),this._shown=!1},_updatePosition:function(e){n.css(this.control,"left",e-5+"px")}});t.exports=e},{"../../lang/index":23,"../../lib/dom":32,"../../lib/event":33,"../../player/base/event/eventtype":70,"../component":130,"./util":159}],162:[function(e,t,i){t.exports={H5Loading:e("./component/h5-loading"),bigPlayButton:e("./component/big-play-button"),controlBar:e("./component/controlbar"),progress:e("./component/progress"),playButton:e("./component/play-button"),liveDisplay:e("./component/live-display"),timeDisplay:e("./component/time-display"),fullScreenButton:e("./component/fullscreen-button"),volume:e("./component/volume"),snapshot:e("./component/snapshot"),errorDisplay:e("./component/error-display"),infoDisplay:e("./component/info-display"),liveShiftProgress:e("../commonui/liveshiftprogress"),liveShiftTimeDisplay:e("../commonui/livetimedisplay"),setting:e("./component/setting/button"),subtitle:e("./component/cc-button"),thumbnail:e("./component/thumbnail"),tooltip:e("./component/tooltip")}},{"../commonui/liveshiftprogress":12,"../commonui/livetimedisplay":13,"./component/big-play-button":131,"./component/cc-button":132,"./component/controlbar":133,"./component/error-display":135,"./component/fullscreen-button":136,"./component/h5-loading":137,"./component/info-display":138,"./component/live-display":140,"./component/play-button":142,"./component/progress":143,"./component/setting/button":147,"./component/snapshot":154,"./component/thumbnail":156,"./component/time-display":157,"./component/tooltip":158,"./component/volume":160}]},{},[15])(15)}))}).call(this,__webpack_require__("c8ba"),__webpack_require__("fee2")["default"],__webpack_require__("0de9")["default"])},1421:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{name:{type:[String,Number,null],default:uni.$u.props.gridItem.name},bgColor:{type:String,default:uni.$u.props.gridItem.bgColor}}};t.default=r},"143c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={steps:{direction:"row",current:0,activeColor:"#3c9cff",inactiveColor:"#969799",activeIcon:"",inactiveIcon:"",dot:!1}}},1484:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={form:{model:function(){return{}},rules:function(){return{}},errorType:"message",borderBottom:!0,labelPosition:"left",labelWidth:45,labelAlign:"left",labelStyle:function(){return{}}}}},"14ff":function(e,t,i){"use strict";i.r(t);var r=i("5e3d"),n=i("0ea1");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"53601e10",null,!1,r["a"],void 0);t["default"]=s.exports},"151d":function(e,t,i){"use strict";i.r(t);var r=i("9276"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},1520:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={collapse:{value:null,accordion:!1,border:!0}}},1632:function(e,t,i){"use strict";i.r(t);var r=i("092e"),n=i("df32");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},1663:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uPopup:i("2a61").default,uCollapse:i("7079").default,uCollapseItem:i("4556").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",[i("u-popup",{attrs:{show:e.show,mode:"left",_i:1},on:{close:e.close,open:e.opencollapse,change:e.changecollapse}},[i("view",{staticClass:e._$s(2,"sc","collapse-box"),attrs:{_i:2}},[i("u-collapse",{ref:"collapse",attrs:{_i:3},on:{change:e.changecollapse}},[i("view",{staticClass:e._$s(4,"sc","collapse-title"),attrs:{_i:4}},[i("h3")]),i("scroll-view",{staticClass:e._$s(6,"sc","collapse-item-class"),attrs:{_i:6}},e._l(e._$s(7,"f",{forItems:this.list}),(function(t,r,n,o){return i("u-collapse-item",{key:e._$s(7,"f",{forIndex:n,key:r}),ref:"collapseHeight",refInFor:!0,attrs:{title:r,_i:"7-"+o}},[i("wlist",{attrs:{data:t,type:e.type,name:e.name,id:e._$s("8-"+o,"a-id",e.id),_i:"8-"+o}})],1)})),1)])],1)])],1)},o=[]},1673:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("73f6")),o={navbar:{safeAreaInsetTop:!0,placeholder:!1,fixed:!0,border:!1,leftIcon:"arrow-left",leftText:"",rightText:"",rightIcon:"",title:"",bgColor:"#ffffff",titleWidth:"400rpx",height:"44px",leftIconSize:20,leftIconColor:n.default.mainColor,autoBack:!1,titleStyle:""}};t.default=o},"16ea":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",[i("view",{staticClass:e._$s(1,"sc","nav"),attrs:{_i:1}},[i("view",{staticClass:e._$s(2,"sc","nav-left"),attrs:{_i:2}},[i("scroll-view",{style:e._$s(3,"s","height:"+e.height+"px"),attrs:{_i:3}},e._l(e._$s(4,"f",{forItems:e.categoryList}),(function(t,r,n,o){return i("view",{key:e._$s(4,"f",{forIndex:n,key:r}),staticClass:e._$s("4-"+o,"sc","nav-left-item"),style:e._$s("4-"+o,"s",r==e.categoryActive?"color:"+e.activeTextColor+";background-color:"+e.activeBackgroundColor:""),attrs:{_i:"4-"+o},on:{click:function(i){return e.categoryClickMain(t,r)}}},[e._v(e._$s("4-"+o,"t0-0",e._s(t[e.label])))])})),0)]),i("view",{staticClass:e._$s(5,"sc","nav-right"),attrs:{_i:5}},[i("scroll-view",{style:e._$s(6,"s","height:"+e.height+"px"),attrs:{"scroll-top":e._$s(6,"a-scroll-top",e.scrollTop),_i:6},on:{scroll:e.scroll}},e._l(e._$s(7,"f",{forItems:e.subCategoryList}),(function(t,r,n,o){return i("view",{key:e._$s(7,"f",{forIndex:n,key:r}),staticClass:e._$s("7-"+o,"sc","nav-right-item"),attrs:{_i:"7-"+o},on:{click:function(i){return e.categoryClickSub(t)}}},[i("image",{attrs:{src:e._$s("8-"+o,"a-src",t[e.imgSrc]),_i:"8-"+o}}),i("view",[e._v(e._$s("9-"+o,"t0-0",e._s(t[e.label])))])])})),0)])])])},n=[]},"16f0":function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"}')},1772:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="plus"},"17d3":function(e,t){e.exports="/static/logo.png"},1803:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={skeleton:{loading:!0,animate:!0,rows:0,rowsWidth:"100%",rowsHeight:18,title:!0,titleWidth:"50%",titleHeight:18,avatar:!1,avatarSize:32,avatarShape:"circle"}}},"180c":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uIcon:i("14ff").default,uLink:i("3a72").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e._$s(0,"i",e.show)?i("view",{staticClass:e._$s(0,"sc","u-text"),class:e._$s(0,"c",[]),style:e._$s(0,"s",{margin:e.margin,justifyContent:"left"===e.align?"flex-start":"center"===e.align?"center":"flex-end"}),attrs:{_i:0},on:{click:e.clickHandler}},[e._$s(1,"i","price"===e.mode)?i("text",{class:e._$s(1,"c",["u-text__price",e.type&&"u-text__value--"+e.type]),style:e._$s(1,"s",[e.valueStyle]),attrs:{_i:1}}):e._e(),e._$s(2,"i",e.prefixIcon)?i("view",{staticClass:e._$s(2,"sc","u-text__prefix-icon"),attrs:{_i:2}},[i("u-icon",{attrs:{name:e.prefixIcon,customStyle:e.$u.addStyle(e.iconStyle),_i:3}})],1):e._e(),e._$s(4,"i","link"===e.mode)?i("u-link",{attrs:{text:e.value,href:e.href,underLine:!0,_i:4}}):e._$s(5,"e",e.openType&&e.isMp)?[i("button",{staticClass:e._$s(6,"sc","u-reset-button u-text__value"),style:e._$s(6,"s",[e.valueStyle]),attrs:{"data-index":e._$s(6,"a-data-index",e.index),openType:e._$s(6,"a-openType",e.openType),lang:e._$s(6,"a-lang",e.lang),"session-from":e._$s(6,"a-session-from",e.sessionFrom),"send-message-title":e._$s(6,"a-send-message-title",e.sendMessageTitle),"send-message-path":e._$s(6,"a-send-message-path",e.sendMessagePath),"send-message-img":e._$s(6,"a-send-message-img",e.sendMessageImg),"show-message-card":e._$s(6,"a-show-message-card",e.showMessageCard),"app-parameter":e._$s(6,"a-app-parameter",e.appParameter),_i:6},on:{getuserinfo:e.onGetUserInfo,contact:e.onContact,getphonenumber:e.onGetPhoneNumber,error:e.onError,launchapp:e.onLaunchApp,opensetting:e.onOpenSetting}},[e._v(e._$s(6,"t0-0",e._s(e.value)))])]:i("text",{staticClass:e._$s(7,"sc","u-text__value"),class:e._$s(7,"c",[e.type&&"u-text__value--"+e.type,e.lines&&"u-line-"+e.lines]),style:e._$s(7,"s",[e.valueStyle]),attrs:{_i:7}},[e._v(e._$s(7,"t0-0",e._s(e.value)))]),e._$s(8,"i",e.suffixIcon)?i("view",{staticClass:e._$s(8,"sc","u-text__suffix-icon"),attrs:{_i:8}},[i("u-icon",{attrs:{name:e.suffixIcon,customStyle:e.$u.addStyle(e.iconStyle),_i:9}})],1):e._e()],2):e._e()},o=[]},"19f9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{icon:{type:String,default:uni.$u.props.empty.icon},text:{type:String,default:uni.$u.props.empty.text},textColor:{type:String,default:uni.$u.props.empty.textColor},textSize:{type:[String,Number],default:uni.$u.props.empty.textSize},iconColor:{type:String,default:uni.$u.props.empty.iconColor},iconSize:{type:[String,Number],default:uni.$u.props.empty.iconSize},mode:{type:String,default:uni.$u.props.empty.mode},width:{type:[String,Number],default:uni.$u.props.empty.width},height:{type:[String,Number],default:uni.$u.props.empty.height},show:{type:Boolean,default:uni.$u.props.empty.show},marginTop:{type:[String,Number],default:uni.$u.props.empty.marginTop}}};t.default=r},"1a33":function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9523")),o=r(i("a8a0")),a=(i("a97a"),i("26cb"));function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u={components:{Wnavbar:o.default},data:function(){return{upbotton:{show:!1,chapterId:"",title:"",id:""},downbotton:{show:!1,chapterId:"",title:"",id:""},searchData:{chapterId:"",title:"",cartoonId:""},bookList:{}}},onLoad:function(e){this.searchData.chapterId=e.chapterId,this.searchData.title=e.title,this.searchData.cartoonId=e.id,this.downbotton.id=e.id,this.upbotton.id=e.id,this.chapterInfo?this.showbotton(this.chapterInfo.chapterList):this.getComicChaptervuex(this.searchData),this.getsearchComicContentvuex(this.searchData)},methods:l(l(l({},(0,a.mapActions)({getsearchComicContentvuex:"comic/getsearchComicContentfun",getComicChaptervuex:"chapter/getsearchComicChapterfun"})),(0,a.mapMutations)({resetComicval:"comic/resetComicval",changeOnloadComicValImg:"comic/changeOnloadComicValImg"})),{},{getImg:function(){this.changeOnloadComicValImg()},errImg:function(){uni.showToast({title:"\u8be5\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\uff01",icon:"none"}),this.changeOnloadComicValImg()},showbotton:function(e){var t=this;e.forEach((function(i,r){var n,o,a,s,l,u;i.chapterId==t.searchData.chapterId&&(t.upbotton.show=!(null===(n=e[r-1])||void 0===n||!n.chapterId),t.upbotton.chapterId=null===(o=e[r-1])||void 0===o?void 0:o.chapterId,t.upbotton.title=null===(a=e[r-1])||void 0===a?void 0:a.title,t.downbotton.show=!(null===(s=e[r+1])||void 0===s||!s.chapterId),t.downbotton.chapterId=null===(l=e[r+1])||void 0===l?void 0:l.chapterId,t.downbotton.title=null===(u=e[r+1])||void 0===u?void 0:u.title)}))},bottonClick:function(t){var i;this.resetComicval(null),i=1==t?"/pages/comicContent/content?chapterId=".concat(this.upbotton.chapterId,"&title=").concat(this.upbotton.title,"&id=").concat(this.upbotton.id):"/pages/comicContent/content?chapterId=".concat(this.downbotton.chapterId,"&title=").concat(this.downbotton.title,"&id=").concat(this.downbotton.id),e("log",i," at pages/comicContent/content.vue:137"),uni.redirectTo({url:i})}}),computed:l({},(0,a.mapState)({chapterInfo:function(e){return e.chapter.chapterInfo},ComicVal:function(e){return e.comic.ComicVal},onloadComicValImg:function(e){return e.comic.onloadComicValImg}})),watch:{chapterInfo:{handler:function(e,t){this.showbotton(e.chapterList)},deep:!0}},beforeDestroy:function(){this.resetComicval(null)}};t.default=u}).call(this,i("0de9")["default"])},"1a4d":function(e,t,i){"use strict";i.r(t);var r=i("4c2f"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"1a69":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("c973")),a=r(i("448a")),s=i("a97a"),l={namespaced:!0,state:{searchList:null,searchHomeList:null,listcount:0},mutations:{addType:function(e,t){var i;t.data.forEach((function(e){e.type=t.type})),e.searchList||(e.searchList=[]),(i=e.searchList).push.apply(i,(0,a.default)(t.data)),e.listcount=t.count},addHomeType:function(e,t){var i;t.data.forEach((function(e){e.type=t.type})),e.searchHomeList=[],(i=e.searchHomeList).push.apply(i,(0,a.default)(t.data))},resetsearchList:function(e,t){e.searchList=t}},actions:{videogetlist:function(e,t){return(0,o.default)(n.default.mark((function i(){var r;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,s.getsearchVideo)(t);case 2:return r=i.sent,r.data&&e.commit("addType",{data:r.data,type:"video",count:r.count}),i.abrupt("return",r.code);case 5:case"end":return i.stop()}}),i)})))()},homevideogetlist:function(e,t){return(0,o.default)(n.default.mark((function i(){var r;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,s.getsearchVideo)(t);case 2:return r=i.sent,r.data&&e.commit("addHomeType",{data:r.data,type:"video",count:r.count}),i.abrupt("return",r.code);case 5:case"end":return i.stop()}}),i)})))()}},getters:{videolist:function(e){return e.searchHomeList?e.searchHomeList:[]}}},u=l;t.default=u},"1afc":function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("c973")),a=i("a97a"),s={namespaced:!0,state:{chapterInfo:null},mutations:{setBookChapter:function(t,i){t.chapterInfo=i.data,t.chapterInfo.typeList=i.data.fictionType,e("log",t.chapterInfo," at store/modules/chapter.js:16")},setComicChapter:function(t,i){t.chapterInfo=i.data,t.chapterInfo.typeList=i.data.comicType,e("log",t.chapterInfo," at store/modules/chapter.js:21")},setVideoChapter:function(t,i){t.chapterInfo=i.data,t.chapterInfo.typeList=i.data.videoType,e("log",t.chapterInfo," at store/modules/chapter.js:26")}},actions:{getsearchBookChapterfun:function(e,t){return(0,o.default)(n.default.mark((function i(){var r;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,a.getsearchBookChapter)(t);case 2:return r=i.sent,r.data&&e.commit("setBookChapter",{data:r.data}),i.abrupt("return",r.code);case 5:case"end":return i.stop()}}),i)})))()},getsearchComicChapterfun:function(e,t){return(0,o.default)(n.default.mark((function i(){var r;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,a.getsearchComicChapter)(t);case 2:return r=i.sent,r.data&&e.commit("setComicChapter",{data:r.data}),i.abrupt("return",r.code);case 5:case"end":return i.stop()}}),i)})))()},getsearchVideoChapterfun:function(e,t){return(0,o.default)(n.default.mark((function i(){var r;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,a.getsearchVideoChapter)(t);case 2:return r=i.sent,r.data&&e.commit("setVideoChapter",{data:r.data}),i.abrupt("return",r.code);case 5:case"end":return i.stop()}}),i)})))()}},getters:{bookchapter:function(e){return e.chapterInfo?e.chapterInfo:null}}},l=s;t.default=l}).call(this,i("0de9")["default"])},"1b1c":function(e,t,i){"use strict";i.r(t);var r=i("16ea"),n=i("c26d");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"5f331c52",null,!1,r["a"],void 0);t["default"]=s.exports},"1b3b":function(e,t,i){"use strict";i.r(t);var r=i("6a0d"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"1b67":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={picker:{show:!1,showToolbar:!0,title:"",columns:function(){return[]},loading:!1,itemHeight:44,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u5b9a",cancelColor:"#909193",confirmColor:"#3c9cff",visibleItemCount:5,keyName:"text",closeOnClickOverlay:!1,defaultIndex:function(){return[]},immediateChange:!1}}},"1bbc":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("11f2")),o=n.default.color,a={icon:{name:"",color:o["u-content-color"],size:"16px",bold:!1,index:"",hoverClass:"",customPrefix:"uicon",label:"",labelPos:"right",labelSize:"15px",labelColor:o["u-content-color"],space:"3px",imgMode:"",width:"",height:"",top:0,stop:!1}};t.default=a},"1bd7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{color:{type:String,default:uni.$u.props.line.color},length:{type:[String,Number],default:uni.$u.props.line.length},direction:{type:String,default:uni.$u.props.line.direction},hairline:{type:Boolean,default:uni.$u.props.line.hairline},margin:{type:[String,Number],default:uni.$u.props.line.margin},dashed:{type:Boolean,default:uni.$u.props.line.dashed}}};t.default=r},"1c39":function(e,t,i){"use strict";i.r(t);var r=i("cbfa"),n=i("22cd");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"fd44e92e",null,!1,r["a"],void 0);t["default"]=s.exports},"1c75":function(e,t){e.exports="/static/img/release.png"},"1d6c":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{ref:"u-row",staticClass:this._$s(0,"sc","u-row"),style:this._$s(0,"s",[this.rowStyle]),attrs:{_i:0},on:{click:this.clickHandler}},[this._t("default",null,{_i:1})],2)},n=[]},"1eff":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={def:"zh",getType:function(){return uni.getStorageSync("mescroll-i18n")||this.def},setType:function(e){uni.setStorageSync("mescroll-i18n",e)}},n=r;t.default=n},"1f49":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tabbarItem:{name:null,icon:"",badge:null,dot:!1,text:"",badgeStyle:"top: 6px;right:2px;"}}},"1fb5":function(e,t,i){"use strict";t.byteLength=function(e){var t=u(e),i=t[0],r=t[1];return 3*(i+r)/4-r},t.toByteArray=function(e){var t,i,r=u(e),a=r[0],s=r[1],l=new o(function(e,t,i){return 3*(t+i)/4-i}(0,a,s)),c=0,d=s>0?a-4:a;for(i=0;i<d;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,l[c++]=255&t);1===s&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,o=[],a=0,s=i-n;a<s;a+=16383)o.push(d(e,a,a+16383>s?s:a+16383));1===n?(t=e[i-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],n[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var r=i===t?0:4-i%4;return[i,r]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,i){for(var r,n=[],o=t;o<i;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),n.push(c(r));return n.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},"1fc8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={upload:{accept:"image",capture:function(){return["album","camera"]},compressed:!0,camera:"back",maxDuration:60,uploadIcon:"camera-fill",uploadIconColor:"#D3D4D6",useBeforeRead:!1,previewFullImage:!0,maxCount:52,disabled:!1,imageMode:"aspectFill",name:"",sizeType:function(){return["original","compressed"]},multiple:!1,deletable:!0,maxSize:Number.MAX_VALUE,fileList:function(){return[]},uploadText:"",width:80,height:80,previewImage:!0}};t.default=r},"20e4":function(e,t,i){"use strict";i.r(t);var r=i("6e4b"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},2208:function(e,t,i){"use strict";i.r(t);var r=i("a3c9"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},2236:function(e,t,i){var r=i("5a43");e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"223b":function(e,t,i){"use strict";i.r(t);var r=i("1a33"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},2274:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{option:{type:Object,default:function(){return{}}},value:!1,modelValue:!1},computed:{left:function(){return this.option.left?this.addUnit(this.option.left):"auto"},right:function(){return this.option.left?"auto":this.addUnit(this.option.right)},isShow:function(){return this.value}},methods:{addUnit:function(e){return e?"number"===typeof e?e+"rpx":e:0},toTopClick:function(){this.$emit("input",!1),this.$emit("click")}}};t.default=r},"22a9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t?"".concat(e.replace(/\/+$/,""),"/").concat(t.replace(/^\/+/,"")):e}},"22cd":function(e,t,i){"use strict";i.r(t);var r=i("7972"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"236d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={noNetwork:{tips:"\u54ce\u5440\uff0c\u7f51\u7edc\u4fe1\u53f7\u4e22\u5931",zIndex:"",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABLKADAAQAAAABAAABLAAAAADYYILnAABAAElEQVR4Ae29CZhkV3kefNeq6m2W7tn3nl0aCbHIAgmQPGB+sLCNzSID9g9PYrAf57d/+4+DiW0cy8QBJ06c2In/PLFDHJ78+MGCGNsYgyxwIwktwEijAc1ohtmnZ+2Z7p5eq6vu9r/vuXWrq25VdVV1V3dXVX9Hmj73nv285963vvOd75yraeIEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQaD8E9PbrkvRopSMwMBBYRs+5O/yJS68cPnzYXel4tFP/jXbqjPRFEAiCQNe6Bw/6gdFn9Oy9Q90LLG2DgBBW2wyldIQIPPPCte2a5q3jtR+4ff/4wuBuXotrDwSEsNpjHKUXQODppy+udYJMEUEZgbd94DvnNwlA7YGAEFZ7jOOK78Xp06eTTkq7sxwQhmXuf/754VXl4iSstRAQwmqt8ZLWlkHg0UcD49qYfUjXfLtMtOZ7npExJu4iqZWLl7DWQUAIq3XGSlpaAYHD77q8xwuCOSUoXw8Sl0eMux977DGzQjES3AIICGG1wCBJEysj8PXnz230XXdr5RQFMYbRvWnv6w8UhMhliyGwYghr4Pjg3oEXL34ey9zyC9tiD2ml5h47dr1LN7S6CMjz/A3PvHh1Z6UyJby5EVgRhKUe7Kz/JU0LfvrJo5f+Y3MPibSuFgQGBgasYSd9l6GDsup0WS/T/9RTp9fXmU2SNwECdQ92E7S57iaMeJnPQLK6ixkDLfjlb7546RfrLkQyNBcC3dsP6oHWMd9G+V3JgwPHh7rnm1/yLQ8CbU9Y33zp0j+nZFUMb/DHmB7+SHGY3LUKAk8cObtD00xlHDrfNge+Z2ozU3c9dvx4Yr5lSL6lR6CtCWvg6OAPw9z538ZhhZRl6XrwhW8du1KX/iNejtwvPQIDR8+vSRqJ/obU7GupjdNdh2gW0ZDypJBFR6BtB2rg2OVtuub9JcmpHIpBoK1xfffLzx4f7C0XL2HNiYDp6bs9z23Ypn1fC1Y/9PCFDc3ZW2lVHIG2JKzTp4Ok7nv/G6Q054MIvda+bNb74pEgKGtwGAdL7pcfAa8vOKEZ2kyjWuLr7uDh+/qvN6o8KWdxEWhLwroyeek/g4zuqwU6kNrhyZcu/UktaSXN8iNwuL9/RuvVXtJ9PbPQ1vhmcP6t9+47u9ByJP/SIdB2hDVw9MJHQFYfrQdCph84evFX68kjaZcPAZJWwjMXRFpJ2zr91tfuvrh8vZCa54NA2xGWrunvmg8QWCJ/N4ir7fCYDxatkOeBB7an501agXbygVdvv9IK/ZQ2FiPQdi9osGbH+zRNf7y4m9Xu9Me7N9nv0HXdr5ZS4psHgXpJC9P/wDRTx0Vn1TxjWG9LGrbaUm/Fi5meSvcrkxf/Cg/ow9XqAUk91v3qHT97r6471dJKfHMi8Oyzgx1Z03t1YAQVT2MwgsC3u+yXHzi0faQ5eyGtqgWBtpOw2Ol9+/TM+sTOn8L08MtzgQCy+tOHXr3jA0JWc6HU/HF5Scssr4jXcYqfP6V/T8iq+ceyWgvbUsKKOn38eJAYyl56TAuCEr2WYei//9Crd/5GlFb81kdASVopSFrerKRlaoZj9HR+700H10+0fg+lB21NWBxe2lhNHsUpDZr27mi4dV379R9+za4/iO7Fbx8ECknLCPTsTDJ17O33bJpqnx6u7J60PWFxeAcCbMV56dJfQKf1bkMLfuGh1+76zMoe9vbuPUnLsb2DtmOe5HSxvXsrvWtLBEhaTx29+Ma27Jx0ShAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQaEsEVoQdVluO3BJ06ptHL34b1XRjp4Ch6Rq24+kmjG4Nwwg+9uA9u/73EjRBqhAEihAoe3xwUQq5WTYEzp0b3ZnV/Ncf6O/9AvY9wlh/6dy3X7ncN512Zw9BVLXjuAP4np44vnQtkZoEgVkEhLBmsWiKqwsXpjbPBOn3gRfenwnc+7GBe+zsjclvonFDS9nA9Iy/u3x9+vAP3735VPk4CRUEFhcBIazFxbfm0k9fHD7k+v4nQFaPQIrx8Gmyx/GJ0J/t7ez7mw0b9MmaC2pQQgh0/ZSm4g5TwueWWtqLt0HuVy4CQljLPPYnB0depTn+b3t+8B4t0AdBUv93h2H9xc6da0aXs2m+r1WQsLRnl7NdUvfKRkAIa5nG//r1oGtsZvjTgev/kqYHF/TA+AXoqv4npJemOEiQU1Eo2l+G0movBK1UBBPU7s9E1+ILAkuNgKwSLjXiqO/khVtvARH8dxDBRkMzPrF/V+9/BlG5y9CUqlXinHv9mRPXtvuus88L9H3JPv2zD2yXExCqAicJBIFWRwAvv3Xqwq0/Pnn+lv/K+ZvfPH3p9p5W75O0fxaBp793ce3AwIDMWmYhafiVgNtwSMsXeHp4eNXJC8Nf0PAdRCiuf/XgrnWUqsqotcvnl9DmRkCdweX4b9N7+m/ih+mbMraLM14yJVwcXItKpT1VRve+ArC3Qqn+3gM7132jKEGZm6tXg86J7OhDfuA/iHwPUpfUZSfu2L59tXxEoQxeyxkEgjKeOnLxHb4RqC+NY5H3+2953d4XlrNN7Vq3ENYij+yZwbG9jpt9GkBPQ5H9zgP9607OVeWp87cOQtn9zwJf+xDMNFfj+jryPqXpxj8c2Nn7P+SXey70lidu4IXzb0DNB4tr9751+HV7zxSHyd1CERDCWiiCc+QPjUCnsaqmZ62O5IN7N/VUNP48ee7mAZDTf4Tt049iUG4Guv4ZfNLos9UIbo7qJWoJEHjy+bP7fNsoOcnW0A0/aacef8PdG28sQTNWTBVCWIs01OfPj66BpfqTmq732UnjgT1bei+Vq4pTv7HM8Ceg2/o1qLQug7T+FaaM3IqTLZdewpoHgYEjV9fphvOj+OShWa5V+CxvZtpzv/LwG/aNl4uXsPoRwI+4uEYjAJ2GmdG8L0FK2mYa+tsrkdXZy+P7x2ZuHdW14P+BLdank9q6Qwd3rf+ckFWjR6Tx5Q2cP58K9Jm3VCIr1ogt48lO237r3//96YofeG18y9q7RFklXITxPXV+5DchKb3ZDMy37Nu5tuxG4R9cHH6b42QfAzlds+3EPXu2rfrBIjRFilwkBIIR7SHoJDurFU89ZOd680Gke6JaWomvjoBIWNUxqivFD87fej0e0n8Fwvr0/t1rnyqX+QfnRz7g+8FX8Rv8vL3auF/IqhxKzR2WCPxXqKeq3krDTdj2ierpJEUtCIgOqxaUakwzNBR0D09yiqePHOjveyOkpxLr9VMXb73V97S/h3nDXx7Y2fdPkAYbncW1IgIDxy5vM7LZt/hgrnLtxyaBrJNxv/72N+6tuNhSLp+EVUZACKsyNnXHvHL+1qcgNf2KbSXu2bt9dcmS9qlzo/fARgcmCtpzB3b1/Vg5QiuslLowENyDWDn8cSjl98PgdBviu03N+rl9/WufLEwr18uDwLdevLTF1YK3xnVZ2HI1bUxrT7z5zTuXdRP78qCyeLUKYTUI25OXbm4JPO00TBj+6I7+db8ZL3ZwMOiYdG4dA1lN9HWte2iuI2NAVPapC8O/CGPR34Ip/AZIbIMo7yX8G9QMbcS09P+2b1vf5XgdrXaPfiYns9oeLLEd8D1/B7Dp0E1jGP042pXQj7RKf546cmGzp+tv1TRf6YQD35/QO3seP3xow5IfC9QqmM23naJ0ny9ysXwgq98BWc0kVhv/Nhalbqe8kd/Fr8MOSEr3zEVWrwyO3I29hl+E9LUHGf+nAXI6sGPdd8uV2YphIKnE5IyL6bLxk7cn3bdkHHefrpvJAExMZ1uBZmqeNzXtfzUzk/m/ens7LjV7Px+8d9e1579/44l0duZtge+Np5zEEw8c2pBu9na3YvtEwmrAqNE8IZvNHsep5//yjl3r/0O8yFOXbv0QCO05gP0JGIL+fjw+uj91YeRh/Dp/PtCDM7Zpfmjvjt6Xo7hW9ycmJjaYduf7Hdf/8HTGfa3rG9rYxLSWnsloPg7fijZV8oFM2Ja2a9t6EJd7bCztvHP7us4rrdD/r3/7ct9I99jEI4cOiQ3dIg2YEFYDgOUJDFj1e8TqX7cT4kImXuQr5279A4DeBEX8ayvprU4N3rovcALot/TH13T0fXDTJn0qXk4r3k9OTm4y7a6PzjjORzOOvn1kbEqbnEprPhRzwAKzwFLHk05hv6Yd6N+o3R6beG50aPSdr3qV6IJKkVp5ITIlXOCYn4Yexr0w/DO6YXymHFlR0e5r7tsM3fxgJbI6fW1ivTeT+SsYmr54cFff+5Cu5X+hb94Merp6/J/PusGvTE6724eGJ7RpSFOkKPCUZvBPBccoHBet3Rwe13rX9tw/PjXzZ5hKvr8SfhWKkeA2REAIa4GD6p0feRdWBnvxjv2PckVhVfBf4A29uG/X2i+Ui2eYn8n8NryuDr3jPfWSFV5k44UT137eshIP2K7/64cObbheqZ6lCp+Ydt8TBO7vTM5od1+/NR4SFVhoLpKKt410lnE8LTMzo3V2dLznxLkhYgQ9obiVjEDln7mVjEodfYcpw+MAsftg/7qSDbAnb97sCSb0Yei2fqOcbovVqKNnNO8HmAE9Cv3Wp+uoWjt27HpXNqH9WTKR+kBHKqEFbvo5y3N/avfu4g23R45f3WGa1k9ZicTd0zPTf/f6O7f8dT311Jp2fHzmgJlI/N70jPPe4bEZ6Kg4qw0lqlrLiNKBiLWerpTW25PUbkPXZViW62ecHz+4d8PXojTirzwEyhq8rTwYFtRjvpX/rlwJ+iSXugPbMuyKBOHo3geRJtuT7PujcmVUCuPJlhnL/9NUqvMD2eyM5sxMaIlE4n7XML907tyNjcxHQjty4sZv66Z1xEok/xNW5n4uZSf+8sT5m++vVO58wkEu5sR09pd9w/rWyET2vReujiqygrSopn/zKZN5qMeirotKeTyolm7p/+X06Wvr51ue5Gt9BISwFjiGsLl6N6SrvylXDNTK70D4mX071pwtF88w6Jd/DG/1E1u26NOV0pQL71y3/8PJVOcHMzPTWkcCH2YGOaTTaS2RTN6f1fQvvvDK1bdnbO2JZCr1SeRfn05Pa1PTU0gXJBKW+ecnzlxvCGndhFQ1NRP8bcY1/vjS9bF1V26MwHwsVKiXa3etYVw1TNhYJ3TDjQCO42jJVMcez7J+t9YyJF37ISCEtahjGjxkGDr2DJZ31D8h5vUQJL5RPkXlUMM07u3qSGidICvkzzuSlmlZb0olrK9hD9v9JCrPC196JoPMAolFg6CV+PPj54YeyWecx8Vk2v1Q0rSfhFT18LnBmzBRyNalp5qrSuq7kiAsh4SFa7oZ9M0wzI+cPHOjZPo9V1kS1z4ICGEt4lhiCvZrSa2jol7qzPXJPk6nIGbVbWfUvcr7hO9MP97ZVXpggOu6ajplYStj7l1XvbRMXbPAbp6HzSSBlkraNknrvfVCcPt2sHYi7f3pTDb47KUbYxuvKqkKpYBXKBnV869c3WgbDEixAck0FGFFfEzJzbIsO9C1TyrcymWWsLZGIHoW2rqTzdo5dXyykz0NC8l779i5vu4zwM+eHVntGP5jqVTq/6AkVc5NZ3wNH2lVxNWZNIukMSjiNd9z0+CHp5DXAdX4SAg203w8GB5IATtODHzdK8C15kEjhXvNS9rWA11dnfcMDY9prscss48RySakrOLWqODCoIKAgkuVgsS0urtD60haeV1YYVbbtjUn6/74HXvW/11huFy3PwKzT1r797Upe3jq4sib9u9Y+wxe+vh7W1N7jx49v6ZzbffnQD4/Cj1Pfjx54XiBls6GVuTUc9mQsOIO9mPQFdkIRlz4fy5JLm2ZMOqTcJaXIqpcqnixVe+rdbZ3dbc2OT0D0wZIibHSksmklslknvx+//q3PiKnXcTQae/b+LPQ3r1t0969cOL6G7o6E09qgZegdMJBpVQ1DbKCpyUt6oPKz/4NEJalCAuZFIuEVBJd+jgLh4rvAiFqUVGkhJZMWFp3Z0obGSu/d5gSnWmavuO6h+/cvYHSobgVgoAYjrb4QPMUiGtj1/79jBMkLBwiTlMASlYzTkhWCJyTrGAyMOFkst/BoYMmuIIyGJYcMXMMdNwHPhYN1qWS1t6ZLGaKZL8yzFXTr15BooLLMugHMBRNKgW+It8y9TEcJGt4rvcRFCCEVQbFdg0Swmrxkb0+cf2XOzq73kgdFieEXF2jdEUJKQH6SVWQrNjtZDKlpTPp38U58iUbthk/Ph7sN6zg/xudSGvD4xkq6otcnnjyF0XRRTflkyC0IIJE1JG0QbqGNpMNp5xFhRTcZDNoj66988SFm5vv3LX+WkGUXLYxAuXnCW3c4XbqGs9hwjv+a9lsuN+ahOJSCoLjNDAFvVUll0p1aNPp6adTweSflEszPO48oFn+4yOTmR+6enOshKyYhzWpf/jDuuf6x2aV/qNRaPG/1d0gUXWCA0uu7GhMmkqmerEc8KOVU0lMuyFQ+Ylut562YX9Sncmf7Ojo3BDZWbGLtMkiUVXSWTFNuMqWuYG530f7+/tnGFboxsfdd9mm8XdDo9O7rg6NFq0CFqZr5DWlK9qV0fZqGvZchSuPlevB2VmG/hOV4yWm3RAQwmrhEcW64qu4ykfJho52Vp3J8quBYQooqWDKADftBd6HD+5efyoKj/zR8ew/hWXY56/cnFh7a3RCTTGjuMX0SVB9qzu1qfQM+jO3dBW1g6uVSHv/qVNX10Vh4rc3AkJYLTy+WA/8ou9kJjo7bOh+DLVFZ64TEbCyBktxI5PJZj56R//Gx+NdH5vM4vuI+p8NXh9LjU1iw3EZhXc8TyPuuV9wDaaCfBjTM06N0hVWQmHBDzvSDZ5tvqYR7ZAymh8BIazmH6OKLbzv0KZvJEz3ZzEFnEolaEtV2XEaCLKadrIz//TQnk1/EU85NuH8th8Yf4j9gMZUOrNkZEVZCnsbtTU9KW18GqcKFyjh420sd2+j33pg3F8uTsLaDwEhrBYf04O7N/2t7/o/C2FoGnsIy/YGlvAwSfCvZzLOe+8oR1ZT3u/5uvHJC9dGtJlMrfqjslXVHwjpat2aLi2rjFFLjUSrFUjlO0juddXSSXx7ICCE1QbjiHO0/hofbPgwpnDTOR2V6hWNQqGUx34890noet5yaO+Gko3Y45PO7/uB/lvnrwxrWdha1absbgxo1FWtwplXqYSJY5Nn5lU3bLHQmGA/yko0plVSSjMjIITVzKNTR9sO7dv8RSeb/T9BWmMkKv4D+YzBXuljV7yxd+zfte6VeHGKrHTz4+cv38JWmyUmKzSGG5z7VndoE7kz3uPtq+Welvhwm39weVjOyaoFsBZPI4TV4gNY2Pw79mz8KyebeRIH+VEZTaX0sf27+v794TKmCxNTzr/2NOPj5wZBVjjdYSklq6jN69dyKuhqmWztivYob+RTSkPbe/xMdlMUJn77IiCE1W5jq+s4dYEO6mzsYAmvi/+CrH7LDYxPcBq4HGTFVcG1ULLT5orS1ULIkoSFI2cMHKG8obiXcteOCAhhtdmo6gaOh4EWWlkyYU9gvHswXfgV19d/7+LVkSWfBrItJJhObL/p7elQR8fUZnEV70XxPc01sM+xrzhU7toRgZIHuh07uZL6xA3LBaYB+Ar8rBsfz34YX1j+D5eu317QNGy2xPquSE4mDuXb2IujY2AgytNE67RiKFshzuwCR5s9ZSMlsK0QEMJqq+GkBKOF5yFzRoidK5BoFCeMjM/8mG+a//Xy0Li55KYLBRiTrGjwOQ1br4VMBQuKVJeQKVPxMLlvPwSEsNpsTEECmBLSgbHUpwD1YGwse59l2p+9fmuig4fiNZIowrqq/6Xeqm9Vh9JbjcOKvqFtACX7gV8kTVZvkaRoRQSEsFpx1OZoM2iKxxuHLtDcsZlgLzYZfv7m7XSv+r7fIm234XSP/8o5ktWqzqSyZr89PoXPYDTYkZvziw0NLluKayoEyq4iNVULpTF1IaDjHHZmoAW4aep9geN8fiLt998cGYdtVp7K6iqzXGJFUCAi7jdkuapsBJKcPBwgyP8YRyV7B04Q3dDbpY3jg6gupoMNla5U41BbUN9n0sr1ScKaHwEhrOYfo7paCAW0WiWknihhW/0Tabf/6tDtxpIVSIhGnz1dSXUkDL8fSHKi4/lWPId9Kp3Vxqegp8J/m9f14D6DQ/nmb281FwgkZ1Dj7bnSSFx7ICCE1R7jmO8FJJr8jCvjeNrIxFjDJBpKVaSlXhwDw384MyucBoLAGEfHI5ptO6n1YAq4FjorH9IWjUOnFlF3pj62aui3whbI33ZGQAir/UY3XCVEvzgdw/8NcSyGUhSlpVWQrFg2p39xp0JYLyIohaXxdZ2FGofG6yi85/QS32F0Asu8URgu1+2JgCjd22xcsVElPC85169Gaa1YTkRWJKpSqooBiQQzONvq9sRULKKxtzzAEJw1api2EFZjoW3K0oSwmnJY5tcoSD09HanEDztubnfO/IopyUWC6sUmZUpW5aSqkgwgK04DxxaZrFivacCaIdAuH9zaM1rSDgloOwSEsNpoSMenvU93dXb+EE5taFivKElRqd67qrNmsqIF+yjMF/i56MV2JqadYKxXMDXM6+4Wu04pf/kQEMJaPuwbWvPticwj4Il/NnTrdl7JrqaDC5wTUle1GmdWWVCw1+JotjA6PgnThsIdQrXknF8arkJi/+R355dbcrUaArU9ha3WqxXW3tHR9C5dN//T9eEJ3aGdUwP7T0V7F86Mr0VW4mF6o2NTS/ilaB2HDmb8wA2+08AuS1FNjIAQVhMPTi1NgwRkGKbxRxMz3uaJSRzVUkumOtLwo6Zc7aOkVdEhynN9NQ1cyuNqeEqD67mX9TXGyxXbJhFthYAQVosP58S0909czfqJqzdGODVqaG/IUbCWr2p0yukfp4FUtDfeir1yl8IPUGjPHFy/fqJyKolpJwSEsFp4NEfT6Z3YBvOp8MvMc0hAi9hHNQ1cBrJil5TUZxhfXsTuSdFNhoAQVpMNSD3NMTzzU1PZYAM/ProYkg3UV5rHT8lXmA7SwnwEq4FLLVkRI04HM+n0LdvzvlEPZpK2tREQwmrR8ZucCd7hePr7rw2N5PfxLUZXON1zHKz4kb0KnIttP6Njk8tyaimbwXPrsW/yq3v3bhoqaJZctjkCQlgtOMCYCnU4GedTI+NpQ32XbxH7QOmKG5nzdIWZJz8HNkKygqI9TmSL2JSiovGVn0A39c8WBcpN2yMghNWCQ4zPc0HRbr6GEs6chJFnmfl3knZO4/hmII1B6fiFG9br0s6qAeXPp2WUrhzHeXH/jr6n5pNf8rQuAkJYLTZ2kK7Wul7w6zeGx9DyUsZovOodOizosTg1TM9k1Wogpa7lIisOF+w48E/7E5B1Y/cgtdizsBKbK6c1tNioT6X9n3MDcyePOo7OoJqrC6S0+ZIYV+GSOHxvc18PJCxXG4ed13I727axqTp9yk9rX1jutkj9S4+ASFhLj/m8axwdDdbgELxfGsLpoZyqVXPVU1QugVJUV0dC27p+FaaBWWxknq6ceAljTNMiAf/BoUMbJpewWqmqSRAQCatJBqKWZpgJ731Zx9pJM4aK0hXe5vlKVFEbKFlxs3PvqpSSqpbzKztRm+gnEkktnU6/2GFMfa4wXK5XDgJCWC0y1iAR6/Z49iOjY7C5qkG6mk+3SFQGlEP8FFdnygrNFqBsn1OxP5+K5pGHbcBhqhT8fqu/v39mHkVIljZAQAirRQYx7Wj3Zj3tddQjVVJ4l50CMjHe8mqOTJCCvmoTyIrENXx7Uinbm4Gs2PZUqkObnp76i0N7N36tWl8kvn0RaGnCGhgILKPn3B3+xKVXDh8+nPseX3sOlpt13+P4uonv71WeDqLr1ampFB8S1JrulNaHc9rTMxltcpofOeWns0rTLkeIZUHRnpm5YibMf7kc9UudzYNAyyrd8ZLpWvfgQT8w+oyevXeo++bBtaEtQd9s1/ffRsV3I6eDJCp+nourgH04UZQnhIYfWm1o8xdUGCU8/E/bil89sH3dlQUVJplbHoGWJaxnXri2HTvd1nEEcCBS3z++MLi75UejQgcmJjL92ax/gNJPo6QekhVXAbdvXI3D+XQ1Bcxiu02zTAEjKFIdHTQS/S8Hd2/4YhQm/spFoCUJ6+mnL651gkwRQRmBt33gO+c3teNQYin/oG6aKX5rcKEukqqoWN+Ij5vy81v8UATDG0WGC21jlJ96K6wKPpWd8H8jChN/ZSPQcoR1+vTppJPS7iw3bIZl7n/++eFV5eJaOczX9Z2YvM1LPxWpocBHKv8qHHdMqSphGUqqahaThfj40ITBcbLnsDj6oXvu2bS4n96JVy73TYtASxHWo48GxrUx+5Cu+XY5RH3PMzLGxF0ktXLxrRoGNVPPfNtOolIrgElLGYH2wbZqcipdIFVFlDbfGhqfj9bskCaHHS/7gTt3r73Y+BqkxFZFoKUI6/C7Lu/Bl1jmlKB8PUhcHjHufuyxx/g5lbZw+BL7bX4EoiZqyS0T0uM0j1+82QSl+ua+bhxj7GjD2LicwWkLzaarigbKsmDJ7gcTmezMBw/t3ixntUfAiK8QaBmzhq8/f26j77pbaxo3w+jetPf1B5D2RE3pmzyR4/nH+Mti4Wx1dUrCHO0lSVGqskFUnakkpn6mhu086jgYHkWTW3Wbo4Tli6L5gqYHE47vfeDufVv+YflaIjU3KwItIWEdO3a9Szc0ElDNDqcLbHjmxas7a87QxAnX9ljfxcr+Mzs29ykpi1O8iJjoR/cm5o7dnUl89LRLW93dyWmVIip+Kp7pmlWqIvQ8Mga9Gslm3Efu3LX+K008HNK0ZUSgplnGMrZPGxgYsIKeXa/TA61jPu0w0+7xBx/cd3M+eZspD0wbDgWm+RXP13cODY/jWGKuGAb48jG+agNpilbqlKZoWDqDY2AyjtNUlupzYZlKpXgaxIVMNv0zd+/d+uxcaSVuZSPQ/IT13TN34QRvZW81n6HSDdMLUqmjh9tgd//Fi8OHEl3JL3Z2dh3MzGA7XU664llVWRz/QhLjNYmsmaWp/DjCjqIDdlaZTOZZ1/A+fGj7hjP5OLkQBMog0NSE9cSRszuswNhdpt31BRnazM3U9IuPHDrUuG+419eChqU+cvzqjp7u5P9KJpMPpqc51Zv9QntLkFQBEqZluVCw/7nhaP9i376+8YIouRQEyiLQtIQ1cPT8GjOw7vE8tyFtxBrb2MBXdh579FF99g0vC0nzB548ebNHT2l/aFmJj1BPBYyav9EFLaQ+jdPAVNL8/pZ13a8qiJLLOhAAjvrTRy/d0enbF+69d0tzHFhWR/vnk7Rple6mp+9uFFkRGF8LVj/08IUN8wGp2fIcPLh+4sCu9R+F3ucj0MLf4vaVVnChqYWmdaQS2jpY2vd0djh86Vqh7c3Yxm8dudTPxaW0lrn7yJEjZW0Tm7HdC2lT0xKW1xecgHE3FDWNcb7uDh6+r/96Y0prjlIO7ur7TOD5b3ayzt9ylY0Gl83qKFXZsCXrXdOlrV3djf2LBr556JOshLDmMWhPPXV6vav5O5jVxYLUhNl3iIbV8yiqpbI0bQcP85C2Xu0l3dczC0XUN4Pzb71339mFltOM+Q/0rzu5f2fvu1zH+QDOt3uZ0pbVRMRFouJK5qqeTkhVqyBdtdUmhGV5JI4cudrpd5kHiyp3tTU/8s6r+4rC2vCmaQmLWJO0Ep65INJK2tbpt75298U2HLuiLh3oX/95L+0/kHUyvwTieiUJHVEimVzy1UKeWMqv2pCoKEVFRNXT1aHawnBx80eAZj7TwcxdAc5Gi5fiaNnNT37nCk4xaV/X1IRF2B94YHt63qQVaCcfePX2K+07fMU9U7qtHev+xE/7r3cc70O+6w1gxuV0dHZiusgvJS/O7IskRXLs6KCxqj+B26t9a3uUREWi4plbQlTFYzXvu+7tB3EIUGel/L6e3TNw5NS8zYAqldss4YvzBC9C7559drAja3qvDoyg6pwCP+KBZaVOPPjazS1vMLpQKE9fuPnawDB+EqehPwzWuAuSl8LPg90WVxhJJPWQCUmPBAWTBEz1TFUGpqO3wYYvIPgr2az35a2b1/50V6f1e1NTlVcvEzB0xRekj67usu5FmS2/crvQcaol/zeeObfTSOj91dIq28PxiaOHDx9quy8LtQxhcZBqIS0Dhkl2l/3yA4e2j1Qb2JUUD1Iyz1waOQib0vsxKXsAFvH3wMB0JySwtZC+DBPTN5BOCEnhrI1BuKe9l6tIzsVCiD6E0DOabrwI2elZ09aP7N3aNxjheXvK+a1OENa0EFYEyYL9rz072Ju03ZpNQKj7Xd899cKhNrA9LASvZTY/s9GcHoK0XsrakLS8UklLxyl+/rj+/Qfu2367sJNyTS7SuZfneO7ffweBGScu3NwAqWgrTvTc5jjBZmw87tMCfRXYKQWOgula4OiBOQUZ7DZuhrAGdQXxV0zPuCaGnkv3VPGHOpPw7+QPR62OM5HhdNddGOeX2kmCbSnC4mDlSStVTFr4eLljdHV+702vWz9R66Cu5HS5h5hmHvz3QiOxwJTRo2BGgY06dm7OVhewYGAY6s75oD+ZDs4JPY9JyqSCQ7ABqftd5VFM3/j2Ja4mtsWpJQSq6ZXu5UZTKeJnsHpohiYPRqBn04nkS2+CQWW59BK2dAjwS0Y4IHDz2ERWG8Gnwm7iK9W3sFmbvrqGPzw6gW8eTmvTM07XmTPX28KYd7EQ3rjnvv1QFHbPt3zT9DcMPHd+13zzN1s+/hC2rKOo7NjeQdsxT5LEWrYjbdLw05eHtwWe9jl0542u62HZHZIVpalY/yIlP5X3MHYddLLZfy4fmYiBhNuB509vw+rG3tKY+kOwGHLi7W/cS91jS7v4s9TSnZHGLx8CICH9lXNDX+zpWfXuycnaBV2e3e567nAm4973qv0bzy1fD5qr5oEB7KXt0u7B3Loh7yhWVfypbOalh9+wr6U3mbfklLC5Hi1pDRE4ef7Wj+EEiZ+amqpvJT2bzWjJRLIPR3n9riA5i4DZg720DSIrlsrvHXSZ9p7ZGlrzSgirNcetqVp9/vz5FJTqj6JRejTdq6eBMzNpHP9s//QrF4bvrydfO6f1JrCX1mvcXlo98Kembjotr3wXwmrnp36J+pYNeh5JdqRem83O77gxkpxtW3bgOZ/g1HKJmt3U1Rw+3D+zrc89aunagnWzpq6PdxujLz388L4F78tdbtCEsJZ7BFq8/sHBoMPX/I9hyrGgnuDUUZzrnnz7yQu3HlxQQW2Ued++fZmJ1e5LoPB5k5ZpWCPXz+08du+99zrtAI0QVjuM4jL2YcIZeh+2+9wF49MFtYJSlgmHE0g/JlLWLJQPg7RmhtyXsJ18eja0tivsXhj6xy9ve/mRR5TRcG2ZmjyViN9NPkDN3Dz1FW5z9XM4i+s1ME1YcFNpUIrVLHzJzHnwjl0bn1twgW1UwPHjxxPXpztejR0HFTc+F3YXRwxdfdM9W08D0zrs4wtLaM5rkbCac1xaolWOvurhZIPIih0OdVm2haNTfqUlAFjCRnJP4HBn+iUqz6tVa2nGpTe/etsP2o2s2G8hrGqjL/FlEQC5GHghfplSUSMdvwaEA/9+4vjpa3c2stx2KIsfUek2dr+EuXNF2xEjSJx98w/tbFt7NiGsdniSl6EPp84O3W/Z1oPzXRms1GRKWdCJdeCIlJ+vlGYlh997r+70+EPH8NHJEtLCauCph+7bmj81ox1xEsJqx1Fdij4Zxi9AT2KSYBrtslgxhOD2gWOyz7AstFzx6zFHj1mGobYUYAgC9cHge3ddK5uhjQKFsNpoMJeqK6+8cm0X6noXiWUxHA8WxAdWNyQM45HFKL8dyiRpueM7jllmMGpnjO+1w9fNaxmXxiogaqlR0jQdAkeOBPjczrnOiQ6jw88ESSOA6KT7iQzOHEvavu1pZsLQg4QPP/DdZG9Xx/vWrOr+mfR03SvtNffdxleAQIgvTzjBT0w409Mpu2faufZy+vDhw5WPMa25dEnYqggIYbXqyNXY7i/jCyvdfmaVb5hdVsLp9LJGp43j1/1A7/RdvdMwPRzEboRnLVHe9vEvL3eXBOB4ZMta22H+TiqV2LJQ26u5u6Bju44Z3J7O/Lvp6cwPmBanOwQ4uNHRTWMK21bSvh1Mm642nTWCtKkH07rnTE72aOO0XZq7bIltVQSEsFp15HLthg5J/+aJE12m3tVjOPYq1/dW4cTjHnwMYhXOce8xDd3y/PJW6OpMdsTRVy4iK/rKMR/jwvz825VIHFzT3fkx13UW/dnhRy3GJyeeHEs7n1XNibUPFvY6vtGDw5vV9w0Vofn81qGhZfDhi3HX8SfQ/3HPMse9CWcCX0gel2OIFJIt+2fRH7qWRaYJG85NxldGzV4tGayFSLQ24+q9ULyu9gJfMU5ELTn6wUISTl03NHz1KzyiJLqmX657OLLdSJgoXTO7cBxyN172blier4YCvBsFdSNXV2dC35tKJrbzfPfFdjwvC/qs9MSMxxNRsSqmT6LhUDQHE+jUBE7UnATXTuLsrRn01K2l/x6+qItiR3TNG8V59KNB0DGSfNXGUXwJY2Gm+osNhpSvEBDCasIHgVLTt75/aQ0MnXpBNb2QgNYEntfr4wu/nBYpKQLtxtdwAh0SBX3VDe7nM/Ha5vf1Fb/CURS2bCTAWWuxR229qRsbQQQbUed61LfW14JVKKsTJ5sk8WUcHbtlNANyTOhgcmAGKH7p3m1FWpqtuZCu+LByVdKHVMjpKEQrBwIW9tnpXOIH+QTDSH/D9f0bmCLewDn1I4HmwtAypPDZ/oe9oXKf/aMPsWxSs/RR13FHrURiZE1gDR86tKHEdCDMKX+XCwEhrOVCvqBeHNaW6ui11/mWDtLQ1kEiWodXE4rwYgepAPssTPCMOjIdAk94TZ8pMZjch8HjDorGFUTUAwlkh64be0A9/ZCatiDZWtOyE7ClQmIdJICJFYhA+TRV4Fo5/QIHiUvrTEbkVRCxiJfsSBbfYk87OTExXxdazY5yUgiRKfpHQ1YSkONmAZY+gV4NIeVFfCXoLNA5h/Plb5LzWAyzF+IVXdNnvO/6GcsyhjC1vmWZ7s2pO3fdOqzriy9asnJxZREoerDLppDAhiIAEtCfO3F5rW0a6z1PX4/nf53nG5RqqrpieSnULEVh8cx4E7ugH78H8tG9eP/24oVezY+pkpA8b/abhPF8le75BqdsXUtaFeaTlTI2IByEoU1l8oq1mkokcZHElIRoWmpejMMCMyCvQXyy7JjjuUcgOl4tLCzCMpTHgFpcgkViX/dH/ax2Szf8m2Yqc/MN+1r7BM/C/rfCtRDWEozSkbMjq7NTY5t13dqE6dhG3wsSqlp+C9DDi0ifLrqmT1f6BgUaPjiHN0lJAGAfvpWcI4XjiHIMF6ocO/EjmMa9HeelQ1LT1PRpoce/sJwOTCQtc+kfGQp6Uxl+9JWtmL+jNEaJ0gKBgbsygR58B4sHfwV5aliVWg3vCHv6ymHcdG868IzrVsK6pnd71+/dsmXxbD3m3/W2ybn0T1/bQFe5I8euX+9ybuqbXMPbDA7ZCKV4uMOecyz+9OfmWvj9x9zEw6JW+JuOX298WhE6qtwLEV3TL1tb/AWj7sqwfqaro/sdmcyM+vBp2XzzDEzaBiQsNH+e+eeTjQ+ohwqnG0BYhfVzNYKrkOmpyauYYH8KvD8G6RPBszrC6Jq+ystl0ghzXEZjR5+O4+iZwTh+eG7Yqa5rq/3hGzzTSkXKn4YgIITVABjBP+ZzP7i8ydasrZCetuCHvIvFRs92SEdlpnCYE2LOQi12OA7RNf1yjrphHIyE9yOXPnfNMDg70DpdTf8DWDKs5rRvMVwChAWrUgh21HzllD0NrigqlxKVC7bKQuOOWeGiuI7OTkhb6T8C/Xw3xkel9cXxj6eIxiY3Hhx3X9dHsWJwDaa3l1+zd9Mt/F4tUk/ijWnP+/DBb8++LWqvnh0c7NDGta0pO7kl6zpb8AJzEUr91kYEFdeBRCt69Nm4+AsSl6jwjVGckY6VwPwUpLhLURx9xliWvxFHi/w+zB0SWCnLsVpxnoXesSI2ngp4zmRJXPgf/0IleGH51R6uwjeX5MR76qtITh7+8N9Cp4GF7Sm8Zl1s35pVXVomm/5c1vG+Wm284njHJeJq44/FjixUAld8w7uijW6+xo3MhW2S6+oIVHumqpewglJ87+LFtcFUcqur+1vxwPcZJqYPMOyhXw6GKI4+4/GwQpjCBhe+6XDIpFb06PM+np5hhS5eXzw9bLJ2pBLGv4Fe36BU4kA6IQGw8MUY6MJywVeqDs54Z69zrWdY7jI3G1ZtUiSV6zzDI3IqLLew/wu9jspl+yywrA1pEed5QceXPT3jBb/DLrA5ua5UHZ/4eMTbFx+fwvE3DJO8fANrjlctL7giJhRx9MrfR89R+VgJ1Y6currONuwd0FNsxwtV02mPlWGLy1TxlPHf6Hh8PH9xesvw9yRM+5PIRT2ZIgVKKZxWUY/PT8aTFPji0i3m4Ed1hDWV/7uY9bNGtiGqAyorJRWSqCgdkrQiR5KddrwPlsq8xfhG6efvx8dvtiQczDdmmPaldDBxSVYeZ3GJXxUMWzxq5d4fPz7Ym7X1HTAL2A7NqtJHEQ3qtCPjw3LoxB/v+OMZ5VVzR5aHWRuErYA+y4uu6fM+Xl9J/lh7bFvbY+vmv0bWos9tsXAWSLIiaSnyApHxJz6SbFSFuXTw8i86r5vVRW1m+6IHmUREAuI0lcREP5q2ztWPrO9/YK54xsXHI56+cePvj3qBfimZNS+J5FWMcrjptThsRd4dPX9+DcwEd5iQphwozfkCwJKaLv9ewHYKeicfSudwShcnJDBBOD3MTwGRO0cqLIj73jQTaejDBYaPHTBgJ/i5+HyYijd95sFhRzkzB7yL2IrCtGwezj9nOQVTUlfPwiicifnu5J0qHHd8mXHIG6ZD7JQqIk9kJK6QwAokMWRUhMaSeJ0vcfaiXNhs7PyuwpYV51Vh+EM/Pu2M9GckpyiOuZm2Wvtom+Y4me8xPbvIIujzPu6Wbvyt1ejL3U7Sv/v754ZHsORwaX3KGdwiJhO5pzY+Mivk/urVq52jTnIXlEc78LKu8qAMx/G8kHhyOicosz0ovM3IrIDKb15HSvDoOoqv+hMLYCOWI8ash0vmufryZVcqLz4u8fym3ov1xT/EVp4UDUTn4/iS0xW+sZTMojASmLqGp64iH4FRXJQ2TKj+lv7JVRTVxwQkm9APyaboGnGMzSVR6VR87ipsVT645ovOzi5tamb6zzB1/nqzjz+s9YetwLioZW5C8jq08K9+1IxS8yQsfF6ap1WL2BK8VOaJc6NbPcPrx7wJ++hmHQUPvOaQgMJ3ETtVlERDP0wVsQ19uPgcLQyt/Dc+p4jlL6k/1xa2qVyh5ApEzEoErm/DsPOTXV3de6anq36roFyRdYWVbVSshHJEMt98saIXfIu9koplYZL6m/hUz7kS/Jt0/PE8+Jj6X/Y6k+fv2tA1BKIvB/OC8WnGAmp5dpqx3XW36fjgYK/upXbhFd+BrRlqn16MfkrspkoC4hnirYjbUVWzs4rHx8uL3cerjwt0TA4RcBcsuX8Rn97q54okVsCKJJ9YkSvy1gJR4aOtnAr6OJP+L13d+BKBKMEzHhAfgDh6yzD+vqHjTDDvYpAxLqwEfVdbE9bpIEi6V27tdLP+LnzPrWS/XrRTnz5d4e79+LNY7r4kP+Z7Jv7z1LyPL0B4Tb+ci9cXLy+eJ54e8Rw//rqqcUR+HOrgYVprJbBl5E2w63oI64J7k8mUDZLGhmAXs19ucVkxP8gKQu4ptCxbMy2TW3KAGI4u1P207ztH3CDx/7bL+Cdse8h1Zy5ev7Dp8uHD7blJuy0J69TV8XW6l92Dl3cbLG6g98idbhDgdANcY1ZY9o2N4mpNr96GRf1Da3Wui0RW69F1bWslvp81LD2xDTOGu9DhQzBc7AcYfYlkAqo6A6ozqHNBYJTESGitTGShsp0qQSxT4AcoPJQw0LBlEPhBFakHDjoLvY+XgVIyg7WK77tG8n9pvpHXBbXL+OMBd7FN6KLu+uf27esbX9RHdIkLbxvCGhgYsDb3v2a7obt7YHakpKmYiqgE2ioqJbzIOszXcSov/DAzRRNehyJKvPx4+igv/ZLKEaCkoZxUFMYXE1I8f7Xyq/UHp9CkAlfbCF3NdlhS7IQguA0N2wiJYy1ktC5IISb1Okr5jSYruy2SGlYkIkKLSC3yy/WrUWGzSnjaTUX/QEhYQuNewLCdwBFKRkpOuAfr4sBnwwfDg6B0MHagORhBHNqHw5WxTwYav6lAt/42MBLfrYZXHO9w3Ftr/B0Hp0pY+tkD29ddAz5ln8NGjddSlNPyhHV8aKjbzAS7Dd3egRcvgRHJWyrHASw9Pyp+vlSxEluH0jWAGQF9VVZMpxHVRZ/xSKQU4PR5Xy0+/sLQZCFS9DN/XKtSeh5WrL2x+sMyZv+W67+vwz5eC7oDx12rm9pakNg639B68XL3Qh+2Bm94DySxHhg0daBHSQhiCbyyyMS9SDi8RhEHyYP1qD9qak0S4VGn5VYrSTRKEkKHWYYiHuQmCYb/YKYLqS+3H5LYckxJmz6qhSYJ5yNgzgtuclESpncBfN8Fj3lgJdCSGpHcGECoxrouMoHjzO+4evLLMB1VKxJV8Wyj8Q80Ix043jnTu32hlTdkh08Yn7UWcnio9Qs3pzZm0lN7LCOxIdIZxbuQ1+lAVFFxJB7aMeUIiPkiPRPjo2v6dPF4FVjHnxi/oQK0Az/bymf5uI7ayGLj6eM63nrbF5VNXzV7nv3HViQL3JAEaSV1z0iBNJIgJBCYkSKJYbdjEiSHw7a0BI5s6QBBbINUswMUsQ6E11UojZGccA9dcZDBdQY+TgyFTgkiEKYyIBvstAQzIRk8cBJ+A2j4gZFDFWAqjAp3V5IhQYYwwUJ57ByS0QINzMYK8FyrRxt3KNbXb2qG/UVNT5wDyCt6/A0boGbdqzPA4tD21SPquWihPy1FWHjQzYs3xnZkM95ePIZd8RccBx1xez/UPowp46I4+uVcLD9/8Plq0Gfy6Jp+uez5uqPyY+UtNN5DuVQc06drpv4bIDXsjtsMpdkOSC79QK4Xog3PzwF4IBNCBiIhpBSpoE8jioqWaM2KCRuOqwLXgIQItKIe0lCYD/lZjoqgGIo0+J++SsmMKA8eqQ21qHuUh2PfzQHN6vgG6vVK8GfmQhcbr3Yff+AEi3rtdCtNF8u/eIWD2ATXx4Mg0XH1Vr/hm7sDQw8PvyvTrriKWocEE0C6oM/kJRJHrAykgj6WGlq+JUifu6YfS6pu4/UVa6AgQcXKi78ApekhcWFBwMstEkTX9MvVHw+Lt2ex+4+Pg62CxgsHEwZbAdgWIJfA+ICkfDRYtyAwWWB7Ay8F8VT/KB0bOJ4Gx/CQfUKSwZGrJJs8iZHYgB0zMB+zk8hopQ8hEcEog2ERASIBAOL5fIrVIKLxXKtzKPZLgZUckvGf+/nH5HsK0+Uz3316zeAjj3D23Lwu90w0ZwNpiZ72UnvwfO/AXIFnXfLBxLOsHn6yiLqmr3oQ04LHX9hq6TFHI6txrlYWkHj98UT1lh8vryR/rIKq6aO204drdP8hRWF3itmLUw42QnW1CSTSA2IAIXkWOBYKLWw8wjVqNkEaFqjFwLQNJhWI4ZiFoiq6QX0SbsEo6HMoWVFCYprwjw6FP65BXCSoXJwiOwpnFK9A6yiWkQhRDwA9XAfpwLS/AqnqSKP7jwapquiznXFXMn6x8Yg/X/HySvLHKqiaPlZfvf0H6BloAM/v3tpzHkJwUx59Uxb4GE5Lfnt2ZGS16SX3+F5mq4llfegtwnaSR6J5EC8hPUV6IDaS6aDnoZ5DpYe6AtdgOr4pyhXLNPH0KKCo/DDP7N+S+mI6qHzbQr7AbdgW+iylWn0l5cf6E29ftfSN6L9lGl04x30tOtMHklmLhxpClW9BL4S1T+i2uNPRp+0FflD0AN9A9LHnmHGBBfJCE3QL9ALiguoJqiu+64gDzWGIIAlhzhaSDsMV/yjJi3BxyY9khP9BXBSzEMY/AFORGMmM1yyKZfmm+ZKuJf4uMHV1THEj+o+S864E7zYd/8Dliqp2MamvPbt9uw4dY/M4DnXTuMuXx/scK9iHLcbryzfKwvOJBSGNPl10Tb8WV0xYyMFymDdXXv46Kq+ueChJQI4WlSUqf8StOf5CNdXqr9afxe8/Gm6AoLAqGKyCGLSG350ACFzKM2FvaeOseEhFOsjItdQ2S6wYYmkOdl2+CfLBvmpIV55vYY2Qn6uAxAWC40zbhxSmWArcQj0TSIiSU37mx0kgVesgLereOSz8E5EWJa6Qzyh1hZEcO7xY4Ct9WLfNvwa+5xA2h6uGP6vMPxMsZ8WNf0Gf+cOCw9usq51a5+kNG9Sn1IjJsjoO0LI7EpVra/vxhPdFs7JyjYriohlbTAKGxO1C6oJEljseOLqmTxfPX66OucJK66OUNzuDjK7p05UIbGwX25I/vrj4BYrnD0uZ/Rtvfzz9fPsPIkgkbL0DZNMFRVEHFEY2ZCBTcwMLdfCsCCVN4SwpE9YG+ARNgD24IDHYSYB1yNCYDkLRFoC8oOUG40AKQx5IYyAmlQ6SF7dDoSof0hbJiApzqLs43aPc5UG+AvVQ/4T7nGQFQiJ5kdbAkmgH2Sz0FaWB4gLrad22v4nmuvPt/yzCc1+V4t0e4z93r8PYwDCvNANxLSthkai0jmCf5+jq6y6Y4SkjTfoKprgWufj9Dg3AozBmiK7pl3H8WDH3u0YfLY6u6c/HVS2vSvsxoygyTF2q/qNenEyjJ5NJPYGPRidME1M1/JYqwyoNq32Ihu4J0z5M+WA2DoqwEI9wfmEaEhQJzPNsKNOh0jJwrfRVJqbnNOrC6IGwQFzgHiKrpCuq2kE+FizrMXWE7IWCEKemg7hSiimOQchNIC3EchqpHlBO95TshQThkwF5TL9k+Mm/MZLGzVo3AlQdLzagDle1vCYd/wU9/5Z5ZcyZPnNow/J8ZHZZCGtsbKw3rdn7nIzTx42o0WfP1cPKuYJ6XPFs5q7p8zmKx5v8cdcxDeMPOR1fj+gh4X10TV/dukiC+nJPeLy8eH1hrtm/UVvpKxcrP2oL/dlcs1eQ9PCeo73wGcp+R2Xyvlp74vH19B9EkoA2CYKUlcQqJCQj6vkoyBjh/IurcJiy4Zxy2FMptRBO7sK3kClR0UYUZAX+wMqfC1ICiYHMYBsKSQsSFKaAUEqZLoiK00ASFsgpN0UEUWE6yOkiiArE6NmUb91OWwAAEuNJREFUszCNxA0c/uBoF04W86YOarWQAYjGmHBBEIkUiXEqib025hNmInWknv6zKo77Sh3/RvcfSx5Xl4O4yr5Y7NxiuEEQFT4uvs8yrF5VvosX28LLS185vsiRHkc9YPiJtrCbJIzHyx3gJdfpl80flZWPR6qIxJghus7xjSqj4E9UNn2VvN76Csqq6XIR+48OYEeGlcAaXhLfQwxNQcgQEI9IErOOxBUuCuDLz9Arm5iyOTaYy7Jty8hAb2VCm43ZmwnwQTbgFpAWyA4SGEKhaMdgYNpngKAcpeMCAfFjYGE4yAqco3RZ0LorUqOkxVkf6AgzvFBPFbISSsOUD+WRrWijpcwbmI4Gomj4yxAIv4bPVU+q9sfxk/EP36UlfP49N3vNWr/m9CZdX/zzjDDofAoW3XHVr9NPHdB8p2+uORl/mjFLUktMbBTtkSJbpLCRxYyD5OpJps/4+DJuvq5IIgoLqfi3pLzcRuloM7QSzKImsBSWG80LVKkxkSvOkFHaCjL5QvrPN9rwvaSVtEg2ICmQCNRQkGjwnlOpNktMxdds+GxcRFrIyCmhTQMEUJjl4qwtzPbAOVC8o0DUZroGiMmBpEUfRBZ4DvRUJC4/1GOpij1ML9XU0PJdFxIZGsOpJkkOQ0YdFh5CPodKl0WfRqQkVUhTIEf1iN4GkdJU4Rx/xsJfHkpfMv4cd+IAUJb1+YdkfSU7NXp6+/bti7qquKiEdfVq0Gl2TO2DonYzAcUTCv0slCB8FuGia/q8j7iAPl30aNIPHVKq55w+00MvjFLo05WmV8H5P9XLzydVF/H0xbGl9UGfjm226B98po2u6fO+0f3H9M7SbT1h+FoS00ybSmm+5/RZHxzbwWvVHtSvNuLRR4BKl0vPtHRhWh1SESUsNBkH0qjvNiAx4MA1JDBc4yBmTPmwJArJCFM+dA1SE5XsmFIqRTzKUrZYkMio78IUkauFoW6Mcbin1GWrOR8nqOEUEUQFmuK3ZdEw6NFg92s9j3XLp0CIsAuS8VdPkcKhCZ9/KAc81x/c3NdzFjy6KHZc0YPNh7VhDg9jYnh4co9n2dvx1nLalys7Rimx2xLGigfEJBQ0Xr149FkBVb04BQiTlPAFbTiDxRGKM1pJf5AgarPKG0sQu413N07hkCANO5m0fSebtCwziW5DqMISHTRMJCDF23inYbmsauNCHq+Vn1ta5dErzKN8psP/RiIXVpAegKJQ30Y06AQSEXdAIpdL0wbTNsLpoSIeCwRJHZYBpTusIFAIlPC0iqL5AxoCcmLPQkkLdITRCc0dSFqQD1A51g4pLOXmhZCwDMO2BpH9q6ZtDoU4oKQIy5yEynFnv+mzw+0+/q3Sf5yT4aYs89zq1alLIK7wYeQANcCpgW5AOaqIARzxcudrXrMTz+cuFAxBI1Rw06eLKz3xsnDikt+Mmr9mWBlXrbySeJAlTt8MXJImXHRNv0zx2GpWZ3r0KKqzXHlRHH26+fQf+mkbg56ADjppUuihMJl7BEhGtmnj+4Phj1lEUAzjaQcgJkzcqPPmlI/yjdJV8Trf/+hbeYyP0uMS0zSVF8SEaSELxkhR6a7IC1IVHkNMBWEkCljxYQ7YXgWKrDCHw2ohJDDKSkr5Tst3TANBp7DdgkTFKSOpxYMtV2i3hXQoJjwbBo3L4oibAajdXmSbCl01PEvi6x3PetMvwfi3cv+xHpPRk8GZvo6Oq5y5FvZlvtfqQZ5v5igfH7iRdHqrn/H24McyEb6ejCUxkCwqEATi8JDNKtWRIxI6wrLj+aOyQgIqLT/KTZ+OLYnCFGHE60PdSgzIgVmcfrbt5evjYkB97VeNyv8plx/UYoChElhYgB7KtD3PAUWRpejIVNzNAjNzyDuYRqnrMF5dIx4CkTrlAJQRps2FhZIX5lqYwfFLOygTBeSmkUhDEgNvIC7MR5ML6JhozoCpn+858G1utbH4j7BRT0Z9VlZzbTyOKJCKeCjkqYbkFBJh+DXCPVcKuXKIFURlm8WBoZSFOBCYmk6i33ioT+Kw1CegEMspcFfe+M8+rRySNum/YUwm9I7TPT04NWOBDg/nwtz16xMbEp3mPswIOuI6G7wBSlynz1pQWZEIP0smIcEEWN3QsfJDn+nj9FFSPh73wilgdE2f+eOumo4pPqWI2kI/LKu4RVXLq7H/kJopRUFhnkj4joNT9KC/BlZgAIVD1I+cwASVUBgCIsF1KEQxJLpGPKHGP5LYrAs5ikREnmJ61KF4K5cG1+REVS6HC1JauGroYYcOrLWUEp6MSF0UpoZgK5hV2dgEzeNLYbMBnRQZEUPnOwGMT6GOp57Kg/0WTCMYjnsQHpDmlJFTR5IcNt/alvV1PdF5NsKcLSpGG03L6QcjnWDpeIXqgFYb//A9wGi1+fMPDeqY7nae6uvT530KKp+JebkhHJyX6Fqz33X83tCgRr1d6gXBH+XnFtEwDmEVMBfAtbK7UvHxVTb1gGLQokbFVBZMDtUJHmT+dsPxmqSRU2nkrxkWxhfbOfEVwLov4sIaonSRr1qZy6vy8xliPbn+qPjYHxSm6mJwdB357DfaVtJ/BMLeW0/ayVQSR6TA5AB7h8kwmFeRrFBUSFYkJk7GsM+F5SuiCQmFBEriCskHYcxfEM9ozBjBS/yaKD//rBzndjD3BHswAcmqwFdhOWGugCw5owwpEt9sxMlVGWQEK4GlcAOi1XAcL6eLICfdcMFmNDnH7xdO/YTCHTkxM2B6EiSPbuXmHrZO5eJy4Iu6lfo2Gu8orFfA+PM9UMjnHpBIx9v+/Q9Wm8nMfcMTE1d7u7vP4Ec6fzy1wqOGP3xI63JHjgT2/rsy/boTbMP0pe78dVUWS5wjK0VUjIqNN3kA62ZYeIcfxofXDFNFUZBTT4W6m71mWBlXrb4yWSoEYWh0jVIUdJEmzA6o18mRDN7dCplCEkK8IiP4WRAU9OO8j5wimZB3SAhKYlJEphLkJCaSEP7PEdxsfVG5UWFxP6qPPngTlvBED6IWLN8dTPmg8ocFPPRXWBdlFWqqCEmLlhAgLRtKdLaAkpQNfRUM6DUQGOUiTimNEaT7FvRVw/F6K91XG4/mHf9KPaovvJ36jzfSS1mpc6mUdhnvhZL4a0GjZsKBKK+n0+kt0AHvztCAsIzjeeAeUKVPF1l101cBWCICxcGmcPalUeHRnyguIsJYej79fFnpKxdjrKhu+spVK69Ke+OW6SXlh7Xk/8b7D5umJKY6nUiQAEmp5ZKoD5Ay8kTFzcAsJIrL+ZREYCWAaU4ubXRNP8wfpuSuGubHMwCJhSuGPCiYJIMw5GV6xkfY0Wd+WoPiBAlEhvnzNluw3SKZYTkQHIQ5J1RQDg7Lw/QQGUIdFp4wcC9KgQ/7KkxjucEHROVmc3ZaCFfEjMxUvlPvBZ0WhT1Q1zG06hQKyGPA9qEh4bPRJuO/0p//WvoPyXpa77BPr9L1mn64QiJRT0vlP3jg1oyn0/th1dnN6VOkQyh8wVRuPpLUH9GHi+sckD4vLaj43NSHLwfv8cKjbGxdgc97JUpFpIRbpovKYHTUltkpHYkyEqNYf1gWfZU+Vn+JiMZERS4qKyTAMv1hmwoItLT/aL6OL9cn8A4mknhDkR5CUuh43ExhAXjnIQVxRQ9UwnU1JM73meHISINzlY/1Ir3jwNQBtui5IpU3K2mFZbEUEhgJiHlZhkqI8rws7hPFxBHlZ5romu1CGRSv2HyQEQiLPkwefJcSk2o0mU+F8Z46KswbKd8qvRUWiq7BsuoYlF/q+Jd839p4/KNnFHhw+Fbc819r/y3dHO7qsk9D2lLPBvEq59SLXC6CYSCq1OTk5F48g+FxLyQSvvyzhFK8taaYL1ACiYdkkSOg/HVO4irmAySLlR8+yHy5wnaWysTF7YmnRxdyecMXFDcxx3KjNCUEGUtb2r4Iixwh5qebxEG58v2Hkh0ERqlLp5kClNLkngLSyF8XExrZi089SYbFm9DRg1FCbEKyoxQE8sqFkTOgTwrDVIPCP/k8qpRcGrxMEXmxnpwjUeXbhjpgA2bBNsp0HPQWOiwNOnddw5YcNIdSFyzTlUKehEbrLDxDNn7osjCXPw5FO22qgPfKHn/pf8XxxxetvSvYlX8BxBVKCdGDmPPDhz0W+Oijjxof//jHt+Hh2oko/qKqFx4l0BJQmQIwS3RNn/fxZXqGFbq4nQzimI9tKFs+S1S1KJ9XoQkEfUQwtKg98fSzefMMwmx5F28/IqK2RLjM2b54/gX0H0v6+IiDZSVgHJogfYWNzDMUpCtsUkKg4pKIUJAsnNTlkjNWzfBCPMOhi8JAiCSqPBmyMFVQ1OdctQwLywNZ5cPCpDl80D6IhjzBASQF0sUeREpSJCyE4ceSpJXbEO2612AHepaTSRn/YrtEAD3n8xV/ntv4+S96nyGRO9gccQZmEPiBK3bRi5kPHcG+v2T32n2+53bxNY8oQyWIB0SR9OmqxMeTh5lm/8azx8srEbCQNSqTpUTX+eagwCiPqiWeQAXO/olHV2tPaYUFjWCxsQJjt7MV564K6iOB2Xj1adNGa3PqDMFl4XwSSnAQCUIibqFPlwtTwbiOkoSR+JvLx3KYv9BXaSrlLyifSegQBNMFTAWhiIeFArRZnoX+8Y2EzKhbnuNlYO9wFpZXkwoH5Kmj/6qOFTz+0n8+Y4Y/2pVIcJqY35+YJ6wjEN33ZzL9kPY3hWjx6Sv+RcByLIQAZZYQJSn2C944FRF/QkvjQ31XZDcV04GVPOGl+WdJEhVGbaNPV3d7Va7ZP83U/1ACgzTjkg4gjUFvHhGWkrPAPnnBLNeFSEKKfAbzOu9yBAUdVj6cZURpZuU3XOUILioD93x2IEnxxFGc9c6M+M93cHSNZVzHquBQDeMn4x898wQ2us7pgGvAbyU8/z5e5EupVEqtJirCgp4KHxVI7sbrQIYKHyKF3+yvIvEEX8FsQNk9qXwgBpgQwNo7p9OKrukzfdzF08+WTmYrV35YF+tU8bEpYImInGtLVH+8PkzZ8iQcVpjrawXCLOHH5uo/9JmWjbXHJMQcNhVW8bOklbsumnJw7Q+cgtVK2mJxAUNNKKncp54KHuzAwnjCE01B1UIHA1A80ik/IkdIfTj6mE8MXh2sSKZhdHUd+IcDykwFLj4eMv7Fv+il75c8/xEmeHaojD+jZ4LgbsPVVvO5iutg4oSAFCCiAqVp/jrUKRU8mzVexsube05ff3tiD0Q1wkP/ojrYgeiaftiheHsjLKL4GrudTxYvb0H9h94bpzeAwCD4cAqJf5SmlBjFH5D8ChVC1Q8KyIkrjtgbE64y4lqtINJHel5Hq4q4ZdsYzsWBWaU+rkFWtFzQbiNNnWciNbT/qD4+Hitq/FdE/3mWzmvQU+W4hZZPenQuRHRNfylcvfVjpUqz0Tj6dNE1/fm4euufTx1z5am3/hr6z6lj9A9ElneKwPJ3IYEVEpqKys0YFeUhoDBP4TV/+bjVIkfqKuu8/ixC/+tqR73111V4DYnrrb+G8a+h1tkk9dY/m7MxV7XUzwdP3ApBgCYG6Co+L6/+kcB4X0g0ERFFzwXjojBc5q8ZhqOKtWEoROmLEwSWBIHowVySyqSS5kIABEYhisRFEov8SgRWGD6K9OMgq8IwBIkTBBYXASGsxcW3pUoHgfF5iIiLPv9x+03kuLxMqaqsUj1KJL4gsFgICGEtFrJtUG6OwDhtJHHhqLOl+dBAG0AnXRAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBIGVhMD/D0fV/fpMMM+gAAAAAElFTkSuQmCC"}}},"243f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={line:{color:"#d6d7d9",length:"100%",direction:"row",hairline:!0,margin:0,dashed:!1}}},2515:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={mescrollEmpty:i("47d8").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","mescroll-uni-warp"),attrs:{_i:0}},[i("scroll-view",{staticClass:e._$s(1,"sc","mescroll-uni"),class:e._$s(1,"c",{"mescroll-uni-fixed":e.isFixed}),style:e._$s(1,"s",{height:e.scrollHeight,"padding-top":e.padTop,"padding-bottom":e.padBottom,top:e.fixedTop,bottom:e.fixedBottom}),attrs:{id:e._$s(1,"a-id",e.viewId),"scroll-top":e._$s(1,"a-scroll-top",e.scrollTop),"scroll-with-animation":e._$s(1,"a-scroll-with-animation",e.scrollAnim),"scroll-y":e._$s(1,"a-scroll-y",e.scrollable),_i:1},on:{scroll:e.scroll}},[i("view",{wxsProps:{"change:prop":"wxsProp"},staticClass:e._$s(2,"sc","mescroll-uni-content mescroll-render-touch"),attrs:{prop:e._$s(2,"change:wxsProp",e.wxsProp),_i:2},on:{}},[e._$s(3,"i",e.topbar&&e.statusBarHeight)?i("view",{staticClass:e._$s(3,"sc","mescroll-topbar"),style:e._$s(3,"s",{height:e.statusBarHeight+"px",background:e.topbar}),attrs:{_i:3}}):e._e(),i("view",{wxsProps:{"change:prop":"callProp"},staticClass:e._$s(4,"sc","mescroll-wxs-content"),style:e._$s(4,"s",{transform:e.translateY,transition:e.transition}),attrs:{prop:e._$s(4,"change:callProp",e.callProp),_i:4}},[e._$s(5,"i",e.mescroll.optDown.use)?i("view",{staticClass:e._$s(5,"sc","mescroll-downwarp"),style:e._$s(5,"s",{background:e.mescroll.optDown.bgColor,color:e.mescroll.optDown.textColor}),attrs:{_i:5}},[i("view",{staticClass:e._$s(6,"sc","downwarp-content"),attrs:{_i:6}},[i("view",{staticClass:e._$s(7,"sc","downwarp-progress mescroll-wxs-progress"),class:e._$s(7,"c",{"mescroll-rotate":e.isDownLoading}),style:e._$s(7,"s",{"border-color":e.mescroll.optDown.textColor,transform:e.downRotate}),attrs:{_i:7}}),i("view",{staticClass:e._$s(8,"sc","downwarp-tip"),attrs:{_i:8}},[e._v(e._$s(8,"t0-0",e._s(e.downText)))])])]):e._e(),e._t("default",null,{_i:9}),e._$s(10,"i",e.isShowEmpty)?i("mescroll-empty",{attrs:{option:e.mescroll.optUp.empty,_i:10},on:{emptyclick:e.emptyClick}}):e._e(),e._$s(11,"i",e.mescroll.optUp.use&&!e.isDownLoading&&3!==e.upLoadType)?i("view",{staticClass:e._$s(11,"sc","mescroll-upwarp"),style:e._$s(11,"s",{background:e.mescroll.optUp.bgColor,color:e.mescroll.optUp.textColor}),attrs:{_i:11}},[i("view",{directives:[{name:"show",rawName:"v-show",value:e._$s(12,"v-show",1===e.upLoadType),expression:"_$s(12,'v-show',upLoadType===1)"}],attrs:{_i:12}},[i("view",{staticClass:e._$s(13,"sc","upwarp-progress mescroll-rotate"),style:e._$s(13,"s",{"border-color":e.mescroll.optUp.textColor}),attrs:{_i:13}}),i("view",{staticClass:e._$s(14,"sc","upwarp-tip"),attrs:{_i:14}},[e._v(e._$s(14,"t0-0",e._s(e.mescroll.optUp.textLoading)))])]),e._$s(15,"i",2===e.upLoadType)?i("view",{staticClass:e._$s(15,"sc","upwarp-nodata"),attrs:{_i:15}},[e._v(e._$s(15,"t0-0",e._s(e.mescroll.optUp.textNoMore)))]):e._e()]):e._e()],2),e._$s(16,"i",e.safearea)?i("view",{staticClass:e._$s(16,"sc","mescroll-safearea"),attrs:{_i:16}}):e._e()])]),i("mescroll-top",{attrs:{option:e.mescroll.optUp.toTop,_i:17},on:{click:e.toTopClick},model:{value:e._$s(17,"v-model",e.isShowToTop),callback:function(t){e.isShowToTop=t},expression:"isShowToTop"}}),i("view",{wxsProps:{"change:prop":"wxsProp"},attrs:{prop:e._$s(18,"change:wxsProp",e.wxsProp),_i:18}})],1)},o=[]},2540:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swiper:{list:function(){return[]},indicator:!1,indicatorActiveColor:"#FFFFFF",indicatorInactiveColor:"rgba(255, 255, 255, 0.35)",indicatorStyle:"",indicatorMode:"line",autoplay:!0,current:0,currentItemId:"",interval:3e3,duration:300,circular:!1,previousMargin:0,nextMargin:0,acceleration:!1,displayMultipleItems:1,easingFunction:"default",keyName:"url",imgMode:"aspectFill",height:130,bgColor:"#f3f4f6",radius:4,loading:!1,showTitle:!1}}},"26cb":function(e,t,i){"use strict";(function(t){var i="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},r=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function n(e,t){if(void 0===t&&(t=[]),null===e||"object"!==typeof e)return e;var i=function(e,t){return e.filter(t)[0]}(t,(function(t){return t.original===e}));if(i)return i.copy;var r=Array.isArray(e)?[]:{};return t.push({original:e,copy:r}),Object.keys(e).forEach((function(i){r[i]=n(e[i],t)})),r}function o(e,t){Object.keys(e).forEach((function(i){return t(e[i],i)}))}function a(e){return null!==e&&"object"===typeof e}var s=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=("function"===typeof i?i():i)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(e,t){this._children[e]=t},s.prototype.removeChild=function(e){delete this._children[e]},s.prototype.getChild=function(e){return this._children[e]},s.prototype.hasChild=function(e){return e in this._children},s.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},s.prototype.forEachChild=function(e){o(this._children,e)},s.prototype.forEachGetter=function(e){this._rawModule.getters&&o(this._rawModule.getters,e)},s.prototype.forEachAction=function(e){this._rawModule.actions&&o(this._rawModule.actions,e)},s.prototype.forEachMutation=function(e){this._rawModule.mutations&&o(this._rawModule.mutations,e)},Object.defineProperties(s.prototype,l);var u=function(e){this.register([],e,!1)};u.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},u.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,i){return t=t.getChild(i),e+(t.namespaced?i+"/":"")}),"")},u.prototype.update=function(e){(function e(t,i,r){0;if(i.update(r),r.modules)for(var n in r.modules){if(!i.getChild(n))return void 0;e(t.concat(n),i.getChild(n),r.modules[n])}})([],this.root,e)},u.prototype.register=function(e,t,i){var r=this;void 0===i&&(i=!0);var n=new s(t,i);if(0===e.length)this.root=n;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],n)}t.modules&&o(t.modules,(function(t,n){r.register(e.concat(n),t,i)}))},u.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1],r=t.getChild(i);r&&r.runtime&&t.removeChild(i)},u.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];return!!t&&t.hasChild(i)};var c;var d=function(e){var t=this;void 0===e&&(e={}),!c&&"undefined"!==typeof window&&window.Vue&&_(window.Vue);var i=e.plugins;void 0===i&&(i=[]);var n=e.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new u(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c,this._makeLocalGettersCache=Object.create(null);var o=this,a=this.dispatch,s=this.commit;this.dispatch=function(e,t){return a.call(o,e,t)},this.commit=function(e,t,i){return s.call(o,e,t,i)},this.strict=n;var l=this._modules.root.state;g(this,l,[],this._modules.root),v(this,l),i.forEach((function(e){return e(t)}));var d=void 0!==e.devtools?e.devtools:c.config.devtools;d&&function(e){r&&(e._devtoolHook=r,r.emit("vuex:init",e),r.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){r.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){r.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},f={state:{configurable:!0}};function h(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function p(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;g(e,i,[],e._modules.root,!0),v(e,i,t)}function v(e,t,i){var r=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var n=e._wrappedGetters,a={};o(n,(function(t,i){a[i]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,i,{get:function(){return e._vm[i]},enumerable:!0})}));var s=c.config.silent;c.config.silent=!0,e._vm=new c({data:{$$state:t},computed:a}),c.config.silent=s,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(e),r&&(i&&e._withCommit((function(){r._data.$$state=null})),c.nextTick((function(){return r.$destroy()})))}function g(e,t,i,r,n){var o=!i.length,a=e._modules.getNamespace(i);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!o&&!n){var s=y(t,i.slice(0,-1)),l=i[i.length-1];e._withCommit((function(){c.set(s,l,r.state)}))}var u=r.context=function(e,t,i){var r=""===t,n={dispatch:r?e.dispatch:function(i,r,n){var o=m(i,r,n),a=o.payload,s=o.options,l=o.type;return s&&s.root||(l=t+l),e.dispatch(l,a)},commit:r?e.commit:function(i,r,n){var o=m(i,r,n),a=o.payload,s=o.options,l=o.type;s&&s.root||(l=t+l),e.commit(l,a,s)}};return Object.defineProperties(n,{getters:{get:r?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var i={},r=t.length;Object.keys(e.getters).forEach((function(n){if(n.slice(0,r)===t){var o=n.slice(r);Object.defineProperty(i,o,{get:function(){return e.getters[n]},enumerable:!0})}})),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return y(e.state,i)}}}),n}(e,a,i);r.forEachMutation((function(t,i){var r=a+i;(function(e,t,i,r){var n=e._mutations[t]||(e._mutations[t]=[]);n.push((function(t){i.call(e,r.state,t)}))})(e,r,t,u)})),r.forEachAction((function(t,i){var r=t.root?i:a+i,n=t.handler||t;(function(e,t,i,r){var n=e._actions[t]||(e._actions[t]=[]);n.push((function(t){var n=i.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return function(e){return e&&"function"===typeof e.then}(n)||(n=Promise.resolve(n)),e._devtoolHook?n.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):n}))})(e,r,n,u)})),r.forEachGetter((function(t,i){var r=a+i;(function(e,t,i,r){if(e._wrappedGetters[t])return void 0;e._wrappedGetters[t]=function(e){return i(r.state,r.getters,e.state,e.getters)}})(e,r,t,u)})),r.forEachChild((function(r,o){g(e,t,i.concat(o),r,n)}))}function y(e,t){return t.reduce((function(e,t){return e[t]}),e)}function m(e,t,i){return a(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}function _(e){c&&e===c||(c=e,
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:r});else{var i=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[r].concat(e.init):r,i.call(this,e)}}function r(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(c))}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(e){0},d.prototype.commit=function(e,t,i){var r=this,n=m(e,t,i),o=n.type,a=n.payload,s=(n.options,{type:o,payload:a}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(s,r.state)})))},d.prototype.dispatch=function(e,t){var i=this,r=m(e,t),n=r.type,o=r.payload,a={type:n,payload:o},s=this._actions[n];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,i.state)}))}catch(u){0}var l=s.length>1?Promise.all(s.map((function(e){return e(o)}))):s[0](o);return new Promise((function(e,t){l.then((function(t){try{i._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,i.state)}))}catch(u){0}e(t)}),(function(e){try{i._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,i.state,e)}))}catch(u){0}t(e)}))}))}},d.prototype.subscribe=function(e,t){return h(e,this._subscribers,t)},d.prototype.subscribeAction=function(e,t){var i="function"===typeof e?{before:e}:e;return h(i,this._actionSubscribers,t)},d.prototype.watch=function(e,t,i){var r=this;return this._watcherVM.$watch((function(){return e(r.state,r.getters)}),t,i)},d.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},d.prototype.registerModule=function(e,t,i){void 0===i&&(i={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),g(this,this.state,e,this._modules.get(e),i.preserveState),v(this,this.state)},d.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var i=y(t.state,e.slice(0,-1));c.delete(i,e[e.length-1])})),p(this)},d.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},d.prototype[[104,111,116,85,112,100,97,116,101].map((function(e){return String.fromCharCode(e)})).join("")]=function(e){this._modules.update(e),p(this,!0)},d.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(d.prototype,f);var b=k((function(e,t){var i={};return w(t).forEach((function(t){var r=t.key,n=t.val;i[r]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var r=x(this.$store,"mapState",e);if(!r)return;t=r.context.state,i=r.context.getters}return"function"===typeof n?n.call(this,t,i):t[n]},i[r].vuex=!0})),i})),S=k((function(e,t){var i={};return w(t).forEach((function(t){var r=t.key,n=t.val;i[r]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var r=this.$store.commit;if(e){var o=x(this.$store,"mapMutations",e);if(!o)return;r=o.context.commit}return"function"===typeof n?n.apply(this,[r].concat(t)):r.apply(this.$store,[n].concat(t))}})),i})),T=k((function(e,t){var i={};return w(t).forEach((function(t){var r=t.key,n=t.val;n=e+n,i[r]=function(){if(!e||x(this.$store,"mapGetters",e))return this.$store.getters[n]},i[r].vuex=!0})),i})),E=k((function(e,t){var i={};return w(t).forEach((function(t){var r=t.key,n=t.val;i[r]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var r=this.$store.dispatch;if(e){var o=x(this.$store,"mapActions",e);if(!o)return;r=o.context.dispatch}return"function"===typeof n?n.apply(this,[r].concat(t)):r.apply(this.$store,[n].concat(t))}})),i}));function w(e){return function(e){return Array.isArray(e)||a(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function k(e){return function(t,i){return"string"!==typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function x(e,t,i){var r=e._modulesNamespaceMap[i];return r}function A(e,t,i){var r=i?e.groupCollapsed:e.group;try{r.call(e,t)}catch(n){e.log(t)}}function C(e){try{e.groupEnd()}catch(t){e.log("\u2014\u2014 log end \u2014\u2014")}}function L(){var e=new Date;return" @ "+I(e.getHours(),2)+":"+I(e.getMinutes(),2)+":"+I(e.getSeconds(),2)+"."+I(e.getMilliseconds(),3)}function I(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e}var P={Store:d,install:_,version:"3.6.2",mapState:b,mapMutations:S,mapGetters:T,mapActions:E,createNamespacedHelpers:function(e){return{mapState:b.bind(null,e),mapGetters:T.bind(null,e),mapMutations:S.bind(null,e),mapActions:E.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var i=e.filter;void 0===i&&(i=function(e,t,i){return!0});var r=e.transformer;void 0===r&&(r=function(e){return e});var o=e.mutationTransformer;void 0===o&&(o=function(e){return e});var a=e.actionFilter;void 0===a&&(a=function(e,t){return!0});var s=e.actionTransformer;void 0===s&&(s=function(e){return e});var l=e.logMutations;void 0===l&&(l=!0);var u=e.logActions;void 0===u&&(u=!0);var c=e.logger;return void 0===c&&(c=console),function(e){var d=n(e.state);"undefined"!==typeof c&&(l&&e.subscribe((function(e,a){var s=n(a);if(i(e,d,s)){var l=L(),u=o(e),f="mutation "+e.type+l;A(c,f,t),c.log("%c prev state","color: #9E9E9E; font-weight: bold",r(d)),c.log("%c mutation","color: #03A9F4; font-weight: bold",u),c.log("%c next state","color: #4CAF50; font-weight: bold",r(s)),C(c)}d=s})),u&&e.subscribeAction((function(e,i){if(a(e,i)){var r=L(),n=s(e),o="action "+e.type+r;A(c,o,t),c.log("%c action","color: #03A9F4; font-weight: bold",n),C(c)}})))}}};e.exports=P}).call(this,i("c8ba"))},2749:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{name:{type:String,default:uni.$u.props.icon.name},color:{type:String,default:uni.$u.props.icon.color},size:{type:[String,Number],default:uni.$u.props.icon.size},bold:{type:Boolean,default:uni.$u.props.icon.bold},index:{type:[String,Number],default:uni.$u.props.icon.index},hoverClass:{type:String,default:uni.$u.props.icon.hoverClass},customPrefix:{type:String,default:uni.$u.props.icon.customPrefix},label:{type:[String,Number],default:uni.$u.props.icon.label},labelPos:{type:String,default:uni.$u.props.icon.labelPos},labelSize:{type:[String,Number],default:uni.$u.props.icon.labelSize},labelColor:{type:String,default:uni.$u.props.icon.labelColor},space:{type:[String,Number],default:uni.$u.props.icon.space},imgMode:{type:String,default:uni.$u.props.icon.imgMode},width:{type:[String,Number],default:uni.$u.props.icon.width},height:{type:[String,Number],default:uni.$u.props.icon.height},top:{type:[String,Number],default:uni.$u.props.icon.top},stop:{type:Boolean,default:uni.$u.props.icon.stop}}};t.default=r},"275b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={rate:{value:1,count:5,disabled:!1,size:18,inactiveColor:"#b2b2b2",activeColor:"#FA3534",gutter:4,minCount:1,allowHalf:!1,activeIcon:"star-fill",inactiveIcon:"star",touchable:!0}}},"278c":function(e,t,i){var r=i("c135"),n=i("9b42"),o=i("6613"),a=i("c240");e.exports=function(e,t){return r(e)||n(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"27fa":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{offsetTop:{type:[String,Number],default:uni.$u.props.sticky.offsetTop},customNavHeight:{type:[String,Number],default:uni.$u.props.sticky.customNavHeight},disabled:{type:Boolean,default:uni.$u.props.sticky.disabled},bgColor:{type:String,default:uni.$u.props.sticky.bgColor},zIndex:{type:[String,Number],default:uni.$u.props.sticky.zIndex},index:{type:[String,Number],default:uni.$u.props.sticky.index}}};t.default=r},"281d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={radioGroup:{value:"",disabled:!1,shape:"circle",activeColor:"#2979ff",inactiveColor:"#c8c9cc",name:"",size:18,placement:"row",label:"",labelColor:"#303133",labelSize:14,labelDisabled:!1,iconColor:"#ffffff",iconSize:12,borderBottom:!1,iconPlacement:"left"}}},"2a61":function(e,t,i){"use strict";i.r(t);var r=i("a525"),n=i("068a");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"b9508714",null,!1,r["a"],void 0);t["default"]=s.exports},"2cfd":function(e,t,i){"use strict";i.r(t);var r=i("ff0c"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"2d3d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={keyboard:{mode:"number",dotDisabled:!1,tooltip:!0,showTips:!0,tips:"",showCancel:!0,showConfirm:!0,random:!1,safeAreaInsetBottom:!0,closeOnClickOverlay:!0,show:!1,overlay:!0,zIndex:10075,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u5b9a",autoChange:!1}}},"2da9":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uEmpty:i("358d").default},n=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","content-my"),attrs:{_i:0}},[t("u-empty",{attrs:{mode:"page",icon:"http://cdn.uviewui.com/uview/empty/page.png",_i:1}})],1)},o=[]},"2de3":function(e,t,i){"use strict";i.r(t);var r=i("fa08"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},3391:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={gridItem:{name:null,bgColor:"transparent"}}},"33b3":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uLoadingPage:i("b56b").default,"u-Text":i("6b95").default,uRow:i("fe3a").default,uCol:i("6014").default,uButton:i("0875").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",[i("Wnavbar",{attrs:{title:this.searchData.title,_i:1}}),i("u-loading-page",{attrs:{loading:!e.bookval,_i:2}}),e._$s(3,"i",e.bookval)?i("view",{staticClass:e._$s(3,"sc","video-box-class"),attrs:{_i:3}},[i("view",{},[i("u--text",{attrs:{text:e.bookval?e.bookval:"",size:"25",_i:5}})],1),i("u-row",{attrs:{customStyle:"margin: 50rpx 0 50rpx 0",_i:6}},[i("u-col",{attrs:{span:"2",_i:7}}),i("u-col",{attrs:{span:"3",_i:8}},[i("view",{directives:[{name:"show",rawName:"v-show",value:e._$s(9,"v-show",e.upbotton.show),expression:"_$s(9,'v-show',upbotton.show)"}],attrs:{_i:9}},[i("u-button",{attrs:{type:"primary",size:"small",text:"\u4e0a\u4e00\u7ae0",_i:10},on:{click:function(t){return e.bottonClick(1)}}})],1)]),i("u-col",{attrs:{span:"2",_i:11}}),i("u-col",{attrs:{span:"3",_i:12}},[i("view",{directives:[{name:"show",rawName:"v-show",value:e._$s(13,"v-show",e.downbotton.show),expression:"_$s(13,'v-show',downbotton.show)"}],attrs:{_i:13}},[i("u-button",{attrs:{type:"primary",size:"small",text:"\u4e0b\u4e00\u7ae0",_i:14},on:{click:function(t){return e.bottonClick(2)}}})],1)]),i("u-col",{attrs:{span:"2",_i:15}})],1)],1):e._e()],1)},o=[]},3465:function(e,t,i){"use strict";i.r(t);var r=i("c1c0"),n=i("8f1b");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},3560:function(e,t,i){"use strict";i.r(t);var r=i("882f"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"358d":function(e,t,i){"use strict";i.r(t);var r=i("d549"),n=i("9a35");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"b55bbdec",null,!1,r["a"],void 0);t["default"]=s.exports},"35ca":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={numberKeyboard:{mode:"number",dotDisabled:!1,random:!1}}},"35ff":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={text:{type:"",show:!0,text:"",prefixIcon:"",suffixIcon:"",mode:"",href:"",format:"",call:!1,openType:"",bold:!1,block:!1,lines:"",color:"#303133",size:15,iconStyle:function(){return{fontSize:"15px"}},decoration:"none",margin:0,lineHeight:"",align:"left",wordWrap:"normal"}}},"36c6":function(e,t){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"36d5":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{ref:e._$s(0,"ref","u-list-item-"+e.anchor),staticClass:e._$s(0,"sc","u-list-item"),class:e._$s(0,"c",["u-list-item-"+e.anchor]),attrs:{anchor:e._$s(0,"a-anchor","u-list-item-"+e.anchor),_i:0}},[e._t("default",null,{_i:1})],2)},n=[]},"37dc":function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.LOCALE_ZH_HANT=t.LOCALE_ZH_HANS=t.LOCALE_FR=t.LOCALE_ES=t.LOCALE_EN=t.I18n=t.Formatter=void 0,t.compileI18nJsonStr=function(e,t){var i=t.locale,r=t.locales,n=t.delimiters;if(!w(e,n))return e;T||(T=new c);var o=[];Object.keys(r).forEach((function(e){e!==i&&o.push({locale:e,values:r[e]})})),o.unshift({locale:i,values:r[i]});try{return JSON.stringify(x(JSON.parse(e),o,n),null,2)}catch(a){}return e},t.hasI18nJson=function e(t,i){T||(T=new c);return A(t,(function(t,r){var n=t[r];return E(n)?!!w(n,i)||void 0:e(n,i)}))},t.initVueI18n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"!==typeof e){var n=[t,e];e=n[0],t=n[1]}"string"!==typeof e&&(e=S());"string"!==typeof i&&(i="undefined"!==typeof __uniConfig&&__uniConfig.fallbackLocale||"en");var o=new _({locale:e,fallbackLocale:i,messages:t,watcher:r}),a=function(e,t){if("function"!==typeof getApp)a=function(e,t){return o.t(e,t)};else{var i=!1;a=function(e,t){var r=getApp().$vm;return r&&(r.$locale,i||(i=!0,b(r,o))),o.t(e,t)}}return a(e,t)};return{i18n:o,f:function(e,t,i){return o.f(e,t,i)},t:function(e,t){return a(e,t)},add:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return o.add(e,t,i)},watch:function(e){return o.watchLocale(e)},getLocale:function(){return o.getLocale()},setLocale:function(e){return o.setLocale(e)}}},t.isI18nStr=w,t.isString=void 0,t.normalizeLocale=m,t.parseI18nJson=function e(t,i,r){T||(T=new c);return A(t,(function(t,n){var o=t[n];E(o)?w(o,r)&&(t[n]=k(o,i,r)):e(o,i,r)})),t},t.resolveLocale=function(e){return function(t){return t?(t=m(t)||t,function(e){var t=[],i=e.split("-");while(i.length)t.push(i.join("-")),i.pop();return t}(t).find((function(t){return e.indexOf(t)>-1}))):t}};var n=r(i("278c")),o=r(i("970b")),a=r(i("5bc3")),s=r(i("7037")),l=function(e){return null!==e&&"object"===(0,s.default)(e)},u=["{","}"],c=function(){function e(){(0,o.default)(this,e),this._caches=Object.create(null)}return(0,a.default)(e,[{key:"interpolate",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;if(!t)return[e];var r=this._caches[e];return r||(r=h(e,i),this._caches[e]=r),p(r,t)}}]),e}();t.Formatter=c;var d=/^(?:\d)+/,f=/^(?:\w)+/;function h(e,t){var i=(0,n.default)(t,2),r=i[0],o=i[1],a=[],s=0,l="";while(s<e.length){var u=e[s++];if(u===r){l&&a.push({type:"text",value:l}),l="";var c="";u=e[s++];while(void 0!==u&&u!==o)c+=u,u=e[s++];var h=u===o,p=d.test(c)?"list":h&&f.test(c)?"named":"unknown";a.push({value:c,type:p})}else l+=u}return l&&a.push({type:"text",value:l}),a}function p(e,t){var i=[],r=0,n=Array.isArray(t)?"list":l(t)?"named":"unknown";if("unknown"===n)return i;while(r<e.length){var o=e[r];switch(o.type){case"text":i.push(o.value);break;case"list":i.push(t[parseInt(o.value,10)]);break;case"named":"named"===n&&i.push(t[o.value]);break;case"unknown":0;break}r++}return i}t.LOCALE_ZH_HANS="zh-Hans";t.LOCALE_ZH_HANT="zh-Hant";t.LOCALE_EN="en";t.LOCALE_FR="fr";t.LOCALE_ES="es";var v=Object.prototype.hasOwnProperty,g=function(e,t){return v.call(e,t)},y=new c;function m(e,t){if(e){if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),"chinese"===e)return"zh-Hans";if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?"zh-Hans":e.indexOf("-hant")>-1||function(e,t){return!!t.find((function(t){return-1!==e.indexOf(t)}))}(e,["-tw","-hk","-mo","-cht"])?"zh-Hant":"zh-Hans";var i=["en","fr","es"];t&&Object.keys(t).length>0&&(i=Object.keys(t));var r=function(e,t){return t.find((function(t){return 0===e.indexOf(t)}))}(e,i);return r||void 0}}var _=function(){function e(t){var i=t.locale,r=t.fallbackLocale,n=t.messages,a=t.watcher,s=t.formater;(0,o.default)(this,e),this.locale="en",this.fallbackLocale="en",this.message={},this.messages={},this.watchers=[],r&&(this.fallbackLocale=r),this.formater=s||y,this.messages=n||{},this.setLocale(i||"en"),a&&this.watchLocale(a)}return(0,a.default)(e,[{key:"setLocale",value:function(e){var t=this,i=this.locale;this.locale=m(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach((function(e){e(t.locale,i)}))}},{key:"getLocale",value:function(){return this.locale}},{key:"watchLocale",value:function(e){var t=this,i=this.watchers.push(e)-1;return function(){t.watchers.splice(i,1)}}},{key:"add",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.messages[e];r?i?Object.assign(r,t):Object.keys(t).forEach((function(e){g(r,e)||(r[e]=t[e])})):this.messages[e]=t}},{key:"f",value:function(e,t,i){return this.formater.interpolate(e,t,i).join("")}},{key:"t",value:function(e,t,i){var r=this.message;return"string"===typeof t?(t=m(t,this.messages),t&&(r=this.messages[t])):i=t,g(r,e)?this.formater.interpolate(r[e],i).join(""):(console.warn("Cannot translate the value of keypath ".concat(e,". Use the value of keypath as default.")),e)}}]),e}();function b(e,t){e.$watchLocale?e.$watchLocale((function(e){t.setLocale(e)})):e.$watch((function(){return e.$locale}),(function(e){t.setLocale(e)}))}function S(){return"undefined"!==typeof uni&&uni.getLocale?uni.getLocale():"undefined"!==typeof e&&e.getLocale?e.getLocale():"en"}t.I18n=_;var T,E=function(e){return"string"===typeof e};function w(e,t){return e.indexOf(t[0])>-1}function k(e,t,i){return T.interpolate(e,t,i).join("")}function x(e,t,i){return A(e,(function(e,r){(function(e,t,i,r){var n=e[t];if(E(n)){if(w(n,r)&&(e[t]=k(n,i[0].values,r),i.length>1)){var o=e[t+"Locales"]={};i.forEach((function(e){o[e.locale]=k(n,e.values,r)}))}}else x(n,i,r)})(e,r,t,i)})),e}function A(e,t){if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(t(e,i))return!0}else if(l(e))for(var r in e)if(t(e,r))return!0;return!1}t.isString=E}).call(this,i("c8ba"))},"38bb":function(e,t,i){"use strict";i.r(t);var r=i("3de4"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"38d3":function(e,t,i){"use strict";var r=i("4ea4"),n=r(i("9523"));i("9a23");var o=r(i("9d63")),a=r(i("8bbf")),s=r(i("e99f")),l=r(i("41d7"));function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}a.default.config.productionTip=!1,a.default.prototype.$store=l.default,a.default.use(s.default),o.default.mpType="app";var c=new a.default(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({store:l.default},o.default));c.$mount()},"38db":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{show:{type:Boolean,default:uni.$u.props.loadingIcon.show},color:{type:String,default:uni.$u.props.loadingIcon.color},textColor:{type:String,default:uni.$u.props.loadingIcon.textColor},vertical:{type:Boolean,default:uni.$u.props.loadingIcon.vertical},mode:{type:String,default:uni.$u.props.loadingIcon.mode},size:{type:[String,Number],default:uni.$u.props.loadingIcon.size},textSize:{type:[String,Number],default:uni.$u.props.loadingIcon.textSize},text:{type:[String,Number],default:uni.$u.props.loadingIcon.text},timingFunction:{type:String,default:uni.$u.props.loadingIcon.timingFunction},duration:{type:[String,Number],default:uni.$u.props.loadingIcon.duration},inactiveColor:{type:String,default:uni.$u.props.loadingIcon.inactiveColor}}};t.default=r},"392d":function(e,t,i){"use strict";i.r(t);var r=i("570d"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"39c2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{selectList:{type:Array,default:[]},placeholder:{value:String,default:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"},value:{type:String,default:""},button:{value:String,default:"outside"},showSeachIcon:{value:Boolean,default:!0},showSeachBth:{value:Boolean,default:!0},radius:{value:String,default:60}},data:function(){return{showSelectList:!1,selectIndex:0,isFocus:!0,inputVal:"",searchName:"\u53d6\u6d88",isDelShow:!1}},methods:{selectItem:function(e){this.selectIndex=e,this.showSelectList=!this.showSelectList},selectClick:function(){this.showSelectList=!this.showSelectList},triggerConfirm:function(){var e={keyword:this.inputVal};this.selectList.length>0&&(e.selectIndex=this.selectIndex),this.$emit("confirm",e)},inputChange:function(e){var t=e.detail.value;this.$emit("input",t),this.inputVal&&(this.isDelShow=!0)},focus:function(){this.inputVal&&(this.isDelShow=!0)},blur:function(){this.isFocus=!1,uni.hideKeyboard()},clear:function(){uni.hideKeyboard(),this.isFocus=!1,this.inputVal="",this.$emit("input","")},getFocus:function(){this.isFocus=!0},search:function(){var e={keyword:this.inputVal};this.selectList.length>0&&(e.selectIndex=this.selectIndex),this.$emit("search",e)}},watch:{inputVal:function(e){e?this.searchName="\u641c\u7d22":(this.searchName="\u53d6\u6d88",this.isDelShow=!1)},value:function(e){this.inputVal=e.trim()}}};t.default=r},"3a72":function(e,t,i){"use strict";i.r(t);var r=i("dd94"),n=i("6e9f");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"0f0cb6d2",null,!1,r["a"],void 0);t["default"]=s.exports},"3a8f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={section:{title:"",subTitle:"\u66f4\u591a",right:!0,fontSize:15,bold:!0,color:"#303133",subColor:"#909399",showLine:!0,lineColor:"",arrow:!0}}},"3aa9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={search:{shape:"round",bgColor:"#f2f2f2",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",clearabled:!0,focus:!1,showAction:!0,actionStyle:function(){return{}},actionText:"\u641c\u7d22",inputAlign:"left",inputStyle:function(){return{}},disabled:!1,borderColor:"transparent",searchIconColor:"#909399",searchIconSize:22,color:"#606266",placeholderColor:"#909399",searchIcon:"search",margin:"0",animation:!1,value:"",maxlength:"-1",height:32,label:null}}},"3c14":function(e,t,i){"use strict";i.r(t);var r=i("ef29"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"3c80":function(e,t,i){"use strict";i.r(t);var r=i("7fff"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"3c96":function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"3cdc":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},"3d87":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={alert:{title:"",type:"warning",description:"",closable:!1,showIcon:!1,effect:"light",center:!1,fontSize:14}}},"3de4":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("d5ec")),o={name:"u-safe-bottom",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{safeAreaBottomHeight:0,isNvue:!1}},computed:{style:function(){return uni.$u.deepMerge({},uni.$u.addStyle(this.customStyle))}},mounted:function(){}};t.default=o},"3de7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={parse:{copyLink:!0,errorImg:"",lazyLoad:!1,loadingImg:"",pauseVideo:!0,previewImg:!0,setTitle:!0,showImgMenu:!0}}},"3e44":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("448a")),o=r(i("278c")),a=r(i("3c96")),s=r(i("a128")),l=r(i("8962")),u=r(i("ed6d")),c=r(i("6b58")),d=r(i("36c6")),f=r(i("9523")),h=r(i("970b")),p=r(i("5bc3")),v=r(i("7037"));function g(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return y(e,t)}(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return(0,c.default)(this,i)}}function _(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}var b={exports:{}};(function(e,t){(function(t){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),t=t.trim(),!t){if(!i.alwaysNormalize)return e;var n=a.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=a.normalizePath(n.path),a.buildURLFromParts(n)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=r.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;u.path=a.normalizePath(d)}else u.path=s.path,o.params||(u.params=s.params,o.query||(u.query=s.query));return null===u.path&&(u.path=i.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(u)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){e=e.split("").reverse().join("").replace(n,"");while(e.length!==(e=e.replace(o,"")).length);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a})()})(b);var S=b.exports;function T(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?T(Object(i),!0).forEach((function(t){w(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function w(e,t,i){return t=function(e){var t=function(e,t){if("object"!==(0,v.default)(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==(0,v.default)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,v.default)(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},k.apply(this,arguments)}var x=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)},A=function(e){return e["MEDIA_ATTACHING"]="hlsMediaAttaching",e["MEDIA_ATTACHED"]="hlsMediaAttached",e["MEDIA_DETACHING"]="hlsMediaDetaching",e["MEDIA_DETACHED"]="hlsMediaDetached",e["BUFFER_RESET"]="hlsBufferReset",e["BUFFER_CODECS"]="hlsBufferCodecs",e["BUFFER_CREATED"]="hlsBufferCreated",e["BUFFER_APPENDING"]="hlsBufferAppending",e["BUFFER_APPENDED"]="hlsBufferAppended",e["BUFFER_EOS"]="hlsBufferEos",e["BUFFER_FLUSHING"]="hlsBufferFlushing",e["BUFFER_FLUSHED"]="hlsBufferFlushed",e["MANIFEST_LOADING"]="hlsManifestLoading",e["MANIFEST_LOADED"]="hlsManifestLoaded",e["MANIFEST_PARSED"]="hlsManifestParsed",e["LEVEL_SWITCHING"]="hlsLevelSwitching",e["LEVEL_SWITCHED"]="hlsLevelSwitched",e["LEVEL_LOADING"]="hlsLevelLoading",e["LEVEL_LOADED"]="hlsLevelLoaded",e["LEVEL_UPDATED"]="hlsLevelUpdated",e["LEVEL_PTS_UPDATED"]="hlsLevelPtsUpdated",e["LEVELS_UPDATED"]="hlsLevelsUpdated",e["AUDIO_TRACKS_UPDATED"]="hlsAudioTracksUpdated",e["AUDIO_TRACK_SWITCHING"]="hlsAudioTrackSwitching",e["AUDIO_TRACK_SWITCHED"]="hlsAudioTrackSwitched",e["AUDIO_TRACK_LOADING"]="hlsAudioTrackLoading",e["AUDIO_TRACK_LOADED"]="hlsAudioTrackLoaded",e["SUBTITLE_TRACKS_UPDATED"]="hlsSubtitleTracksUpdated",e["SUBTITLE_TRACKS_CLEARED"]="hlsSubtitleTracksCleared",e["SUBTITLE_TRACK_SWITCH"]="hlsSubtitleTrackSwitch",e["SUBTITLE_TRACK_LOADING"]="hlsSubtitleTrackLoading",e["SUBTITLE_TRACK_LOADED"]="hlsSubtitleTrackLoaded",e["SUBTITLE_FRAG_PROCESSED"]="hlsSubtitleFragProcessed",e["CUES_PARSED"]="hlsCuesParsed",e["NON_NATIVE_TEXT_TRACKS_FOUND"]="hlsNonNativeTextTracksFound",e["INIT_PTS_FOUND"]="hlsInitPtsFound",e["FRAG_LOADING"]="hlsFragLoading",e["FRAG_LOAD_EMERGENCY_ABORTED"]="hlsFragLoadEmergencyAborted",e["FRAG_LOADED"]="hlsFragLoaded",e["FRAG_DECRYPTED"]="hlsFragDecrypted",e["FRAG_PARSING_INIT_SEGMENT"]="hlsFragParsingInitSegment",e["FRAG_PARSING_USERDATA"]="hlsFragParsingUserdata",e["FRAG_PARSING_METADATA"]="hlsFragParsingMetadata",e["FRAG_PARSED"]="hlsFragParsed",e["FRAG_BUFFERED"]="hlsFragBuffered",e["FRAG_CHANGED"]="hlsFragChanged",e["FPS_DROP"]="hlsFpsDrop",e["FPS_DROP_LEVEL_CAPPING"]="hlsFpsDropLevelCapping",e["ERROR"]="hlsError",e["DESTROYING"]="hlsDestroying",e["KEY_LOADING"]="hlsKeyLoading",e["KEY_LOADED"]="hlsKeyLoaded",e["LIVE_BACK_BUFFER_REACHED"]="hlsLiveBackBufferReached",e["BACK_BUFFER_REACHED"]="hlsBackBufferReached",e}({}),C=function(e){return e["NETWORK_ERROR"]="networkError",e["MEDIA_ERROR"]="mediaError",e["KEY_SYSTEM_ERROR"]="keySystemError",e["MUX_ERROR"]="muxError",e["OTHER_ERROR"]="otherError",e}({}),L=function(e){return e["KEY_SYSTEM_NO_KEYS"]="keySystemNoKeys",e["KEY_SYSTEM_NO_ACCESS"]="keySystemNoAccess",e["KEY_SYSTEM_NO_SESSION"]="keySystemNoSession",e["KEY_SYSTEM_NO_CONFIGURED_LICENSE"]="keySystemNoConfiguredLicense",e["KEY_SYSTEM_LICENSE_REQUEST_FAILED"]="keySystemLicenseRequestFailed",e["KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED"]="keySystemServerCertificateRequestFailed",e["KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED"]="keySystemServerCertificateUpdateFailed",e["KEY_SYSTEM_SESSION_UPDATE_FAILED"]="keySystemSessionUpdateFailed",e["KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED"]="keySystemStatusOutputRestricted",e["KEY_SYSTEM_STATUS_INTERNAL_ERROR"]="keySystemStatusInternalError",e["MANIFEST_LOAD_ERROR"]="manifestLoadError",e["MANIFEST_LOAD_TIMEOUT"]="manifestLoadTimeOut",e["MANIFEST_PARSING_ERROR"]="manifestParsingError",e["MANIFEST_INCOMPATIBLE_CODECS_ERROR"]="manifestIncompatibleCodecsError",e["LEVEL_EMPTY_ERROR"]="levelEmptyError",e["LEVEL_LOAD_ERROR"]="levelLoadError",e["LEVEL_LOAD_TIMEOUT"]="levelLoadTimeOut",e["LEVEL_PARSING_ERROR"]="levelParsingError",e["LEVEL_SWITCH_ERROR"]="levelSwitchError",e["AUDIO_TRACK_LOAD_ERROR"]="audioTrackLoadError",e["AUDIO_TRACK_LOAD_TIMEOUT"]="audioTrackLoadTimeOut",e["SUBTITLE_LOAD_ERROR"]="subtitleTrackLoadError",e["SUBTITLE_TRACK_LOAD_TIMEOUT"]="subtitleTrackLoadTimeOut",e["FRAG_LOAD_ERROR"]="fragLoadError",e["FRAG_LOAD_TIMEOUT"]="fragLoadTimeOut",e["FRAG_DECRYPT_ERROR"]="fragDecryptError",e["FRAG_PARSING_ERROR"]="fragParsingError",e["FRAG_GAP"]="fragGap",e["REMUX_ALLOC_ERROR"]="remuxAllocError",e["KEY_LOAD_ERROR"]="keyLoadError",e["KEY_LOAD_TIMEOUT"]="keyLoadTimeOut",e["BUFFER_ADD_CODEC_ERROR"]="bufferAddCodecError",e["BUFFER_INCOMPATIBLE_CODECS_ERROR"]="bufferIncompatibleCodecsError",e["BUFFER_APPEND_ERROR"]="bufferAppendError",e["BUFFER_APPENDING_ERROR"]="bufferAppendingError",e["BUFFER_STALLED_ERROR"]="bufferStalledError",e["BUFFER_FULL_ERROR"]="bufferFullError",e["BUFFER_SEEK_OVER_HOLE"]="bufferSeekOverHole",e["BUFFER_NUDGE_ON_STALL"]="bufferNudgeOnStall",e["INTERNAL_EXCEPTION"]="internalException",e["INTERNAL_ABORTED"]="aborted",e["UNKNOWN"]="unknown",e}({}),I=function(){},P={trace:I,debug:I,log:I,warn:I,info:I,error:I},D=P;function R(e){var t=self.console[e];return t?t.bind(self.console,"[".concat(e,"] >")):I}function O(e,t){if(self.console&&!0===e||"object"===(0,v.default)(e)){(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];i.forEach((function(t){D[t]=e[t]?e[t].bind(e):R(t)}))})(e,"debug","log","info","warn","error");try{D.log('Debug logs enabled for "'.concat(t,'" in hls.js version ',"1.4.3"))}catch(i){D=P}}else D=P}var M=D,N=/^(\d+)x(\d+)$/,F=/(.+?)=(".*?"|.*?)(?:,|$)/g,B=function(){function e(t){for(var i in(0,h.default)(this,e),"string"===typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(i)&&("X-"===i.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(i)),this[i]=t[i])}return(0,p.default)(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var i=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)i[r]=parseInt(t.slice(2*r,2*r+2),16);return i}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"optionalFloat",value:function(e,t){var i=this[e];return i?parseFloat(i):t}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"bool",value:function(e){return"YES"===this[e]}},{key:"decimalResolution",value:function(e){var t=N.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,i={};F.lastIndex=0;while(null!==(t=F.exec(e))){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1));var n=t[1].trim();i[n]=r}return i}}]),e}();function U(e){return"ID"!==e&&"CLASS"!==e&&"START-DATE"!==e&&"DURATION"!==e&&"END-DATE"!==e&&"END-ON-NEXT"!==e}function j(e){return"SCTE35-OUT"===e||"SCTE35-IN"===e}var H=function(){function e(t,i){if((0,h.default)(this,e),this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,i){var r=i.attr;for(var n in r)if(Object.prototype.hasOwnProperty.call(t,n)&&t[n]!==r[n]){M.warn('DATERANGE tag attribute: "'.concat(n,'" does not match for tags with ID: "').concat(t.ID,'"')),this._badValueForSameId=n;break}t=k(new B({}),r,t)}if(this.attr=t,this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){var o=new Date(this.attr["END-DATE"]);x(o.getTime())&&(this._endDate=o)}}return(0,p.default)(e,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var e=this.attr.decimalFloatingPoint("DURATION");if(x(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&x(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),e}(),$=(0,p.default)((function e(){(0,h.default)(this,e),this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}})),V={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"},G=function(){function e(t){var i;(0,h.default)(this,e),this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(i={},(0,f.default)(i,V.AUDIO,null),(0,f.default)(i,V.VIDEO,null),(0,f.default)(i,V.AUDIOVIDEO,null),i),this.baseurl=t}return(0,p.default)(e,[{key:"setByteRange",value:function(e,t){var i=e.split("@",2),r=[];1===i.length?r[0]=t?t.byteRangeEndOffset:0:r[0]=parseInt(i[1]),r[1]=parseInt(i[0])+r[0],this._byteRange=r}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=S.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),K=function(e){(0,u.default)(i,e);var t=m(i);function i(e,r){var n;return(0,h.default)(this,i),n=t.call(this,r),n._decryptdata=null,n.rawProgramDateTime=null,n.programDateTime=null,n.tagList=[],n.duration=0,n.sn=0,n.levelkeys=void 0,n.type=void 0,n.loader=null,n.keyLoader=null,n.level=-1,n.cc=0,n.startPTS=void 0,n.endPTS=void 0,n.startDTS=void 0,n.endDTS=void 0,n.start=0,n.deltaPTS=void 0,n.maxStartPTS=void 0,n.minEndPTS=void 0,n.stats=new $,n.urlId=0,n.data=void 0,n.bitrateTest=!1,n.title=null,n.initSegment=null,n.endList=void 0,n.gap=void 0,n.type=e,n}return(0,p.default)(i,[{key:"decryptdata",get:function(){var e=this.levelkeys;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{var i=Object.keys(this.levelkeys);if(1===i.length)return this._decryptdata=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!x(this.programDateTime))return null;var e=x(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;if(null!=(e=this._decryptdata)&&e.encrypted)return!0;if(this.levelkeys){var t=Object.keys(this.levelkeys),i=t.length;if(i>1||1===i&&this.levelkeys[t[0]].encrypted)return!0}return!1}},{key:"setKeyFormat",value:function(e){if(this.levelkeys){var t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}},{key:"abortRequests",value:function(){var e,t;null==(e=this.loader)||e.abort(),null==(t=this.keyLoader)||t.abort()}},{key:"setElementaryStreamInfo",value:function(e,t,i,r,n){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=this.elementaryStreams,s=a[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,i),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,n)):a[e]={startPTS:t,endPTS:i,startDTS:r,endDTS:n,partial:o}}},{key:"clearElementaryStreamInfo",value:function(){var e=this.elementaryStreams;e[V.AUDIO]=null,e[V.VIDEO]=null,e[V.AUDIOVIDEO]=null}}]),i}(G),q=function(e){(0,u.default)(i,e);var t=m(i);function i(e,r,n,o,a){var s;(0,h.default)(this,i),s=t.call(this,n),s.fragOffset=0,s.duration=0,s.gap=!1,s.independent=!1,s.relurl=void 0,s.fragment=void 0,s.index=void 0,s.stats=new $,s.duration=e.decimalFloatingPoint("DURATION"),s.gap=e.bool("GAP"),s.independent=e.bool("INDEPENDENT"),s.relurl=e.enumeratedString("URI"),s.fragment=r,s.index=o;var l=e.enumeratedString("BYTERANGE");return l&&s.setByteRange(l,a),a&&(s.fragOffset=a.fragOffset+a.duration),s}return(0,p.default)(i,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),i}(G),W=function(){function e(t){(0,h.default)(this,e),this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}return(0,p.default)(e,[{key:"reloaded",value:function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,i=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!i||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&i>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}},{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&x(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;if(e>0){var t=this.driftEnd-this.driftStart;return 1e3*t/e}return 1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),e}();function z(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}function Y(e){var t=e.split(":"),i=null;if("data"===t[0]&&2===t.length){var r=t[1].split(";"),n=r[r.length-1].split(",");if(2===n.length){var o="base64"===n[0],a=n[1];o?(r.splice(-1,1),i=z(a)):i=function(e){var t=Q(e).subarray(0,16),i=new Uint8Array(16);return i.set(t,16-t.length),i}(a)}}return i}function Q(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(function(e){return e.charCodeAt(0)}))}var X={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},J={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Z(e){switch(e){case J.FAIRPLAY:return X.FAIRPLAY;case J.PLAYREADY:return X.PLAYREADY;case J.WIDEVINE:return X.WIDEVINE;case J.CLEARKEY:return X.CLEARKEY}}var ee={WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function te(e){switch(e){case X.FAIRPLAY:return J.FAIRPLAY;case X.PLAYREADY:return J.PLAYREADY;case X.WIDEVINE:return J.WIDEVINE;case X.CLEARKEY:return J.CLEARKEY}}function ie(e){var t=e.drmSystems,i=e.widevineLicenseUrl,r=t?[X.FAIRPLAY,X.WIDEVINE,X.PLAYREADY,X.CLEARKEY].filter((function(e){return!!t[e]})):[];return!r[X.WIDEVINE]&&i&&r.push(X.WIDEVINE),r}var re=function(){return"undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function ne(e,t,i){return Uint8Array.prototype.slice?e.slice(t,i):new Uint8Array(Array.prototype.slice.call(e,t,i))}var oe,ae=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},se=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},le=function(e,t){var i=t,r=0;while(ae(e,t)){r+=10;var n=ue(e,t+6);r+=n,se(e,t+10)&&(r+=10),t+=r}if(r>0)return e.subarray(i,i+r)},ue=function(e,t){var i=0;return i=(127&e[t])<<21,i|=(127&e[t+1])<<14,i|=(127&e[t+2])<<7,i|=127&e[t+3],i},ce=function(e,t){return ae(e,t)&&ue(e,t+6)+10<=e.length-t},de=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},fe=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),i=ue(e,4);return{type:t,size:i,data:e.subarray(10,10+i)}},he=function(e){var t=0,i=[];while(ae(e,t)){var r=ue(e,t+6);t+=10;var n=t+r;while(t+8<n){var o=fe(e.subarray(t)),a=pe(o);a&&i.push(a),t+=o.size+10}se(e,t)&&(t+=10)}return i},pe=function(e){return"PRIV"===e.type?ve(e):"W"===e.type[0]?ye(e):ge(e)},ve=function(e){if(!(e.size<2)){var t=_e(e.data,!0),i=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:i.buffer}}},ge=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,i=_e(e.data.subarray(t),!0);t+=i.length+1;var r=_e(e.data.subarray(t));return{key:e.type,info:i,data:r}}var n=_e(e.data.subarray(1));return{key:e.type,data:n}}},ye=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,i=_e(e.data.subarray(t),!0);t+=i.length+1;var r=_e(e.data.subarray(t));return{key:e.type,info:i,data:r}}var n=_e(e.data);return{key:e.type,data:n}},me=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),i=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,i&&(r+=47721858.84),Math.round(r)}},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=be();if(i){var r=i.decode(e);if(t){var n=r.indexOf("\0");return-1!==n?r.substring(0,n):r}return r.replace(/\0/g,"")}var o,a,s,l=e.length,u="",c=0;while(c<l){if(o=e[c++],0===o&&t)return u;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(o);break;case 12:case 13:a=e[c++],u+=String.fromCharCode((31&o)<<6|63&a);break;case 14:a=e[c++],s=e[c++],u+=String.fromCharCode((15&o)<<12|(63&a)<<6|(63&s)<<0);break}}return u};function be(){return oe||"undefined"===typeof self.TextDecoder||(oe=new self.TextDecoder("utf-8")),oe}var Se={hexDump:function(e){for(var t="",i=0;i<e.length;i++){var r=e[i].toString(16);r.length<2&&(r="0"+r),t+=r}return t}},Te=Math.pow(2,32)-1,Ee=[].push,we={video:1,audio:2,id3:3,text:4};function ke(e){return String.fromCharCode.apply(null,e)}function xe(e,t){var i=e[t]<<8|e[t+1];return i<0?65536+i:i}function Ae(e,t){var i=Ce(e,t);return i<0?4294967296+i:i}function Ce(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function Le(e,t,i){e[t]=i>>24,e[t+1]=i>>16&255,e[t+2]=i>>8&255,e[t+3]=255&i}function Ie(e,t){var i=[];if(!t.length)return i;for(var r=e.byteLength,n=0;n<r;){var o=Ae(e,n),a=ke(e.subarray(n+4,n+8)),s=o>1?n+o:r;if(a===t[0])if(1===t.length)i.push(e.subarray(n+8,s));else{var l=Ie(e.subarray(n+8,s),t.slice(1));l.length&&Ee.apply(i,l)}n=s}return i}function Pe(e){var t=[],i=e[0],r=8,n=Ae(e,r);r+=4;r+=0===i?8:16,r+=2;var o=e.length+0,a=xe(e,r);r+=2;for(var s=0;s<a;s++){var l=r,u=Ae(e,l);l+=4;var c=2147483647&u,d=(2147483648&u)>>>31;if(1===d)return M.warn("SIDX has hierarchical references (not supported)"),null;var f=Ae(e,l);l+=4,t.push({referenceSize:c,subsegmentDuration:f,info:{duration:f/n,start:o,end:o+c-1}}),o+=c,l+=4,r=l}return{earliestPresentationTime:0,timescale:n,version:i,referencesCount:a,references:t}}function De(e){for(var t=[],i=Ie(e,["moov","trak"]),r=0;r<i.length;r++){var n=i[r],o=Ie(n,["tkhd"])[0];if(o){var a=o[0],s=0===a?12:20,l=Ae(o,s),u=Ie(n,["mdia","mdhd"])[0];if(u){a=u[0],s=0===a?12:20;var c=Ae(u,s),d=Ie(n,["mdia","hdlr"])[0];if(d){var f=ke(d.subarray(8,12)),h={soun:V.AUDIO,vide:V.VIDEO}[f];if(h){var p=Ie(n,["mdia","minf","stbl","stsd"])[0],v=void 0;p&&(v=ke(p.subarray(12,16))),t[l]={timescale:c,type:h},t[h]={timescale:c,id:l,codec:v}}}}}}var g=Ie(e,["moov","mvex","trex"]);return g.forEach((function(e){var i=Ae(e,4),r=t[i];r&&(r.default={duration:Ae(e,12),flags:Ae(e,20)})})),t}function Re(e){var t=Ie(e,["schm"])[0];if(t){var i=ke(t.subarray(4,8));if("cbcs"===i||"cenc"===i)return Ie(e,["schi","tenc"])[0]}return M.error("[eme] missing 'schm' box"),null}function Oe(e){var t=Ae(e,0),i=8;1&t&&(i+=4),4&t&&(i+=4);for(var r=0,n=Ae(e,4),o=0;o<n;o++){if(256&t){var a=Ae(e,i);r+=a,i+=4}512&t&&(i+=4),1024&t&&(i+=4),2048&t&&(i+=4)}return r}function Me(e,t){var i=new Uint8Array(e.length+t.length);return i.set(e),i.set(t,e.length),i}function Ne(e,t){var i=[],r=t.samples,n=t.timescale,o=t.id,a=!1,s=Ie(r,["moof"]);return s.map((function(s){var l=s.byteOffset-8,u=Ie(s,["traf"]);u.map((function(s){var u=Ie(s,["tfdt"]).map((function(e){var t=e[0],i=Ae(e,4);return 1===t&&(i*=Math.pow(2,32),i+=Ae(e,8)),i/n}))[0];return void 0!==u&&(e=u),Ie(s,["tfhd"]).map((function(u){var c=Ae(u,4),d=16777215&Ae(u,0),f=0!==(1&d),h=0!==(2&d),p=0!==(8&d),v=0,g=0!==(16&d),y=0,m=0!==(32&d),_=8;c===o&&(f&&(_+=8),h&&(_+=4),p&&(v=Ae(u,_),_+=4),g&&(y=Ae(u,_),_+=4),m&&(_+=4),"video"===t.type&&(a=function(e){if(!e)return!1;var t=e.indexOf("."),i=t<0?e:e.substring(0,t);return"hvc1"===i||"hev1"===i||"dvh1"===i||"dvhe"===i}(t.codec)),Ie(s,["trun"]).map((function(o){var s=o[0],u=16777215&Ae(o,0),c=0!==(1&u),d=0,f=0!==(4&u),h=0!==(256&u),p=0,g=0!==(512&u),m=0,_=0!==(1024&u),b=0!==(2048&u),S=0,T=Ae(o,4),E=8;c&&(d=Ae(o,E),E+=4),f&&(E+=4);for(var w=d+l,k=0;k<T;k++){if(h?(p=Ae(o,E),E+=4):p=v,g?(m=Ae(o,E),E+=4):m=y,_&&(E+=4),b&&(S=0===s?Ae(o,E):Ce(o,E),E+=4),t.type===V.VIDEO){var x=0;while(x<m){var A=Ae(r,w);if(w+=4,Fe(a,r[w])){var C=r.subarray(w,w+A);Be(C,a?2:1,e+S/n,i)}w+=A,x+=A+4}}e+=p/n}})))}))}))})),i}function Fe(e,t){if(e){var i=t>>1&63;return 39===i||40===i}var r=31&t;return 6===r}function Be(e,t,i,r){var n=Ue(e),o=0;o+=t;var a=0,s=0,l=!1,u=0;while(o<n.length){a=0;do{if(o>=n.length)break;u=n[o++],a+=u}while(255===u);s=0;do{if(o>=n.length)break;u=n[o++],s+=u}while(255===u);var c=n.length-o;if(!l&&4===a&&o<n.length){l=!0;var d=n[o++];if(181===d){var f=xe(n,o);if(o+=2,49===f){var h=Ae(n,o);if(o+=4,1195456820===h){var p=n[o++];if(3===p){var v=n[o++],g=31&v,y=64&v,m=y?2+3*g:0,_=new Uint8Array(m);if(y){_[0]=v;for(var b=1;b<m;b++)_[b]=n[o++]}r.push({type:p,payloadType:a,pts:i,bytes:_})}}}}}else if(5===a&&s<c){if(l=!0,s>16){for(var S=[],T=0;T<16;T++){var E=n[o++].toString(16);S.push(1==E.length?"0"+E:E),3!==T&&5!==T&&7!==T&&9!==T||S.push("-")}for(var w=s-16,k=new Uint8Array(w),x=0;x<w;x++)k[x]=n[o++];r.push({payloadType:a,pts:i,uuid:S.join(""),userData:_e(k),userDataBytes:k})}}else if(s<c)o+=s;else if(s>c)break}}function Ue(e){var t=e.byteLength,i=[],r=1;while(r<t-2)0===e[r]&&0===e[r+1]&&3===e[r+2]?(i.push(r+2),r+=2):r++;if(0===i.length)return e;var n=t-i.length,o=new Uint8Array(n),a=0;for(r=0;r<n;a++,r++)a===i[0]&&(a++,i.shift()),o[r]=e[a];return o}function je(e,t,i){if(16!==e.byteLength)throw new RangeError("Invalid system id");var r,n,o;if(t){r=1,n=new Uint8Array(16*t.length);for(var a=0;a<t.length;a++){var s=t[a];if(16!==s.byteLength)throw new RangeError("Invalid key");n.set(s,16*a)}}else r=0,n=new Uint8Array;r>0?(o=new Uint8Array(4),t.length>0&&new DataView(o.buffer).setUint32(0,t.length,!1)):o=new Uint8Array;var l=new Uint8Array(4);return i&&i.byteLength>0&&new DataView(l.buffer).setUint32(0,i.byteLength,!1),function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];var n=i.length,o=8,a=n;while(a--)o+=i[a].byteLength;var s=new Uint8Array(o);for(s[0]=o>>24&255,s[1]=o>>16&255,s[2]=o>>8&255,s[3]=255&o,s.set(e,4),a=0,o=8;a<n;a++)s.set(i[a],o),o+=i[a].byteLength;return s}([112,115,115,104],new Uint8Array([r,0,0,0]),e,o,n,l,i||new Uint8Array)}var He={},$e=function(){function e(t,i,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,h.default)(this,e),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=i,this.keyFormat=r,this.keyFormatVersions=n,this.iv=o,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&"AES-128"!==t}return(0,p.default)(e,[{key:"isSupported",value:function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case J.FAIRPLAY:case J.WIDEVINE:case J.PLAYREADY:case J.CLEARKEY:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}},{key:"getDecryptData",value:function(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!==typeof t&&("AES-128"!==this.method||this.iv||M.warn('missing IV for initialization segment with method="'.concat(this.method,'" - compliance issue')),t=0);var i=function(e){for(var t=new Uint8Array(16),i=12;i<16;i++)t[i]=e>>8*(15-i)&255;return t}(t),r=new e(this.method,this.uri,"identity",this.keyFormatVersions,i);return r}var n=Y(this.uri);if(n)switch(this.keyFormat){case J.WIDEVINE:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case J.PLAYREADY:var o=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=je(o,null,n);var a=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),s=String.fromCharCode.apply(null,Array.from(a)),l=s.substring(s.indexOf("<"),s.length),u=new DOMParser,c=u.parseFromString(l,"text/xml"),d=c.getElementsByTagName("KID")[0];if(d){var f=d.childNodes[0]?d.childNodes[0].nodeValue:d.getAttribute("VALUE");if(f){var h=z(f).subarray(0,16);(function(e){var t=function(e,t,i){var r=e[t];e[t]=e[i],e[i]=r};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)})(h),this.keyId=h}}break;default:var p=n.subarray(0,16);if(16!==p.length){var v=new Uint8Array(16);v.set(p,16-p.length),p=v}this.keyId=p;break}if(!this.keyId||16!==this.keyId.byteLength){var g=He[this.uri];if(!g){var y=Object.keys(He).length%Number.MAX_SAFE_INTEGER;g=new Uint8Array(16);var m=new DataView(g.buffer,12,4);m.setUint32(0,y),He[this.uri]=g}this.keyId=g}return this}}],[{key:"clearKeyUriToKeyIdMap",value:function(){He={}}}]),e}();var Ve=/\{\$([a-zA-Z0-9-_]+)\}/g;function Ge(e){return Ve.test(e)}function Ke(e,t,i){if(null!==e.variableList||e.hasVariableRefs)for(var r=i.length;r--;){var n=i[r],o=t[n];o&&(t[n]=qe(e,o))}}function qe(e,t){if(null!==e.variableList||e.hasVariableRefs){var i=e.variableList;return t.replace(Ve,(function(t){var r=t.substring(2,t.length-1),n=null==i?void 0:i[r];return void 0===n?(e.playlistParsingError||(e.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'.concat(r,'"'))),t):n}))}return t}function We(e,t,i){var r,n,o=e.variableList;if(o||(e.variableList=o={}),"QUERYPARAM"in t){r=t.QUERYPARAM;try{var a=new self.URL(i).searchParams;if(!a.has(r))throw new Error('"'.concat(r,'" does not match any query parameter in URI: "').concat(i,'"'));n=a.get(r)}catch(s){e.playlistParsingError||(e.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: ".concat(s.message)))}}else r=t.NAME,n=t.VALUE;r in o?e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'.concat(r,'"'))):o[r]=n||""}function ze(e,t,i){var r=t.IMPORT;if(i&&r in i){var n=e.variableList;n||(e.variableList=n={}),n[r]=i[r]}else e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'.concat(r,'"')))}function Ye(){if("undefined"!==typeof self)return self.MediaSource||self.WebKitMediaSource}var Qe={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Xe=Ye();function Je(e,t){var i;return null!=(i=null==Xe?void 0:Xe.isTypeSupported("".concat(t||"video",'/mp4;codecs="').concat(e,'"')))&&i}var Ze=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,et=/#EXT-X-MEDIA:(.*)/g,tt=/^#EXT(?:INF|-X-TARGETDURATION):/m,it=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),rt=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),nt=function(){function e(){(0,h.default)(this,e)}return(0,p.default)(e,null,[{key:"findGroup",value:function(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(r.id===t)return r}}},{key:"convertAVC1ToAVCOTI",value:function(e){var t=e.split(".");if(t.length>2){var i=t.shift()+".";return i+=parseInt(t.shift()).toString(16),i+=("000"+parseInt(t.shift()).toString(16)).slice(-4),i}return e}},{key:"resolve",value:function(e,t){return S.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}},{key:"isMediaPlaylist",value:function(e){return tt.test(e)}},{key:"parseMasterPlaylist",value:function(t,i){var r,n=Ge(t),o={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},a=[];Ze.lastIndex=0;while(null!=(r=Ze.exec(t)))if(r[1]){var s,l=new B(r[1]);Ke(o,l,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);var u=qe(o,r[2]),c={attrs:l,bitrate:l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),name:l.NAME,url:e.resolve(u,i)},d=l.decimalResolution("RESOLUTION");d&&(c.width=d.width,c.height=d.height),st((l.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),c),c.videoCodec&&-1!==c.videoCodec.indexOf("avc1")&&(c.videoCodec=e.convertAVC1ToAVCOTI(c.videoCodec)),null!=(s=c.unknownCodecs)&&s.length||a.push(c),o.levels.push(c)}else if(r[3]){var f=r[3],h=r[4];switch(f){case"SESSION-DATA":var p=new B(h);Ke(o,p,["DATA-ID","LANGUAGE","VALUE","URI"]);var v=p["DATA-ID"];v&&(null===o.sessionData&&(o.sessionData={}),o.sessionData[v]=p);break;case"SESSION-KEY":var g=ot(h,i,o);g.encrypted&&g.isSupported()?(null===o.sessionKeys&&(o.sessionKeys=[]),o.sessionKeys.push(g)):M.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'.concat(h,'"'));break;case"DEFINE":var y=new B(h);Ke(o,y,["NAME","VALUE","QUERYPARAM"]),We(o,y,i);break;case"CONTENT-STEERING":var m=new B(h);Ke(o,m,["SERVER-URI","PATHWAY-ID"]),o.contentSteering={uri:e.resolve(m["SERVER-URI"],i),pathwayId:m["PATHWAY-ID"]||"."};break;case"START":o.startTimeOffset=at(h);break}}var _=a.length>0&&a.length<o.levels.length;return o.levels=_?a:o.levels,0===o.levels.length&&(o.playlistParsingError=new Error("no levels found in manifest")),o}},{key:"parseMasterPlaylistMedia",value:function(t,i,r){var n,o={},a=r.levels,s={AUDIO:a.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),SUBTITLES:a.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),"CLOSED-CAPTIONS":[]},l=0;et.lastIndex=0;while(null!==(n=et.exec(t))){var u=new B(n[1]),c=u.TYPE;if(c){var d=s[c],f=o[c]||[];o[c]=f,Ke(r,u,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);var h={attrs:u,bitrate:0,id:l++,groupId:u["GROUP-ID"]||"",instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:c,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?e.resolve(u.URI,i):""};if(null!=d&&d.length){var p=e.findGroup(d,h.groupId)||d[0];lt(h,p,"audioCodec"),lt(h,p,"textCodec")}f.push(h)}}return o}},{key:"parseLevelPlaylist",value:function(e,t,i,r,n,o){var a,s,l,u=new W(t),c=u.fragments,d=null,f=0,h=0,p=0,v=0,g=null,y=new K(r,t),m=-1,_=!1;it.lastIndex=0,u.m3u8=e,u.hasVariableRefs=Ge(e);while(null!==(a=it.exec(e))){_&&(_=!1,y=new K(r,t),y.start=p,y.sn=f,y.cc=v,y.level=i,d&&(y.initSegment=d,y.rawProgramDateTime=d.rawProgramDateTime,d.rawProgramDateTime=null));var b=a[1];if(b){y.duration=parseFloat(b);var S=(" "+a[2]).slice(1);y.title=S||null,y.tagList.push(S?["INF",b,S]:["INF",b])}else if(a[3]){if(x(y.duration)){y.start=p,l&&dt(y,l,u),y.sn=f,y.level=i,y.cc=v,y.urlId=n,c.push(y);var T=(" "+a[3]).slice(1);y.relurl=qe(u,T),ut(y,g),g=y,p+=y.duration,f++,h=0,_=!0}}else if(a[4]){var E=(" "+a[4]).slice(1);g?y.setByteRange(E,g):y.setByteRange(E)}else if(a[5])y.rawProgramDateTime=(" "+a[5]).slice(1),y.tagList.push(["PROGRAM-DATE-TIME",y.rawProgramDateTime]),-1===m&&(m=c.length);else{if(a=a[0].match(rt),!a){M.warn("No matches on slow regex match for level playlist!");continue}for(s=1;s<a.length;s++)if("undefined"!==typeof a[s])break;var w=(" "+a[s]).slice(1),A=(" "+a[s+1]).slice(1),C=a[s+2]?(" "+a[s+2]).slice(1):"";switch(w){case"PLAYLIST-TYPE":u.type=A.toUpperCase();break;case"MEDIA-SEQUENCE":f=u.startSN=parseInt(A);break;case"SKIP":var L=new B(A);Ke(u,L,["RECENTLY-REMOVED-DATERANGES"]);var I=L.decimalInteger("SKIPPED-SEGMENTS");if(x(I)){u.skippedSegments=I;for(var P=I;P--;)c.unshift(null);f+=I}var D=L.enumeratedString("RECENTLY-REMOVED-DATERANGES");D&&(u.recentlyRemovedDateranges=D.split("\t"));break;case"TARGETDURATION":u.targetduration=Math.max(parseInt(A),1);break;case"VERSION":u.version=parseInt(A);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"#":(A||C)&&y.tagList.push(C?[A,C]:[A]);break;case"DISCONTINUITY":v++,y.tagList.push(["DIS"]);break;case"GAP":y.gap=!0,y.tagList.push([w]);break;case"BITRATE":y.tagList.push([w,A]);break;case"DATERANGE":var R=new B(A);Ke(u,R,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Ke(u,R,R.clientAttrs);var O=new H(R,u.dateRanges[R.ID]);O.isValid||u.skippedSegments?u.dateRanges[O.id]=O:M.warn('Ignoring invalid DATERANGE tag: "'.concat(A,'"')),y.tagList.push(["EXT-X-DATERANGE",A]);break;case"DEFINE":var N=new B(A);Ke(u,N,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in N?ze(u,N,o):We(u,N,t);break;case"DISCONTINUITY-SEQUENCE":v=parseInt(A);break;case"KEY":var F=ot(A,t,u);if(F.isSupported()){if("NONE"===F.method){l=void 0;break}l||(l={}),l[F.keyFormat]&&(l=k({},l)),l[F.keyFormat]=F}else M.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'.concat(A,'"'));break;case"START":u.startTimeOffset=at(A);break;case"MAP":var U=new B(A);if(Ke(u,U,["BYTERANGE","URI"]),y.duration){var j=new K(r,t);ct(j,U,i,l),d=j,y.initSegment=d,d.rawProgramDateTime&&!y.rawProgramDateTime&&(y.rawProgramDateTime=d.rawProgramDateTime)}else ct(y,U,i,l),d=y,_=!0;break;case"SERVER-CONTROL":var $=new B(A);u.canBlockReload=$.bool("CAN-BLOCK-RELOAD"),u.canSkipUntil=$.optionalFloat("CAN-SKIP-UNTIL",0),u.canSkipDateRanges=u.canSkipUntil>0&&$.bool("CAN-SKIP-DATERANGES"),u.partHoldBack=$.optionalFloat("PART-HOLD-BACK",0),u.holdBack=$.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var V=new B(A);u.partTarget=V.decimalFloatingPoint("PART-TARGET");break;case"PART":var G=u.partList;G||(G=u.partList=[]);var z=h>0?G[G.length-1]:void 0,Y=h++,Q=new B(A);Ke(u,Q,["BYTERANGE","URI"]);var X=new q(Q,y,t,Y,z);G.push(X),y.duration+=X.duration;break;case"PRELOAD-HINT":var J=new B(A);Ke(u,J,["URI"]),u.preloadHint=J;break;case"RENDITION-REPORT":var Z=new B(A);Ke(u,Z,["URI"]),u.renditionReports=u.renditionReports||[],u.renditionReports.push(Z);break;default:M.warn("line parsed but not handled: ".concat(a));break}}}g&&!g.relurl?(c.pop(),p-=g.duration,u.partList&&(u.fragmentHint=g)):u.partList&&(ut(y,g),y.cc=v,u.fragmentHint=y,l&&dt(y,l,u));var ee=c.length,te=c[0],ie=c[ee-1];if(p+=u.skippedSegments*u.targetduration,p>0&&ee&&ie){u.averagetargetduration=p/ee;var re=ie.sn;u.endSN="initSegment"!==re?re:0,u.live||(ie.endList=!0),te&&(u.startCC=te.cc)}else u.endSN=0,u.startCC=0;return u.fragmentHint&&(p+=u.fragmentHint.duration),u.totalduration=p,u.endCC=v,m>0&&function(e,t){for(var i=e[t],r=t;r--;){var n=e[r];if(!n)return;n.programDateTime=i.programDateTime-1e3*n.duration,i=n}}(c,m),u}}]),e}();function ot(e,t,i){var r,n,o=new B(e);Ke(i,o,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);var a=null!=(r=o.METHOD)?r:"",s=o.URI,l=o.hexadecimalInteger("IV"),u=o.KEYFORMATVERSIONS,c=null!=(n=o.KEYFORMAT)?n:"identity";s&&o.IV&&!l&&M.error("Invalid IV: ".concat(o.IV));var d=s?nt.resolve(s,t):"",f=(u||"1").split("/").map(Number).filter(Number.isFinite);return new $e(a,d,c,f,l)}function at(e){var t=new B(e),i=t.decimalFloatingPoint("TIME-OFFSET");return x(i)?i:null}function st(e,t){["video","audio","text"].forEach((function(i){var r=e.filter((function(e){return function(e,t){var i=Qe[t];return!!i&&!0===i[e.slice(0,4)]}(e,i)}));if(r.length){var n=r.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t["".concat(i,"Codec")]=n.length>0?n[0]:r[0],e=e.filter((function(e){return-1===r.indexOf(e)}))}})),t.unknownCodecs=e}function lt(e,t,i){var r=t[i];r&&(e[i]=r)}function ut(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),x(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function ct(e,t,i,r){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=i,e.sn="initSegment",r&&(e.levelkeys=r),e.initSegment=null}function dt(e,t,i){e.levelkeys=t;var r=i.encryptedFragments;r.length&&r[r.length-1].levelkeys===t||!Object.keys(t).some((function(e){return t[e].isCommonEncryption}))||r.push(e)}var ft={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},ht={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function pt(e){var t=e.type;switch(t){case ft.AUDIO_TRACK:return ht.AUDIO;case ft.SUBTITLE_TRACK:return ht.SUBTITLE;default:return ht.MAIN}}function vt(e,t){var i=e.url;return void 0!==i&&0!==i.indexOf("data:")||(i=t.url),i}var gt=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=t,this.registerListeners()}return(0,p.default)(e,[{key:"startLoad",value:function(e){}},{key:"stopLoad",value:function(){this.destroyInternalLoaders()}},{key:"registerListeners",value:function(){var e=this.hls;e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.LEVEL_LOADING,this.onLevelLoading,this),e.on(A.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(A.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.LEVEL_LOADING,this.onLevelLoading,this),e.off(A.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(A.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"createInternalLoader",value:function(e){var t=this.hls.config,i=t.pLoader,r=t.loader,n=i||r,o=new n(t);return this.loaders[e.type]=o,o}},{key:"getInternalLoader",value:function(e){return this.loaders[e.type]}},{key:"resetInternalLoader",value:function(e){this.loaders[e]&&delete this.loaders[e]}},{key:"destroyInternalLoaders",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}},{key:"destroy",value:function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}},{key:"onManifestLoading",value:function(e,t){var i=t.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:ft.MANIFEST,url:i,deliveryDirectives:null})}},{key:"onLevelLoading",value:function(e,t){var i=t.id,r=t.level,n=t.url,o=t.deliveryDirectives;this.load({id:i,level:r,responseType:"text",type:ft.LEVEL,url:n,deliveryDirectives:o})}},{key:"onAudioTrackLoading",value:function(e,t){var i=t.id,r=t.groupId,n=t.url,o=t.deliveryDirectives;this.load({id:i,groupId:r,level:null,responseType:"text",type:ft.AUDIO_TRACK,url:n,deliveryDirectives:o})}},{key:"onSubtitleTrackLoading",value:function(e,t){var i=t.id,r=t.groupId,n=t.url,o=t.deliveryDirectives;this.load({id:i,groupId:r,level:null,responseType:"text",type:ft.SUBTITLE_TRACK,url:n,deliveryDirectives:o})}},{key:"load",value:function(e){var t,i,r,n=this,o=this.hls.config,a=this.getInternalLoader(e);if(a){var s=a.context;if(s&&s.url===e.url)return void M.trace("[playlist-loader]: playlist request ongoing");M.log("[playlist-loader]: aborting previous loader for type: ".concat(e.type)),a.abort()}if((i=e.type===ft.MANIFEST?o.manifestLoadPolicy.default:k({},o.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),a=this.createInternalLoader(e),null!=(t=e.deliveryDirectives)&&t.part)&&(e.type===ft.LEVEL&&null!==e.level?r=this.hls.levels[e.level].details:e.type===ft.AUDIO_TRACK&&null!==e.id?r=this.hls.audioTracks[e.id].details:e.type===ft.SUBTITLE_TRACK&&null!==e.id&&(r=this.hls.subtitleTracks[e.id].details),r)){var l=r.partTarget,u=r.targetduration;if(l&&u){var c=1e3*Math.max(3*l,.8*u);i=k({},i,{maxTimeToFirstByteMs:Math.min(c,i.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(c,i.maxTimeToFirstByteMs)})}}var d=i.errorRetry||i.timeoutRetry||{},f={loadPolicy:i,timeout:i.maxLoadTimeMs,maxRetry:d.maxNumRetry||0,retryDelay:d.retryDelayMs||0,maxRetryDelay:d.maxRetryDelayMs||0},h={onSuccess:function(e,t,i,r){var o=n.getInternalLoader(i);n.resetInternalLoader(i.type);var a=e.data;0===a.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),nt.isMediaPlaylist(a)?n.handleTrackOrLevelPlaylist(e,t,i,r||null,o):n.handleMasterPlaylist(e,t,i,r)):n.handleManifestParsingError(e,i,new Error("no EXTM3U delimiter"),r||null,t)},onError:function(e,t,i,r){n.handleNetworkError(t,i,!1,e,r)},onTimeout:function(e,t,i){n.handleNetworkError(t,i,!0,void 0,e)}};a.load(e,f,h)}},{key:"handleMasterPlaylist",value:function(e,t,i,r){var n=this.hls,o=e.data,a=vt(e,i),s=nt.parseMasterPlaylist(o,a);if(s.playlistParsingError)this.handleManifestParsingError(e,i,s.playlistParsingError,r,t);else{var l=s.contentSteering,u=s.levels,c=s.sessionData,d=s.sessionKeys,f=s.startTimeOffset,h=s.variableList;this.variableList=h;var p=nt.parseMasterPlaylistMedia(o,a,s),v=p.AUDIO,g=void 0===v?[]:v,y=p.SUBTITLES,m=p["CLOSED-CAPTIONS"];if(g.length){var _=g.some((function(e){return!e.url}));_||!u[0].audioCodec||u[0].attrs.AUDIO||(M.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new B({}),bitrate:0,url:""}))}n.trigger(A.MANIFEST_LOADED,{levels:u,audioTracks:g,subtitles:y,captions:m,contentSteering:l,url:a,stats:t,networkDetails:r,sessionData:c,sessionKeys:d,startTimeOffset:f,variableList:h})}}},{key:"handleTrackOrLevelPlaylist",value:function(e,t,i,r,n){var o=this.hls,a=i.id,s=i.level,l=i.type,u=vt(e,i),c=x(a)?a:0,d=x(s)?s:c,f=pt(i),h=nt.parseLevelPlaylist(e.data,u,d,f,c,this.variableList);if(l===ft.MANIFEST){var p={attrs:new B({}),bitrate:0,details:h,name:"",url:u};o.trigger(A.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:u,stats:t,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),i.levelDetails=h,this.handlePlaylistLoaded(h,e,t,i,r,n)}},{key:"handleManifestParsingError",value:function(e,t,i,r,n){this.hls.trigger(A.ERROR,{type:C.NETWORK_ERROR,details:L.MANIFEST_PARSING_ERROR,fatal:t.type===ft.MANIFEST,url:e.url,err:i,error:i,reason:i.message,response:e,context:t,networkDetails:r,stats:n})}},{key:"handleNetworkError",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,o="A network ".concat(i?"timeout":"error"+(r?" (status "+r.code+")":"")," occurred while loading ").concat(e.type);e.type===ft.LEVEL?o+=": ".concat(e.level," id: ").concat(e.id):e.type!==ft.AUDIO_TRACK&&e.type!==ft.SUBTITLE_TRACK||(o+=" id: ".concat(e.id,' group-id: "').concat(e.groupId,'"'));var a=new Error(o);M.warn("[playlist-loader]: ".concat(o));var s=L.UNKNOWN,l=!1,u=this.getInternalLoader(e);switch(e.type){case ft.MANIFEST:s=i?L.MANIFEST_LOAD_TIMEOUT:L.MANIFEST_LOAD_ERROR,l=!0;break;case ft.LEVEL:s=i?L.LEVEL_LOAD_TIMEOUT:L.LEVEL_LOAD_ERROR,l=!1;break;case ft.AUDIO_TRACK:s=i?L.AUDIO_TRACK_LOAD_TIMEOUT:L.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case ft.SUBTITLE_TRACK:s=i?L.SUBTITLE_TRACK_LOAD_TIMEOUT:L.SUBTITLE_LOAD_ERROR,l=!1;break}u&&this.resetInternalLoader(e.type);var c={type:C.NETWORK_ERROR,details:s,fatal:l,url:e.url,loader:u,context:e,error:a,networkDetails:t,stats:n};if(r){var d=(null==t?void 0:t.url)||e.url;c.response=E({url:d,data:void 0},r)}this.hls.trigger(A.ERROR,c)}},{key:"handlePlaylistLoaded",value:function(e,t,i,r,n,o){var a=this.hls,s=r.type,l=r.level,u=r.id,c=r.groupId,d=r.deliveryDirectives,f=vt(t,r),h=pt(r),p="number"===typeof r.level&&h===ht.MAIN?l:void 0;if(e.fragments.length){e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));var v=e.playlistParsingError;if(v)a.trigger(A.ERROR,{type:C.NETWORK_ERROR,details:L.LEVEL_PARSING_ERROR,fatal:!1,url:f,error:v,reason:v.message,response:t,context:r,level:p,parent:h,networkDetails:n,stats:i});else switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),o.getCacheAge&&!isNaN(e.ageHeader)||(e.ageHeader=0)),s){case ft.MANIFEST:case ft.LEVEL:a.trigger(A.LEVEL_LOADED,{details:e,level:p||0,id:u||0,stats:i,networkDetails:n,deliveryDirectives:d});break;case ft.AUDIO_TRACK:a.trigger(A.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:c||"",stats:i,networkDetails:n,deliveryDirectives:d});break;case ft.SUBTITLE_TRACK:a.trigger(A.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:c||"",stats:i,networkDetails:n,deliveryDirectives:d});break}}else{var g=new Error("No Segments found in Playlist");a.trigger(A.ERROR,{type:C.NETWORK_ERROR,details:L.LEVEL_EMPTY_ERROR,fatal:!1,url:f,error:g,reason:g.message,response:t,context:r,level:p,parent:h,networkDetails:n,stats:i})}}}]),e}();function yt(e,t){var i;try{i=new Event("addtrack")}catch(r){i=document.createEvent("Event"),i.initEvent("addtrack",!1,!1)}i.track=e,t.dispatchEvent(i)}function mt(e,t){var i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: ".concat(t))}catch(n){M.debug("[texttrack-utils]: ".concat(n));var r=new self.TextTrackCue(t.startTime,t.endTime,t.text);r.id=t.id,e.addCue(r)}"disabled"===i&&(e.mode=i)}function _t(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var i=e.cues.length;i--;)e.removeCue(e.cues[i]);"disabled"===t&&(e.mode=t)}function bt(e,t,i,r){var n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var o=function(e,t,i){var r=[],n=function(e,t){if(t<e[0].startTime)return 0;var i=e.length-1;if(t>e[i].endTime)return-1;var r=0,n=i;while(r<=n){var o=Math.floor((n+r)/2);if(t<e[o].startTime)n=o-1;else{if(!(t>e[o].startTime&&r<i))return o;r=o+1}}return e[r].startTime-t<t-e[n].startTime?r:n}(e,t);if(n>-1)for(var o=n,a=e.length;o<a;o++){var s=e[o];if(s.startTime>=t&&s.endTime<=i)r.push(s);else if(s.startTime>i)return r}return r}(e.cues,t,i),a=0;a<o.length;a++)r&&!r(o[a])||e.removeCue(o[a]);"disabled"===n&&(e.mode=n)}var St={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};function Tt(){if("undefined"!==typeof self)return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var Et=function(){var e=Tt();try{new e(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function wt(e,t){return e.getTime()/1e3-t}function kt(e){return Uint8Array.from(e.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}var xt=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}return(0,p.default)(e,[{key:"destroy",value:function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(A.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(A.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media}},{key:"onMediaDetaching",value:function(){this.id3Track&&(_t(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}},{key:"onManifestLoading",value:function(){this.dateRangeCuesAppended={}}},{key:"createTrack",value:function(e){var t=this.getID3Track(e.textTracks);return t.mode="hidden",t}},{key:"getID3Track",value:function(e){if(this.media){for(var t=0;t<e.length;t++){var i=e[t];if("metadata"===i.kind&&"id3"===i.label)return yt(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}},{key:"onFragParsingMetadata",value:function(e,t){if(this.media){var i=this.hls.config,r=i.enableEmsgMetadataCues,n=i.enableID3MetadataCues;if(r||n){var o=t.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var a=Tt(),s=0;s<o.length;s++){var l=o[s].type;if((l!==St.emsg||r)&&n){var u=he(o[s].data);if(u){var c=o[s].pts,d=c+o[s].duration;d>Et&&(d=Et);var f=d-c;f<=0&&(d=c+.25);for(var h=0;h<u.length;h++){var p=u[h];if(!de(p)){this.updateId3CueEnds(c);var v=new a(c,d,"");v.value=p,l&&(v.type=l),this.id3Track.addCue(v)}}}}}}}}},{key:"updateId3CueEnds",value:function(e){var t,i=null==(t=this.id3Track)?void 0:t.cues;if(i)for(var r=i.length;r--;){var n=i[r];n.startTime<e&&n.endTime===Et&&(n.endTime=e)}}},{key:"onBufferFlushing",value:function(e,t){var i=t.startOffset,r=t.endOffset,n=t.type,o=this.id3Track,a=this.hls;if(a){var s,l=a.config,u=l.enableEmsgMetadataCues,c=l.enableID3MetadataCues;if(o&&(u||c))s="audio"===n?function(e){return e.type===St.audioId3&&c}:"video"===n?function(e){return e.type===St.emsg&&u}:function(e){return e.type===St.audioId3&&c||e.type===St.emsg&&u},bt(o,i,r,s)}}},{key:"onLevelUpdated",value:function(e,t){var i=this,r=t.details;if(this.media&&r.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var n=this.dateRangeCuesAppended,o=this.id3Track,a=r.dateRanges,s=Object.keys(a);if(o)for(var l=Object.keys(n).filter((function(e){return!s.includes(e)})),u=function(e){var t=l[e];Object.keys(n[t].cues).forEach((function(e){o.removeCue(n[t].cues[e])})),delete n[t]},c=l.length;c--;)u(c);var d=r.fragments[r.fragments.length-1];if(0!==s.length&&x(null==d?void 0:d.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var f=d.programDateTime/1e3-d.start,h=Tt(),p=function(e){var t=s[e],r=a[t],o=n[t],l=(null==o?void 0:o.cues)||{},u=(null==o?void 0:o.durationKnown)||!1,c=wt(r.startDate,f),d=Et,p=r.endDate;if(p)d=wt(p,f),u=!0;else if(r.endOnNext&&!u){var v=s.reduce((function(e,t){var i=a[t];return i.class===r.class&&i.id!==t&&i.startDate>r.startDate&&e.push(i),e}),[]).sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()}))[0];v&&(d=wt(v.startDate,f),u=!0)}for(var g=Object.keys(r.attr),y=0;y<g.length;y++){var m=g[y];if(U(m)){var _=l[m];if(_)u&&!o.durationKnown&&(_.endTime=d);else{var b=r.attr[m];_=new h(c,d,""),j(m)&&(b=kt(b)),_.value={key:m,data:b},_.type=St.dateRange,_.id=t,i.id3Track.addCue(_),l[m]=_}}}n[t]={cues:l,dateRange:r,durationKnown:u}},v=0;v<s.length;v++)p(v)}}}}]),e}(),At=function(){function e(t){var i=this;(0,h.default)(this,e),this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return i.timeupdate()},this.hls=t,this.config=t.config,this.registerListeners()}return(0,p.default)(e,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,i=e.partHoldBack,r=e.targetduration,n=this.config,o=n.liveSyncDuration,a=n.liveSyncDurationCount,s=n.lowLatencyMode,l=this.hls.userConfig,u=s&&i||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==o?o:a*r);var c=r;return u+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,i=this.levelDetails;if(null===e||null===t||null===i)return null;var r=i.edge,n=e-t-this.edgeStalled,o=r-i.totalduration,a=r-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(o,n),a)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var i=e.buffered.length;return(i?e.buffered.end(i-1):t.edge)-this.currentTime}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}},{key:"registerListeners",value:function(){this.hls.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(A.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(A.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(A.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){this.hls.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(A.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(A.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(A.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}},{key:"onMediaDetaching",value:function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}},{key:"onManifestLoading",value:function(){this.levelDetails=null,this._latency=null,this.stallCount=0}},{key:"onLevelUpdated",value:function(e,t){var i=t.details;this.levelDetails=i,i.advanced&&this.timeupdate(),!i.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}},{key:"onError",value:function(e,t){var i;t.details===L.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(i=this.levelDetails)&&i.live&&M.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}},{key:"timeupdate",value:function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var i=this.computeLatency();if(null!==i){this._latency=i;var r=this.config,n=r.lowLatencyMode,o=r.maxLiveSyncPlaybackRate;if(n&&1!==o){var a=this.targetLatency;if(null!==a){var s=i-a,l=Math.min(this.maxLatency,a+t.targetduration),u=s<l;if(t.live&&u&&s>.05&&this.forwardBufferLength>1){var c=Math.min(2,Math.max(1,o)),d=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(c,Math.max(1,d))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}}},{key:"estimateLiveEdge",value:function(){var e=this.levelDetails;return null===e?null:e.edge+e.age}},{key:"computeLatency",value:function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime}}]),e}(),Ct=["NONE","TYPE-0","TYPE-1",null],Lt={No:"",Yes:"YES",v2:"v2"};var It=function(){function e(t,i,r){(0,h.default)(this,e),this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=i,this.skip=r}return(0,p.default)(e,[{key:"addDirectives",value:function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}]),e}(),Pt=function(){function e(t){(0,h.default)(this,e),this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.unknownCodecs=t.unknownCodecs,this.codecSet=[t.videoCodec,t.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}return(0,p.default)(e,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=t)}},{key:"audioGroupId",get:function(){var e;return null==(e=this.audioGroupIds)?void 0:e[this.urlId]}},{key:"textGroupId",get:function(){var e;return null==(e=this.textGroupIds)?void 0:e[this.urlId]}},{key:"addFallback",value:function(e){this.url.push(e.url),this._attrs.push(e.attrs)}}]),e}();function Dt(e,t){var i=t.startPTS;if(x(i)){var r,n=0;t.sn>e.sn?(n=i-e.start,r=e):(n=e.start-i,r=t),r.duration!==n&&(r.duration=n)}else if(t.sn>e.sn){var o=e.cc===t.cc;o&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration}else t.start=Math.max(e.start-t.duration,0)}function Rt(e,t,i,r,n,o){var a=r-i;a<=0&&(M.warn("Fragment should have a positive duration",t),r=i+t.duration,o=n+t.duration);var s=i,l=r,u=t.startPTS,c=t.endPTS;if(x(u)){var d=Math.abs(u-i);x(t.deltaPTS)?t.deltaPTS=Math.max(d,t.deltaPTS):t.deltaPTS=d,s=Math.max(i,u),i=Math.min(i,u),n=Math.min(n,t.startDTS),l=Math.min(r,c),r=Math.max(r,c),o=Math.max(o,t.endDTS)}var f=i-t.start;0!==t.start&&(t.start=i),t.duration=r-t.start,t.startPTS=i,t.maxStartPTS=s,t.startDTS=n,t.endPTS=r,t.minEndPTS=l,t.endDTS=o;var h,p=t.sn;if(!e||p<e.startSN||p>e.endSN)return 0;var v=p-e.startSN,g=e.fragments;for(g[v]=t,h=v;h>0;h--)Dt(g[h],g[h-1]);for(h=v;h<g.length-1;h++)Dt(g[h],g[h+1]);return e.fragmentHint&&Dt(g[g.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,f}function Ot(e,t){for(var i=null,r=e.fragments,n=r.length-1;n>=0;n--){var o=r[n].initSegment;if(o){i=o;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var a,s=0;if(function(e,t,i){for(var r=t.skippedSegments,n=Math.max(e.startSN,t.startSN)-t.startSN,o=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,a=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=n;u<=o;u++){var c=l[a+u],d=s[u];r&&!d&&u<r&&(d=t.fragments[u]=c),c&&d&&i(c,d)}}(e,t,(function(e,r){e.relurl&&(s=e.cc-r.cc),x(e.startPTS)&&x(e.endPTS)&&(r.start=r.startPTS=e.startPTS,r.startDTS=e.startDTS,r.maxStartPTS=e.maxStartPTS,r.endPTS=e.endPTS,r.endDTS=e.endDTS,r.minEndPTS=e.minEndPTS,r.duration=e.endPTS-e.startPTS,r.duration&&(a=r),t.PTSKnown=t.alignedSliding=!0),r.elementaryStreams=e.elementaryStreams,r.loader=e.loader,r.stats=e.stats,r.urlId=e.urlId,e.initSegment&&(r.initSegment=e.initSegment,i=e.initSegment)})),i){var l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;l.forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null==(t=i)?void 0:t.relurl)||(e.initSegment=i)}))}if(t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed){M.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var u=t.skippedSegments;u--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=function(e,t,i){var r=k({},e);i&&i.forEach((function(e){delete r[e]}));return Object.keys(t).forEach((function(e){var i=new H(t[e].attr,r[e]);i.isValid?r[e]=i:M.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'.concat(JSON.stringify(t[e].attr),'"'))})),r}(e.dateRanges,t.dateRanges,t.recentlyRemovedDateranges));var c=t.fragments;if(s){M.warn("discontinuity sliding from playlist, take drift into account");for(var d=0;d<c.length;d++)c[d].cc+=s}t.skippedSegments&&(t.startCC=t.fragments[0].cc),function(e,t,i){if(e&&t)for(var r=0,n=0,o=e.length;n<=o;n++){var a=e[n],s=t[n+r];a&&s&&a.index===s.index&&a.fragment.sn===s.fragment.sn?i(a,s):r--}}(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),a?Rt(t,a,a.startPTS,a.endPTS,a.startDTS,a.endDTS):Mt(e,t),c.length&&(t.totalduration=t.edge-c[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var f=t.advancedDateTime;if(t.advanced&&f){var h=t.edge;t.driftStart||(t.driftStartTime=f,t.driftStart=h),t.driftEndTime=f,t.driftEnd=h}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function Mt(e,t){var i=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;i<0||i>=r.length||Nt(t,r[i].start)}function Nt(e,t){if(t){for(var i=e.fragments,r=e.skippedSegments;r<i.length;r++)i[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function Ft(e,t,i){var r;return null!=e&&e.details?Bt(null==(r=e.details)?void 0:r.partList,t,i):null}function Bt(e,t,i){if(e)for(var r=e.length;r--;){var n=e[r];if(n.index===i&&n.fragment.sn===t)return n}return null}function Ut(e){switch(e.details){case L.FRAG_LOAD_TIMEOUT:case L.KEY_LOAD_TIMEOUT:case L.LEVEL_LOAD_TIMEOUT:case L.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function jt(e,t){var i=Ut(t);return e.default["".concat(i?"timeout":"error","Retry")]}function Ht(e,t){var i="linear"===e.backoff?1:Math.pow(2,t);return Math.min(i*e.retryDelayMs,e.maxRetryDelayMs)}function $t(e){return E(E({},e),{errorRetry:null,timeoutRetry:null})}function Vt(e,t,i,r){return!!e&&t<e.maxNumRetry&&(function(e){return 0===e&&!1===navigator.onLine||!!e&&(e<400||e>499)}(r)||!!i)}var Gt={search:function(e,t){var i=0,r=e.length-1,n=null,o=null;while(i<=r){n=(i+r)/2|0,o=e[n];var a=t(o);if(a>0)i=n+1;else{if(!(a<0))return o;r=n-1}}return null}};function Kt(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=null;if(e?n=t[e.sn-t[0].sn+1]||null:0===i&&0===t[0].start&&(n=t[0]),n&&0===qt(i,r,n))return n;var o=Gt.search(t,qt.bind(null,i,r));return!o||o===e&&n?n:o}function qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(i.start<=e&&i.start+i.duration>e)return 0;var r=Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.start+i.duration-r<=e?1:i.start-r>e&&i.start?-1:0}function Wt(e,t,i){var r=1e3*Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0)),n=i.endProgramDateTime||0;return n-r>e}var zt={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},Yt={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4},Qt=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=t,this.log=M.log.bind(M,"[info]:"),this.warn=M.warn.bind(M,"[warning]:"),this.error=M.error.bind(M,"[error]:"),this.registerListeners()}return(0,p.default)(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(A.ERROR,this.onError,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e&&(e.off(A.ERROR,this.onError,this),e.off(A.ERROR,this.onErrorOut,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this))}},{key:"destroy",value:function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}},{key:"startLoad",value:function(e){this.playlistError=0}},{key:"stopLoad",value:function(){}},{key:"getVariantLevelIndex",value:function(e){return(null==e?void 0:e.type)===ht.MAIN?e.level:this.hls.loadLevel}},{key:"onManifestLoading",value:function(){this.playlistError=0,this.penalizedRenditions={}}},{key:"onError",value:function(e,t){var i;if(!t.fatal){var r=this.hls,n=t.context;switch(t.details){case L.FRAG_LOAD_ERROR:case L.FRAG_LOAD_TIMEOUT:case L.KEY_LOAD_ERROR:case L.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case L.FRAG_GAP:case L.FRAG_PARSING_ERROR:case L.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=zt.SendAlternateToPenaltyBox);case L.LEVEL_EMPTY_ERROR:case L.LEVEL_PARSING_ERROR:var o,a,s=t.parent===ht.MAIN?t.level:r.loadLevel;return void(t.details===L.LEVEL_EMPTY_ERROR&&null!=(o=t.context)&&null!=(a=o.levelDetails)&&a.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,s):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,s)));case L.LEVEL_LOAD_ERROR:case L.LEVEL_LOAD_TIMEOUT:return void("number"===typeof(null==n?void 0:n.level)&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,n.level)));case L.AUDIO_TRACK_LOAD_ERROR:case L.AUDIO_TRACK_LOAD_TIMEOUT:case L.SUBTITLE_LOAD_ERROR:case L.SUBTITLE_TRACK_LOAD_TIMEOUT:if(n){var l=r.levels[r.loadLevel];if(l&&(n.type===ft.AUDIO_TRACK&&n.groupId===l.audioGroupId||n.type===ft.SUBTITLE_TRACK&&n.groupId===l.textGroupId))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,r.loadLevel),t.errorAction.action=zt.SendAlternateToPenaltyBox,void(t.errorAction.flags=Yt.MoveAllAlternatesMatchingHost)}return;case L.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var u=r.levels[r.loadLevel],c=null==u?void 0:u.attrs["HDCP-LEVEL"];return void(c&&(t.errorAction={action:zt.SendAlternateToPenaltyBox,flags:Yt.MoveAllAlternatesMatchingHDCP,hdcpLevel:c}));case L.BUFFER_ADD_CODEC_ERROR:case L.REMUX_ALLOC_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(i=t.level)?i:r.loadLevel));case L.INTERNAL_EXCEPTION:case L.BUFFER_APPENDING_ERROR:case L.BUFFER_APPEND_ERROR:case L.BUFFER_FULL_ERROR:case L.LEVEL_SWITCH_ERROR:case L.BUFFER_STALLED_ERROR:case L.BUFFER_SEEK_OVER_HOLE:case L.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:zt.DoNothing,flags:Yt.None})}if(t.type===C.KEY_SYSTEM_ERROR){var d=this.getVariantLevelIndex(t.frag);return t.levelRetry=!1,void(t.errorAction=this.getLevelSwitchAction(t,d))}}}},{key:"getPlaylistRetryOrSwitchAction",value:function(e,t){var i,r=this.hls,n=jt(r.config.playlistLoadPolicy,e),o=this.playlistError++,a=null==(i=e.response)?void 0:i.code,s=Vt(n,o,Ut(e),a);if(s)return{action:zt.RetryRequest,flags:Yt.None,retryConfig:n,retryCount:o};var l=this.getLevelSwitchAction(e,t);return n&&(l.retryConfig=n,l.retryCount=o),l}},{key:"getFragRetryOrSwitchAction",value:function(e){var t=this.hls,i=this.getVariantLevelIndex(e.frag),r=t.levels[i],n=t.config,o=n.fragLoadPolicy,a=n.keyLoadPolicy,s=jt(e.details.startsWith("key")?a:o,e),l=t.levels.reduce((function(e,t){return e+t.fragmentError}),0);if(r){var u;e.details!==L.FRAG_GAP&&r.fragmentError++;var c=null==(u=e.response)?void 0:u.code,d=Vt(s,l,Ut(e),c);if(d)return{action:zt.RetryRequest,flags:Yt.None,retryConfig:s,retryCount:l}}var f=this.getLevelSwitchAction(e,i);return s&&(f.retryConfig=s,f.retryCount=l),f}},{key:"getLevelSwitchAction",value:function(e,t){var i=this.hls;null!==t&&void 0!==t||(t=i.loadLevel);var r=this.hls.levels[t];if(r&&(r.loadError++,i.autoLevelEnabled)){for(var n,o,a=-1,s=i.levels,l=null==(n=e.frag)?void 0:n.type,u=null!=(o=e.context)?o:{},c=u.type,d=u.groupId,f=s.length;f--;){var h=(f+i.loadLevel)%s.length;if(h!==i.loadLevel&&0===s[h].loadError){var p=s[h];if(e.details===L.FRAG_GAP&&e.frag){var v=s[h].details;if(v){var g=Kt(e.frag,v.fragments,e.frag.start);if(null!=g&&g.gap)continue}}else{if(c===ft.AUDIO_TRACK&&d===p.audioGroupId||c===ft.SUBTITLE_TRACK&&d===p.textGroupId)continue;if(l===ht.AUDIO&&r.audioGroupId===p.audioGroupId||l===ht.SUBTITLE&&r.textGroupId===p.textGroupId)continue}a=h;break}}if(a>-1&&i.loadLevel!==a)return e.levelRetry=!0,{action:zt.SendAlternateToPenaltyBox,flags:Yt.None,nextAutoLevel:a}}return{action:zt.SendAlternateToPenaltyBox,flags:Yt.MoveAllAlternatesMatchingHost}}},{key:"onErrorOut",value:function(e,t){var i;switch(null==(i=t.errorAction)?void 0:i.action){case zt.DoNothing:break;case zt.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),t.errorAction.resolved||t.details===L.FRAG_GAP||(t.fatal=!0);break}t.fatal&&this.hls.stopLoad()}},{key:"sendAlternateToPenaltyBox",value:function(e){var t=this.hls,i=e.errorAction;if(i){var r=i.flags,n=i.hdcpLevel,o=i.nextAutoLevel;switch(r){case Yt.None:this.switchLevel(e,o);break;case Yt.MoveAllAlternatesMatchingHost:i.resolved||(i.resolved=this.redundantFailover(e));break;case Yt.MoveAllAlternatesMatchingHDCP:n&&(t.maxHdcpLevel=Ct[Ct.indexOf(n)-1],i.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'.concat(t.maxHdcpLevel,'" or lower'));break}i.resolved||this.switchLevel(e,o)}}},{key:"switchLevel",value:function(e,t){void 0!==t&&e.errorAction&&(this.warn("switching to level ".concat(t," after ").concat(e.details)),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},{key:"redundantFailover",value:function(e){var t=this,i=this.hls,r=this.penalizedRenditions,n=e.parent===ht.MAIN?e.level:i.loadLevel,o=i.levels[n],a=o.url.length,s=e.frag?e.frag.urlId:o.urlId;o.urlId!==s||e.frag&&!o.details||this.penalizeRendition(o,e);for(var l=function(l){var u=(s+l)%a,c=r[u];if(!c||function(e,t,i){if(performance.now()-e.lastErrorPerfMs>3e5)return!0;var r=e.details;if(t.details===L.FRAG_GAP&&r&&t.frag){var n=t.frag.start,o=Kt(null,r.fragments,n);if(o&&!o.gap)return!0}if(i&&e.errors.length<i.errors.length){var a=e.errors[e.errors.length-1];if(r&&a.frag&&t.frag&&Math.abs(a.frag.start-t.frag.start)>3*r.targetduration)return!0}return!1}(c,e,r[s]))return t.warn("Switching to Redundant Stream ".concat(u+1,"/").concat(a,': "').concat(o.url[u],'" after ').concat(e.details)),t.playlistError=0,i.levels.forEach((function(e){e.urlId=u})),i.nextLoadLevel=n,{v:!0}},u=1;u<a;u++){var c=l(u);if("object"===(0,v.default)(c))return c.v}return!1}},{key:"penalizeRendition",value:function(e,t){var i=this.penalizedRenditions,r=i[e.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};r.lastErrorPerfMs=performance.now(),r.errors.push(t),r.details=e.details,i[e.urlId]=r}}]),e}();var Xt,Jt=function(){function e(t,i){(0,h.default)(this,e),this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=M.log.bind(M,"".concat(i,":")),this.warn=M.warn.bind(M,"".concat(i,":")),this.hls=t}return(0,p.default)(e,[{key:"destroy",value:function(){this.clearTimer(),this.hls=this.log=this.warn=null}},{key:"clearTimer",value:function(){clearTimeout(this.timer),this.timer=-1}},{key:"startLoad",value:function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}},{key:"stopLoad",value:function(){this.canLoad=!1,this.clearTimer()}},{key:"switchParams",value:function(e,t){var i=null==t?void 0:t.renditionReports;if(i){for(var r=-1,n=0;n<i.length;n++){var o=i[n],a=void 0;try{a=new self.URL(o.URI,t.url).href}catch(d){M.warn("Could not construct new URL for Rendition Report: ".concat(d)),a=o.URI||""}if(a===e){r=n;break}a===e.substring(0,a.length)&&(r=n)}if(-1!==r){var s=i[r],l=parseInt(s["LAST-MSN"])||(null==t?void 0:t.lastPartSn),u=parseInt(s["LAST-PART"])||(null==t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);u>=0&&c>t.partTarget&&(u+=1)}return new It(l,u>=0?u:void 0,Lt.No)}}}},{key:"loadPlaylist",value:function(e){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}},{key:"shouldLoadPlaylist",value:function(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}},{key:"shouldReloadPlaylist",value:function(e){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(e)}},{key:"playlistLoaded",value:function(e,t,i){var r=this,n=t.details,o=t.stats,a=self.performance.now(),s=o.loading.first?Math.max(0,a-o.loading.first):0;if(n.advancedDateTime=Date.now()-s,n.live||null!=i&&i.live){if(n.reloaded(i),i&&this.log("live playlist ".concat(e," ").concat(n.advanced?"REFRESHED "+n.lastPartSn+"-"+n.lastPartIndex:"MISSED")),i&&n.fragments.length>0&&Ot(i,n),!this.canLoad||!n.live)return;var l,u=void 0,c=void 0;if(n.canBlockReload&&n.endSN&&n.advanced){var d=this.hls.config.lowLatencyMode,f=n.lastPartSn,h=n.endSN,p=n.lastPartIndex,v=-1!==p,g=f===h,y=d?0:p;v?(u=g?h+1:f,c=g?y:p+1):u=h+1;var m=n.age,_=m+n.ageHeader,b=Math.min(_-n.partTarget,1.5*n.targetduration);if(b>0){if(i&&b>i.tuneInGoal)this.warn("CDN Tune-in goal increased from: ".concat(i.tuneInGoal," to: ").concat(b," with playlist age: ").concat(n.age)),b=0;else{var S=Math.floor(b/n.targetduration);if(u+=S,void 0!==c){var T=Math.round(b%n.targetduration/n.partTarget);c+=T}this.log("CDN Tune-in age: ".concat(n.ageHeader,"s last advanced ").concat(m.toFixed(2),"s goal: ").concat(b," skip sn ").concat(S," to part ").concat(c))}n.tuneInGoal=b}if(l=this.getDeliveryDirectives(n,t.deliveryDirectives,u,c),d||!g)return void this.loadPlaylist(l)}else n.canBlockReload&&(l=this.getDeliveryDirectives(n,t.deliveryDirectives,u,c));var E=this.hls.mainForwardBufferInfo,w=E?E.end-E.len:0,k=1e3*(n.edge-w),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,i=1e3*e.targetduration;if(e.updated){var r=e.fragments,n=4;if(r.length&&i*n>t){var o=1e3*r[r.length-1].duration;o<i&&(i=o)}}else i/=2;return Math.round(i)}(n,k);n.updated&&a>this.requestScheduled+x&&(this.requestScheduled=o.loading.start),void 0!==u&&n.canBlockReload?this.requestScheduled=o.loading.first+x-(1e3*n.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+x<a?this.requestScheduled=a:this.requestScheduled-a<=0&&(this.requestScheduled+=x);var A=this.requestScheduled-a;A=Math.max(0,A),this.log("reload live playlist ".concat(e," in ").concat(Math.round(A)," ms")),this.timer=self.setTimeout((function(){return r.loadPlaylist(l)}),A)}else this.clearTimer()}},{key:"getDeliveryDirectives",value:function(e,t,i,r){var n=function(e,t){var i=e.canSkipUntil,r=e.canSkipDateRanges,n=e.endSN,o=void 0!==t?t-n:0;return i&&o<i?r?Lt.v2:Lt.Yes:Lt.No}(e,i);return null!=t&&t.skip&&e.deltaUpdateFailed&&(i=t.msn,r=t.part,n=Lt.No),new It(i,r,n)}},{key:"checkRetry",value:function(e){var t=this,i=e.details,r=Ut(e),n=e.errorAction,o=n||{},a=o.action,s=o.retryCount,l=void 0===s?0:s,u=o.retryConfig,c=!!n&&!!u&&(a===zt.RetryRequest||!n.resolved&&a===zt.SendAlternateToPenaltyBox);if(c){var d;if(this.requestScheduled=-1,r&&null!=(d=e.context)&&d.deliveryDirectives)this.warn("Retrying playlist loading ".concat(l+1,"/").concat(u.maxNumRetry,' after "').concat(i,'" without delivery-directives')),this.loadPlaylist();else{var f=Ht(u,l);this.timer=self.setTimeout((function(){return t.loadPlaylist()}),f),this.warn("Retrying playlist loading ".concat(l+1,"/").concat(u.maxNumRetry,' after "').concat(i,'" in ').concat(f,"ms"))}e.levelRetry=!0,n.resolved=!0}return c}}]),e}(),Zt=function(e){(0,u.default)(i,e);var t=m(i);function i(e,r){var n;return(0,h.default)(this,i),n=t.call(this,e,"[level-controller]"),n._levels=[],n._firstLevel=-1,n._startLevel=void 0,n.currentLevel=null,n.currentLevelIndex=-1,n.manualLevelIndex=-1,n.steering=void 0,n.onParsedComplete=void 0,n.steering=r,n._registerListeners(),n}return(0,p.default)(i,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(A.LEVEL_LOADED,this.onLevelLoaded,this),e.on(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(A.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(A.FRAG_LOADED,this.onFragLoaded,this),e.on(A.ERROR,this.onError,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(A.LEVEL_LOADED,this.onLevelLoaded,this),e.off(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(A.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(A.FRAG_LOADED,this.onFragLoaded,this),e.off(A.ERROR,this.onError,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),(0,l.default)((0,d.default)(i.prototype),"destroy",this).call(this)}},{key:"startLoad",value:function(){var e=this._levels;e.forEach((function(e){e.loadError=0,e.fragmentError=0})),(0,l.default)((0,d.default)(i.prototype),"startLoad",this).call(this)}},{key:"resetLevels",value:function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}},{key:"onManifestLoading",value:function(e,t){this.resetLevels()}},{key:"onManifestLoaded",value:function(e,t){var i,r=[],n={};t.levels.forEach((function(e){var t,o=e.attrs;-1!==(null==(t=e.audioCodec)?void 0:t.indexOf("mp4a.40.34"))&&(Xt||(Xt=/chrome|firefox/i.test(navigator.userAgent)),Xt&&(e.audioCodec=void 0));var a=o.AUDIO,s=o.CODECS,l=o["FRAME-RATE"],u=o["PATHWAY-ID"],c=o.RESOLUTION,d=o.SUBTITLES,f="".concat(u||".","-"),h="".concat(f).concat(e.bitrate,"-").concat(c,"-").concat(l,"-").concat(s);i=n[h],i?i.addFallback(e):(i=new Pt(e),n[h]=i,r.push(i)),ei(i,"audio",a),ei(i,"text",d)})),this.filterAndSortMediaOptions(r,t)}},{key:"filterAndSortMediaOptions",value:function(e,t){var i=this,r=[],n=[],o=!1,a=!1,s=!1,l=e.filter((function(e){var t=e.audioCodec,i=e.videoCodec,r=e.width,n=e.height,l=e.unknownCodecs;return o||(o=!(!r||!n)),a||(a=!!i),s||(s=!!t),!(null!=l&&l.length)&&(!t||Je(t,"audio"))&&(!i||Je(i,"video"))}));if((o||a)&&s&&(l=l.filter((function(e){var t=e.videoCodec,i=e.width,r=e.height;return!!t||!(!i||!r)}))),0!==l.length){t.audioTracks&&(r=t.audioTracks.filter((function(e){return!e.audioCodec||Je(e.audioCodec,"audio")})),ti(r)),t.subtitles&&(n=t.subtitles,ti(n));var u=l.slice(0);l.sort((function(e,t){return e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"]?(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1:e.bitrate!==t.bitrate?e.bitrate-t.bitrate:e.attrs["FRAME-RATE"]!==t.attrs["FRAME-RATE"]?e.attrs.decimalFloatingPoint("FRAME-RATE")-t.attrs.decimalFloatingPoint("FRAME-RATE"):e.attrs.SCORE!==t.attrs.SCORE?e.attrs.decimalFloatingPoint("SCORE")-t.attrs.decimalFloatingPoint("SCORE"):o&&e.height!==t.height?e.height-t.height:0}));var c=u[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==u.length))for(var d=0;d<u.length;d++)if(u[d].pathwayId===l[0].pathwayId){c=u[d];break}this._levels=l;for(var f=0;f<l.length;f++)if(l[f]===c){this._firstLevel=f,this.log("manifest loaded, ".concat(l.length," level(s) found, first bitrate: ").concat(c.bitrate));break}var h=s&&!a,p={levels:l,audioTracks:r,subtitleTracks:n,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:a,altAudio:!h&&r.some((function(e){return!!e.url}))};this.hls.trigger(A.MANIFEST_PARSED,p),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then((function(){if(i.hls){var e=new Error("no level with compatible codecs found in manifest");i.hls.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:e,reason:e.message})}}))}},{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;if(0!==t.length){if(e<0||e>=t.length){var i=new Error("invalid level idx"),r=e<0;if(this.hls.trigger(A.ERROR,{type:C.OTHER_ERROR,details:L.LEVEL_SWITCH_ERROR,level:e,fatal:r,error:i,reason:i.message}),r)return;e=Math.min(e,t.length-1)}var n=this.currentLevelIndex,o=this.currentLevel,a=o?o.attrs["PATHWAY-ID"]:void 0,s=t[e],l=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=s,n!==e||!s.details||!o||a!==l){this.log("Switching to level ".concat(e).concat(l?" with Pathway "+l:""," from level ").concat(n).concat(a?" with Pathway "+a:""));var u=k({},s,{level:e,maxBitrate:s.maxBitrate,attrs:s.attrs,uri:s.uri,urlId:s.urlId});delete u._attrs,delete u._urlId,this.hls.trigger(A.LEVEL_SWITCHING,u);var c=s.details;if(!c||c.live){var d=this.switchParams(s.uri,null==o?void 0:o.details);this.loadPlaylist(d)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&t.context.type===ft.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}},{key:"onFragLoaded",value:function(e,t){var i=t.frag;if(void 0!==i&&i.type===ht.MAIN){var r=this._levels[i.level];void 0!==r&&(r.loadError=0)}}},{key:"onLevelLoaded",value:function(e,t){var i,r,n=t.level,o=t.details,a=this._levels[n];if(!a)return this.warn("Invalid level index ".concat(n)),void(null!=(r=t.deliveryDirectives)&&r.skip&&(o.deltaUpdateFailed=!0));n===this.currentLevelIndex?(0===a.fragmentError&&(a.loadError=0),this.playlistLoaded(n,t,a.details)):null!=(i=t.deliveryDirectives)&&i.skip&&(o.deltaUpdateFailed=!0)}},{key:"onAudioTrackSwitched",value:function(e,t){var i=this.currentLevel;if(i){var r=this.hls.audioTracks[t.id].groupId;if(i.audioGroupIds&&i.audioGroupId!==r){for(var n=-1,o=0;o<i.audioGroupIds.length;o++)if(i.audioGroupIds[o]===r){n=o;break}-1!==n&&n!==i.urlId&&(i.urlId=n,this.canLoad&&this.startLoad())}}}},{key:"loadPlaylist",value:function(e){(0,l.default)((0,d.default)(i.prototype),"loadPlaylist",this).call(this);var t=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){var n=r.urlId,o=r.uri;if(e)try{o=e.addDirectives(o)}catch(s){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(s))}var a=r.attrs["PATHWAY-ID"];this.log("Loading level index ".concat(t).concat(void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""," with").concat(a?" Pathway "+a:""," URI ").concat(n+1,"/").concat(r.url.length," ").concat(o)),this.clearTimer(),this.hls.trigger(A.LEVEL_LOADING,{url:o,level:t,id:n,deliveryDirectives:e||null})}}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}},{key:"removeLevel",value:function(e,t){var i=this,r=function(e,i){return i!==t},n=this._levels.filter((function(n,o){return o!==e||(n.url.length>1&&void 0!==t?(n.url=n.url.filter(r),n.audioGroupIds&&(n.audioGroupIds=n.audioGroupIds.filter(r)),n.textGroupIds&&(n.textGroupIds=n.textGroupIds.filter(r)),n.urlId=0,!0):(i.steering&&i.steering.removeLevel(n),!1))}));this.hls.trigger(A.LEVELS_UPDATED,{levels:n})}},{key:"onLevelsUpdated",value:function(e,t){var i=t.levels;i.forEach((function(e,t){var i=e.details;null!=i&&i.fragments&&i.fragments.forEach((function(e){e.level=t}))})),this._levels=i}}]),i}(Jt);function ei(e,t,i){i&&("audio"===t?(e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds[e.url.length-1]=i):"text"===t&&(e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds[e.url.length-1]=i))}function ti(e){var t={};e.forEach((function(e){var i=e.groupId||"";e.id=t[i]=t[i]||0,t[i]++}))}var ii={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},ri=function(){function e(t){(0,h.default)(this,e),this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}return(0,p.default)(e,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(A.BUFFER_APPENDED,this.onBufferAppended,this),e.on(A.FRAG_BUFFERED,this.onFragBuffered,this),e.on(A.FRAG_LOADED,this.onFragLoaded,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(A.BUFFER_APPENDED,this.onBufferAppended,this),e.off(A.FRAG_BUFFERED,this.onFragBuffered,this),e.off(A.FRAG_LOADED,this.onFragLoaded,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}},{key:"getAppendedFrag",value:function(e,t){var i=this.activePartLists[t];if(i)for(var r=i.length;r--;){var n=i[r];if(!n)break;var o=n.end;if(n.start<=e&&null!==o&&e<=o)return n}return this.getBufferedFrag(e,t)}},{key:"getBufferedFrag",value:function(e,t){for(var i=this.fragments,r=Object.keys(i),n=r.length;n--;){var o=i[r[n]];if((null==o?void 0:o.body.type)===t&&o.buffered){var a=o.body;if(a.start<=e&&e<=a.end)return a}}return null}},{key:"detectEvictedFragments",value:function(e,t,i,r){var n=this;this.timeRanges&&(this.timeRanges[e]=t);var o=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach((function(r){var a=n.fragments[r];if(a&&!(o>=a.body.sn))if(a.buffered||a.loaded){var s=a.range[e];s&&s.time.some((function(e){var i=!n.isTimeBuffered(e.startPTS,e.endPTS,t);return i&&n.removeFragment(a.body),i}))}else a.body.type===i&&n.removeFragment(a.body)}))}},{key:"detectPartialFragments",value:function(e){var t=this,i=this.timeRanges,r=e.frag,n=e.part;if(i&&"initSegment"!==r.sn){var o=oi(r),a=this.fragments[o];if(a){var s=!r.relurl;Object.keys(i).forEach((function(e){var o=r.elementaryStreams[e];if(o){var l=i[e],u=s||!0===o.partial;a.range[e]=t.getBufferedTimes(r,n,u,l)}})),a.loaded=null,Object.keys(a.range).length?(a.buffered=!0,a.body.endList&&(this.endListFragments[a.body.type]=a),ni(a)||this.removeParts(r.sn-1,r.type)):this.removeFragment(a.body)}}}},{key:"removeParts",value:function(e,t){var i=this.activePartLists[t];i&&(this.activePartLists[t]=i.filter((function(t){return t.fragment.sn>=e})))}},{key:"fragBuffered",value:function(e,t){var i=oi(e),r=this.fragments[i];!r&&t&&(r=this.fragments[i]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}},{key:"getBufferedTimes",value:function(e,t,i,r){for(var n={time:[],partial:i},o=e.start,a=e.end,s=e.minEndPTS||a,l=e.maxStartPTS||o,u=0;u<r.length;u++){var c=r.start(u)-this.bufferPadding,d=r.end(u)+this.bufferPadding;if(l>=c&&s<=d){n.time.push({startPTS:Math.max(o,r.start(u)),endPTS:Math.min(a,r.end(u))});break}if(o<d&&a>c)n.partial=!0,n.time.push({startPTS:Math.max(o,r.start(u)),endPTS:Math.min(a,r.end(u))});else if(a<=c)break}return n}},{key:"getPartialFragment",value:function(e){var t,i,r,n=null,o=0,a=this.bufferPadding,s=this.fragments;return Object.keys(s).forEach((function(l){var u=s[l];u&&ni(u)&&(i=u.body.start-a,r=u.body.end+a,e>=i&&e<=r&&(t=Math.min(e-i,r-e),o<=t&&(n=u.body,o=t)))})),n}},{key:"isEndListAppended",value:function(e){var t=this.endListFragments[e];return void 0!==t&&(t.buffered||ni(t))}},{key:"getState",value:function(e){var t=oi(e),i=this.fragments[t];return i?i.buffered?ni(i)?ii.PARTIAL:ii.OK:ii.APPENDING:ii.NOT_LOADED}},{key:"isTimeBuffered",value:function(e,t,i){for(var r,n,o=0;o<i.length;o++){if(r=i.start(o)-this.bufferPadding,n=i.end(o)+this.bufferPadding,e>=r&&t<=n)return!0;if(t<=r)return!1}return!1}},{key:"onFragLoaded",value:function(e,t){var i=t.frag,r=t.part;if("initSegment"!==i.sn&&!i.bitrateTest){var n=r?null:t,o=oi(i);this.fragments[o]={body:i,appendedPTS:null,loaded:n,buffered:!1,range:Object.create(null)}}}},{key:"onBufferAppended",value:function(e,t){var i=this,r=t.frag,n=t.part,o=t.timeRanges;if("initSegment"!==r.sn){var a=r.type;if(n){var s=this.activePartLists[a];s||(this.activePartLists[a]=s=[]),s.push(n)}this.timeRanges=o,Object.keys(o).forEach((function(e){var t=o[e];i.detectEvictedFragments(e,t,a,n)}))}}},{key:"onFragBuffered",value:function(e,t){this.detectPartialFragments(t)}},{key:"hasFragment",value:function(e){var t=oi(e);return!!this.fragments[t]}},{key:"hasParts",value:function(e){var t;return!(null==(t=this.activePartLists[e])||!t.length)}},{key:"removeFragmentsInRange",value:function(e,t,i,r,n){var o=this;r&&!this.hasGaps||Object.keys(this.fragments).forEach((function(a){var s=o.fragments[a];if(s){var l=s.body;l.type!==i||r&&!l.gap||l.start<t&&l.end>e&&(s.buffered||n)&&o.removeFragment(l)}}))}},{key:"removeFragment",value:function(e){var t=oi(e);e.stats.loaded=0,e.clearElementaryStreamInfo();var i=this.activePartLists[e.type];if(i){var r=e.sn;this.activePartLists[e.type]=i.filter((function(e){return e.fragment.sn!==r}))}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}},{key:"removeAllFragments",value:function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}]),e}();function ni(e){var t,i,r;return e.buffered&&(e.body.gap||(null==(t=e.range.video)?void 0:t.partial)||(null==(i=e.range.audio)?void 0:i.partial)||(null==(r=e.range.audiovideo)?void 0:r.partial))}function oi(e){return"".concat(e.type,"_").concat(e.level,"_").concat(e.urlId,"_").concat(e.sn)}var ai=Math.pow(2,17),si=function(){function e(t){(0,h.default)(this,e),this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}return(0,p.default)(e,[{key:"destroy",value:function(){this.loader&&(this.loader.destroy(),this.loader=null)}},{key:"abort",value:function(){this.loader&&this.loader.abort()}},{key:"load",value:function(e,t){var i=this,r=e.url;if(!r)return Promise.reject(new ci({type:C.NETWORK_ERROR,details:L.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error("Fragment does not have a ".concat(r?"part list":"url")),networkDetails:null}));this.abort();var n=this.config,o=n.fLoader,a=n.loader;return new Promise((function(s,l){if(i.loader&&i.loader.destroy(),e.gap)l(ui(e));else{var u=i.loader=e.loader=o?new o(n):new a(n),c=li(e),d=$t(n.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===e.sn?1/0:ai};e.stats=u.stats,u.load(c,f,{onSuccess:function(t,r,n,o){i.resetLoader(e,u);var a=t.data;n.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(a.slice(0,16)),a=a.slice(16)),s({frag:e,part:null,payload:a,networkDetails:o})},onError:function(t,n,o,a){i.resetLoader(e,u),l(new ci({type:C.NETWORK_ERROR,details:L.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:E({url:r,data:void 0},t),error:new Error("HTTP Error ".concat(t.code," ").concat(t.text)),networkDetails:o,stats:a}))},onAbort:function(t,r,n){i.resetLoader(e,u),l(new ci({type:C.NETWORK_ERROR,details:L.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:n,stats:t}))},onTimeout:function(t,r,n){i.resetLoader(e,u),l(new ci({type:C.NETWORK_ERROR,details:L.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error("Timeout after ".concat(f.timeout,"ms")),networkDetails:n,stats:t}))},onProgress:function(i,r,n,o){t&&t({frag:e,part:null,payload:n,networkDetails:o})}})}}))}},{key:"loadPart",value:function(e,t,i){var r=this;this.abort();var n=this.config,o=n.fLoader,a=n.loader;return new Promise((function(s,l){if(r.loader&&r.loader.destroy(),e.gap||t.gap)l(ui(e,t));else{var u=r.loader=e.loader=o?new o(n):new a(n),c=li(e,t),d=$t(n.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:ai};t.stats=u.stats,u.load(c,f,{onSuccess:function(n,o,a,l){r.resetLoader(e,u),r.updateStatsFromPart(e,t);var c={frag:e,part:t,payload:n.data,networkDetails:l};i(c),s(c)},onError:function(i,n,o,a){r.resetLoader(e,u),l(new ci({type:C.NETWORK_ERROR,details:L.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:E({url:c.url,data:void 0},i),error:new Error("HTTP Error ".concat(i.code," ").concat(i.text)),networkDetails:o,stats:a}))},onAbort:function(i,n,o){e.stats.aborted=t.stats.aborted,r.resetLoader(e,u),l(new ci({type:C.NETWORK_ERROR,details:L.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:o,stats:i}))},onTimeout:function(i,n,o){r.resetLoader(e,u),l(new ci({type:C.NETWORK_ERROR,details:L.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error("Timeout after ".concat(f.timeout,"ms")),networkDetails:o,stats:i}))}})}}))}},{key:"updateStatsFromPart",value:function(e,t){var i=e.stats,r=t.stats,n=r.total;if(i.loaded+=r.loaded,n){var o=Math.round(e.duration/t.duration),a=Math.min(Math.round(i.loaded/n),o),s=o-a,l=s*Math.round(i.loaded/a);i.total=i.loaded+l}else i.total=Math.max(i.loaded,i.total);var u=i.loading,c=r.loading;u.start?u.first+=c.first-c.start:(u.start=c.start,u.first=c.first),u.end=c.end}},{key:"resetLoader",value:function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}]),e}();function li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=t||e,r={frag:e,part:t,responseType:"arraybuffer",url:i.url,headers:{},rangeStart:0,rangeEnd:0},n=i.byteRangeStartOffset,o=i.byteRangeEndOffset;if(x(n)&&x(o)){var a,s=n,l=o;if("initSegment"===e.sn&&"AES-128"===(null==(a=e.decryptdata)?void 0:a.method)){var u=o-n;u%16&&(l=o+(16-u%16)),0!==n&&(r.resetIV=!0,s=n-16)}r.rangeStart=s,r.rangeEnd=l}return r}function ui(e,t){var i=new Error("GAP ".concat(e.gap?"tag":"attribute"," found")),r={type:C.MEDIA_ERROR,details:L.FRAG_GAP,fatal:!1,frag:e,error:i,networkDetails:null};return t&&(r.part=t),(t||e).stats.aborted=!0,new ci(r)}var ci=function(e){(0,u.default)(i,e);var t=m(i);function i(e){var r;return(0,h.default)(this,i),r=t.call(this,e.error.message),r.data=void 0,r.data=e,r}return(0,p.default)(i)}((0,s.default)(Error)),di=function(){function e(t){(0,h.default)(this,e),this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}return(0,p.default)(e,[{key:"abort",value:function(e){for(var t in this.keyUriToKeyInfo){var i=this.keyUriToKeyInfo[t].loader;if(i){if(e&&e!==i.context.frag.type)return;i.abort()}}}},{key:"detach",value:function(){for(var e in this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}},{key:"destroy",value:function(){for(var e in this.detach(),this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}},{key:"createKeyLoadError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.KEY_LOAD_ERROR,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;return new ci({type:C.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:n,error:i,networkDetails:r})}},{key:"loadClear",value:function(e,t){var i=this;if(this.emeController&&this.config.emeEnabled)for(var r=e.sn,n=e.cc,o=function(e){var o=t[e];if(n<=o.cc&&("initSegment"===r||"initSegment"===o.sn||r<o.sn))return i.emeController.selectKeySystemFormat(o).then((function(e){o.setKeyFormat(e)})),"break"},a=0;a<t.length;a++){var s=o(a);if("break"===s)break}}},{key:"load",value:function(e){var t=this;return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then((function(i){return t.loadInternal(e,i)})):this.loadInternal(e)}},{key:"loadInternal",value:function(e,t){var i,r;t&&e.setKeyFormat(t);var n=e.decryptdata;if(!n){var o=new Error(t?"Expected frag.decryptdata to be defined after setting format ".concat(t):"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,L.KEY_LOAD_ERROR,o))}var a=n.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,L.KEY_LOAD_ERROR,new Error('Invalid key URI: "'.concat(a,'"'))));var s,l=this.keyUriToKeyInfo[a];if(null!=(i=l)&&i.decryptdata.key)return n.key=l.decryptdata.key,Promise.resolve({frag:e,keyInfo:l});if(null!=(r=l)&&r.keyLoadPromise)switch(null==(s=l.mediaKeySessionContext)?void 0:s.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return l.keyLoadPromise.then((function(t){return n.key=t.keyInfo.decryptdata.key,{frag:e,keyInfo:l}}))}switch(l=this.keyUriToKeyInfo[a]={decryptdata:n,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},n.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===n.keyFormat?this.loadKeyHTTP(l,e):this.loadKeyEME(l,e);case"AES-128":return this.loadKeyHTTP(l,e);default:return Promise.reject(this.createKeyLoadError(e,L.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'.concat(n.method,'"'))))}}},{key:"loadKeyEME",value:function(e,t){var i={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var r=this.emeController.loadKey(i);if(r)return(e.keyLoadPromise=r.then((function(t){return e.mediaKeySessionContext=t,i}))).catch((function(t){throw e.keyLoadPromise=null,t}))}return Promise.resolve(i)}},{key:"loadKeyHTTP",value:function(e,t){var i=this,r=this.config,n=r.loader,o=new n(r);return t.keyLoader=e.loader=o,e.keyLoadPromise=new Promise((function(n,a){var s={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},l=r.keyLoadPolicy.default,u={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:function(e,t,r,o){var s=r.frag,l=r.keyInfo,u=r.url;if(!s.decryptdata||l!==i.keyUriToKeyInfo[u])return a(i.createKeyLoadError(s,L.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),o));l.decryptdata.key=s.decryptdata.key=new Uint8Array(e.data),s.keyLoader=null,l.loader=null,n({frag:s,keyInfo:l})},onError:function(e,r,n,o){i.resetLoader(r),a(i.createKeyLoadError(t,L.KEY_LOAD_ERROR,new Error("HTTP Error ".concat(e.code," loading key ").concat(e.text)),n,E({url:s.url,data:void 0},e)))},onTimeout:function(e,r,n){i.resetLoader(r),a(i.createKeyLoadError(t,L.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),n))},onAbort:function(e,r,n){i.resetLoader(r),a(i.createKeyLoadError(t,L.INTERNAL_ABORTED,new Error("key loading aborted"),n))}};o.load(s,u,c)}))}},{key:"resetLoader",value:function(e){var t=e.frag,i=e.keyInfo,r=e.url,n=i.loader;t.keyLoader===n&&(t.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[r],n&&n.destroy()}}]),e}(),fi=function(){function e(){(0,h.default)(this,e),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}return(0,p.default)(e,[{key:"destroy",value:function(){this.onHandlerDestroying(),this.onHandlerDestroyed()}},{key:"onHandlerDestroying",value:function(){this.clearNextTick(),this.clearInterval()}},{key:"onHandlerDestroyed",value:function(){}},{key:"hasInterval",value:function(){return!!this._tickInterval}},{key:"hasNextTick",value:function(){return!!this._tickTimer}},{key:"setInterval",value:function(e){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}},{key:"clearInterval",value:function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}},{key:"clearNextTick",value:function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}},{key:"tick",value:function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}},{key:"tickImmediate",value:function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}},{key:"doTick",value:function(){}}]),e}(),hi={length:0,start:function(){return 0},end:function(){return 0}},pi=function(){function e(){(0,h.default)(this,e)}return(0,p.default)(e,null,[{key:"isBuffered",value:function(t,i){try{if(t)for(var r=e.getBuffered(t),n=0;n<r.length;n++)if(i>=r.start(n)&&i<=r.end(n))return!0}catch(o){}return!1}},{key:"bufferInfo",value:function(t,i,r){try{if(t){var n,o=e.getBuffered(t),a=[];for(n=0;n<o.length;n++)a.push({start:o.start(n),end:o.end(n)});return this.bufferedInfo(a,i,r)}}catch(s){}return{len:0,start:i,end:i,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,i){t=Math.max(0,t),e.sort((function(e,t){var i=e.start-t.start;return i||t.end-e.end}));var r=[];if(i)for(var n=0;n<e.length;n++){var o=r.length;if(o){var a=r[o-1].end;e[n].start-a<i?e[n].end>a&&(r[o-1].end=e[n].end):r.push(e[n])}else r.push(e[n])}else r=e;for(var s,l=0,u=t,c=t,d=0;d<r.length;d++){var f=r[d].start,h=r[d].end;if(t+i>=f&&t<h)u=f,c=h,l=c-t;else if(t+i<f){s=f;break}}return{len:l,start:u||0,end:c||0,nextStart:s}}},{key:"getBuffered",value:function(e){try{return e.buffered}catch(t){return M.log("failed to get media.buffered",t),hi}}}]),e}(),vi=(0,p.default)((function e(t,i,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];(0,h.default)(this,e),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=gi(),this.buffering={audio:gi(),video:gi(),audiovideo:gi()},this.level=t,this.sn=i,this.id=r,this.size=n,this.part=o,this.partial=a}));function gi(){return{start:0,executeStart:0,executeEnd:0,end:0}}function yi(e,t){for(var i=null,r=0,n=e.length;r<n;r++){var o=e[r];if(o&&o.cc===t){i=o;break}}return i}function mi(e,t){if(e){var i=e.start+t;e.start=e.startPTS=i,e.endPTS=i+e.duration}}function _i(e,t){for(var i=t.fragments,r=0,n=i.length;r<n;r++)mi(i[r],e);t.fragmentHint&&mi(t.fragmentHint,e),t.alignedSliding=!0}function bi(e,t,i){t&&(function(e,t,i){if(function(e,t,i){return!(!t.details||!(i.endCC>i.startCC||e&&e.cc<i.startCC))}(e,i,t)){var r=function(e,t){var i=e.fragments,r=t.fragments;if(r.length&&i.length){var n=yi(i,r[0].cc);if(n&&(!n||n.startPTS))return n;M.log("No frag in previous level to align on")}else M.log("No fragments to align")}(i.details,t);r&&x(r.start)&&(M.log("Adjusting PTS using last level due to CC increase within current level ".concat(t.url)),_i(r.start,t))}}(e,i,t),!i.alignedSliding&&t.details&&function(e,t){if(!t.fragments.length||!e.hasProgramDateTime||!t.hasProgramDateTime)return;var i=t.fragments[0].programDateTime,r=e.fragments[0].programDateTime,n=(r-i)/1e3+t.fragments[0].start;n&&x(n)&&(M.log("Adjusting PTS using programDateTime delta ".concat(r-i,"ms, sliding:").concat(n.toFixed(3)," ").concat(e.url," ")),_i(n,e))}(i,t.details),i.alignedSliding||!t.details||i.skippedSegments||Mt(t.details,i))}function Si(e,t){if(e.hasProgramDateTime&&t.hasProgramDateTime){var i=e.fragments,r=t.fragments;if(i.length&&r.length){var n=Math.round(r.length/2)-1,o=r[n],a=yi(i,o.cc)||i[Math.round(i.length/2)-1],s=o.programDateTime,l=a.programDateTime;if(null!==s&&null!==l){var u=(l-s)/1e3-(a.start-o.start);_i(u,e)}}}}var Ti=function(){function e(t,i){(0,h.default)(this,e),this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=i}return(0,p.default)(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}(),Ei=function(){function e(t,i){(0,h.default)(this,e),this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=i}return(0,p.default)(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();var wi=function(){function e(){(0,h.default)(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}return(0,p.default)(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),i=new Uint32Array(4),r=0;r<4;r++)i[r]=t.getUint32(4*r);return i}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,i=this.subMix,r=i[0],n=i[1],o=i[2],a=i[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)f[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[h]=g,t[g]=h;var y=f[h],m=f[y],_=f[m],b=257*f[g]^16843008*g;r[h]=b<<24|b>>>8,n[h]=b<<16|b>>>16,o[h]=b<<8|b>>>24,a[h]=b,b=16843009*_^65537*m^257*y^16843008*h,l[g]=b<<24|b>>>8,u[g]=b<<16|b>>>16,c[g]=b<<8|b>>>24,d[g]=b,h?(h=y^f[f[f[_^y]]],p^=f[f[p]]):h=p=1}}},{key:"expandKey",value:function(e){var t=this.uint8ArrayToUint32Array_(e),i=!0,r=0;while(r<t.length&&i)i=t[r]===this.key[r],r++;if(!i){this.key=t;var n=this.keySize=t.length;if(4!==n&&6!==n&&8!==n)throw new Error("Invalid aes key size="+n);var o,a,s,l,u=this.ksRows=4*(n+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),f=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],g=p[1],y=p[2],m=p[3];for(o=0;o<u;o++)o<n?s=c[o]=t[o]:(l=s,o%n===0?(l=l<<8|l>>>24,l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=h[o/n|0]<<24):n>6&&o%n===4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),c[o]=s=(c[o-n]^l)>>>0);for(a=0;a<u;a++)o=u-a,l=3&a?c[o]:c[o-4],d[a]=a<4||o<=4?l:v[f[l>>>24]]^g[f[l>>>16&255]]^y[f[l>>>8&255]]^m[f[255&l]],d[a]=d[a]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,i){var r,n,o,a,s,l,u,c,d,f,h,p,v,g,y=this.keySize+6,m=this.invKeySchedule,_=this.invSBox,b=this.invSubMix,S=b[0],T=b[1],E=b[2],w=b[3],k=this.uint8ArrayToUint32Array_(i),x=k[0],A=k[1],C=k[2],L=k[3],I=new Int32Array(e),P=new Int32Array(I.length),D=this.networkToHostOrderSwap;while(t<I.length){for(d=D(I[t]),f=D(I[t+1]),h=D(I[t+2]),p=D(I[t+3]),s=d^m[0],l=p^m[1],u=h^m[2],c=f^m[3],v=4,g=1;g<y;g++)r=S[s>>>24]^T[l>>16&255]^E[u>>8&255]^w[255&c]^m[v],n=S[l>>>24]^T[u>>16&255]^E[c>>8&255]^w[255&s]^m[v+1],o=S[u>>>24]^T[c>>16&255]^E[s>>8&255]^w[255&l]^m[v+2],a=S[c>>>24]^T[s>>16&255]^E[l>>8&255]^w[255&u]^m[v+3],s=r,l=n,u=o,c=a,v+=4;r=_[s>>>24]<<24^_[l>>16&255]<<16^_[u>>8&255]<<8^_[255&c]^m[v],n=_[l>>>24]<<24^_[u>>16&255]<<16^_[c>>8&255]<<8^_[255&s]^m[v+1],o=_[u>>>24]<<24^_[c>>16&255]<<16^_[s>>8&255]<<8^_[255&l]^m[v+2],a=_[c>>>24]<<24^_[s>>16&255]<<16^_[l>>8&255]<<8^_[255&u]^m[v+3],P[t]=D(r^x),P[t+1]=D(a^A),P[t+2]=D(o^C),P[t+3]=D(n^L),x=d,A=f,C=h,L=p,t+=4}return P.buffer}}]),e}(),ki=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.removePKCS7Padding,n=void 0===r||r;if((0,h.default)(this,e),this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=t.enableSoftwareAES,this.removePKCS7Padding=n,n)try{var o=self.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(a){}null===this.subtle&&(this.useSoftware=!0)}return(0,p.default)(e,[{key:"destroy",value:function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}},{key:"isSync",value:function(){return this.useSoftware}},{key:"flush",value:function(){var e=this.currentResult,t=this.remainderData;if(!e||t)return this.reset(),null;var i=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?function(e){var t=e.byteLength,i=t&&new DataView(e.buffer).getUint8(t-1);return i?ne(e,0,t-i):e}(i):i}},{key:"reset",value:function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}},{key:"decrypt",value:function(e,t,i){var r=this;return this.useSoftware?new Promise((function(n,o){r.softwareDecrypt(new Uint8Array(e),t,i);var a=r.flush();a?n(a.buffer):o(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,i)}},{key:"softwareDecrypt",value:function(e,t,i){var r=this.currentIV,n=this.currentResult,o=this.remainderData;this.logOnce("JS AES decrypt"),o&&(e=Me(o,e),this.remainderData=null);var a=this.getValidChunk(e);if(!a.length)return null;r&&(i=r);var s=this.softwareDecrypter;s||(s=this.softwareDecrypter=new wi),s.expandKey(t);var l=n;return this.currentResult=s.decrypt(a.buffer,0,i),this.currentIV=ne(a,-16).buffer,l||null}},{key:"webCryptoDecrypt",value:function(e,t,i){var r=this,n=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new Ei(n,t)),this.fastAesKey.expandKey().then((function(t){if(!n)return Promise.reject(new Error("web crypto not initialized"));r.logOnce("WebCrypto AES decrypt");var o=new Ti(n,new Uint8Array(i));return o.decrypt(e.buffer,t)})).catch((function(n){return M.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, ".concat(n.name,": ").concat(n.message)),r.onWebCryptoError(e,t,i)}))}},{key:"onWebCryptoError",value:function(e,t,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,i);var r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}},{key:"getValidChunk",value:function(e){var t=e,i=e.length-e.length%16;return i!==e.length&&(t=ne(e,0,i),this.remainderData=ne(e,i)),t}},{key:"logOnce",value:function(e){this.logEnabled&&(M.log("[decrypter]: ".concat(e)),this.logEnabled=!1)}}]),e}(),xi={toString:function(e){for(var t="",i=e.length,r=0;r<i;r++)t+="[".concat(e.start(r).toFixed(3),"-").concat(e.end(r).toFixed(3),"]");return t}},Ai={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},Ci=function(e){(0,u.default)(i,e);var t=m(i);function i(e,r,n,o,s){var l;return(0,h.default)(this,i),l=t.call(this),l.hls=void 0,l.fragPrevious=null,l.fragCurrent=null,l.fragmentTracker=void 0,l.transmuxer=null,l._state=Ai.STOPPED,l.playlistType=void 0,l.media=null,l.mediaBuffer=null,l.config=void 0,l.bitrateTest=!1,l.lastCurrentTime=0,l.nextLoadPosition=0,l.startPosition=0,l.startTimeOffset=null,l.loadedmetadata=!1,l.retryDate=0,l.levels=null,l.fragmentLoader=void 0,l.keyLoader=void 0,l.levelLastLoaded=null,l.startFragRequested=!1,l.decrypter=void 0,l.initPTS=[],l.onvseeking=null,l.onvended=null,l.logPrefix="",l.log=void 0,l.warn=void 0,l.playlistType=s,l.logPrefix=o,l.log=M.log.bind(M,"".concat(o,":")),l.warn=M.warn.bind(M,"".concat(o,":")),l.hls=e,l.fragmentLoader=new si(e.config),l.keyLoader=n,l.fragmentTracker=r,l.config=e.config,l.decrypter=new ki(e.config),e.on(A.MANIFEST_LOADED,l.onManifestLoaded,(0,a.default)(l)),l}return(0,p.default)(i,[{key:"doTick",value:function(){this.onTickEnd()}},{key:"onTickEnd",value:function(){}},{key:"startLoad",value:function(e){}},{key:"stopLoad",value:function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var e=this.fragCurrent;null!=e&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Ai.STOPPED}},{key:"_streamEnded",value:function(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;var i=t.partList;if(null!=i&&i.length){var r=i[i.length-1],n=pi.isBuffered(this.media,r.start+r.duration/2);return n}var o=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(o)}},{key:"getLevelDetails",value:function(){var e;if(this.levels&&null!==this.levelLastLoaded)return null==(e=this.levels[this.levelLastLoaded])?void 0:e.details}},{key:"onMediaAttached",value:function(e,t){var i=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===Ai.STOPPED&&this.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.config,t=this.fragCurrent,i=this.media,r=this.mediaBuffer,n=this.state,o=i?i.currentTime:0,a=pi.bufferInfo(r||i,o,e.maxBufferHole);if(this.log("media seeking to ".concat(x(o)?o.toFixed(3):o,", state: ").concat(n)),this.state===Ai.ENDED)this.resetLoadingState();else if(t){var s=e.maxFragLookUpTolerance,l=t.start-s,u=t.start+t.duration+s;if(!a.len||u<a.start||l>a.end){var c=o>u;(o<l||c)&&(c&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),this.loadedmetadata||a.len||(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoaded",value:function(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}},{key:"onHandlerDestroying",value:function(){this.stopLoad(),(0,l.default)((0,d.default)(i.prototype),"onHandlerDestroying",this).call(this)}},{key:"onHandlerDestroyed",value:function(){this.state=Ai.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,(0,l.default)((0,d.default)(i.prototype),"onHandlerDestroyed",this).call(this)}},{key:"loadFragment",value:function(e,t,i){this._loadFragForPlayback(e,t,i)}},{key:"_loadFragForPlayback",value:function(e,t,i){var r=this;this._doFragLoad(e,t,i,(function(t){if(r.fragContextChanged(e))return r.warn("Fragment ".concat(e.sn).concat(t.part?" p: "+t.part.index:""," of level ").concat(e.level," was dropped during download.")),void r.fragmentTracker.removeFragment(e);e.stats.chunkCount++,r._handleFragmentLoadProgress(t)})).then((function(t){if(t){var i=r.state;r.fragContextChanged(e)?(i===Ai.FRAG_LOADING||!r.fragCurrent&&i===Ai.PARSING)&&(r.fragmentTracker.removeFragment(e),r.state=Ai.IDLE):("payload"in t&&(r.log("Loaded fragment ".concat(e.sn," of level ").concat(e.level)),r.hls.trigger(A.FRAG_LOADED,t)),r._handleFragmentLoadComplete(t))}})).catch((function(t){r.state!==Ai.STOPPED&&r.state!==Ai.ERROR&&(r.warn(t),r.resetFragmentLoading(e))}))}},{key:"clearTrackerIfNeeded",value:function(e){var t,i=this.fragmentTracker,r=i.getState(e);if(r===ii.APPENDING){var n=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,n),a=Math.max(e.duration,o?o.len:this.config.maxBufferLength);this.reduceMaxBufferLength(a)&&i.removeFragment(e)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?i.removeAllFragments():i.hasParts(e.type)&&(i.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),i.getState(e)===ii.PARTIAL&&i.removeFragment(e))}},{key:"flushMainBuffer",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e-t){var r={startOffset:e,endOffset:t,type:i};this.hls.trigger(A.BUFFER_FLUSHING,r)}}},{key:"_loadInitSegment",value:function(e,t){var i=this;this._doFragLoad(e,t).then((function(t){if(!t||i.fragContextChanged(e)||!i.levels)throw new Error("init load aborted");return t})).then((function(t){var r=i.hls,n=t.payload,o=e.decryptdata;if(n&&n.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){var a=self.performance.now();return i.decrypter.decrypt(new Uint8Array(n),o.key.buffer,o.iv.buffer).catch((function(t){throw r.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((function(i){var n=self.performance.now();return r.trigger(A.FRAG_DECRYPTED,{frag:e,payload:i,stats:{tstart:a,tdecrypt:n}}),t.payload=i,t}))}return t})).then((function(r){var n=i.fragCurrent,o=i.hls,a=i.levels;if(!a)throw new Error("init load aborted, missing levels");var s=e.stats;i.state=Ai.IDLE,t.fragmentError=0,e.data=new Uint8Array(r.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),r.frag===n&&o.trigger(A.FRAG_BUFFERED,{stats:s,frag:n,part:null,id:e.type}),i.tick()})).catch((function(t){i.state!==Ai.STOPPED&&i.state!==Ai.ERROR&&(i.warn(t),i.resetFragmentLoading(e))}))}},{key:"fragContextChanged",value:function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId}},{key:"fragBufferedComplete",value:function(e,t){var i,r,n,o,a=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered ".concat(e.type," sn: ").concat(e.sn).concat(t?" part: "+t.index:""," of ").concat(this.playlistType===ht.MAIN?"level":"track"," ").concat(e.level," (frag:[").concat((null!=(i=e.startPTS)?i:NaN).toFixed(3),"-").concat((null!=(r=e.endPTS)?r:NaN).toFixed(3),"] > buffer:").concat(a?xi.toString(pi.getBuffered(a)):"(detached)",")")),this.state=Ai.IDLE,a&&(!this.loadedmetadata&&e.type==ht.MAIN&&a.buffered.length&&(null==(n=this.fragCurrent)?void 0:n.sn)===(null==(o=this.fragPrevious)?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}},{key:"seekToStartPos",value:function(){}},{key:"_handleFragmentLoadComplete",value:function(e){var t=this.transmuxer;if(t){var i=e.frag,r=e.part,n=e.partsLoaded,o=!n||0===n.length||n.some((function(e){return!e})),a=new vi(i.level,i.sn,i.stats.chunkCount+1,0,r?r.index:-1,!o);t.flush(a)}}},{key:"_handleFragmentLoadProgress",value:function(e){}},{key:"_doFragLoad",value:function(e,t){var i,r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,s=null==t?void 0:t.details;if(!this.levels||!s)throw new Error("frag load aborted, missing level".concat(s?"":" detail","s"));var l=null;if(!e.encrypted||null!=(i=e.decryptdata)&&i.key?!e.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(e,s.encryptedFragments):(this.log("Loading key for ".concat(e.sn," of [").concat(s.startSN,"-").concat(s.endSN,"], ").concat("[stream-controller]"===this.logPrefix?"level":"track"," ").concat(e.level)),this.state=Ai.KEY_LOADING,this.fragCurrent=e,l=this.keyLoader.load(e).then((function(e){if(!r.fragContextChanged(e.frag))return r.hls.trigger(A.KEY_LOADED,e),r.state===Ai.KEY_LOADING&&(r.state=Ai.IDLE),e})),this.hls.trigger(A.KEY_LOADING,{frag:e}),null===this.fragCurrent&&(l=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),n=Math.max(e.start,n||0),this.config.lowLatencyMode&&"initSegment"!==e.sn){var u=s.partList;if(u&&a){n>e.end&&s.fragmentHint&&(e=s.fragmentHint);var c=this.getNextPart(u,e,n);if(c>-1){var d,f=u[c];return this.log("Loading part sn: ".concat(e.sn," p: ").concat(f.index," cc: ").concat(e.cc," of playlist [").concat(s.startSN,"-").concat(s.endSN,"] parts [0-").concat(c,"-").concat(u.length-1,"] ").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(e.level,", target: ").concat(parseFloat(n.toFixed(3)))),this.nextLoadPosition=f.start+f.duration,this.state=Ai.FRAG_LOADING,d=l?l.then((function(i){return!i||r.fragContextChanged(i.frag)?null:r.doFragPartsLoad(e,f,t,a)})).catch((function(e){return r.handleFragLoadError(e)})):this.doFragPartsLoad(e,f,t,a).catch((function(e){return r.handleFragLoadError(e)})),this.hls.trigger(A.FRAG_LOADING,{frag:e,part:f,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):d}if(!e.url||this.loadedEndOfParts(u,n))return Promise.resolve(null)}}this.log("Loading fragment ".concat(e.sn," cc: ").concat(e.cc," ").concat(s?"of ["+s.startSN+"-"+s.endSN+"] ":"").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(e.level,", target: ").concat(parseFloat(n.toFixed(3)))),x(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Ai.FRAG_LOADING;var h,p=this.config.progressive;return h=p&&l?l.then((function(t){return!t||r.fragContextChanged(null==t?void 0:t.frag)?null:r.fragmentLoader.load(e,a)})).catch((function(e){return r.handleFragLoadError(e)})):Promise.all([this.fragmentLoader.load(e,p?a:void 0),l]).then((function(e){var t=(0,o.default)(e,1),i=t[0];return!p&&i&&a&&a(i),i})).catch((function(e){return r.handleFragLoadError(e)})),this.hls.trigger(A.FRAG_LOADING,{frag:e,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):h}},{key:"doFragPartsLoad",value:function(e,t,i,r){var n=this;return new Promise((function(o,a){var s,l=[],u=null==(s=i.details)?void 0:s.partList;(function t(s){n.fragmentLoader.loadPart(e,s,r).then((function(r){l[s.index]=r;var a=r.part;n.hls.trigger(A.FRAG_LOADED,r);var c=Ft(i,e.sn,s.index+1)||Bt(u,e.sn,s.index+1);if(!c)return o({frag:e,part:a,partsLoaded:l});t(c)})).catch(a)})(t)}))}},{key:"handleFragLoadError",value:function(e){if("data"in e){var t=e.data;e.data&&t.details===L.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(A.ERROR,t)}else this.hls.trigger(A.ERROR,{type:C.OTHER_ERROR,details:L.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}},{key:"_handleTransmuxerFlush",value:function(e){var t=this.getCurrentContext(e);if(t&&this.state===Ai.PARSING){var i=t.frag,r=t.part,n=t.level,o=self.performance.now();i.stats.parsing.end=o,r&&(r.stats.parsing.end=o),this.updateLevelTiming(i,r,n,e.partial)}else this.fragCurrent||this.state===Ai.STOPPED||this.state===Ai.ERROR||(this.state=Ai.IDLE)}},{key:"getCurrentContext",value:function(e){var t=this.levels,i=this.fragCurrent,r=e.level,n=e.sn,o=e.part;if(null==t||!t[r])return this.warn("Levels object was unset while buffering fragment ".concat(n," of level ").concat(r,". The current chunk will not be buffered.")),null;var a=t[r],s=o>-1?Ft(a,n,o):null,l=s?s.fragment:function(e,t,i){if(null==e||!e.details)return null;var r=e.details,n=r.fragments[t-r.startSN];return n||(n=r.fragmentHint,n&&n.sn===t?n:t<r.startSN&&i&&i.sn===t?i:null)}(a,n,i);return l?(i&&i!==l&&(l.stats=i.stats),{frag:l,part:s,level:a}):null}},{key:"bufferFragmentData",value:function(e,t,i,r){var n;if(e&&this.state===Ai.PARSING){var o=e.data1,a=e.data2,s=o;if(o&&a&&(s=Me(o,a)),null!=(n=s)&&n.length){var l={type:e.type,frag:t,part:i,chunkMeta:r,parent:t.type,data:s};this.hls.trigger(A.BUFFER_APPENDING,l),e.dropped&&e.independent&&!i&&this.flushBufferGap(t)}}}},{key:"flushBufferGap",value:function(e){var t=this.media;if(t)if(pi.isBuffered(t,t.currentTime)){var i=t.currentTime,r=pi.bufferInfo(t,i,0),n=e.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*n),a=Math.max(Math.min(e.start-o,r.end-o),i+o);e.start-a>o&&this.flushMainBuffer(a,e.start)}else this.flushMainBuffer(0,e.start)}},{key:"getFwdBufferInfo",value:function(e,t){var i=this.getLoadPosition();return x(i)?this.getFwdBufferInfoAtPos(e,i,t):null}},{key:"getFwdBufferInfoAtPos",value:function(e,t,i){var r=this.config.maxBufferHole,n=pi.bufferInfo(e,t,r);if(0===n.len&&void 0!==n.nextStart){var o=this.fragmentTracker.getBufferedFrag(t,i);if(o&&n.nextStart<o.end)return pi.bufferInfo(e,t,Math.max(n.nextStart,r))}return n}},{key:"getMaxBufferLength",value:function(e){var t,i=this.config;return t=e?Math.max(8*i.maxBufferSize/e,i.maxBufferLength):i.maxBufferLength,Math.min(t,i.maxMaxBufferLength)}},{key:"reduceMaxBufferLength",value:function(e){var t=this.config,i=e||t.maxBufferLength;return t.maxMaxBufferLength>=i&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to ".concat(t.maxMaxBufferLength,"s")),!0)}},{key:"getAppendedFrag",value:function(e){var t=this.fragmentTracker.getAppendedFrag(e,ht.MAIN);return t&&"fragment"in t?t.fragment:t}},{key:"getNextFragment",value:function(e,t){var i=t.fragments,r=i.length;if(!r)return null;var n,o=this.config,a=i[0].start;if(t.live){var s=o.initialLiveManifestSize;if(r<s)return this.warn("Not enough fragments to start playback (have: ".concat(r,", need: ").concat(s,")")),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(n=this.getInitialLiveFragment(t,i),this.startPosition=n?this.hls.liveSyncPosition||n.start:e)}else e<=a&&(n=i[0]);if(!n){var l=o.lowLatencyMode?t.partEnd:t.fragmentEnd;n=this.getFragmentAtPosition(e,l,t)}return this.mapToInitFragWhenRequired(n)}},{key:"isLoopLoading",value:function(e,t){var i=this.fragmentTracker.getState(e);return(i===ii.OK||i===ii.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}},{key:"getNextFragmentLoopLoading",value:function(e,t,i,r,n){var o=e.gap,a=this.getNextFragment(this.nextLoadPosition,t);if(null===a)return a;if(e=a,o&&e&&!e.gap&&i.nextStart){var s=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,r);if(null!==s&&i.len+s.len>=n)return this.log('buffer full after gaps in "'.concat(r,'" playlist starting at sn: ').concat(e.sn)),null}return e}},{key:"mapToInitFragWhenRequired",value:function(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment}},{key:"getNextPart",value:function(e,t,i){for(var r=-1,n=!1,o=!0,a=0,s=e.length;a<s;a++){var l=e[a];if(o=o&&!l.independent,r>-1&&i<l.start)break;var u=l.loaded;u?r=-1:(n||l.independent||o)&&l.fragment===t&&(r=a),n=u}return r}},{key:"loadedEndOfParts",value:function(e,t){var i=e[e.length-1];return i&&t>i.start&&i.loaded}},{key:"getInitialLiveFragment",value:function(e,t){var i=this.fragPrevious,r=null;if(i){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: ".concat(i.programDateTime)),r=function(e,t,i){if(null===t||!Array.isArray(e)||!e.length||!x(t))return null;var r=e[0].programDateTime;if(t<(r||0))return null;var n=e[e.length-1].endProgramDateTime;if(t>=(n||0))return null;i=i||0;for(var o=0;o<e.length;++o){var a=e[o];if(Wt(t,i,a))return a}return null}(t,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var n=i.sn+1;if(n>=e.startSN&&n<=e.endSN){var o=t[n-e.startSN];i.cc===o.cc&&(r=o,this.log("Live playlist, switching playlist, load frag with next SN: ".concat(r.sn)))}r||(r=function(e,t){return Gt.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}(t,i.cc),r&&this.log("Live playlist, switching playlist, load frag with same CC: ".concat(r.sn)))}}else{var a=this.hls.liveSyncPosition;null!==a&&(r=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r}},{key:"getFragmentAtPosition",value:function(e,t,i){var r,n=this.config,o=this.fragPrevious,a=i.fragments,s=i.endSN,l=i.fragmentHint,u=n.maxFragLookUpTolerance,c=i.partList,d=!!(n.lowLatencyMode&&null!=c&&c.length&&l);if(d&&l&&!this.bitrateTest&&(a=a.concat(l),s=l.sn),e<t){var f=e>t-u?0:u;r=Kt(o,a,e,f)}else r=a[a.length-1];if(r){var h=r.sn-i.startSN,p=this.fragmentTracker.getState(r);if((p===ii.OK||p===ii.PARTIAL&&r.gap)&&(o=r),o&&r.sn===o.sn&&(!d||c[0].fragment.sn>r.sn)){var v=o&&r.level===o.level;if(v){var g=a[h+1];r=r.sn<s&&this.fragmentTracker.getState(g)!==ii.OK?g:null}}}return r}},{key:"synchronizeToLiveEdge",value:function(e){var t=this.config,i=this.media;if(i){var r=this.hls.liveSyncPosition,n=i.currentTime,o=e.fragments[0].start,a=e.edge,s=n>=o-t.maxFragLookUpTolerance&&n<=a;if(null!==r&&i.duration>r&&(n<r||!s)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&i.readyState<4||n<a-l)&&(this.loadedmetadata||(this.nextLoadPosition=r),i.readyState&&(this.warn("Playback: ".concat(n.toFixed(3)," is located too far from the end of live sliding playlist: ").concat(a,", reset currentTime to : ").concat(r.toFixed(3))),i.currentTime=r))}}}},{key:"alignPlaylists",value:function(e,t){var i=this.levels,r=this.levelLastLoaded,n=this.fragPrevious,o=null!==r?i[r]:null,a=e.fragments.length;if(!a)return this.warn("No fragments in live playlist"),0;var s=e.fragments[0].start,l=!t,u=e.alignedSliding&&x(s);if(l||!u&&!s){bi(n,o,e);var c=e.fragments[0].start;return this.log("Live playlist sliding: ".concat(c.toFixed(2)," start-sn: ").concat(t?t.startSN:"na","->").concat(e.startSN," prev-sn: ").concat(n?n.sn:"na"," fragments: ").concat(a)),c}return s}},{key:"waitForCdnTuneIn",value:function(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)}},{key:"setStartPosition",value:function(e,t){var i=this.startPosition;if(i<t&&(i=-1),-1===i||-1===this.lastCurrentTime){var r=null!==this.startTimeOffset,n=r?this.startTimeOffset:e.startTimeOffset;null!==n&&x(n)?(i=t+n,n<0&&(i+=e.totalduration),i=Math.min(Math.max(t,i),t+e.totalduration),this.log("Start time offset ".concat(n," found in ").concat(r?"multivariant":"media"," playlist, adjust startPosition to ").concat(i)),this.startPosition=i):e.live?i=this.hls.liveSyncPosition||t:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}},{key:"getLoadPosition",value:function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}},{key:"handleFragLoadAborted",value:function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment ".concat(e.sn).concat(t?" part "+t.index:""," of level ").concat(e.level," was aborted")),this.resetFragmentLoading(e))}},{key:"resetFragmentLoading",value:function(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===Ai.FRAG_LOADING_WAITING_RETRY)||(this.state=Ai.IDLE)}},{key:"onFragmentOrKeyLoadError",value:function(e,t){if(t.chunkMeta&&!t.frag){var i=this.getCurrentContext(t.chunkMeta);i&&(t.frag=i.frag)}var r=t.frag;if(r&&r.type===e&&this.levels)if(this.fragContextChanged(r)){var n;this.warn("Frag load error must match current frag to retry ".concat(r.url," > ").concat(null==(n=this.fragCurrent)?void 0:n.url))}else{var o=t.details===L.FRAG_GAP;o&&this.fragmentTracker.fragBuffered(r,!0);var a=t.errorAction,s=a||{},l=s.action,u=s.retryCount,c=void 0===u?0:u,d=s.retryConfig;if(a&&l===zt.RetryRequest&&d){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var f=Ht(d,c);this.warn("Fragment ".concat(r.sn," of ").concat(e," ").concat(r.level," errored with ").concat(t.details,", retrying loading ").concat(c+1,"/").concat(d.maxNumRetry," in ").concat(f,"ms")),a.resolved=!0,this.retryDate=self.performance.now()+f,this.state=Ai.FRAG_LOADING_WAITING_RETRY}else d&&a?(this.resetFragmentErrors(e),c<d.maxNumRetry?o||(a.resolved=!0):M.warn("".concat(t.details," reached or exceeded max retry (").concat(c,")"))):this.state=Ai.ERROR;this.tickImmediate()}}},{key:"reduceLengthAndFlushBuffer",value:function(e){if(this.state===Ai.PARSING||this.state===Ai.PARSED){var t=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,t),r=i&&i.len>.5;r&&this.reduceMaxBufferLength(i.len);var n=!r;return n&&this.warn("Buffer full error while media.currentTime is not buffered, flush ".concat(t," buffer")),e.frag&&(this.fragmentTracker.removeFragment(e.frag),this.nextLoadPosition=e.frag.start),this.resetLoadingState(),n}return!1}},{key:"resetFragmentErrors",value:function(e){e===ht.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Ai.STOPPED&&(this.state=Ai.IDLE)}},{key:"afterBufferFlushed",value:function(e,t,i){if(e){var r=pi.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,i),this.state===Ai.ENDED&&this.resetLoadingState()}}},{key:"resetLoadingState",value:function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Ai.IDLE}},{key:"resetStartWhenNotLoaded",value:function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}},{key:"resetWhenMissingContext",value:function(e){this.warn("The loading context changed while buffering fragment ".concat(e.sn," of level ").concat(e.level,". This chunk will not be buffered.")),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(e.level),this.resetLoadingState()}},{key:"removeUnbufferedFrags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}},{key:"updateLevelTiming",value:function(e,t,i,r){var n,o=this,a=i.details;if(a){var s=Object.keys(e.elementaryStreams).reduce((function(t,n){var s=e.elementaryStreams[n];if(s){var l=s.endPTS-s.startPTS;if(l<=0)return o.warn("Could not parse fragment ".concat(e.sn," ").concat(n," duration reliably (").concat(l,")")),t||!1;var u=r?0:Rt(a,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return o.hls.trigger(A.LEVEL_PTS_UPDATED,{details:a,level:i,drift:u,type:n,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1);if(s)i.fragmentError=0;else if(null===(null==(n=this.transmuxer)?void 0:n.error)){var l=new Error("Found no media in fragment ".concat(e.sn," of level ").concat(i.id," resetting transmuxer to fallback to playlist timing"));if(this.warn(l.message),this.hls.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:"Found no media in msn ".concat(e.sn,' of level "').concat(i.url,'"')}),!this.hls)return;this.resetTransmuxer()}this.state=Ai.PARSED,this.hls.trigger(A.FRAG_PARSED,{frag:e,part:t})}else this.warn("level.details undefined")}},{key:"resetTransmuxer",value:function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}},{key:"recoverWorkerError",value:function(e){"demuxerWorker"===e.event&&(this.resetTransmuxer(),this.resetLoadingState())}},{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log("".concat(t,"->").concat(e)))}}]),i}(fi);function Li(){return self.SourceBuffer||self.WebKitSourceBuffer}function Ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}var Pi=function(){function e(){(0,h.default)(this,e),this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}return(0,p.default)(e,[{key:"resetInitSegment",value:function(e,t,i,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}},{key:"resetTimeStamp",value:function(e){this.initPTS=e,this.resetContiguity()}},{key:"resetContiguity",value:function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}},{key:"canParse",value:function(e,t){return!1}},{key:"appendFrame",value:function(e,t,i){}},{key:"demux",value:function(e,t){this.cachedData&&(e=Me(this.cachedData,e),this.cachedData=null);var i,r=le(e,0),n=r?r.length:0,o=this._audioTrack,a=this._id3Track,s=r?function(e){for(var t=he(e),i=0;i<t.length;i++){var r=t[i];if(de(r))return me(r)}}(r):void 0,l=e.length;(null===this.basePTS||0===this.frameIndex&&x(s))&&(this.basePTS=Di(s,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:St.audioId3,duration:Number.POSITIVE_INFINITY});while(n<l){if(this.canParse(e,n)){var u=this.appendFrame(o,e,n);u?(this.frameIndex++,this.lastPTS=u.sample.pts,n+=u.length,i=n):n=l}else ce(e,n)?(r=le(e,n),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:St.audioId3,duration:Number.POSITIVE_INFINITY}),n+=r.length,i=n):n++;if(n===l&&i!==l){var c=ne(e,i);this.cachedData?this.cachedData=Me(this.cachedData,c):this.cachedData=c}}return{audioTrack:o,videoTrack:Ii(),id3Track:a,textTrack:Ii()}}},{key:"demuxSampleAes",value:function(e,t,i){return Promise.reject(new Error("[".concat(this,"] This demuxer does not support Sample-AES decryption")))}},{key:"flush",value:function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Ii(),id3Track:this._id3Track,textTrack:Ii()}}},{key:"destroy",value:function(){}}]),e}(),Di=function(e,t,i){if(x(e))return 90*e;var r=i?9e4*i.baseTime/i.timescale:0;return 9e4*t+r};function Ri(e,t){return 255===e[t]&&240===(246&e[t+1])}function Oi(e,t){return 1&e[t+1]?7:9}function Mi(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function Ni(e,t){return t+1<e.length&&Ri(e,t)}function Fi(e,t){if(Ni(e,t)){var i=Oi(e,t);if(t+i>=e.length)return!1;var r=Mi(e,t);if(r<=i)return!1;var n=t+r;return n===e.length||Ni(e,n)}return!1}function Bi(e,t,i,r,n){if(!e.samplerate){var o=function(e,t,i,r){var n,o,a,s,l=navigator.userAgent.toLowerCase(),u=r,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];n=1+((192&t[i+2])>>>6);var d=(60&t[i+2])>>>2;if(!(d>c.length-1))return a=(1&t[i+2])<<2,a|=(192&t[i+3])>>>6,M.log("manifest codec:".concat(r,", ADTS type:").concat(n,", samplingIndex:").concat(d)),/firefox/i.test(l)?d>=6?(n=5,s=new Array(4),o=d-3):(n=2,s=new Array(2),o=d):-1!==l.indexOf("android")?(n=2,s=new Array(2),o=d):(n=5,s=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&d>=6?o=d-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(d>=6&&1===a||/vivaldi/i.test(l))||!r&&1===a)&&(n=2,s=new Array(2)),o=d)),s[0]=n<<3,s[0]|=(14&d)>>1,s[1]|=(1&d)<<7,s[1]|=a<<3,5===n&&(s[1]|=(14&o)>>1,s[2]=(1&o)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:c[d],channelCount:a,codec:"mp4a.40."+n,manifestCodec:u};e.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:".concat(d)})}(t,i,r,n);if(!o)return;e.config=o.config,e.samplerate=o.samplerate,e.channelCount=o.channelCount,e.codec=o.codec,e.manifestCodec=o.manifestCodec,M.log("parsed codec:".concat(e.codec,", rate:").concat(o.samplerate,", channels:").concat(o.channelCount))}}function Ui(e){return 9216e4/e}function ji(e,t,i,r,n){var o,a=Ui(e.samplerate),s=r+n*a,l=function(e,t){var i=Oi(e,t);if(t+i<=e.length){var r=Mi(e,t)-i;if(r>0)return{headerLength:i,frameLength:r}}}(t,i);if(l){var u=l.frameLength,c=l.headerLength,d=c+u,f=Math.max(0,i+d-t.length);f?(o=new Uint8Array(d-c),o.set(t.subarray(i+c,t.length),0)):o=t.subarray(i+c,i+d);var h={unit:o,pts:s};return f||e.samples.push(h),{sample:h,length:d,missing:f}}var p=t.length-i;o=new Uint8Array(p),o.set(t.subarray(i,t.length),0);var v={unit:o,pts:s};return{sample:v,length:p,missing:-1}}var Hi=function(e){(0,u.default)(i,e);var t=m(i);function i(e,r){var n;return(0,h.default)(this,i),n=t.call(this),n.observer=void 0,n.config=void 0,n.observer=e,n.config=r,n}return(0,p.default)(i,[{key:"resetInitSegment",value:function(e,t,r,n){(0,l.default)((0,d.default)(i.prototype),"resetInitSegment",this).call(this,e,t,r,n),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&Ri(e,t)&&Mi(e,t)<=e.length-t}(e,t)}},{key:"appendFrame",value:function(e,t,i){Bi(e,this.observer,t,i,e.manifestCodec);var r=ji(e,t,i,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r}}],[{key:"probe",value:function(e){if(!e)return!1;for(var t=le(e,0)||[],i=t.length,r=e.length;i<r;i++)if(Fi(e,i))return M.log("ADTS sync word found !"),!0;return!1}}]),i}(Pi),$i=/\/emsg[-/]ID3/i,Vi=function(){function e(t,i){(0,h.default)(this,e),this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=i}return(0,p.default)(e,[{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(e,t,i,r){var n=this.videoTrack=Ii("video",1),o=this.audioTrack=Ii("audio",1),a=this.txtTrack=Ii("text",1);if(this.id3Track=Ii("id3",1),this.timeOffset=0,null!=e&&e.byteLength){var s=De(e);if(s.video){var l=s.video,u=l.id,c=l.timescale,d=l.codec;n.id=u,n.timescale=a.timescale=c,n.codec=d}if(s.audio){var f=s.audio,h=f.id,p=f.timescale,v=f.codec;o.id=h,o.timescale=p,o.codec=v}a.id=we.text,n.sampleDuration=0,n.duration=o.duration=r}}},{key:"resetContiguity",value:function(){this.remainderData=null}},{key:"demux",value:function(e,t){this.timeOffset=t;var i=e,r=this.videoTrack,n=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=Me(this.remainderData,e));var o=function(e){var t={valid:null,remainder:null},i=Ie(e,["moof"]);if(!i)return t;if(i.length<2)return t.remainder=e,t;var r=i[i.length-1];return t.valid=ne(e,0,r.byteOffset-8),t.remainder=ne(e,r.byteOffset-8),t}(i);this.remainderData=o.remainder,r.samples=o.valid||new Uint8Array}else r.samples=i;var a=this.extractID3Track(r,t);return n.samples=Ne(t,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}},{key:"flush",value:function(){var e=this.timeOffset,t=this.videoTrack,i=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var r=this.extractID3Track(t,this.timeOffset);return i.samples=Ne(e,t),{videoTrack:t,audioTrack:Ii(),id3Track:r,textTrack:Ii()}}},{key:"extractID3Track",value:function(e,t){var i=this.id3Track;if(e.samples.length){var r=Ie(e.samples,["emsg"]);r&&r.forEach((function(e){var r=function(e){var t=e[0],i="",r="",n=0,o=0,a=0,s=0,l=0,u=0;if(0===t){while("\0"!==ke(e.subarray(u,u+1)))i+=ke(e.subarray(u,u+1)),u+=1;i+=ke(e.subarray(u,u+1)),u+=1;while("\0"!==ke(e.subarray(u,u+1)))r+=ke(e.subarray(u,u+1)),u+=1;r+=ke(e.subarray(u,u+1)),u+=1,n=Ae(e,12),o=Ae(e,16),s=Ae(e,20),l=Ae(e,24),u=28}else if(1===t){u+=4,n=Ae(e,u),u+=4;var c=Ae(e,u);u+=4;var d=Ae(e,u);u+=4,a=Math.pow(2,32)*c+d,Number.isSafeInteger(a)||(a=Number.MAX_SAFE_INTEGER,M.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=Ae(e,u),u+=4,l=Ae(e,u),u+=4;while("\0"!==ke(e.subarray(u,u+1)))i+=ke(e.subarray(u,u+1)),u+=1;i+=ke(e.subarray(u,u+1)),u+=1;while("\0"!==ke(e.subarray(u,u+1)))r+=ke(e.subarray(u,u+1)),u+=1;r+=ke(e.subarray(u,u+1)),u+=1}var f=e.subarray(u,e.byteLength);return{schemeIdUri:i,value:r,timeScale:n,presentationTime:a,presentationTimeDelta:o,eventDuration:s,id:l,payload:f}}(e);if($i.test(r.schemeIdUri)){var n=x(r.presentationTime)?r.presentationTime/r.timeScale:t+r.presentationTimeDelta/r.timeScale,o=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;o<=.001&&(o=Number.POSITIVE_INFINITY);var a=r.payload;i.samples.push({data:a,len:a.byteLength,dts:n,pts:n,type:St.emsg,duration:o})}}))}return i}},{key:"demuxSampleAes",value:function(e,t,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){return e=e.length>16384?e.subarray(0,16384):e,Ie(e,["moof"]).length>0}}]),e}(),Gi=null,Ki=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],qi=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Wi=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],zi=[0,1,1,4];function Yi(e,t,i,r,n){if(!(i+24>t.length)){var o=Qi(t,i);if(o&&i+o.frameLength<=t.length){var a=9e4*o.samplesPerFrame/o.sampleRate,s=r+n*a,l={unit:t.subarray(i,i+o.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(l),{sample:l,length:o.frameLength,missing:0}}}}function Qi(e,t){var i=e[t+1]>>3&3,r=e[t+1]>>1&3,n=e[t+2]>>4&15,o=e[t+2]>>2&3;if(1!==i&&0!==n&&15!==n&&3!==o){var a=e[t+2]>>1&1,s=e[t+3]>>6,l=3===i?3-r:3===r?3:4,u=1e3*Ki[14*l+n-1],c=3===i?0:2===i?1:2,d=qi[3*c+o],f=3===s?1:2,h=Wi[i][r],p=zi[r],v=8*h*p,g=Math.floor(h*u/d+a)*p;if(null===Gi){var y=navigator.userAgent||"",m=y.match(/Chrome\/(\d+)/i);Gi=m?parseInt(m[1]):0}var _=!!Gi&&Gi<=87;return _&&2===r&&u>=224e3&&0===s&&(e[t+3]=128|e[t+3]),{sampleRate:d,channelCount:f,frameLength:g,samplesPerFrame:v}}}function Xi(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])}function Ji(e,t){return t+1<e.length&&Xi(e,t)}function Zi(e,t){if(t+1<e.length&&Xi(e,t)){var i=Qi(e,t),r=4;null!=i&&i.frameLength&&(r=i.frameLength);var n=t+r;return n===e.length||Ji(e,n)}return!1}var er=function(){function e(t){(0,h.default)(this,e),this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return(0,p.default)(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,i=e.byteLength-t,r=new Uint8Array(4),n=Math.min(4,t);if(0===n)throw new Error("no bytes available");r.set(e.subarray(i,i+n)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n}},{key:"skipBits",value:function(e){var t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),i=this.word>>>32-t;if(e>32&&M.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return t=e-t,t>0&&this.bitsAvailable?i<<t|this.readBits(t):i}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){for(var t,i=8,r=8,n=0;n<e;n++)0!==r&&(t=this.readEG(),r=(i+t+256)%256),i=0===r?i:r}},{key:"readSPS",value:function(){var e,t,i,r=0,n=0,o=0,a=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var v=s();if(l(5),d(3),s(),h(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var g=u();if(3===g&&d(1),h(),h(),d(1),c())for(t=3!==g?8:12,i=0;i<t;i++)c()&&p(i<6?16:64)}h();var y=u();if(0===y)u();else if(1===y)for(d(1),f(),f(),e=u(),i=0;i<e;i++)f();h(),d(1);var m=u(),_=u(),b=l(1);0===b&&d(1),d(1),c()&&(r=u(),n=u(),o=u(),a=u());var S=[1,1];if(c()&&c()){var T=s();switch(T){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[s()<<8|s(),s()<<8|s()];break}}return{width:Math.ceil(16*(m+1)-2*r-2*n),height:(2-b)*(_+1)*16-(b?2:4)*(o+a),pixelRatio:S}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}(),tr=function(){function e(t,i,r){(0,h.default)(this,e),this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new ki(i,{removePKCS7Padding:!1})}return(0,p.default)(e,[{key:"decryptBuffer",value:function(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}},{key:"decryptAacSample",value:function(e,t,i){var r=this,n=e[t].unit;if(!(n.length<=16)){var o=n.subarray(16,n.length-n.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(a).then((function(o){var a=new Uint8Array(o);n.set(a,16),r.decrypter.isSync()||r.decryptAacSamples(e,t+1,i)}))}}},{key:"decryptAacSamples",value:function(e,t,i){for(;;t++){if(t>=e.length)return void i();if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,i),!this.decrypter.isSync()))return}}},{key:"getAvcEncryptedData",value:function(e){for(var t=16*Math.floor((e.length-48)/160)+16,i=new Int8Array(t),r=0,n=32;n<e.length-16;n+=160,r+=16)i.set(e.subarray(n,n+16),r);return i}},{key:"getAvcDecryptedUnit",value:function(e,t){for(var i=new Uint8Array(t),r=0,n=32;n<e.length-16;n+=160,r+=16)e.set(i.subarray(r,r+16),n);return e}},{key:"decryptAvcSample",value:function(e,t,i,r,n){var o=this,a=Ue(n.data),s=this.getAvcEncryptedData(a);this.decryptBuffer(s.buffer).then((function(s){n.data=o.getAvcDecryptedUnit(a,s),o.decrypter.isSync()||o.decryptAvcSamples(e,t,i+1,r)}))}},{key:"decryptAvcSamples",value:function(e,t,i,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,i=0){if(t>=e.length)return void r();for(var n=e[t].units;;i++){if(i>=n.length)break;var o=n[i];if(!(o.data.length<=48||1!==o.type&&5!==o.type)&&(this.decryptAvcSample(e,t,i,r,o),!this.decrypter.isSync()))return}}}}]),e}(),ir=function(){function e(t,i,r){(0,h.default)(this,e),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=t,this.config=i,this.typeSupported=r}return(0,p.default)(e,[{key:"resetInitSegment",value:function(t,i,r,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",n),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=i,this.videoCodec=r,this._duration=n}},{key:"resetTimeStamp",value:function(){}},{key:"resetContiguity",value:function(){var e=this._audioTrack,t=this._avcTrack,i=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}},{key:"demux",value:function(t,i){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n||(this.sampleAes=null);var a=this._avcTrack,s=this._audioTrack,l=this._id3Track,u=this._txtTrack,c=a.pid,d=a.pesData,f=s.pid,h=l.pid,p=s.pesData,v=l.pesData,g=null,y=this.pmtParsed,m=this._pmtId,_=t.length;if(this.remainderData&&(t=Me(this.remainderData,t),_=t.length,this.remainderData=null),_<188&&!o)return this.remainderData=t,{audioTrack:s,videoTrack:a,id3Track:l,textTrack:u};var b=Math.max(0,e.syncOffset(t));_-=(_-b)%188,_<t.byteLength&&!o&&(this.remainderData=new Uint8Array(t.buffer,_,t.buffer.byteLength-_));for(var S=0,T=b;T<_;T+=188)if(71===t[T]){var E=!!(64&t[T+1]),w=nr(t,T),k=(48&t[T+3])>>4,x=void 0;if(k>1){if(x=T+5+t[T+4],x===T+188)continue}else x=T+4;switch(w){case c:E&&(d&&(r=sr(d))&&this.parseAVCPES(a,u,r,!1),d={data:[],size:0}),d&&(d.data.push(t.subarray(x,T+188)),d.size+=T+188-x);break;case f:if(E){if(p&&(r=sr(p)))switch(s.segmentCodec){case"aac":this.parseAACPES(s,r);break;case"mp3":this.parseMPEGPES(s,r);break}p={data:[],size:0}}p&&(p.data.push(t.subarray(x,T+188)),p.size+=T+188-x);break;case h:E&&(v&&(r=sr(v))&&this.parseID3PES(l,r),v={data:[],size:0}),v&&(v.data.push(t.subarray(x,T+188)),v.size+=T+188-x);break;case 0:E&&(x+=t[x]+1),m=this._pmtId=or(t,x);break;case m:E&&(x+=t[x]+1);var I=ar(t,x,this.typeSupported,n);c=I.avc,c>0&&(a.pid=c),f=I.audio,f>0&&(s.pid=f,s.segmentCodec=I.segmentCodec),h=I.id3,h>0&&(l.pid=h),null===g||y||(M.warn("MPEG-TS PMT found at ".concat(T," after unknown PID '").concat(g,"'. Backtracking to sync byte @").concat(b," to parse all TS packets.")),g=null,T=b-188),y=this.pmtParsed=!0;break;case 17:case 8191:break;default:g=w;break}}else S++;if(S>0){var P=new Error("Found ".concat(S," TS packet/s that do not start with 0x47"));this.observer.emit(A.ERROR,A.ERROR,{type:C.MEDIA_ERROR,details:L.FRAG_PARSING_ERROR,fatal:!1,error:P,reason:P.message})}a.pesData=d,s.pesData=p,l.pesData=v;var D={audioTrack:s,videoTrack:a,id3Track:l,textTrack:u};return o&&this.extractRemainingSamples(D),D}},{key:"flush",value:function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}},{key:"extractRemainingSamples",value:function(e){var t,i=e.audioTrack,r=e.videoTrack,n=e.id3Track,o=e.textTrack,a=r.pesData,s=i.pesData,l=n.pesData;if(a&&(t=sr(a))?(this.parseAVCPES(r,o,t,!0),r.pesData=null):r.pesData=a,s&&(t=sr(s))){switch(i.segmentCodec){case"aac":this.parseAACPES(i,t);break;case"mp3":this.parseMPEGPES(i,t);break}i.pesData=null}else null!=s&&s.size&&M.log("last AAC PES packet truncated,might overlap between fragments"),i.pesData=s;l&&(t=sr(l))?(this.parseID3PES(n,t),n.pesData=null):n.pesData=l}},{key:"demuxSampleAes",value:function(e,t,i){var r=this.demux(e,i,!0,!this.config.progressive),n=this.sampleAes=new tr(this.observer,this.config,t);return this.decrypt(r,n)}},{key:"decrypt",value:function(e,t){return new Promise((function(i){var r=e.audioTrack,n=e.videoTrack;r.samples&&"aac"===r.segmentCodec?t.decryptAacSamples(r.samples,0,(function(){n.samples?t.decryptAvcSamples(n.samples,0,0,(function(){i(e)})):i(e)})):n.samples&&t.decryptAvcSamples(n.samples,0,0,(function(){i(e)}))}))}},{key:"destroy",value:function(){this._duration=0}},{key:"parseAVCPES",value:function(e,t,i,r){var n,o=this,a=this.parseAVCNALu(e,i.data),s=this.avcSample,l=!1;i.data=null,s&&a.length&&!e.audFound&&(lr(s,e),s=this.avcSample=rr(!1,i.pts,i.dts,"")),a.forEach((function(r){switch(r.type){case 1:n=!0,s||(s=o.avcSample=rr(!0,i.pts,i.dts,"")),s.frame=!0;var a=r.data;if(l&&a.length>4){var u=new er(a).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(s.key=!0)}break;case 5:n=!0,s||(s=o.avcSample=rr(!0,i.pts,i.dts,"")),s.key=!0,s.frame=!0;break;case 6:n=!0,Be(r.data,1,i.pts,t.samples);break;case 7:if(n=!0,l=!0,!e.sps){var c=r.data,d=new er(c),f=d.readSPS();e.width=f.width,e.height=f.height,e.pixelRatio=f.pixelRatio,e.sps=[c],e.duration=o._duration;for(var h=c.subarray(1,4),p="avc1.",v=0;v<3;v++){var g=h[v].toString(16);g.length<2&&(g="0"+g),p+=g}e.codec=p}break;case 8:n=!0,e.pps||(e.pps=[r.data]);break;case 9:n=!1,e.audFound=!0,s&&lr(s,e),s=o.avcSample=rr(!1,i.pts,i.dts,"");break;case 12:n=!0;break;default:n=!1,s&&(s.debug+="unknown NAL "+r.type+" ");break}if(s&&n){var y=s.units;y.push(r)}})),r&&s&&(lr(s,e),this.avcSample=null)}},{key:"getLastNalUnit",value:function(e){var t,i,r=this.avcSample;if(r&&0!==r.units.length||(r=e[e.length-1]),null!=(t=r)&&t.units){var n=r.units;i=n[n.length-1]}return i}},{key:"parseAVCNALu",value:function(e,t){var i,r,n,o=t.byteLength,a=e.naluState||0,s=a,l=[],u=0,c=-1,d=0;-1===a&&(c=0,d=31&t[0],a=0,u=1);while(u<o)if(i=t[u++],a)if(1!==a)if(i)if(1===i){if(c>=0){var f={data:t.subarray(c,u-a-1),type:d};l.push(f)}else{var h=this.getLastNalUnit(e.samples);if(h&&(s&&u<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),r=u-a-1,r>0)){var p=new Uint8Array(h.data.byteLength+r);p.set(h.data,0),p.set(t.subarray(0,r),h.data.byteLength),h.data=p,h.state=0}}u<o?(n=31&t[u],c=u,d=n,a=0):a=-1}else a=0;else a=3;else a=i?0:2;else a=i?0:1;if(c>=0&&a>=0){var v={data:t.subarray(c,o),type:d,state:a};l.push(v)}if(0===l.length){var g=this.getLastNalUnit(e.samples);if(g){var y=new Uint8Array(g.data.byteLength+t.byteLength);y.set(g.data,0),y.set(t,g.data.byteLength),g.data=y}}return e.naluState=a,l}},{key:"parseAACPES",value:function(e,t){var i,r,n,o=0,a=this.aacOverFlow,s=t.data;if(a){this.aacOverFlow=null;var l=a.missing,u=a.sample.unit.byteLength;if(-1===l){var c=new Uint8Array(u+s.byteLength);c.set(a.sample.unit,0),c.set(s,u),s=c}else{var d=u-l;a.sample.unit.set(s.subarray(0,l),d),e.samples.push(a.sample),o=a.missing}}for(i=o,r=s.length;i<r-1;i++)if(Ni(s,i))break;if(i!==o){var f,h=i<r-1;f=h?"AAC PES did not start with ADTS header,offset:".concat(i):"No ADTS header found in AAC PES";var p=new Error(f);if(M.warn("parsing error: ".concat(f)),this.observer.emit(A.ERROR,A.ERROR,{type:C.MEDIA_ERROR,details:L.FRAG_PARSING_ERROR,fatal:!1,levelRetry:h,error:p,reason:f}),!h)return}if(Bi(e,this.observer,s,i,this.audioCodec),void 0!==t.pts)n=t.pts;else{if(!a)return void M.warn("[tsdemuxer]: AAC PES unknown PTS");var v=Ui(e.samplerate);n=a.sample.pts+v}var g,y=0;while(i<r){if(g=ji(e,s,i,n,y),i+=g.length,g.missing){this.aacOverFlow=g;break}for(y++;i<r-1;i++)if(Ni(s,i))break}}},{key:"parseMPEGPES",value:function(e,t){var i=t.data,r=i.length,n=0,o=0,a=t.pts;if(void 0!==a)while(o<r)if(Ji(i,o)){var s=Yi(e,i,o,a,n);if(!s)break;o+=s.length,n++}else o++;else M.warn("[tsdemuxer]: MPEG PES unknown PTS")}},{key:"parseID3PES",value:function(e,t){if(void 0!==t.pts){var i=k({},t,{type:this._avcTrack?St.emsg:St.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(i)}else M.warn("[tsdemuxer]: ID3 PES unknown PTS")}}],[{key:"probe",value:function(t){var i=e.syncOffset(t);return i>0&&M.warn("MPEG2-TS detected but first sync word found @ offset ".concat(i)),-1!==i}},{key:"syncOffset",value:function(e){var t=e.length,i=Math.min(940,e.length-188)+1,r=0;while(r<i){for(var n=!1,o=r;o<t;o+=188){if(71!==e[o])break;if(n||0!==nr(e,o)||(n=!0),n&&o+188>i)return r}r++}return-1}},{key:"createTrack",value:function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:we[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}}}]),e}();function rr(e,t,i,r){return{key:e,frame:!1,pts:t,dts:i,units:[],debug:r,length:0}}function nr(e,t){return((31&e[t+1])<<8)+e[t+2]}function or(e,t){return(31&e[t+10])<<8|e[t+11]}function ar(e,t,i,r){var n={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},o=(15&e[t+1])<<8|e[t+2],a=t+3+o-4,s=(15&e[t+10])<<8|e[t+11];t+=12+s;while(t<a){var l=nr(e,t);switch(e[t]){case 207:if(!r){M.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===n.audio&&(n.audio=l);break;case 21:-1===n.id3&&(n.id3=l);break;case 219:if(!r){M.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===n.avc&&(n.avc=l);break;case 3:case 4:!0!==i.mpeg&&!0!==i.mp3?M.log("MPEG audio found, not supported in this browser"):-1===n.audio&&(n.audio=l,n.segmentCodec="mp3");break;case 36:M.warn("Unsupported HEVC stream type found");break}t+=5+((15&e[t+3])<<8|e[t+4])}return n}function sr(e){var t,i,r,n,o,a=0,s=e.data;if(!e||0===e.size)return null;while(s[0].length<19&&s.length>1){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}t=s[0];var u=(t[0]<<16)+(t[1]<<8)+t[2];if(1===u){if(i=(t[4]<<8)+t[5],i&&i>e.size-6)return null;var c=t[7];192&c&&(n=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&c?(o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,n-o>54e5&&(M.warn("".concat(Math.round((n-o)/9e4),"s delta between PTS and DTS, align them")),n=o)):o=n),r=t[8];var d=r+9;if(e.size<=d)return null;e.size-=d;for(var f=new Uint8Array(e.size),h=0,p=s.length;h<p;h++){t=s[h];var v=t.byteLength;if(d){if(d>v){d-=v;continue}t=t.subarray(d),v-=d,d=0}f.set(t,a),a+=v}return i&&(i-=r+3),{data:f,pts:n,dts:o,len:i}}return null}function lr(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var i=t.samples,r=i.length;if(!r)return void t.dropped++;var n=i[r-1];e.pts=n.pts,e.dts=n.dts}t.samples.push(e)}e.debug.length&&M.log(e.pts+"/"+e.dts+":"+e.debug)}var ur=function(e){(0,u.default)(i,e);var t=m(i);function i(){return(0,h.default)(this,i),t.apply(this,arguments)}return(0,p.default)(i,[{key:"resetInitSegment",value:function(e,t,r,n){(0,l.default)((0,d.default)(i.prototype),"resetInitSegment",this).call(this,e,t,r,n),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(e,t){return function(e,t){return Xi(e,t)&&4<=e.length-t}(e,t)}},{key:"appendFrame",value:function(e,t,i){if(null!==this.basePTS)return Yi(e,t,i,this.basePTS,this.frameIndex)}}],[{key:"probe",value:function(e){if(!e)return!1;for(var t=le(e,0)||[],i=t.length,r=e.length;i<r;i++)if(Zi(e,i))return M.log("MPEG Audio sync word found !"),!0;return!1}}]),i}(Pi),cr=function(){function e(){(0,h.default)(this,e)}return(0,p.default)(e,null,[{key:"getSilentFrame",value:function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}]),e}(),dr=Math.pow(2,32)-1,fr=function(){function e(){(0,h.default)(this,e)}return(0,p.default)(e,null,[{key:"init",value:function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:i,audio:r};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,l,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,n))}},{key:"box",value:function(e){for(var t=8,i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];var o=r.length,a=o;while(o--)t+=r[o].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),o=0,t=8;o<a;o++)s.set(r[o],t),t+=r[o].byteLength;return s}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,i){i*=t;var r=Math.floor(i/(dr+1)),n=Math.floor(i%(dr+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,i,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,i))}},{key:"moov",value:function(t){var i=t.length,r=[];while(i--)r[i]=e.trak(t[i]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))}},{key:"mvex",value:function(t){var i=t.length,r=[];while(i--)r[i]=e.trex(t[i]);return e.box.apply(null,[e.types.mvex].concat(r))}},{key:"mvhd",value:function(t,i){i*=t;var r=Math.floor(i/(dr+1)),n=Math.floor(i%(dr+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,n>>24,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)}},{key:"sdtp",value:function(t){var i,r,n=t.samples||[],o=new Uint8Array(4+n.length);for(i=0;i<n.length;i++)r=n[i].flags,o[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,o)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var i,r,n,o=[],a=[];for(i=0;i<t.sps.length;i++)r=t.sps[i],n=r.byteLength,o.push(n>>>8&255),o.push(255&n),o=o.concat(Array.prototype.slice.call(r));for(i=0;i<t.pps.length;i++)r=t.pps[i],n=r.byteLength,a.push(n>>>8&255),a.push(255&n),a=a.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var i=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var i=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var i=t.id,r=t.duration*t.timescale,n=t.width,o=t.height,a=Math.floor(r/(dr+1)),s=Math.floor(r%(dr+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,o>>8&255,255&o,0,0]))}},{key:"traf",value:function(t,i){var r=e.sdtp(t),n=t.id,o=Math.floor(i/(dr+1)),a=Math.floor(i%(dr+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),e.trun(t,r.length+16+20+8+16+8+8),r)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var i=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,i){var r,n,o,a,s,l,u=t.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(i+=8+d,f.set(["video"===t.type?1:0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),r=0;r<c;r++)n=u[r],o=n.duration,a=n.size,s=n.flags,l=n.cts,f.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return e.box(e.types.trun,f)}},{key:"initSegment",value:function(t){e.types||e.init();var i=e.moov(t),r=new Uint8Array(e.FTYP.byteLength+i.byteLength);return r.set(e.FTYP),r.set(i,e.FTYP.byteLength),r}}]),e}();fr.types=void 0,fr.HDLR_TYPES=void 0,fr.STTS=void 0,fr.STSC=void 0,fr.STCO=void 0,fr.STSZ=void 0,fr.VMHD=void 0,fr.SMHD=void 0,fr.STSD=void 0,fr.FTYP=void 0,fr.DINF=void 0;function hr(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=e*t*i;return r?Math.round(n):n}function pr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return hr(e,1e3,1/9e4,t)}var vr=null,gr=null,yr=function(){function e(t,i,r){if((0,h.default)(this,e),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=t,this.config=i,this.typeSupported=r,this.ISGenerated=!1,null===vr){var n=navigator.userAgent||"",o=n.match(/Chrome\/(\d+)/i);vr=o?parseInt(o[1]):0}if(null===gr){var a=navigator.userAgent.match(/Safari\/(\d+)/i);gr=a?parseInt(a[1]):0}}return(0,p.default)(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){M.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}},{key:"resetNextTimestamp",value:function(){M.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}},{key:"resetInitSegment",value:function(){M.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}},{key:"getVideoStartPts",value:function(e){var t=!1,i=e.reduce((function(e,i){var r=i.pts-e;return r<-4294967296?(t=!0,mr(e,i.pts)):r>0?e:i.pts}),e[0].pts);return t&&M.debug("PTS rollover detected"),i}},{key:"remux",value:function(e,t,i,r,n,o,a,s){var l,u,c,d,f,h,p=n,v=n,g=e.pid>-1,y=t.pid>-1,m=t.samples.length,_=e.samples.length>0,b=a&&m>0||m>1,S=(!g||_)&&(!y||b)||this.ISGenerated||a;if(S){this.ISGenerated||(c=this.generateIS(e,t,n,o));var T,E=this.isVideoContiguous,w=-1;if(b&&(w=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!E&&this.config.forceKeyFrameOnDiscontinuity))if(h=!0,w>0){M.warn("[mp4-remuxer]: Dropped ".concat(w," out of ").concat(m," video samples due to a missing keyframe"));var k=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(w),t.dropped+=w,v+=(t.samples[0].pts-k)/t.inputTimeScale,T=v}else-1===w&&(M.warn("[mp4-remuxer]: No keyframe found out of ".concat(m," video samples")),h=!1);if(this.ISGenerated){if(_&&b){var x=this.getVideoStartPts(t.samples),A=mr(e.samples[0].pts,x)-x,C=A/t.inputTimeScale;p+=Math.max(0,C),v+=Math.max(0,-C)}if(_){if(e.samplerate||(M.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),c=this.generateIS(e,t,n,o)),u=this.remuxAudio(e,p,this.isAudioContiguous,o,y||b||s===ht.AUDIO?v:void 0),b){var L=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(M.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),c=this.generateIS(e,t,n,o)),l=this.remuxVideo(t,v,E,L)}}else b&&(l=this.remuxVideo(t,v,E,0));l&&(l.firstKeyFrame=w,l.independent=-1!==w,l.firstKeyFramePTS=T)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(f=_r(i,n,this._initPTS,this._initDTS)),r.samples.length&&(d=br(r,n,this._initPTS))),{audio:u,video:l,initSegment:c,independent:h,text:d,id3:f}}},{key:"generateIS",value:function(e,t,i,r){var n,o,a,s=e.samples,l=t.samples,u=this.typeSupported,c={},d=this._initPTS,f=!d||r,h="audio/mp4";if(f&&(n=o=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":u.mpeg?(h="audio/mpeg",e.codec=""):u.mp3&&(e.codec="mp3");break}c.audio={id:"audio",container:h,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&u.mpeg?new Uint8Array(0):fr.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(a=e.inputTimeScale,d&&a===d.timescale?f=!1:n=o=s[0].pts-Math.round(a*i))}if(t.sps&&t.pps&&l.length&&(t.timescale=t.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:fr.initSegment([t]),metadata:{width:t.width,height:t.height}},f))if(a=t.inputTimeScale,d&&a===d.timescale)f=!1;else{var p=this.getVideoStartPts(l),v=Math.round(a*i);o=Math.min(o,mr(l[0].dts,p)-v),n=Math.min(n,p-v)}if(Object.keys(c).length)return this.ISGenerated=!0,f?(this._initPTS={baseTime:n,timescale:a},this._initDTS={baseTime:o,timescale:a}):n=a=void 0,{tracks:c,initPTS:n,timescale:a}}},{key:"remuxVideo",value:function(e,t,i,r){var n,o,a=e.inputTimeScale,s=e.samples,l=[],u=s.length,c=this._initPTS,d=this.nextAvcDts,f=8,h=this.videoSampleDuration,p=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,g=!1;if(!i||null===d){var y=t*a,m=s[0].pts-mr(s[0].dts,s[0].pts);d=y-m}for(var _=c.baseTime*a/c.timescale,b=0;b<u;b++){var S=s[b];S.pts=mr(S.pts-_,d),S.dts=mr(S.dts-_,d),S.dts<s[b>0?b-1:b].dts&&(g=!0)}g&&s.sort((function(e,t){var i=e.dts-t.dts,r=e.pts-t.pts;return i||r})),n=s[0].dts,o=s[s.length-1].dts;var T=o-n,E=T?Math.round(T/(u-1)):h||e.inputTimeScale/30;if(i){var w=n-d,x=w>E,I=w<-1;if((x||I)&&(x?M.warn("AVC: ".concat(pr(w,!0)," ms (").concat(w,"dts) hole between fragments detected, filling it")):M.warn("AVC: ".concat(pr(-w,!0)," ms (").concat(w,"dts) overlapping between fragments detected")),!I||d>s[0].pts)){n=d;var P=s[0].pts-w;s[0].dts=n,s[0].pts=P,M.log("Video: First PTS/DTS adjusted: ".concat(pr(P,!0),"/").concat(pr(n,!0),", delta: ").concat(pr(w,!0)," ms"))}}n=Math.max(0,n);for(var D=0,R=0,O=0;O<u;O++){for(var N=s[O],F=N.units,B=F.length,U=0,j=0;j<B;j++)U+=F[j].data.length;R+=U,D+=B,N.length=U,N.dts=Math.max(N.dts,n),p=Math.min(N.pts,p),v=Math.max(N.pts,v)}o=s[u-1].dts;var H,$=R+4*D+8;try{H=new Uint8Array($)}catch(_e){return void this.observer.emit(A.ERROR,A.ERROR,{type:C.MUX_ERROR,details:L.REMUX_ALLOC_ERROR,fatal:!1,error:_e,bytes:$,reason:"fail allocating video mdat ".concat($)})}var V=new DataView(H.buffer);V.setUint32(0,$),H.set(fr.types.mdat,4);for(var G=!1,K=Number.POSITIVE_INFINITY,q=Number.POSITIVE_INFINITY,W=Number.NEGATIVE_INFINITY,z=Number.NEGATIVE_INFINITY,Y=0;Y<u;Y++){for(var Q=s[Y],X=Q.units,J=0,Z=0,ee=X.length;Z<ee;Z++){var te=X[Z],ie=te.data,re=te.data.byteLength;V.setUint32(f,re),f+=4,H.set(ie,f),f+=re,J+=4+re}var ne=void 0;if(Y<u-1)h=s[Y+1].dts-Q.dts,ne=s[Y+1].pts-Q.pts;else{var oe=this.config,ae=Y>0?Q.dts-s[Y-1].dts:E;if(ne=Y>0?Q.pts-s[Y-1].pts:E,oe.stretchShortVideoTrack&&null!==this.nextAudioPts){var se=Math.floor(oe.maxBufferHole*a),le=(r?p+r*a:this.nextAudioPts)-Q.pts;le>se?(h=le-ae,h<0?h=ae:G=!0,M.log("[mp4-remuxer]: It is approximately ".concat(le/90," ms to the next segment; using duration ").concat(h/90," ms for the last video frame."))):h=ae}else h=ae}var ue=Math.round(Q.pts-Q.dts);K=Math.min(K,h),W=Math.max(W,h),q=Math.min(q,ne),z=Math.max(z,ne),l.push(new Tr(Q.key,h,J,ue))}if(l.length)if(vr){if(vr<70){var ce=l[0].flags;ce.dependsOn=2,ce.isNonSync=0}}else if(gr&&z-q<W-K&&E/W<.025&&0===l[0].cts){M.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var de=n,fe=0,he=l.length;fe<he;fe++){var pe=de+l[fe].duration,ve=de+l[fe].cts;if(fe<he-1){var ge=pe+l[fe+1].cts;l[fe].duration=ge-ve}else l[fe].duration=fe?l[fe-1].duration:E;l[fe].cts=0,de=pe}}h=G||!h?E:h,this.nextAvcDts=d=o+h,this.videoSampleDuration=h,this.isVideoContiguous=!0;var ye=fr.moof(e.sequenceNumber++,n,k({},e,{samples:l})),me={data1:ye,data2:H,startPTS:p/a,endPTS:(v+h)/a,startDTS:n/a,endDTS:d/a,type:"video",hasAudio:!1,hasVideo:!0,nb:l.length,dropped:e.dropped};return e.samples=[],e.dropped=0,me}},{key:"remuxAudio",value:function(e,t,i,r,n){var o=e.inputTimeScale,a=e.samplerate?e.samplerate:o,s=o/a,l="aac"===e.segmentCodec?1024:1152,u=l*s,c=this._initPTS,d="mp3"===e.segmentCodec&&this.typeSupported.mpeg,f=[],h=void 0!==n,p=e.samples,v=d?0:8,g=this.nextAudioPts||-1,y=t*o,m=c.baseTime*o/c.timescale;if(this.isAudioContiguous=i=i||p.length&&g>0&&(r&&Math.abs(y-g)<9e3||Math.abs(mr(p[0].pts-m,y)-g)<20*u),p.forEach((function(e){e.pts=mr(e.pts-m,y)})),!i||g<0){if(p=p.filter((function(e){return e.pts>=0})),!p.length)return;g=0===n?0:r&&!h?Math.max(0,y):p[0].pts}if("aac"===e.segmentCodec)for(var _=this.config.maxAudioFramesDrift,b=0,S=g;b<p.length;b++){var T=p[b],E=T.pts,w=E-S,x=Math.abs(1e3*w/o);if(w<=-_*u&&h)0===b&&(M.warn("Audio frame @ ".concat((E/o).toFixed(3),"s overlaps nextAudioPts by ").concat(Math.round(1e3*w/o)," ms.")),this.nextAudioPts=g=S=E);else if(w>=_*u&&x<1e4&&h){var I=Math.round(w/u);S=E-I*u,S<0&&(I--,S+=u),0===b&&(this.nextAudioPts=g=S),M.warn("[mp4-remuxer]: Injecting ".concat(I," audio frame @ ").concat((S/o).toFixed(3),"s due to ").concat(Math.round(1e3*w/o)," ms gap."));for(var P=0;P<I;P++){var D=Math.max(S,0),R=cr.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);R||(M.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),R=T.unit.subarray()),p.splice(b,0,{unit:R,pts:D}),S+=u,b++}}T.pts=S,S+=u}var O,N=null,F=null,B=0,U=p.length;while(U--)B+=p[U].unit.byteLength;for(var j=0,H=p.length;j<H;j++){var $=p[j],V=$.unit,G=$.pts;if(null!==F){var K=f[j-1];K.duration=Math.round((G-F)/s)}else{if(i&&"aac"===e.segmentCodec&&(G=g),N=G,!(B>0))return;B+=v;try{O=new Uint8Array(B)}catch(ee){return void this.observer.emit(A.ERROR,A.ERROR,{type:C.MUX_ERROR,details:L.REMUX_ALLOC_ERROR,fatal:!1,error:ee,bytes:B,reason:"fail allocating audio mdat ".concat(B)})}if(!d){var q=new DataView(O.buffer);q.setUint32(0,B),O.set(fr.types.mdat,4)}}O.set(V,v);var W=V.byteLength;v+=W,f.push(new Tr(!0,l,W,0)),F=G}var z=f.length;if(z){var Y=f[f.length-1];this.nextAudioPts=g=F+s*Y.duration;var Q=d?new Uint8Array(0):fr.moof(e.sequenceNumber++,N/s,k({},e,{samples:f}));e.samples=[];var X=N/o,J=g/o,Z={data1:Q,data2:O,startPTS:X,endPTS:J,startDTS:X,endDTS:J,type:"audio",hasAudio:!0,hasVideo:!1,nb:z};return this.isAudioContiguous=!0,Z}}},{key:"remuxEmptyAudio",value:function(e,t,i,r){var n=e.inputTimeScale,o=e.samplerate?e.samplerate:n,a=n/o,s=this.nextAudioPts,l=this._initDTS,u=9e4*l.baseTime/l.timescale,c=(null!==s?s:r.startDTS*n)+u,d=r.endDTS*n+u,f=1024*a,h=Math.ceil((d-c)/f),p=cr.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(M.warn("[mp4-remuxer]: remux empty Audio"),p){for(var v=[],g=0;g<h;g++){var y=c+g*f;v.push({unit:p,pts:y,dts:y})}return e.samples=v,this.remuxAudio(e,t,i,!1)}M.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")}}]),e}();function mr(e,t){var i;if(null===t)return e;i=t<e?-8589934592:8589934592;while(Math.abs(e-t)>4294967296)e+=i;return e}function _r(e,t,i,r){var n=e.samples.length;if(n){for(var o=e.inputTimeScale,a=0;a<n;a++){var s=e.samples[a];s.pts=mr(s.pts-9e4*i.baseTime/i.timescale,t*o)/o,s.dts=mr(s.dts-9e4*r.baseTime/r.timescale,t*o)/o}var l=e.samples;return e.samples=[],{samples:l}}}function br(e,t,i){var r=e.samples.length;if(r){for(var n=e.inputTimeScale,o=0;o<r;o++){var a=e.samples[o];a.pts=mr(a.pts-9e4*i.baseTime/i.timescale,t*n)/n}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}}var Sr,Tr=(0,p.default)((function e(t,i,r,n){(0,h.default)(this,e),this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=i,this.size=r,this.cts=n,this.flags=new Er(t)})),Er=(0,p.default)((function e(t){(0,h.default)(this,e),this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=t?2:1,this.isNonSync=t?0:1})),wr=function(){function e(){(0,h.default)(this,e),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}return(0,p.default)(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){this.initPTS=e,this.lastEndTime=null}},{key:"resetNextTimestamp",value:function(){this.lastEndTime=null}},{key:"resetInitSegment",value:function(e,t,i,r){this.audioCodec=t,this.videoCodec=i,this.generateInitSegment(function(e,t){if(!e||!t)return e;var i=t.keyId;if(i&&t.isCommonEncryption){var r=Ie(e,["moov","trak"]);r.forEach((function(e){var t=Ie(e,["mdia","minf","stbl","stsd"])[0],r=t.subarray(8),n=Ie(r,["enca"]),o=n.length>0;o||(n=Ie(r,["encv"])),n.forEach((function(e){var t=o?e.subarray(28):e.subarray(78),r=Ie(t,["sinf"]);r.forEach((function(e){var t=Re(e);if(t){var r=t.subarray(8,24);r.some((function(e){return 0!==e}))||(M.log("[eme] Patching keyId in 'enc".concat(o?"a":"v",">sinf>>tenc' box: ").concat(Se.hexDump(r)," -> ").concat(Se.hexDump(i))),t.set(i,8))}}))}))}))}return e}(e,r)),this.emitInitSegment=!0}},{key:"generateInitSegment",value:function(e){var t=this.audioCodec,i=this.videoCodec;if(null==e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=De(e);t||(t=kr(r.audio,V.AUDIO)),i||(i=kr(r.video,V.VIDEO));var n={};r.audio&&r.video?n.audiovideo={container:"video/mp4",codec:t+","+i,initSegment:e,id:"main"}:r.audio?n.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?n.video={container:"video/mp4",codec:i,initSegment:e,id:"main"}:M.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=n}},{key:"remux",value:function(e,t,i,r,n,o){var a,s,l=this.initPTS,u=this.lastEndTime,c={audio:void 0,video:void 0,text:r,id3:i,initSegment:void 0};x(u)||(u=this.lastEndTime=n||0);var d=t.samples;if(null==d||!d.length)return c;var f={initPTS:void 0,timescale:1},h=this.initData;if(null!=(a=h)&&a.length||(this.generateInitSegment(d),h=this.initData),null==(s=h)||!s.length)return M.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),c;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1);var p=function(e,t){for(var i=0,r=0,n=0,o=Ie(e,["moof","traf"]),a=0;a<o.length;a++){var s=o[a],l=Ie(s,["tfhd"])[0],u=Ae(l,4),c=t[u];if(c){var d=c.default,f=Ae(l,0)|(null==d?void 0:d.flags),h=null==d?void 0:d.duration;8&f&&(h=Ae(l,2&f?12:8));for(var p=c.timescale||9e4,v=Ie(s,["trun"]),g=0;g<v.length;g++){if(i=Oe(v[g]),!i&&h){var y=Ae(v[g],4);i=h*y}c.type===V.VIDEO?r+=i/p:c.type===V.AUDIO&&(n+=i/p)}}}if(0===r&&0===n){for(var m=0,_=Ie(e,["sidx"]),b=0;b<_.length;b++){var S=Pe(_[b]);null!=S&&S.references&&(m+=S.references.reduce((function(e,t){return e+t.info.duration||0}),0))}return m}return r||n}(d,h),v=function(e,t){return Ie(t,["moof","traf"]).reduce((function(t,i){var r=Ie(i,["tfdt"])[0],n=r[0],o=Ie(i,["tfhd"]).reduce((function(t,i){var o=Ae(i,4),a=e[o];if(a){var s=Ae(r,4);if(1===n){if(s===Te)return M.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),t;s*=Te+1,s+=Ae(r,8)}var l=a.timescale||9e4,u=s/l;if(isFinite(u)&&(null===t||u<t))return u}return t}),null);return null!==o&&isFinite(o)&&(null===t||o<t)?o:t}),null)}(h,d),g=null===v?n:v;(function(e,t,i,r){if(null===e)return!0;var n=Math.max(r,1),o=t-e.baseTime/e.timescale;return Math.abs(o-i)>n}(l,g,n,p)||f.timescale!==l.timescale&&o)&&(f.initPTS=g-n,l&&1===l.timescale&&M.warn("Adjusting initPTS by ".concat(f.initPTS-l.baseTime)),this.initPTS=l={baseTime:f.initPTS,timescale:1});var y=e?g-l.baseTime/l.timescale:u,m=y+p;(function(e,t,i){Ie(t,["moof","traf"]).forEach((function(t){Ie(t,["tfhd"]).forEach((function(r){var n=Ae(r,4),o=e[n];if(o){var a=o.timescale||9e4;Ie(t,["tfdt"]).forEach((function(e){var t=e[0],r=Ae(e,4);if(0===t)r-=i*a,r=Math.max(r,0),Le(e,4,r);else{r*=Math.pow(2,32),r+=Ae(e,8),r-=i*a,r=Math.max(r,0);var n=Math.floor(r/(Te+1)),o=Math.floor(r%(Te+1));Le(e,4,n),Le(e,8,o)}}))}}))}))})(h,d,l.baseTime/l.timescale),p>0?this.lastEndTime=m:(M.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var _=!!h.audio,b=!!h.video,S="";_&&(S+="audio"),b&&(S+="video");var T={data1:d,startPTS:y,startDTS:y,endPTS:m,endDTS:m,type:S,hasAudio:_,hasVideo:b,nb:1,dropped:0};return c.audio="audio"===T.type?T:void 0,c.video="audio"!==T.type?T:void 0,c.initSegment=f,c.id3=_r(i,n,l,l),r.samples.length&&(c.text=br(r,n,l)),c}}]),e}();function kr(e,t){var i=null==e?void 0:e.codec;return i&&i.length>4?i:"hvc1"===i||"hev1"===i?"hvc1.1.6.L120.90":"av01"===i?"av01.0.04M.08":"avc1"===i||t===V.VIDEO?"avc1.42e01e":"mp4a.40.5"}try{Sr=self.performance.now.bind(self.performance)}catch(mo){M.debug("Unable to use Performance API on this environment"),Sr="undefined"!==typeof self&&self.Date.now}var xr=[{demux:Vi,remux:wr},{demux:ir,remux:yr},{demux:Hi,remux:yr},{demux:ur,remux:yr}],Ar=function(){function e(t,i,r,n,o){(0,h.default)(this,e),this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=i,this.config=r,this.vendor=n,this.id=o}return(0,p.default)(e,[{key:"configure",value:function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}},{key:"push",value:function(e,t,i,r){var n=this,o=i.transmuxing;o.executeStart=Sr();var a=new Uint8Array(e),s=this.currentTransmuxState,l=this.transmuxConfig;r&&(this.currentTransmuxState=r);var u=r||s,c=u.contiguous,d=u.discontinuity,f=u.trackSwitch,h=u.accurateTimeOffset,p=u.timeOffset,v=u.initSegmentChange,g=l.audioCodec,y=l.videoCodec,m=l.defaultInitPts,_=l.duration,b=l.initSegmentData,S=function(e,t){var i=null;e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(i=t);return i}(a,t);if(S&&"AES-128"===S.method){var T=this.getDecrypter();if(!T.isSync())return this.decryptionPromise=T.webCryptoDecrypt(a,S.key.buffer,S.iv.buffer).then((function(e){var t=n.push(e,null,i);return n.decryptionPromise=null,t})),this.decryptionPromise;var E=T.softwareDecrypt(a,S.key.buffer,S.iv.buffer),w=i.part>-1;if(w&&(E=T.flush()),!E)return o.executeEnd=Sr(),Cr(i);a=new Uint8Array(E)}var k=this.needsProbing(d,f);if(k){var x=this.configureTransmuxer(a);if(x)return M.warn("[transmuxer] ".concat(x.message)),this.observer.emit(A.ERROR,A.ERROR,{type:C.MEDIA_ERROR,details:L.FRAG_PARSING_ERROR,fatal:!1,error:x,reason:x.message}),o.executeEnd=Sr(),Cr(i)}(d||f||v||k)&&this.resetInitSegment(b,g,y,_,t),(d||v||k)&&this.resetInitialTimestamp(m),c||this.resetContiguity();var I=this.transmux(a,S,p,h,i),P=this.currentTransmuxState;return P.contiguous=!0,P.discontinuity=!1,P.trackSwitch=!1,o.executeEnd=Sr(),I}},{key:"flush",value:function(e){var t=this,i=e.transmuxing;i.executeStart=Sr();var r=this.decrypter,n=this.currentTransmuxState,o=this.decryptionPromise;if(o)return o.then((function(){return t.flush(e)}));var a=[],s=n.timeOffset;if(r){var l=r.flush();l&&a.push(this.push(l,null,e))}var u=this.demuxer,c=this.remuxer;if(!u||!c)return i.executeEnd=Sr(),[Cr(e)];var d=u.flush(s);return Lr(d)?d.then((function(i){return t.flushRemux(a,i,e),a})):(this.flushRemux(a,d,e),a)}},{key:"flushRemux",value:function(e,t,i){var r=t.audioTrack,n=t.videoTrack,o=t.id3Track,a=t.textTrack,s=this.currentTransmuxState,l=s.accurateTimeOffset,u=s.timeOffset;M.log("[transmuxer.ts]: Flushed fragment ".concat(i.sn).concat(i.part>-1?" p: "+i.part:""," of level ").concat(i.level));var c=this.remuxer.remux(r,n,o,a,u,l,!0,this.id);e.push({remuxResult:c,chunkMeta:i}),i.transmuxing.executeEnd=Sr()}},{key:"resetInitialTimestamp",value:function(e){var t=this.demuxer,i=this.remuxer;t&&i&&(t.resetTimeStamp(e),i.resetTimeStamp(e))}},{key:"resetContiguity",value:function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())}},{key:"resetInitSegment",value:function(e,t,i,r,n){var o=this.demuxer,a=this.remuxer;o&&a&&(o.resetInitSegment(e,t,i,r),a.resetInitSegment(e,t,i,n))}},{key:"destroy",value:function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}},{key:"transmux",value:function(e,t,i,r,n){var o;return o=t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,i,r,n):this.transmuxUnencrypted(e,i,r,n),o}},{key:"transmuxUnencrypted",value:function(e,t,i,r){var n=this.demuxer.demux(e,t,!1,!this.config.progressive),o=n.audioTrack,a=n.videoTrack,s=n.id3Track,l=n.textTrack,u=this.remuxer.remux(o,a,s,l,t,i,!1,this.id);return{remuxResult:u,chunkMeta:r}}},{key:"transmuxSampleAes",value:function(e,t,i,r,n){var o=this;return this.demuxer.demuxSampleAes(e,t,i).then((function(e){var t=o.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,i,r,!1,o.id);return{remuxResult:t,chunkMeta:n}}))}},{key:"configureTransmuxer",value:function(e){for(var t,i=this.config,r=this.observer,n=this.typeSupported,o=this.vendor,a=0,s=xr.length;a<s;a++)if(xr[a].demux.probe(e)){t=xr[a];break}if(!t)return new Error("Failed to find demuxer by probing fragment data");var l=this.demuxer,u=this.remuxer,c=t.remux,d=t.demux;u&&u instanceof c||(this.remuxer=new c(r,i,n,o)),l&&l instanceof d||(this.demuxer=new d(r,i,n),this.probe=d.probe)}},{key:"needsProbing",value:function(e,t){return!this.demuxer||!this.remuxer||e||t}},{key:"getDecrypter",value:function(){var e=this.decrypter;return e||(e=this.decrypter=new ki(this.config)),e}}]),e}();var Cr=function(e){return{remuxResult:{},chunkMeta:e}};function Lr(e){return"then"in e&&e.then instanceof Function}var Ir=(0,p.default)((function e(t,i,r,n,o){(0,h.default)(this,e),this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=i,this.initSegmentData=r,this.duration=n,this.defaultInitPts=o||null})),Pr=(0,p.default)((function e(t,i,r,n,o,a){(0,h.default)(this,e),this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=i,this.accurateTimeOffset=r,this.trackSwitch=n,this.timeOffset=o,this.initSegmentChange=a})),Dr={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function r(){}function n(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new n(r,o||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),s.prototype.eventNames=function(){var e,r,n=[];if(0===this._eventsCount)return n;for(r in e=this._events)t.call(e,r)&&n.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,a=new Array(o);n<o;n++)a[n]=r[n].fn;return a},s.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,n,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,o),!0;case 6:return c.fn.call(c.context,t,r,n,o,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,n);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,i){return o(this,e,t,i,!1)},s.prototype.once=function(e,t,i){return o(this,e,t,i,!0)},s.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||n&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,e.exports=s})(Dr);var Rr=Dr.exports,Or=_(Rr),Mr=Ye()||{isTypeSupported:function(){return!1}},Nr=function(){function e(t,i,r,n){var o=this;(0,h.default)(this,e),this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var a=t.config;this.hls=t,this.id=i,this.useWorker=!!a.enableWorker,this.onTransmuxComplete=r,this.onFlush=n;var s=function(e,t){t=t||{},t.frag=o.frag,t.id=o.id,e===A.ERROR&&(o.error=t.error),o.hls.trigger(e,t)};this.observer=new Or,this.observer.on(A.FRAG_DECRYPTED,s),this.observer.on(A.ERROR,s);var l={mp4:Mr.isTypeSupported("video/mp4"),mpeg:Mr.isTypeSupported("audio/mpeg"),mp3:Mr.isTypeSupported('audio/mp4; codecs="mp3"')},u=navigator.vendor;if(this.useWorker&&"undefined"!==typeof Worker){var c=a.workerPath||function(){return"function"===typeof __HLS_WORKER_BUNDLE__}();if(c){try{a.workerPath?(M.log("loading Web Worker ".concat(a.workerPath,' for "').concat(i,'"')),this.workerContext=function(e){var t=new self.URL(e,self.location.href).href,i=new self.Worker(t);return{worker:i,scriptURL:t}}(a.workerPath)):(M.log('injecting Web Worker for "'.concat(i,'"')),this.workerContext=function(){var e=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(".concat(__HLS_WORKER_BUNDLE__.toString(),")(true);")],{type:"text/javascript"}),t=self.URL.createObjectURL(e),i=new self.Worker(t);return{worker:i,objectURL:t}}()),this.onwmsg=function(e){return o.onWorkerMessage(e)};var d=this.workerContext.worker;d.addEventListener("message",this.onwmsg),d.onerror=function(e){var t=new Error("".concat(e.message,"  (").concat(e.filename,":").concat(e.lineno,")"));a.enableWorker=!1,M.warn('Error in "'.concat(i,'" Web Worker, fallback to inline')),o.hls.trigger(A.ERROR,{type:C.OTHER_ERROR,details:L.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:t})},d.postMessage({cmd:"init",typeSupported:l,vendor:u,id:i,config:JSON.stringify(a)})}catch(mo){M.warn('Error setting up "'.concat(i,'" Web Worker, fallback to inline'),mo),this.resetWorker(),this.error=null,this.transmuxer=new Ar(this.observer,l,a,u,i)}return}}this.transmuxer=new Ar(this.observer,l,a,u,i)}return(0,p.default)(e,[{key:"resetWorker",value:function(){if(this.workerContext){var e=this.workerContext,t=e.worker,i=e.objectURL;i&&self.URL.revokeObjectURL(i),t.removeEventListener("message",this.onwmsg),t.onerror=null,t.terminate(),this.workerContext=null}}},{key:"destroy",value:function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}var t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}},{key:"push",value:function(e,t,i,r,n,o,a,s,l,u){var c,d,f=this;l.transmuxing.start=self.performance.now();var h=this.transmuxer,p=o?o.start:n.start,v=n.decryptdata,g=this.frag,y=!(g&&n.cc===g.cc),m=!(g&&l.level===g.level),_=g?l.sn-g.sn:-1,b=this.part?l.part-this.part.index:-1,S=0===_&&l.id>1&&l.id===(null==g?void 0:g.stats.chunkCount),T=!m&&(1===_||0===_&&(1===b||S&&b<=0)),E=self.performance.now();(m||_||0===n.stats.parsing.start)&&(n.stats.parsing.start=E),!o||!b&&T||(o.stats.parsing.start=E);var w=!(g&&(null==(c=n.initSegment)?void 0:c.url)===(null==(d=g.initSegment)?void 0:d.url)),k=new Pr(y,T,s,m,p,w);if(!T||y||w){M.log("[transmuxer-interface, ".concat(n.type,"]: Starting new transmux session for sn: ").concat(l.sn," p: ").concat(l.part," level: ").concat(l.level," id: ").concat(l.id,"\n        discontinuity: ").concat(y,"\n        trackSwitch: ").concat(m,"\n        contiguous: ").concat(T,"\n        accurateTimeOffset: ").concat(s,"\n        timeOffset: ").concat(p,"\n        initSegmentChange: ").concat(w));var x=new Ir(i,r,t,a,u);this.configureTransmuxer(x)}if(this.frag=n,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:v,chunkMeta:l,state:k},e instanceof ArrayBuffer?[e]:[]);else if(h){var A=h.push(e,v,l,k);Lr(A)?(h.async=!0,A.then((function(e){f.handleTransmuxComplete(e)})).catch((function(e){f.transmuxerError(e,l,"transmuxer-interface push error")}))):(h.async=!1,this.handleTransmuxComplete(A))}}},{key:"flush",value:function(e){var t=this;e.transmuxing.start=self.performance.now();var i=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(i){var r=i.flush(e),n=Lr(r);n||i.async?(Lr(r)||(r=Promise.resolve(r)),r.then((function(i){t.handleFlushResult(i,e)})).catch((function(i){t.transmuxerError(i,e,"transmuxer-interface flush error")}))):this.handleFlushResult(r,e)}}},{key:"transmuxerError",value:function(e,t,i){this.hls&&(this.error=e,this.hls.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.FRAG_PARSING_ERROR,chunkMeta:t,fatal:!1,error:e,err:e,reason:i}))}},{key:"handleFlushResult",value:function(e,t){var i=this;e.forEach((function(e){i.handleTransmuxComplete(e)})),this.onFlush(t)}},{key:"onWorkerMessage",value:function(e){var t=e.data,i=this.hls;switch(t.event){case"init":var r,n=null==(r=this.workerContext)?void 0:r.objectURL;n&&self.URL.revokeObjectURL(n);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":M[t.data.logType]&&M[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,i.trigger(t.event,t.data);break}}},{key:"configureTransmuxer",value:function(e){var t=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)}},{key:"handleTransmuxComplete",value:function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}]),e}(),Fr=function(){function e(t,i,r,n){(0,h.default)(this,e),this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=i,this.fragmentTracker=r,this.hls=n}return(0,p.default)(e,[{key:"destroy",value:function(){this.media=null,this.hls=this.fragmentTracker=null}},{key:"poll",value:function(e,t){var i=this.config,r=this.media,n=this.stalled;if(null!==r){var o=r.currentTime,a=r.seeking,s=this.seeking&&!a,l=!this.seeking&&a;if(this.seeking=a,o===e){if(l||s)this.stalled=null;else if(!(r.paused&&!a||r.ended||0===r.playbackRate)&&pi.getBuffered(r).length){var u=pi.bufferInfo(r,o,0),c=u.len>0,d=u.nextStart||0;if(c||d){if(a){var f=u.len>2,h=!d||t&&t.start<=o||d-o>2&&!this.fragmentTracker.getPartialFragment(o);if(f||h)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var p,v=Math.max(d,u.start||0)-o,g=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,y=null==g||null==(p=g.details)?void 0:p.live,m=y?2*g.details.targetduration:2,_=this.fragmentTracker.getPartialFragment(o);if(v>0&&(v<=m||_))return void this._trySkipBufferHole(_)}var b=self.performance.now();if(null!==n){var S=b-n;if(a||!(S>=250)||(this._reportStall(u),this.media)){var T=pi.bufferInfo(r,o,i.maxBufferHole);this._tryFixBufferStall(T,S)}}else this.stalled=b}}}else if(this.moved=!0,null!==n){if(this.stallReported){var E=self.performance.now()-n;M.warn("playback not stuck anymore @".concat(o,", after ").concat(Math.round(E),"ms")),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}}},{key:"_tryFixBufferStall",value:function(e,t){var i=this.config,r=this.fragmentTracker,n=this.media;if(null!==n){var o=n.currentTime,a=r.getPartialFragment(o);if(a){var s=this._trySkipBufferHole(a);if(s||!this.media)return}(e.len>i.maxBufferHole||e.nextStart&&e.nextStart-o<i.maxBufferHole)&&t>1e3*i.highBufferWatchdogPeriod&&(M.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}}},{key:"_reportStall",value:function(e){var t=this.hls,i=this.media,r=this.stallReported;if(!r&&i){this.stallReported=!0;var n=new Error("Playback stalling at @".concat(i.currentTime," due to low buffer (").concat(JSON.stringify(e),")"));M.warn(n.message),t.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.BUFFER_STALLED_ERROR,fatal:!1,error:n,buffer:e.len})}}},{key:"_trySkipBufferHole",value:function(e){var t=this.config,i=this.hls,r=this.media;if(null===r)return 0;var n=r.currentTime,o=pi.bufferInfo(r,n,0),a=n<o.start?o.start:o.nextStart;if(a){var s=o.len<=t.maxBufferHole,l=o.len>0&&o.len<1&&r.readyState<3,u=a-n;if(u>0&&(s||l)){if(u>t.maxBufferHole){var c=this.fragmentTracker,d=!1;if(0===n){var f=c.getAppendedFrag(0,ht.MAIN);f&&a<f.end&&(d=!0)}if(!d){var h=e||c.getAppendedFrag(n,ht.MAIN);if(h){var p=!1,v=h.end;while(v<a){var g=c.getPartialFragment(v);if(!g){p=!0;break}v+=g.duration}if(p)return 0}}}var y=Math.max(a+.05,n+.1);if(M.warn("skipping hole, adjusting currentTime from ".concat(n," to ").concat(y)),this.moved=!0,this.stalled=null,r.currentTime=y,e&&!e.gap){var m=new Error("fragment loaded with buffer holes, seeking from ".concat(n," to ").concat(y));i.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:m,reason:m.message,frag:e})}return y}}return 0}},{key:"_tryNudgeBuffer",value:function(){var e=this.config,t=this.hls,i=this.media,r=this.nudgeRetry;if(null!==i){var n=i.currentTime;if(this.nudgeRetry++,r<e.nudgeMaxRetry){var o=n+(r+1)*e.nudgeOffset,a=new Error("Nudging 'currentTime' from ".concat(n," to ").concat(o));M.warn(a.message),i.currentTime=o,t.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{var s=new Error("Playhead still not moving while enough data buffered @".concat(n," after ").concat(e.nudgeMaxRetry," nudges"));M.error(s.message),t.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.BUFFER_STALLED_ERROR,error:s,fatal:!0})}}}}]),e}(),Br=function(e){(0,u.default)(i,e);var t=m(i);function i(e,r,n){var o;return(0,h.default)(this,i),o=t.call(this,e,r,n,"[stream-controller]",ht.MAIN),o.audioCodecSwap=!1,o.gapController=null,o.level=-1,o._forceStartLoad=!1,o.altAudio=!1,o.audioOnly=!1,o.fragPlaying=null,o.onvplaying=null,o.onvseeked=null,o.fragLastKbps=0,o.couldBacktrack=!1,o.backtrackFragment=null,o.audioCodecSwitch=!1,o.videoBuffer=null,o._registerListeners(),o}return(0,p.default)(i,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.LEVEL_LOADING,this.onLevelLoading,this),e.on(A.LEVEL_LOADED,this.onLevelLoaded,this),e.on(A.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(A.ERROR,this.onError,this),e.on(A.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(A.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(A.BUFFER_CREATED,this.onBufferCreated,this),e.on(A.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(A.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.LEVEL_LOADED,this.onLevelLoaded,this),e.off(A.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(A.ERROR,this.onError,this),e.off(A.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(A.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(A.BUFFER_CREATED,this.onBufferCreated,this),e.off(A.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(A.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(A.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.onMediaDetaching()}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var r=i.startLevel;-1===r&&(i.config.testBandwidth&&this.levels.length>1?(r=0,this.bitrateTest=!0):r=i.nextAutoLevel),this.level=i.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @".concat(t.toFixed(3))),e=t),this.state=Ai.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=Ai.STOPPED}},{key:"stopLoad",value:function(){this._forceStartLoad=!1,(0,l.default)((0,d.default)(i.prototype),"stopLoad",this).call(this)}},{key:"doTick",value:function(){switch(this.state){case Ai.WAITING_LEVEL:var e,t=this.levels,i=this.level,r=null==t||null==(e=t[i])?void 0:e.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=Ai.IDLE;break}break;case Ai.FRAG_LOADING_WAITING_RETRY:var n,o=self.performance.now(),a=this.retryDate;(!a||o>=a||null!=(n=this.media)&&n.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=Ai.IDLE);break}this.state===Ai.IDLE&&this.doTickIdle(),this.onTickEnd()}},{key:"onTickEnd",value:function(){(0,l.default)((0,d.default)(i.prototype),"onTickEnd",this).call(this),this.checkBuffer(),this.checkFragmentChanged()}},{key:"doTickIdle",value:function(){var e=this.hls,t=this.levelLastLoaded,i=this.levels,r=this.media,n=e.config,o=e.nextLoadLevel;if(null!==t&&(r||!this.startFragRequested&&n.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&null!=i&&i[o]){var a=i[o],s=this.getMainFwdBufferInfo();if(null!==s){var l=this.getLevelDetails();if(l&&this._streamEnded(s,l)){var u={};return this.altAudio&&(u.type="video"),this.hls.trigger(A.BUFFER_EOS,u),void(this.state=Ai.ENDED)}e.loadLevel!==o&&-1===e.manualLevel&&this.log("Adapting to level ".concat(o," from level ").concat(this.level)),this.level=e.nextLoadLevel=o;var c=a.details;if(!c||this.state===Ai.WAITING_LEVEL||c.live&&this.levelLastLoaded!==o)return this.level=o,void(this.state=Ai.WAITING_LEVEL);var d=s.len,f=this.getMaxBufferLength(a.maxBitrate);if(!(d>=f)){this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);var h=this.backtrackFragment?this.backtrackFragment.start:s.end,p=this.getNextFragment(h,c);if(this.couldBacktrack&&!this.fragPrevious&&p&&"initSegment"!==p.sn&&this.fragmentTracker.getState(p)!==ii.OK){var v,g=(null!=(v=this.backtrackFragment)?v:p).sn,y=g-c.startSN,m=c.fragments[y-1];m&&p.cc===m.cc&&(p=m,this.fragmentTracker.removeFragment(m))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,h)){var _=p.gap;if(!_){var b=this.audioOnly&&!this.altAudio?V.AUDIO:V.VIDEO,S=(b===V.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;S&&this.afterBufferFlushed(S,b,ht.MAIN)}p=this.getNextFragmentLoopLoading(p,c,s,ht.MAIN,f)}p&&(!p.initSegment||p.initSegment.data||this.bitrateTest||(p=p.initSegment),this.loadFragment(p,a,h))}}}}},{key:"loadFragment",value:function(e,t,r){var n=this.fragmentTracker.getState(e);this.fragCurrent=e,n===ii.NOT_LOADED||n===ii.PARTIAL?"initSegment"===e.sn?this._loadInitSegment(e,t):this.bitrateTest?(this.log("Fragment ".concat(e.sn," of level ").concat(e.level," is being downloaded to test bitrate and will not be buffered")),this._loadBitrateTestFrag(e,t)):(this.startFragRequested=!0,(0,l.default)((0,d.default)(i.prototype),"loadFragment",this).call(this,e,t,r)):this.clearTrackerIfNeeded(e)}},{key:"getBufferedFrag",value:function(e){return this.fragmentTracker.getBufferedFrag(e,ht.MAIN)}},{key:"followingBufferedFrag",value:function(e){return e?this.getBufferedFrag(e.end+.5):null}},{key:"immediateLevelSwitch",value:function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"nextLevelSwitch",value:function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var i,r=this.getAppendedFrag(t.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);var n=this.getLevelDetails();if(null!=n&&n.live){var o=this.getMainFwdBufferInfo();if(!o||o.len<2*n.targetduration)return}if(!t.paused&&e){var a=this.hls.nextLoadLevel,s=e[a],l=this.fragLastKbps;i=l&&this.fragCurrent?this.fragCurrent.duration*s.maxBitrate/(1e3*l)+1:0}else i=0;var u=this.getBufferedFrag(t.currentTime+i);if(u){var c=this.followingBufferedFrag(u);if(c){this.abortCurrentFrag();var d=c.maxStartPTS?c.maxStartPTS:c.start,f=c.duration,h=Math.max(u.end,d+Math.min(Math.max(f-this.config.maxFragLookUpTolerance,.5*f),.75*f));this.flushMainBuffer(h,Number.POSITIVE_INFINITY)}}}}},{key:"abortCurrentFrag",value:function(){var e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Ai.KEY_LOADING:case Ai.FRAG_LOADING:case Ai.FRAG_LOADING_WAITING_RETRY:case Ai.PARSING:case Ai.PARSED:this.state=Ai.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}},{key:"flushMainBuffer",value:function(e,t){(0,l.default)((0,d.default)(i.prototype),"flushMainBuffer",this).call(this,e,t,this.altAudio?"video":null)}},{key:"onMediaAttached",value:function(e,t){(0,l.default)((0,d.default)(i.prototype),"onMediaAttached",this).call(this,e,t);var r=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new Fr(this.config,r,this.fragmentTracker,this.hls)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),(0,l.default)((0,d.default)(i.prototype),"onMediaDetaching",this).call(this)}},{key:"onMediaPlaying",value:function(){this.tick()}},{key:"onMediaSeeked",value:function(){var e=this.media,t=e?e.currentTime:null;x(t)&&this.log("Media seeked to ".concat(t.toFixed(3)));var i=this.getMainFwdBufferInfo();null!==i&&0!==i.len?this.tick():this.warn('Main forward buffer length on "seeked" event '.concat(i?i.len:"empty",")"))}},{key:"onManifestLoading",value:function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(A.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}},{key:"onManifestParsed",value:function(e,t){var i,r=!1,n=!1;t.levels.forEach((function(e){i=e.audioCodec,i&&(-1!==i.indexOf("mp4a.40.2")&&(r=!0),-1!==i.indexOf("mp4a.40.5")&&(n=!0))})),this.audioCodecSwitch=r&&n&&!function(){var e,t=Li();return"function"===typeof(null==t||null==(e=t.prototype)?void 0:e.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}},{key:"onLevelLoading",value:function(e,t){var i=this.levels;if(i&&this.state===Ai.IDLE){var r=i[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(r.details))&&(this.state=Ai.WAITING_LEVEL)}}},{key:"onLevelLoaded",value:function(e,t){var i,r=this.levels,n=t.level,o=t.details,a=o.totalduration;if(r){this.log("Level ".concat(n," loaded [").concat(o.startSN,",").concat(o.endSN,"]").concat(o.lastPartSn?"[part-".concat(o.lastPartSn,"-").concat(o.lastPartIndex,"]"):"",", cc [").concat(o.startCC,", ").concat(o.endCC,"] duration:").concat(a));var s=r[n],l=this.fragCurrent;!l||this.state!==Ai.FRAG_LOADING&&this.state!==Ai.FRAG_LOADING_WAITING_RETRY||l.level===t.level&&l.urlId===s.urlId||!l.loader||this.abortCurrentFrag();var u=0;if(o.live||null!=(i=s.details)&&i.live){if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed)return;u=this.alignPlaylists(o,s.details)}if(s.details=o,this.levelLastLoaded=n,this.hls.trigger(A.LEVEL_UPDATED,{details:o,level:n}),this.state===Ai.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=Ai.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,u),this.tick()}else this.warn("Levels were reset while loading level ".concat(n))}},{key:"_handleFragmentLoadProgress",value:function(e){var t,i=e.frag,r=e.part,n=e.payload,o=this.levels;if(o){var a=o[i.level],s=a.details;if(!s)return this.warn("Dropping fragment ".concat(i.sn," of level ").concat(i.level," after level details were reset")),void this.fragmentTracker.removeFragment(i);var l=a.videoCodec,u=s.PTSKnown||!s.live,c=null==(t=i.initSegment)?void 0:t.data,d=this._getAudioCodec(a),f=this.transmuxer=this.transmuxer||new Nr(this.hls,ht.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),h=r?r.index:-1,p=-1!==h,v=new vi(i.level,i.sn,i.stats.chunkCount,n.byteLength,h,p),g=this.initPTS[i.cc];f.push(n,c,d,l,i,r,s.totalduration,u,v,g)}else this.warn("Levels were reset while fragment load was in progress. Fragment ".concat(i.sn," of level ").concat(i.level," will not be buffered"))}},{key:"onAudioTrackSwitching",value:function(e,t){var i=this.altAudio,r=!!t.url;if(!r){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n&&(this.log("Switching to main audio track, cancel main fragment load"),n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var o=this.hls;i&&(o.trigger(A.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),o.trigger(A.AUDIO_TRACK_SWITCHED,t)}}},{key:"onAudioTrackSwitched",value:function(e,t){var i=t.id,r=!!this.hls.audioTracks[i].url;if(r){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=r,this.tick()}},{key:"onBufferCreated",value:function(e,t){var i,r,n=t.tracks,o=!1;for(var a in n){var s=n[a];if("main"===s.id){if(r=a,i=s,"video"===a){var l=n[a];l&&(this.videoBuffer=l.buffer)}}else o=!0}o&&i?(this.log("Alternate track found, use ".concat(r,".buffered to schedule main fragment loading")),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}},{key:"onFragBuffered",value:function(e,t){var i=t.frag,r=t.part;if(!i||i.type===ht.MAIN){if(this.fragContextChanged(i))return this.warn("Fragment ".concat(i.sn).concat(r?" p: "+r.index:""," of level ").concat(i.level," finished buffering, but was aborted. state: ").concat(this.state)),void(this.state===Ai.PARSED&&(this.state=Ai.IDLE));var n=r?r.stats:i.stats;this.fragLastKbps=Math.round(8*n.total/(n.buffering.end-n.loading.first)),"initSegment"!==i.sn&&(this.fragPrevious=i),this.fragBufferedComplete(i,r)}}},{key:"onError",value:function(e,t){var i;if(t.fatal)this.state=Ai.ERROR;else switch(t.details){case L.FRAG_GAP:case L.FRAG_PARSING_ERROR:case L.FRAG_DECRYPT_ERROR:case L.FRAG_LOAD_ERROR:case L.FRAG_LOAD_TIMEOUT:case L.KEY_LOAD_ERROR:case L.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ht.MAIN,t);break;case L.LEVEL_LOAD_ERROR:case L.LEVEL_LOAD_TIMEOUT:case L.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==Ai.WAITING_LEVEL||(null==(i=t.context)?void 0:i.type)!==ft.LEVEL||(this.state=Ai.IDLE);break;case L.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case L.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}},{key:"checkBuffer",value:function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){if(this.loadedmetadata||!pi.getBuffered(e).length){var i=this.state!==Ai.IDLE?this.fragCurrent:null;t.poll(this.lastCurrentTime,i)}this.lastCurrentTime=e.currentTime}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=Ai.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}},{key:"onBufferFlushed",value:function(e,t){var i=t.type;if(i!==V.AUDIO||this.audioOnly&&!this.altAudio){var r=(i===V.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,i,ht.MAIN)}}},{key:"onLevelsUpdated",value:function(e,t){this.levels=t.levels}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"seekToStartPos",value:function(){var e=this.media;if(e){var t=e.currentTime,i=this.startPosition;if(i>=0&&t<i){if(e.seeking)return void this.log("could not seek to ".concat(i,", already seeking at ").concat(t));var r=pi.getBuffered(e),n=r.length?r.start(0):0,o=n-i;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by ".concat(o," to match buffer start")),i+=o,this.startPosition=i),this.log("seek to target start position ".concat(i," from current time ").concat(t)),e.currentTime=i}}}},{key:"_getAudioCodec",value:function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}},{key:"_loadBitrateTestFrag",value:function(e,t){var i=this;e.bitrateTest=!0,this._doFragLoad(e,t).then((function(r){var n=i.hls;if(r&&!i.fragContextChanged(e)){t.fragmentError=0,i.state=Ai.IDLE,i.startFragRequested=!1,i.bitrateTest=!1;var o=e.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),n.trigger(A.FRAG_LOADED,r),e.bitrateTest=!1}}))}},{key:"_handleTransmuxComplete",value:function(e){var t,i="main",r=this.hls,n=e.remuxResult,o=e.chunkMeta,a=this.getCurrentContext(o);if(a){var s=a.frag,l=a.part,u=a.level,c=n.video,d=n.text,f=n.id3,h=n.initSegment,p=u.details,v=this.altAudio?void 0:n.audio;if(this.fragContextChanged(s))this.fragmentTracker.removeFragment(s);else{if(this.state=Ai.PARSING,h){if(null!=h&&h.tracks){var g=s.initSegment||s;this._bufferInitSegment(u,h.tracks,g,o),r.trigger(A.FRAG_PARSING_INIT_SEGMENT,{frag:g,id:i,tracks:h.tracks})}var y=h.initPTS,m=h.timescale;x(y)&&(this.initPTS[s.cc]={baseTime:y,timescale:m},r.trigger(A.INIT_PTS_FOUND,{frag:s,id:i,initPTS:y,timescale:m}))}if(c&&!1!==n.independent){if(p){var _=c.startPTS,b=c.endPTS,S=c.startDTS,T=c.endDTS;if(l)l.elementaryStreams[c.type]={startPTS:_,endPTS:b,startDTS:S,endDTS:T};else if(c.firstKeyFrame&&c.independent&&1===o.id&&(this.couldBacktrack=!0),c.dropped&&c.independent){var E=this.getMainFwdBufferInfo(),w=(E?E.end:this.getLoadPosition())+this.config.maxBufferHole,k=c.firstKeyFramePTS?c.firstKeyFramePTS:_;if(w<k-this.config.maxBufferHole)return void this.backtrack(s);s.setElementaryStreamInfo(c.type,s.start,b,s.start,T,!0)}s.setElementaryStreamInfo(c.type,_,b,S,T),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(c,s,l,o)}}else if(!1===n.independent)return void this.backtrack(s);if(v){var C=v.startPTS,L=v.endPTS,I=v.startDTS,P=v.endDTS;l&&(l.elementaryStreams[V.AUDIO]={startPTS:C,endPTS:L,startDTS:I,endDTS:P}),s.setElementaryStreamInfo(V.AUDIO,C,L,I,P),this.bufferFragmentData(v,s,l,o)}if(p&&null!=f&&null!=(t=f.samples)&&t.length){var D={id:i,frag:s,details:p,samples:f.samples};r.trigger(A.FRAG_PARSING_METADATA,D)}if(p&&d){var R={id:i,frag:s,details:p,samples:d.samples};r.trigger(A.FRAG_PARSING_USERDATA,R)}}}else this.resetWhenMissingContext(o)}},{key:"_bufferInitSegment",value:function(e,t,i,r){var n=this;if(this.state===Ai.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var o=t.audio,a=t.video,s=t.audiovideo;if(o){var l=e.audioCodec,u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==o.metadata.channelCount&&-1===u.indexOf("firefox")&&(l="mp4a.40.5")),-1!==u.indexOf("android")&&"audio/mpeg"!==o.container&&(l="mp4a.40.2",this.log("Android: force audio codec to ".concat(l))),e.audioCodec&&e.audioCodec!==l&&this.log('Swapping manifest audio codec "'.concat(e.audioCodec,'" for "').concat(l,'"')),o.levelCodec=l,o.id="main",this.log("Init audio buffer, container:".concat(o.container,", codecs[selected/level/parsed]=[").concat(l||"","/").concat(e.audioCodec||"","/").concat(o.codec,"]"))}a&&(a.levelCodec=e.videoCodec,a.id="main",this.log("Init video buffer, container:".concat(a.container,", codecs[level/parsed]=[").concat(e.videoCodec||"","/").concat(a.codec,"]"))),s&&this.log("Init audiovideo buffer, container:".concat(s.container,", codecs[level/parsed]=[").concat(e.attrs.CODECS||"","/").concat(s.codec,"]")),this.hls.trigger(A.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var o=t[e],a=o.initSegment;null!=a&&a.byteLength&&n.hls.trigger(A.BUFFER_APPENDING,{type:e,data:a,frag:i,part:null,chunkMeta:r,parent:i.type})})),this.tick()}}},{key:"getMainFwdBufferInfo",value:function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,ht.MAIN)}},{key:"backtrack",value:function(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Ai.IDLE}},{key:"checkFragmentChanged",value:function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var i=e.currentTime;if(pi.isBuffered(e,i)?t=this.getAppendedFrag(i):pi.isBuffered(e,i+.1)&&(t=this.getAppendedFrag(i+.1)),t){this.backtrackFragment=null;var r=this.fragPlaying,n=t.level;r&&t.sn===r.sn&&r.level===n&&t.urlId===r.urlId||(this.fragPlaying=t,this.hls.trigger(A.FRAG_CHANGED,{frag:t}),r&&r.level===n||this.hls.trigger(A.LEVEL_SWITCHED,{level:n}))}}}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentFrag",get:function(){var e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}},{key:"currentProgramDateTime",get:function(){var e=this.media;if(e){var t=e.currentTime,i=this.currentFrag;if(i&&x(t)&&x(i.programDateTime)){var r=i.programDateTime+1e3*(t-i.start);return new Date(r)}}return null}},{key:"currentLevel",get:function(){var e=this.currentFrag;return e?e.level:-1}},{key:"nextBufferedFrag",get:function(){var e=this.currentFrag;return e?this.followingBufferedFrag(e):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),i}(Ci),Ur=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,h.default)(this,e),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=i,this.totalWeight_=r}return(0,p.default)(e,[{key:"sample",value:function(e,t){var i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}]),e}(),jr=function(){function e(t,i,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;(0,h.default)(this,e),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ur(t),this.fast_=new Ur(i),this.defaultTTFB_=n,this.ttfb_=new Ur(t)}return(0,p.default)(e,[{key:"update",value:function(e,t){var i=this.slow_,r=this.fast_,n=this.ttfb_;i.halfLife!==e&&(this.slow_=new Ur(e,i.getEstimate(),i.getTotalWeight())),r.halfLife!==t&&(this.fast_=new Ur(t,r.getEstimate(),r.getTotalWeight())),n.halfLife!==e&&(this.ttfb_=new Ur(e,n.getEstimate(),n.getTotalWeight()))}},{key:"sample",value:function(e,t){e=Math.max(e,this.minDelayMs_);var i=8*t,r=e/1e3,n=i/r;this.fast_.sample(r,n),this.slow_.sample(r,n)}},{key:"sampleTTFB",value:function(e){var t=e/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(i,Math.max(e,5))}},{key:"canEstimate",value:function(){return this.fast_.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"getEstimateTTFB",value:function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}},{key:"destroy",value:function(){}}]),e}(),Hr=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=t;var i=t.config;this.bwEstimator=new jr(i.abrEwmaSlowVoD,i.abrEwmaFastVoD,i.abrEwmaDefaultEstimate),this.registerListeners()}return(0,p.default)(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(A.FRAG_LOADING,this.onFragLoading,this),e.on(A.FRAG_LOADED,this.onFragLoaded,this),e.on(A.FRAG_BUFFERED,this.onFragBuffered,this),e.on(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(A.LEVEL_LOADED,this.onLevelLoaded,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(A.FRAG_LOADING,this.onFragLoading,this),e.off(A.FRAG_LOADED,this.onFragLoaded,this),e.off(A.FRAG_BUFFERED,this.onFragBuffered,this),e.off(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(A.LEVEL_LOADED,this.onLevelLoaded,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}},{key:"onFragLoading",value:function(e,t){var i,r=t.frag;this.ignoreFragment(r)||(this.fragCurrent=r,this.partCurrent=null!=(i=t.part)?i:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}},{key:"onLevelSwitching",value:function(e,t){this.clearTimer()}},{key:"getTimeToLoadFrag",value:function(e,t,i,r){var n=e+i/t,o=r?this.lastLevelLoadSec:0;return n+o}},{key:"onLevelLoaded",value:function(e,t){var i=this.hls.config,r=t.stats,n=r.total,o=r.bwEstimate;x(n)&&x(o)&&(this.lastLevelLoadSec=8*n/o),t.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}},{key:"_abandonRulesCheck",value:function(){var e=this.fragCurrent,t=this.partCurrent,i=this.hls,r=i.autoLevelEnabled,n=i.media;if(e&&n){var o=performance.now(),a=t?t.stats:e.stats,s=t?t.duration:e.duration,l=o-a.loading.start;if(a.aborted||a.loaded&&a.loaded===a.total||0===e.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(r&&!n.paused&&n.playbackRate&&n.readyState){var u=i.mainForwardBufferInfo;if(null!==u){var c=this.bwEstimator.getEstimateTTFB(),d=Math.abs(n.playbackRate);if(!(l<=Math.max(c,s/(2*d)*1e3))){var f=u.len/d;if(!(f>=2*s/d)){var h=a.loading.first?a.loading.first-a.loading.start:-1,p=a.loaded&&h>-1,v=this.bwEstimator.getEstimate(),g=i.levels,y=i.minAutoLevel,m=g[e.level],_=a.total||Math.max(a.loaded,Math.round(s*m.maxBitrate/8)),b=l-h;b<1&&p&&(b=Math.min(l,8*a.loaded/v));var S=p?1e3*a.loaded/b:0,T=S?(_-a.loaded)/S:8*_/v+c/1e3;if(!(T<=f)){var E,w=S?8*S:v,k=Number.POSITIVE_INFINITY;for(E=e.level-1;E>y;E--){var C=g[E].maxBitrate;if(k=this.getTimeToLoadFrag(c/1e3,w,s*C,!g[E].details),k<f)break}k>=T||k>10*s||(i.nextLoadLevel=E,p?this.bwEstimator.sample(l-Math.min(c,h),a.loaded):this.bwEstimator.sampleTTFB(l),this.clearTimer(),M.warn("[abr] Fragment ".concat(e.sn).concat(t?" part "+t.index:""," of level ").concat(e.level," is loading too slowly;\n      Time to underbuffer: ").concat(f.toFixed(3)," s\n      Estimated load time for current fragment: ").concat(T.toFixed(3)," s\n      Estimated load time for down switch fragment: ").concat(k.toFixed(3)," s\n      TTFB estimate: ").concat(h,"\n      Current BW estimate: ").concat(x(v)?(v/1024).toFixed(3):"Unknown"," Kb/s\n      New BW estimate: ").concat((this.bwEstimator.getEstimate()/1024).toFixed(3)," Kb/s\n      Aborting and switching to level ").concat(E)),e.loader&&(this.fragCurrent=this.partCurrent=null,e.abortRequests()),i.trigger(A.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:a}))}}}}}}}},{key:"onFragLoaded",value:function(e,t){var i=t.frag,r=t.part,n=r?r.stats:i.stats;if(i.type===ht.MAIN&&this.bwEstimator.sampleTTFB(n.loading.first-n.loading.start),!this.ignoreFragment(i)){if(this.clearTimer(),this.lastLoadedFragLevel=i.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var o=r?r.duration:i.duration,a=this.hls.levels[i.level],s=(a.loaded?a.loaded.bytes:0)+n.loaded,l=(a.loaded?a.loaded.duration:0)+o;a.loaded={bytes:s,duration:l},a.realBitrate=Math.round(8*s/l)}if(i.bitrateTest){var u={stats:n,frag:i,part:r,id:i.type};this.onFragBuffered(A.FRAG_BUFFERED,u),i.bitrateTest=!1}}}},{key:"onFragBuffered",value:function(e,t){var i=t.frag,r=t.part,n=null!=r&&r.stats.loaded?r.stats:i.stats;if(!n.aborted&&!this.ignoreFragment(i)){var o=n.parsing.end-n.loading.start-Math.min(n.loading.first-n.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,n.loaded),n.bwEstimate=this.bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}}},{key:"ignoreFragment",value:function(e){return e.type!==ht.MAIN||"initSegment"===e.sn}},{key:"clearTimer",value:function(){self.clearInterval(this.timer)}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(-1!==e&&!t.canEstimate())return e;var i=this.getNextABRAutoLevel();if(-1!==e){var r=this.hls.levels;if(r.length>Math.max(e,i)&&r[e].loadError<=r[i].loadError)return e}return-1!==e&&(i=Math.min(e,i)),i},set:function(e){this._nextAutoLevel=e}},{key:"getNextABRAutoLevel",value:function(){var e=this.fragCurrent,t=this.partCurrent,i=this.hls,r=i.maxAutoLevel,n=i.config,o=i.minAutoLevel,a=i.media,s=t?t.duration:e?e.duration:0,l=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,u=this.bwEstimator?this.bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,c=i.mainForwardBufferInfo,d=(c?c.len:0)/l,f=this.findBestLevel(u,o,r,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor);if(f>=0)return f;M.trace("[abr] ".concat(d?"rebuffering expected":"buffer is empty",", finding optimal quality level"));var h=s?Math.min(s,n.maxStarvationDelay):n.maxStarvationDelay,p=n.abrBandWidthFactor,v=n.abrBandWidthUpFactor;if(!d){var g=this.bitrateTestDelay;if(g){var y=s?Math.min(s,n.maxLoadingDelay):n.maxLoadingDelay;h=y-g,M.trace("[abr] bitrate test took ".concat(Math.round(1e3*g),"ms, set first fragment max fetchDuration to ").concat(Math.round(1e3*h)," ms")),p=v=1}}return f=this.findBestLevel(u,o,r,d+h,p,v),Math.max(f,0)}},{key:"findBestLevel",value:function(e,t,i,r,n,o){for(var a,s=this.fragCurrent,l=this.partCurrent,u=this.lastLoadedFragLevel,c=this.hls.levels,d=c[u],f=!(null==d||null==(a=d.details)||!a.live),h=null==d?void 0:d.codecSet,p=l?l.duration:s?s.duration:0,v=this.bwEstimator.getEstimateTTFB()/1e3,g=t,y=-1,m=i;m>=t;m--){var _=c[m];if(!_||h&&_.codecSet!==h)_&&(g=Math.min(m,g),y=Math.max(m,y));else{-1!==y&&M.trace("[abr] Skipped level(s) ".concat(g,"-").concat(y,' with CODECS:"').concat(c[y].attrs.CODECS,'"; not compatible with "').concat(d.attrs.CODECS,'"'));var b=_.details,S=(l?null==b?void 0:b.partTarget:null==b?void 0:b.averagetargetduration)||p,T=void 0;T=m<=u?n*e:o*e;var E=c[m].maxBitrate,w=this.getTimeToLoadFrag(v,T,E*S,void 0===b);if(M.trace("[abr] level:".concat(m," adjustedbw-bitrate:").concat(Math.round(T-E)," avgDuration:").concat(S.toFixed(1)," maxFetchDuration:").concat(r.toFixed(1)," fetchDuration:").concat(w.toFixed(1))),T>E&&(0===w||!x(w)||f&&!this.bitrateTestDelay||w<r))return m}}return-1}}]),e}(),$r=function(){function e(){(0,h.default)(this,e),this.chunks=[],this.dataLength=0}return(0,p.default)(e,[{key:"push",value:function(e){this.chunks.push(e),this.dataLength+=e.length}},{key:"flush",value:function(){var e,t=this.chunks,i=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var i=new Uint8Array(t),r=0,n=0;n<e.length;n++){var o=e[n];i.set(o,r),r+=o.length}return i}(t,i),this.reset(),e):new Uint8Array(0)}},{key:"reset",value:function(){this.chunks.length=0,this.dataLength=0}}]),e}();var Vr=function(e){(0,u.default)(i,e);var t=m(i);function i(e,r,n){var o;return(0,h.default)(this,i),o=t.call(this,e,r,n,"[audio-stream-controller]",ht.AUDIO),o.videoBuffer=null,o.videoTrackCC=-1,o.waitingVideoCC=-1,o.bufferedTrack=null,o.switchingTrack=null,o.trackId=-1,o.waitingData=null,o.mainDetails=null,o.bufferFlushed=!1,o.cachedTrackLoadedData=null,o._registerListeners(),o}return(0,p.default)(i,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.LEVEL_LOADED,this.onLevelLoaded,this),e.on(A.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(A.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(A.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(A.ERROR,this.onError,this),e.on(A.BUFFER_RESET,this.onBufferReset,this),e.on(A.BUFFER_CREATED,this.onBufferCreated,this),e.on(A.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(A.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(A.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.LEVEL_LOADED,this.onLevelLoaded,this),e.off(A.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(A.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(A.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(A.ERROR,this.onError,this),e.off(A.BUFFER_RESET,this.onBufferReset,this),e.off(A.BUFFER_CREATED,this.onBufferCreated,this),e.off(A.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(A.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(A.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onInitPtsFound",value:function(e,t){var i=t.frag,r=t.id,n=t.initPTS,o=t.timescale;if("main"===r){var a=i.cc;this.initPTS[i.cc]={baseTime:n,timescale:o},this.log("InitPTS for cc: ".concat(a," found from main: ").concat(n)),this.videoTrackCC=a,this.state===Ai.WAITING_INIT_PTS&&this.tick()}}},{key:"startLoad",value:function(e){if(!this.levels)return this.startPosition=e,void(this.state=Ai.STOPPED);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @".concat(t.toFixed(3))),e=t,this.state=Ai.IDLE):(this.loadedmetadata=!1,this.state=Ai.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}},{key:"doTick",value:function(){switch(this.state){case Ai.IDLE:this.doTickIdle();break;case Ai.WAITING_TRACK:var e,t=this.levels,r=this.trackId,n=null==t||null==(e=t[r])?void 0:e.details;if(n){if(this.waitForCdnTuneIn(n))break;this.state=Ai.WAITING_INIT_PTS}break;case Ai.FRAG_LOADING_WAITING_RETRY:var o,a=performance.now(),s=this.retryDate;(!s||a>=s||null!=(o=this.media)&&o.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=Ai.IDLE);break;case Ai.WAITING_INIT_PTS:var u=this.waitingData;if(u){var c=u.frag,f=u.part,h=u.cache,p=u.complete;if(void 0!==this.initPTS[c.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Ai.FRAG_LOADING;var v=h.flush(),g={frag:c,part:f,payload:v,networkDetails:null};this._handleFragmentLoadProgress(g),p&&(0,l.default)((0,d.default)(i.prototype),"_handleFragmentLoadComplete",this).call(this,g)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc (".concat(c.cc,") cancelled because video is at cc ").concat(this.videoTrackCC)),this.clearWaitingFragment();else{var y=this.getLoadPosition(),m=pi.bufferInfo(this.mediaBuffer,y,this.config.maxBufferHole),_=qt(m.end,this.config.maxFragLookUpTolerance,c);_<0&&(this.log("Waiting fragment cc (".concat(c.cc,") @ ").concat(c.start," cancelled because another fragment at ").concat(m.end," is needed")),this.clearWaitingFragment())}}else this.state=Ai.IDLE}this.onTickEnd()}},{key:"clearWaitingFragment",value:function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Ai.IDLE)}},{key:"resetLoadingState",value:function(){this.clearWaitingFragment(),(0,l.default)((0,d.default)(i.prototype),"resetLoadingState",this).call(this)}},{key:"onTickEnd",value:function(){var e=this.media;null!=e&&e.readyState&&(this.lastCurrentTime=e.currentTime)}},{key:"doTickIdle",value:function(){var e=this.hls,t=this.levels,i=this.media,r=this.trackId,n=e.config;if(null!=t&&t[r]&&(i||!this.startFragRequested&&n.startFragPrefetch)){var o=t[r],a=o.details;if(!a||a.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(a))this.state=Ai.WAITING_TRACK;else{var s=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&s&&(this.bufferFlushed=!1,this.afterBufferFlushed(s,V.AUDIO,ht.AUDIO));var l=this.getFwdBufferInfo(s,ht.AUDIO);if(null!==l){var u=this.bufferedTrack,c=this.switchingTrack;if(!c&&this._streamEnded(l,a))return e.trigger(A.BUFFER_EOS,{type:"audio"}),void(this.state=Ai.ENDED);var d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,ht.MAIN),f=l.len,h=this.getMaxBufferLength(null==d?void 0:d.len);if(!(f>=h)||c){var p=a.fragments,v=p[0].start,g=l.end;if(c&&i){var y=this.getLoadPosition();u&&c.attrs!==u.attrs&&(g=y),a.PTSKnown&&y<v&&(l.end>v||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=v+.05)}var m=this.getNextFragment(g,a),_=!1;if(m&&this.isLoopLoading(m,g)&&(_=!!m.gap,m=this.getNextFragmentLoopLoading(m,a,l,ht.MAIN,h)),m){var b=d&&m.start>d.end+a.targetduration;if(b||(null==d||!d.len)&&l.len){var S=this.getAppendedFrag(m.start,ht.MAIN);if(null===S)return;if(_||(_=!!S.gap||!!b&&0===d.len),b&&!_||_&&l.nextStart&&l.nextStart<S.end)return}this.loadFragment(m,o,g)}else this.bufferFlushed=!0}}}}}},{key:"getMaxBufferLength",value:function(e){var t=(0,l.default)((0,d.default)(i.prototype),"getMaxBufferLength",this).call(this);return e?Math.min(Math.max(t,e),this.config.maxMaxBufferLength):t}},{key:"onMediaDetaching",value:function(){this.videoBuffer=null,(0,l.default)((0,d.default)(i.prototype),"onMediaDetaching",this).call(this)}},{key:"onAudioTracksUpdated",value:function(e,t){var i=t.audioTracks;this.resetTransmuxer(),this.levels=i.map((function(e){return new Pt(e)}))}},{key:"onAudioTrackSwitching",value:function(e,t){var i=!!t.url;this.trackId=t.id;var r=this.fragCurrent;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),i?this.setInterval(100):this.resetTransmuxer(),i?(this.switchingTrack=t,this.state=Ai.IDLE):(this.switchingTrack=null,this.bufferedTrack=t,this.state=Ai.STOPPED),this.tick()}},{key:"onManifestLoading",value:function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}},{key:"onLevelLoaded",value:function(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(A.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}},{key:"onAudioTrackLoaded",value:function(e,t){var i;if(null!=this.mainDetails){var r=this.levels,n=t.details,o=t.id;if(r){this.log("Track ".concat(o," loaded [").concat(n.startSN,",").concat(n.endSN,"]").concat(n.lastPartSn?"[part-".concat(n.lastPartSn,"-").concat(n.lastPartIndex,"]"):"",",duration:").concat(n.totalduration));var a=r[o],s=0;if(n.live||null!=(i=a.details)&&i.live){var l=this.mainDetails;if(n.fragments[0]||(n.deltaUpdateFailed=!0),n.deltaUpdateFailed||!l)return;!a.details&&n.hasProgramDateTime&&l.hasProgramDateTime?(Si(n,l),s=n.fragments[0].start):s=this.alignPlaylists(n,a.details)}a.details=n,this.levelLastLoaded=o,this.startFragRequested||!this.mainDetails&&n.live||this.setStartPosition(a.details,s),this.state!==Ai.WAITING_TRACK||this.waitForCdnTuneIn(n)||(this.state=Ai.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level ".concat(o))}else this.cachedTrackLoadedData=t}},{key:"_handleFragmentLoadProgress",value:function(e){var t,i=e.frag,r=e.part,n=e.payload,o=this.config,a=this.trackId,s=this.levels;if(s){var l=s[a];if(l){var u=l.details;if(!u)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(i.start);var c=o.defaultAudioCodec||l.audioCodec||"mp4a.40.2",d=this.transmuxer;d||(d=this.transmuxer=new Nr(this.hls,ht.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var f=this.initPTS[i.cc],h=null==(t=i.initSegment)?void 0:t.data;if(void 0!==f){var p=r?r.index:-1,v=-1!==p,g=new vi(i.level,i.sn,i.stats.chunkCount,n.byteLength,p,v);d.push(n,h,c,"",i,r,u.totalduration,!1,g,f)}else{this.log("Unknown video PTS for cc ".concat(i.cc,", waiting for video PTS before demuxing audio frag ").concat(i.sn," of [").concat(u.startSN," ,").concat(u.endSN,"],track ").concat(a));var y=this.waitingData=this.waitingData||{frag:i,part:r,cache:new $r,complete:!1},m=y.cache;m.push(new Uint8Array(n)),this.waitingVideoCC=this.videoTrackCC,this.state=Ai.WAITING_INIT_PTS}}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment ".concat(i.sn," of level ").concat(i.level," will not be buffered"))}},{key:"_handleFragmentLoadComplete",value:function(e){this.waitingData?this.waitingData.complete=!0:(0,l.default)((0,d.default)(i.prototype),"_handleFragmentLoadComplete",this).call(this,e)}},{key:"onBufferReset",value:function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}},{key:"onBufferCreated",value:function(e,t){var i=t.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}},{key:"onFragBuffered",value:function(e,t){var i,r=t.frag,n=t.part;if(r.type===ht.AUDIO)if(this.fragContextChanged(r))this.warn("Fragment ".concat(r.sn).concat(n?" p: "+n.index:""," of level ").concat(r.level," finished buffering, but was aborted. state: ").concat(this.state,", audioSwitch: ").concat(this.switchingTrack?this.switchingTrack.name:"false"));else{if("initSegment"!==r.sn){this.fragPrevious=r;var o=this.switchingTrack;o&&(this.bufferedTrack=o,this.switchingTrack=null,this.hls.trigger(A.AUDIO_TRACK_SWITCHED,E({},o)))}this.fragBufferedComplete(r,n)}else this.loadedmetadata||r.type!==ht.MAIN||null!=(i=this.videoBuffer||this.media)&&i.buffered.length&&(this.loadedmetadata=!0)}},{key:"onError",value:function(e,t){var r;if(t.fatal)this.state=Ai.ERROR;else switch(t.details){case L.FRAG_GAP:case L.FRAG_PARSING_ERROR:case L.FRAG_DECRYPT_ERROR:case L.FRAG_LOAD_ERROR:case L.FRAG_LOAD_TIMEOUT:case L.KEY_LOAD_ERROR:case L.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ht.AUDIO,t);break;case L.AUDIO_TRACK_LOAD_ERROR:case L.AUDIO_TRACK_LOAD_TIMEOUT:case L.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==Ai.WAITING_TRACK||(null==(r=t.context)?void 0:r.type)!==ft.AUDIO_TRACK||(this.state=Ai.IDLE);break;case L.BUFFER_FULL_ERROR:if(!t.parent||"audio"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,(0,l.default)((0,d.default)(i.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case L.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}},{key:"onBufferFlushed",value:function(e,t){var i=t.type;i===V.AUDIO&&(this.bufferFlushed=!0,this.state===Ai.ENDED&&(this.state=Ai.IDLE))}},{key:"_handleTransmuxComplete",value:function(e){var t,i="audio",r=this.hls,n=e.remuxResult,o=e.chunkMeta,a=this.getCurrentContext(o);if(a){var s=a.frag,l=a.part,u=a.level,c=u.details,d=n.audio,f=n.text,h=n.id3,p=n.initSegment;if(!this.fragContextChanged(s)&&c){if(this.state=Ai.PARSING,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=p&&p.tracks){var v=s.initSegment||s;this._bufferInitSegment(p.tracks,v,o),r.trigger(A.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:i,tracks:p.tracks})}if(d){var g=d.startPTS,y=d.endPTS,m=d.startDTS,_=d.endDTS;l&&(l.elementaryStreams[V.AUDIO]={startPTS:g,endPTS:y,startDTS:m,endDTS:_}),s.setElementaryStreamInfo(V.AUDIO,g,y,m,_),this.bufferFragmentData(d,s,l,o)}if(null!=h&&null!=(t=h.samples)&&t.length){var b=k({id:i,frag:s,details:c},h);r.trigger(A.FRAG_PARSING_METADATA,b)}if(f){var S=k({id:i,frag:s,details:c},f);r.trigger(A.FRAG_PARSING_USERDATA,S)}}else this.fragmentTracker.removeFragment(s)}else this.resetWhenMissingContext(o)}},{key:"_bufferInitSegment",value:function(e,t,i){if(this.state===Ai.PARSING){e.video&&delete e.video;var r=e.audio;if(r){r.levelCodec=r.codec,r.id="audio",this.log("Init audio buffer, container:".concat(r.container,", codecs[parsed]=[").concat(r.codec,"]")),this.hls.trigger(A.BUFFER_CODECS,e);var n=r.initSegment;if(null!=n&&n.byteLength){var o={type:"audio",frag:t,part:null,chunkMeta:i,parent:t.type,data:n};this.hls.trigger(A.BUFFER_APPENDING,o)}this.tick()}}}},{key:"loadFragment",value:function(e,t,r){var n,o=this.fragmentTracker.getState(e);(this.fragCurrent=e,this.switchingTrack||o===ii.NOT_LOADED||o===ii.PARTIAL)?"initSegment"===e.sn?this._loadInitSegment(e,t):null!=(n=t.details)&&n.live&&!this.initPTS[e.cc]?(this.log("Waiting for video PTS in continuity counter ".concat(e.cc," of live stream before loading audio fragment ").concat(e.sn," of level ").concat(this.trackId)),this.state=Ai.WAITING_INIT_PTS):(this.startFragRequested=!0,(0,l.default)((0,d.default)(i.prototype),"loadFragment",this).call(this,e,t,r)):this.clearTrackerIfNeeded(e)}},{key:"completeAudioSwitch",value:function(e){var t=this.hls,r=this.media,n=this.bufferedTrack,o=null==n?void 0:n.attrs,a=e.attrs;r&&o&&(o.CHANNELS!==a.CHANNELS||o.NAME!==a.NAME||o.LANGUAGE!==a.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),(0,l.default)((0,d.default)(i.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(A.AUDIO_TRACK_SWITCHED,E({},e))}}]),i}(Ci),Gr=function(e){(0,u.default)(i,e);var t=m(i);function i(e){var r;return(0,h.default)(this,i),r=t.call(this,e,"[audio-track-controller]"),r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.currentTrack=null,r.selectDefaultTrack=!0,r.registerListeners(),r}return(0,p.default)(i,[{key:"registerListeners",value:function(){var e=this.hls;e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.LEVEL_LOADING,this.onLevelLoading,this),e.on(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(A.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(A.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.LEVEL_LOADING,this.onLevelLoading,this),e.off(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(A.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(A.ERROR,this.onError,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,(0,l.default)((0,d.default)(i.prototype),"destroy",this).call(this)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(e,t){this.tracks=t.audioTracks||[]}},{key:"onAudioTrackLoaded",value:function(e,t){var i=t.id,r=t.groupId,n=t.details,o=this.tracksInGroup[i];if(o&&o.groupId===r){var a=o.details;o.details=t.details,this.log("audio-track ".concat(i,' "').concat(o.name,'" lang:').concat(o.lang," group:").concat(r," loaded [").concat(n.startSN,"-").concat(n.endSN,"]")),i===this.trackId&&this.playlistLoaded(i,t,a)}else this.warn("Track with id:".concat(i," and group:").concat(r," not found in active group ").concat(o.groupId))}},{key:"onLevelLoading",value:function(e,t){this.switchLevel(t.level)}},{key:"onLevelSwitching",value:function(e,t){this.switchLevel(t.level)}},{key:"switchLevel",value:function(e){var t=this.hls.levels[e];if(null!=t&&t.audioGroupIds){var i=t.audioGroupIds[t.urlId];if(this.groupId!==i){this.groupId=i||null;var r=this.tracks.filter((function(e){return!i||e.groupId===i}));this.selectDefaultTrack&&!r.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=r;var n={audioTracks:r};this.log("Updating audio tracks, ".concat(r.length," track(s) found in group:").concat(i)),this.hls.trigger(A.AUDIO_TRACKS_UPDATED,n),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&t.context.type===ft.AUDIO_TRACK&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(t))}},{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}},{key:"setAudioTrack",value:function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var i=this.currentTrack;t[this.trackId];var r=t[e],n=r.groupId,o=r.name;if(this.log("Switching to audio-track ".concat(e,' "').concat(o,'" lang:').concat(r.lang," group:").concat(n)),this.trackId=e,this.currentTrack=r,this.selectDefaultTrack=!1,this.hls.trigger(A.AUDIO_TRACK_SWITCHING,E({},r)),!r.details||r.details.live){var a=this.switchParams(r.url,null==i?void 0:i.details);this.loadPlaylist(a)}}}},{key:"selectInitialTrack",value:function(){var e=this.tracksInGroup,t=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==t)this.setAudioTrack(t);else{var i=new Error("No track found for running audio group-ID: ".concat(this.groupId," track count: ").concat(e.length));this.warn(i.message),this.hls.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:i})}}},{key:"findTrackId",value:function(e){for(var t=this.tracksInGroup,i=0;i<t.length;i++){var r=t[i];if(!this.selectDefaultTrack||r.default){if(!e||void 0!==e.attrs["STABLE-RENDITION-ID"]&&e.attrs["STABLE-RENDITION-ID"]===r.attrs["STABLE-RENDITION-ID"])return r.id;if(e.name===r.name&&e.lang===r.lang)return r.id}}return-1}},{key:"loadPlaylist",value:function(e){(0,l.default)((0,d.default)(i.prototype),"loadPlaylist",this).call(this);var t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){var r=t.id,n=t.groupId,o=t.url;if(e)try{o=e.addDirectives(o)}catch(a){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(a))}this.log("loading audio-track playlist ".concat(r,' "').concat(t.name,'" lang:').concat(t.lang," group:").concat(n)),this.clearTimer(),this.hls.trigger(A.AUDIO_TRACK_LOADING,{url:o,id:r,groupId:n,deliveryDirectives:e||null})}}}]),i}(Jt);function Kr(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!qr(e[i].attrs,t[i].attrs))return!1;return!0}function qr(e,t){var i=e["STABLE-RENDITION-ID"];return i?i===t["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some((function(i){return e[i]!==t[i]}))}var Wr=function(e){(0,u.default)(i,e);var t=m(i);function i(e,r,n){var o;return(0,h.default)(this,i),o=t.call(this,e,r,n,"[subtitle-stream-controller]",ht.SUBTITLE),o.levels=[],o.currentTrackId=-1,o.tracksBuffered=[],o.mainDetails=null,o._registerListeners(),o}return(0,p.default)(i,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.mainDetails=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.LEVEL_LOADED,this.onLevelLoaded,this),e.on(A.ERROR,this.onError,this),e.on(A.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(A.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(A.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(A.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(A.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.LEVEL_LOADED,this.onLevelLoaded,this),e.off(A.ERROR,this.onError,this),e.off(A.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(A.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(A.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(A.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(A.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"startLoad",value:function(e){this.stopLoad(),this.state=Ai.IDLE,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}},{key:"onManifestLoading",value:function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}},{key:"onMediaDetaching",value:function(){this.tracksBuffered=[],(0,l.default)((0,d.default)(i.prototype),"onMediaDetaching",this).call(this)}},{key:"onLevelLoaded",value:function(e,t){this.mainDetails=t.details}},{key:"onSubtitleFragProcessed",value:function(e,t){var i=t.frag,r=t.success;if(this.fragPrevious=i,this.state=Ai.IDLE,r){var n=this.tracksBuffered[this.currentTrackId];if(n){for(var o,a=i.start,s=0;s<n.length;s++)if(a>=n[s].start&&a<=n[s].end){o=n[s];break}var l=i.start+i.duration;o?o.end=l:(o={start:a,end:l},n.push(o)),this.fragmentTracker.fragBuffered(i)}}}},{key:"onBufferFlushing",value:function(e,t){var i=t.startOffset,r=t.endOffset;if(0===i&&r!==Number.POSITIVE_INFINITY){var n=this.currentTrackId,o=this.levels;if(!o.length||!o[n]||!o[n].details)return;var a=o[n].details,s=a.targetduration,l=r-s;if(l<=0)return;t.endOffsetSubtitles=Math.max(0,l),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=l)e.shift();else{if(!(e[t].start<l))break;e[t].start=l,t++}})),this.fragmentTracker.removeFragmentsInRange(i,l,ht.SUBTITLE)}}},{key:"onFragBuffered",value:function(e,t){var i;this.loadedmetadata||t.frag.type!==ht.MAIN||null!=(i=this.media)&&i.buffered.length&&(this.loadedmetadata=!0)}},{key:"onError",value:function(e,t){var i=t.frag;(null==i?void 0:i.type)===ht.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Ai.STOPPED&&(this.state=Ai.IDLE))}},{key:"onSubtitleTracksUpdated",value:function(e,t){var i=this,r=t.subtitleTracks;Kr(this.levels,r)?this.levels=r.map((function(e){return new Pt(e)})):(this.tracksBuffered=[],this.levels=r.map((function(e){var t=new Pt(e);return i.tracksBuffered[t.id]=[],t})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,ht.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null)}},{key:"onSubtitleTrackSwitch",value:function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var i=this.levels[this.currentTrackId];null!=i&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.setInterval(500)}else this.clearInterval()}},{key:"onSubtitleTrackLoaded",value:function(e,t){var i,r=t.details,n=t.id,o=this.currentTrackId,a=this.levels;if(a.length){var s=a[o];if(!(n>=a.length||n!==o)&&s){this.mediaBuffer=this.mediaBufferTimeRanges;var l=0;if(r.live||null!=(i=s.details)&&i.live){var u=this.mainDetails;if(r.deltaUpdateFailed||!u)return;var c=u.fragments[0];s.details?(l=this.alignPlaylists(r,s.details),0===l&&c&&(l=c.start,Nt(r,l))):r.hasProgramDateTime&&u.hasProgramDateTime?(Si(r,u),l=r.fragments[0].start):c&&(l=c.start,Nt(r,l))}if(s.details=r,this.levelLastLoaded=n,this.startFragRequested||!this.mainDetails&&r.live||this.setStartPosition(s.details,l),this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===Ai.IDLE){var d=Kt(null,r.fragments,this.media.currentTime,0);d||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0)}}}}},{key:"_handleFragmentLoadComplete",value:function(e){var t=this,i=e.frag,r=e.payload,n=i.decryptdata,o=this.hls;if(!this.fragContextChanged(i)&&r&&r.byteLength>0&&n&&n.key&&n.iv&&"AES-128"===n.method){var a=performance.now();this.decrypter.decrypt(new Uint8Array(r),n.key.buffer,n.iv.buffer).catch((function(e){throw o.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:i}),e})).then((function(e){var t=performance.now();o.trigger(A.FRAG_DECRYPTED,{frag:i,payload:e,stats:{tstart:a,tdecrypt:t}})})).catch((function(e){t.warn("".concat(e.name,": ").concat(e.message)),t.state=Ai.IDLE}))}}},{key:"doTick",value:function(){if(this.media){if(this.state===Ai.IDLE){var e=this.currentTrackId,t=this.levels,i=t[e];if(!t.length||!i||!i.details)return;var r=i.details,n=r.targetduration,o=this.config,a=this.getLoadPosition(),s=pi.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],a-n,o.maxBufferHole),l=s.end,u=s.len,c=this.getFwdBufferInfo(this.media,ht.MAIN),d=this.getMaxBufferLength(null==c?void 0:c.len)+n;if(u>d)return;var f=r.fragments,h=f.length,p=r.edge,v=null,g=this.fragPrevious;if(l<p){var y=o.maxFragLookUpTolerance;v=Kt(g,f,Math.max(f[0].start,l),y),!v&&g&&g.start<f[0].start&&(v=f[0])}else v=f[h-1];if(!v)return;v=this.mapToInitFragWhenRequired(v),this.fragmentTracker.getState(v)===ii.NOT_LOADED&&this.loadFragment(v,i,l)}}else this.state=Ai.IDLE}},{key:"getMaxBufferLength",value:function(e){var t=(0,l.default)((0,d.default)(i.prototype),"getMaxBufferLength",this).call(this);return e?Math.max(t,e):t}},{key:"loadFragment",value:function(e,t,r){this.fragCurrent=e,"initSegment"===e.sn?this._loadInitSegment(e,t):(this.startFragRequested=!0,(0,l.default)((0,d.default)(i.prototype),"loadFragment",this).call(this,e,t,r))}},{key:"mediaBufferTimeRanges",get:function(){return new zr(this.tracksBuffered[this.currentTrackId]||[])}}]),i}(Ci),zr=(0,p.default)((function e(t){(0,h.default)(this,e),this.buffered=void 0;var i=function(e,i,r){if(i>>>=0,i>r-1)throw new DOMException("Failed to execute '".concat(e,"' on 'TimeRanges': The index provided (").concat(i,") is greater than the maximum bound (").concat(r,")"));return t[i][e]};this.buffered={get length(){return t.length},end:function(e){return i("end",e,t.length)},start:function(e){return i("start",e,t.length)}}})),Yr=function(e){(0,u.default)(i,e);var t=m(i);function i(e){var r;return(0,h.default)(this,i),r=t.call(this,e,"[subtitle-track-controller]"),r.media=null,r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.selectDefaultTrack=!0,r.queuedDefaultTrack=-1,r.trackChangeListener=function(){return r.onTextTracksChanged()},r.asyncPollTrackChange=function(){return r.pollTrackChange(0)},r.useTextTrackPolling=!1,r.subtitlePollingInterval=-1,r._subtitleDisplay=!0,r.registerListeners(),r}return(0,p.default)(i,[{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,(0,l.default)((0,d.default)(i.prototype),"destroy",this).call(this)}},{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"registerListeners",value:function(){var e=this.hls;e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.LEVEL_LOADING,this.onLevelLoading,this),e.on(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(A.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(A.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.LEVEL_LOADING,this.onLevelLoading,this),e.off(A.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(A.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(A.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}},{key:"pollTrackChange",value:function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)}},{key:"onMediaDetaching",value:function(){if(this.media){self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);var e=Qr(this.media.textTracks);e.forEach((function(e){_t(e)})),this.subtitleTrack=-1,this.media=null}}},{key:"onManifestLoading",value:function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(e,t){this.tracks=t.subtitleTracks}},{key:"onSubtitleTrackLoaded",value:function(e,t){var i=t.id,r=t.details,n=this.trackId,o=this.tracksInGroup[n];if(o){var a=o.details;o.details=t.details,this.log("subtitle track ".concat(i," loaded [").concat(r.startSN,"-").concat(r.endSN,"]")),i===this.trackId&&this.playlistLoaded(i,t,a)}else this.warn("Invalid subtitle track id ".concat(i))}},{key:"onLevelLoading",value:function(e,t){this.switchLevel(t.level)}},{key:"onLevelSwitching",value:function(e,t){this.switchLevel(t.level)}},{key:"switchLevel",value:function(e){var t=this.hls.levels[e];if(null!=t&&t.textGroupIds){var i=t.textGroupIds[t.urlId],r=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==i){var n=this.tracks.filter((function(e){return!i||e.groupId===i}));this.tracksInGroup=n;var o=this.findTrackId(null==r?void 0:r.name)||this.findTrackId();this.groupId=i||null;var a={subtitleTracks:n};this.log("Updating subtitle tracks, ".concat(n.length,' track(s) found in "').concat(i,'" group-id')),this.hls.trigger(A.SUBTITLE_TRACKS_UPDATED,a),-1!==o&&this.setSubtitleTrack(o,r)}else this.shouldReloadPlaylist(r)&&this.setSubtitleTrack(this.trackId,r)}}},{key:"findTrackId",value:function(e){for(var t=this.tracksInGroup,i=0;i<t.length;i++){var r=t[i];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&t.context.type===ft.SUBTITLE_TRACK&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&this.checkRetry(t)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}},{key:"loadPlaylist",value:function(e){(0,l.default)((0,d.default)(i.prototype),"loadPlaylist",this).call(this);var t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){var r=t.id,n=t.groupId,o=t.url;if(e)try{o=e.addDirectives(o)}catch(a){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(a))}this.log("Loading subtitle playlist for id ".concat(r)),this.hls.trigger(A.SUBTITLE_TRACK_LOADING,{url:o,id:r,groupId:n,deliveryDirectives:e||null})}}},{key:"toggleTrackModes",value:function(e){var t=this,i=this.media,r=this.trackId;if(i){var n=Qr(i.textTracks),o=n.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(n).forEach((function(e){e.mode="disabled"}));else{var a=o[r];a&&(a.mode="disabled")}var s=o[e];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}}},{key:"setSubtitleTrack",value:function(e,t){var i,r=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!=(i=r[e])&&i.details)||e<-1||e>=r.length)){this.clearTimer();var n=r[e];if(this.log("Switching to subtitle-track ".concat(e)+(n?' "'.concat(n.name,'" lang:').concat(n.lang," group:").concat(n.groupId):"")),this.trackId=e,n){var o=n.id,a=n.groupId,s=void 0===a?"":a,l=n.name,u=n.type,c=n.url;this.hls.trigger(A.SUBTITLE_TRACK_SWITCH,{id:o,groupId:s,name:l,type:u,url:c});var d=this.switchParams(n.url,null==t?void 0:t.details);this.loadPlaylist(d)}else this.hls.trigger(A.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e}},{key:"onTextTracksChanged",value:function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=Qr(this.media.textTracks),i=0;i<t.length;i++)if("hidden"===t[i].mode)e=i;else if("showing"===t[i].mode){e=i;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}}}]),i}(Jt);function Qr(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||t.push(e[i])}return t}var Xr=function(){function e(t){(0,h.default)(this,e),this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}return(0,p.default)(e,[{key:"append",value:function(e,t){var i=this.queues[t];i.push(e),1===i.length&&this.buffers[t]&&this.executeNext(t)}},{key:"insertAbort",value:function(e,t){var i=this.queues[t];i.unshift(e),this.executeNext(t)}},{key:"appendBlocker",value:function(e){var t,i=new Promise((function(e){t=e})),r={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,e),i}},{key:"executeNext",value:function(e){var t=this.buffers,i=this.queues,r=t[e],n=i[e];if(n.length){var o=n[0];try{o.execute()}catch(a){M.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),o.onError(a),null!=r&&r.updating||(n.shift(),this.executeNext(e))}}}},{key:"shiftAndExecuteNext",value:function(e){this.queues[e].shift(),this.executeNext(e)}},{key:"current",value:function(e){return this.queues[e][0]}}]),e}(),Jr=Ye(),Zr=/([ha]vc.)(?:\.[^.,]+)+/,en=function(){function e(t){var i=this;(0,h.default)(this,e),this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=i.media,t=i.mediaSource;M.log("[buffer-controller]: Media source opened"),e&&(e.removeEventListener("emptied",i._onMediaEmptied),i.updateMediaElementDuration(),i.hls.trigger(A.MEDIA_ATTACHED,{media:e})),t&&t.removeEventListener("sourceopen",i._onMediaSourceOpen),i.checkPendingTracks()},this._onMediaSourceClose=function(){M.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){M.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var e=i.media,t=i._objectUrl;e&&e.src!==t&&M.error("Media element src was set while attaching MediaSource (".concat(t," > ").concat(e.src,")"))},this.hls=t,this._initSourceBuffer(),this.registerListeners()}return(0,p.default)(e,[{key:"hasSourceTypes",value:function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}},{key:"destroy",value:function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}},{key:"registerListeners",value:function(){var e=this.hls;e.on(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.BUFFER_RESET,this.onBufferReset,this),e.on(A.BUFFER_APPENDING,this.onBufferAppending,this),e.on(A.BUFFER_CODECS,this.onBufferCodecs,this),e.on(A.BUFFER_EOS,this.onBufferEos,this),e.on(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(A.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(A.FRAG_PARSED,this.onFragParsed,this),e.on(A.FRAG_CHANGED,this.onFragChanged,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.BUFFER_RESET,this.onBufferReset,this),e.off(A.BUFFER_APPENDING,this.onBufferAppending,this),e.off(A.BUFFER_CODECS,this.onBufferCodecs,this),e.off(A.BUFFER_EOS,this.onBufferEos,this),e.off(A.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(A.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(A.FRAG_PARSED,this.onFragParsed,this),e.off(A.FRAG_CHANGED,this.onFragChanged,this)}},{key:"_initSourceBuffer",value:function(){this.sourceBuffer={},this.operationQueue=new Xr(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}},{key:"onManifestLoading",value:function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}},{key:"onManifestParsed",value:function(e,t){var i=2;(t.audio&&!t.video||!t.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,M.log("".concat(this.bufferCodecEventsExpected," bufferCodec event(s) expected"))}},{key:"onMediaAttaching",value:function(e,t){var i=this.media=t.media;if(i&&Jr){var r=this.mediaSource=new Jr;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),i.src=self.URL.createObjectURL(r),this._objectUrl=i.src,i.addEventListener("emptied",this._onMediaEmptied)}}},{key:"onMediaDetaching",value:function(){var e=this.media,t=this.mediaSource,i=this._objectUrl;if(t){if(M.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(mo){M.warn("[buffer-controller]: onMediaDetaching: ".concat(mo.message," while calling endOfStream"))}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(e.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),e.src===i?(e.removeAttribute("src"),e.load()):M.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(A.MEDIA_DETACHED,void 0)}},{key:"onBufferReset",value:function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var i=e.sourceBuffer[t];try{i&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(i),e.sourceBuffer[t]=void 0)}catch(mo){M.warn("[buffer-controller]: Failed to reset the ".concat(t," buffer"),mo)}})),this._initSourceBuffer()}},{key:"onBufferCodecs",value:function(e,t){var i=this,r=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(r){var n=i.tracks[e];if(n&&"function"===typeof n.buffer.changeType){var o=t[e],a=o.id,s=o.codec,l=o.levelCodec,u=o.container,c=o.metadata,d=(n.levelCodec||n.codec).replace(Zr,"$1"),f=(l||s).replace(Zr,"$1");if(d!==f){var h="".concat(u,";codecs=").concat(l||s);i.appendChangeType(e,h),M.log("[buffer-controller]: switching codec ".concat(d," to ").concat(f)),i.tracks[e]={buffer:n.buffer,codec:s,container:u,levelCodec:l,metadata:c,id:a}}}}else i.pendingTracks[e]=t[e]})),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}},{key:"appendChangeType",value:function(e,t){var i=this,r=this.operationQueue,n={execute:function(){var n=i.sourceBuffer[e];n&&(M.log("[buffer-controller]: changing ".concat(e," sourceBuffer type to ").concat(t)),n.changeType(t)),r.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){M.warn("[buffer-controller]: Failed to change ".concat(e," SourceBuffer type"),t)}};r.append(n,e)}},{key:"onBufferAppending",value:function(e,t){var i=this,r=this.hls,n=this.operationQueue,o=this.tracks,a=t.data,s=t.type,l=t.frag,u=t.part,c=t.chunkMeta,d=c.buffering[s],f=self.performance.now();d.start=f;var h=l.stats.buffering,p=u?u.stats.buffering:null;0===h.start&&(h.start=f),p&&0===p.start&&(p.start=f);var v=o.audio,g=!1;"audio"===s&&"audio/mpeg"===(null==v?void 0:v.container)&&(g=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);var y=l.start,m={execute:function(){if(d.executeStart=self.performance.now(),g){var e=i.sourceBuffer[s];if(e){var t=y-e.timestampOffset;Math.abs(t)>=.1&&(M.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to ".concat(y," (delta: ").concat(t,") sn: ").concat(l.sn,")")),e.timestampOffset=y)}}i.appendExecutor(a,s)},onStart:function(){},onComplete:function(){var e=self.performance.now();d.executeEnd=d.end=e,0===h.first&&(h.first=e),p&&0===p.first&&(p.first=e);var t=i.sourceBuffer,r={};for(var n in t)r[n]=pi.getBuffered(t[n]);i.appendError=0,i.hls.trigger(A.BUFFER_APPENDED,{type:s,frag:l,part:u,chunkMeta:c,parent:l.type,timeRanges:r})},onError:function(e){M.error("[buffer-controller]: Error encountered while trying to append to the ".concat(s," SourceBuffer"),e);var t={type:C.MEDIA_ERROR,parent:l.type,details:L.BUFFER_APPEND_ERROR,frag:l,part:u,chunkMeta:c,error:e,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=L.BUFFER_FULL_ERROR:(i.appendError++,t.details=L.BUFFER_APPEND_ERROR,i.appendError>r.config.appendErrorMaxRetry&&(M.error("[buffer-controller]: Failed ".concat(r.config.appendErrorMaxRetry," times to append segment in sourceBuffer")),t.fatal=!0)),r.trigger(A.ERROR,t)}};n.append(m,s)}},{key:"onBufferFlushing",value:function(e,t){var i=this,r=this.operationQueue,n=function(e){return{execute:i.removeExecutor.bind(i,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){i.hls.trigger(A.BUFFER_FLUSHED,{type:e})},onError:function(t){M.warn("[buffer-controller]: Failed to remove from ".concat(e," SourceBuffer"),t)}}};t.type?r.append(n(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){r.append(n(e),e)}))}},{key:"onFragParsed",value:function(e,t){var i=this,r=t.frag,n=t.part,o=[],a=n?n.elementaryStreams:r.elementaryStreams;a[V.AUDIOVIDEO]?o.push("audiovideo"):(a[V.AUDIO]&&o.push("audio"),a[V.VIDEO]&&o.push("video"));0===o.length&&M.warn("Fragments must have at least one ElementaryStreamType set. type: ".concat(r.type," level: ").concat(r.level," sn: ").concat(r.sn)),this.blockBuffers((function(){var e=self.performance.now();r.stats.buffering.end=e,n&&(n.stats.buffering.end=e);var t=n?n.stats:r.stats;i.hls.trigger(A.FRAG_BUFFERED,{frag:r,part:n,stats:t,id:r.type})}),o)}},{key:"onFragChanged",value:function(e,t){this.flushBackBuffer()}},{key:"onBufferEos",value:function(e,t){var i=this,r=this.getSourceBufferTypes().reduce((function(e,r){var n=i.sourceBuffer[r];return!n||t.type&&t.type!==r||(n.ending=!0,n.ended||(n.ended=!0,M.log("[buffer-controller]: ".concat(r," sourceBuffer now EOS")))),e&&!(n&&!n.ended)}),!0);r&&(M.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers((function(){i.getSourceBufferTypes().forEach((function(e){var t=i.sourceBuffer[e];t&&(t.ending=!1)}));var e=i.mediaSource;e&&"open"===e.readyState?(M.log("[buffer-controller]: Calling mediaSource.endOfStream()"),e.endOfStream()):e&&M.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ".concat(e.readyState))})))}},{key:"onLevelUpdated",value:function(e,t){var i=t.details;i.fragments.length&&(this.details=i,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}},{key:"flushBackBuffer",value:function(){var e=this.hls,t=this.details,i=this.media,r=this.sourceBuffer;if(i&&null!==t){var n=this.getSourceBufferTypes();if(n.length){var o=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(x(o)&&!(o<0)){var a=i.currentTime,s=t.levelTargetDuration,l=Math.max(o,s),u=Math.floor(a/s)*s-l;n.forEach((function(i){var n=r[i];if(n){var o=pi.getBuffered(n);if(o.length>0&&u>o.start(0)){if(e.trigger(A.BACK_BUFFER_REACHED,{bufferEnd:u}),t.live)e.trigger(A.LIVE_BACK_BUFFER_REACHED,{bufferEnd:u});else if(n.ended&&o.end(o.length-1)-a<2*s)return void M.info("[buffer-controller]: Cannot flush ".concat(i," back buffer while SourceBuffer is in ended state"));e.trigger(A.BUFFER_FLUSHING,{startOffset:0,endOffset:u,type:i})}}}))}}}}},{key:"updateMediaElementDuration",value:function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,i=this.media,r=this.mediaSource,n=e.fragments[0].start+e.totalduration,o=i.duration,a=x(r.duration)?r.duration:0;e.live&&t.config.liveDurationInfinity?(M.log("[buffer-controller]: Media Source duration is set to Infinity"),r.duration=1/0,this.updateSeekableRange(e)):(n>a&&n>o||!x(o))&&(M.log("[buffer-controller]: Updating Media Source duration to ".concat(n.toFixed(3))),r.duration=n)}}},{key:"updateSeekableRange",value:function(e){var t=this.mediaSource,i=e.fragments,r=i.length;if(r&&e.live&&null!=t&&t.setLiveSeekableRange){var n=Math.max(0,i[0].start),o=Math.max(n,n+e.totalduration);t.setLiveSeekableRange(n,o)}}},{key:"checkPendingTracks",value:function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,i=this.pendingTracks,r=Object.keys(i).length;if(r&&!e||2===r){this.createSourceBuffers(i),this.pendingTracks={};var n=this.getSourceBufferTypes();if(n.length)this.hls.trigger(A.BUFFER_CREATED,{tracks:this.tracks}),n.forEach((function(e){t.executeNext(e)}));else{var o=new Error("could not create source buffer for media codec(s)");this.hls.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:o,reason:o.message})}}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,i=this.mediaSource;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(var r in e)if(!t[r]){var n=e[r];if(!n)throw Error("source buffer exists for track ".concat(r,", however track does not"));var o=n.levelCodec||n.codec,a="".concat(n.container,";codecs=").concat(o);M.log("[buffer-controller]: creating sourceBuffer(".concat(a,")"));try{var s=t[r]=i.addSourceBuffer(a),l=r;this.addBufferListener(l,"updatestart",this._onSBUpdateStart),this.addBufferListener(l,"updateend",this._onSBUpdateEnd),this.addBufferListener(l,"error",this._onSBUpdateError),this.tracks[r]={buffer:s,codec:o,container:n.container,levelCodec:n.levelCodec,metadata:n.metadata,id:n.id}}catch(mo){M.error("[buffer-controller]: error while trying to add sourceBuffer: ".concat(mo.message)),this.hls.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:mo,mimeType:a})}}}},{key:"_onSBUpdateStart",value:function(e){var t=this.operationQueue,i=t.current(e);i.onStart()}},{key:"_onSBUpdateEnd",value:function(e){var t=this.operationQueue,i=t.current(e);i.onComplete(),t.shiftAndExecuteNext(e)}},{key:"_onSBUpdateError",value:function(e,t){var i=new Error("".concat(e," SourceBuffer error"));M.error("[buffer-controller]: ".concat(i),t),this.hls.trigger(A.ERROR,{type:C.MEDIA_ERROR,details:L.BUFFER_APPENDING_ERROR,error:i,fatal:!1});var r=this.operationQueue.current(e);r&&r.onError(t)}},{key:"removeExecutor",value:function(e,t,i){var r=this.media,n=this.mediaSource,o=this.operationQueue,a=this.sourceBuffer,s=a[e];if(!r||!n||!s)return M.warn("[buffer-controller]: Attempting to remove from the ".concat(e," SourceBuffer, but it does not exist")),void o.shiftAndExecuteNext(e);var l=x(r.duration)?r.duration:1/0,u=x(n.duration)?n.duration:1/0,c=Math.max(0,t),d=Math.min(i,l,u);d>c&&!s.ending?(s.ended=!1,M.log("[buffer-controller]: Removing [".concat(c,",").concat(d,"] from the ").concat(e," SourceBuffer")),s.remove(c,d)):o.shiftAndExecuteNext(e)}},{key:"appendExecutor",value:function(e,t){var i=this.operationQueue,r=this.sourceBuffer,n=r[t];if(!n)return M.warn("[buffer-controller]: Attempting to append to the ".concat(t," SourceBuffer, but it does not exist")),void i.shiftAndExecuteNext(t);n.ended=!1,n.appendBuffer(e)}},{key:"blockBuffers",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSourceBufferTypes();if(!i.length)return M.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);var r=this.operationQueue,n=i.map((function(e){return r.appendBlocker(e)}));Promise.all(n).then((function(){e(),i.forEach((function(e){var i=t.sourceBuffer[e];null!=i&&i.updating||r.shiftAndExecuteNext(e)}))}))}},{key:"getSourceBufferTypes",value:function(){return Object.keys(this.sourceBuffer)}},{key:"addBufferListener",value:function(e,t,i){var r=this.sourceBuffer[e];if(r){var n=i.bind(this,e);this.listeners[e].push({event:t,listener:n}),r.addEventListener(t,n)}}},{key:"removeBufferListeners",value:function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))}}]),e}(),tn={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},rn=function(e){var t=e;return tn.hasOwnProperty(e)&&(t=tn[e]),String.fromCharCode(t)},nn={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},on={17:2,18:4,21:6,22:8,23:10,19:13,20:15},an={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},sn={25:2,26:4,29:6,30:8,31:10,27:13,28:15},ln=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],un=function(){function e(){(0,h.default)(this,e),this.time=null,this.verboseLevel=0}return(0,p.default)(e,[{key:"log",value:function(e,t){if(this.verboseLevel>=e){var i="function"===typeof t?t():t;M.log("".concat(this.time," [").concat(e,"] ").concat(i))}}}]),e}(),cn=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].toString(16));return t},dn=function(){function e(t,i,r,n,o){(0,h.default)(this,e),this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=i||!1,this.italics=r||!1,this.background=n||"black",this.flash=o||!1}return(0,p.default)(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],i=0;i<t.length;i++){var r=t[i];e.hasOwnProperty(r)&&(this[r]=e[r])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),fn=function(){function e(t,i,r,n,o,a){(0,h.default)(this,e),this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new dn(i,r,n,o,a)}return(0,p.default)(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),hn=function(){function e(t){(0,h.default)(this,e),this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var i=0;i<100;i++)this.chars.push(new fn);this.logger=t,this.pos=0,this.currPenState=new dn}return(0,p.default)(e,[{key:"equals",value:function(e){for(var t=!0,i=0;i<100;i++)if(!this.chars[i].equals(e.chars[i])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=100)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var i=this.pos+1;i<t+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){var t=this;e>=144&&this.backSpace();var i=rn(e);this.pos>=100?this.logger.log(0,(function(){return"Cannot insert "+e.toString(16)+" ("+i+") at position "+t.pos+". Skipping it!"})):(this.chars[this.pos].setChar(i,this.currPenState),this.moveCursor(1))}},{key:"clearFromPos",value:function(e){var t;for(t=e;t<100;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,i=0;i<100;i++){var r=this.chars[i].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e);var t=this.chars[this.pos];t.setPenState(this.currPenState)}}]),e}(),pn=function(){function e(t){(0,h.default)(this,e),this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var i=0;i<15;i++)this.rows.push(new hn(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}return(0,p.default)(e,[{key:"reset",value:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14}},{key:"equals",value:function(e){for(var t=!0,i=0;i<15;i++)if(!this.rows[i].equals(e.rows[i])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){var e=this.rows[this.currRow];e.backSpace()}},{key:"clearToEndOfRow",value:function(){var e=this.rows[this.currRow];e.clearToEndOfRow()}},{key:"insertChar",value:function(e){var t=this.rows[this.currRow];t.insertChar(e)}},{key:"setPen",value:function(e){var t=this.rows[this.currRow];t.setPenStyles(e)}},{key:"moveCursor",value:function(e){var t=this.rows[this.currRow];t.moveCursor(e)}},{key:"setCursor",value:function(e){this.logger.log(2,"setCursor: "+e);var t=this.rows[this.currRow];t.setCursor(e)}},{key:"setPAC",value:function(e){this.logger.log(2,(function(){return"pacData = "+JSON.stringify(e)}));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var i=0;i<15;i++)this.rows[i].clear();var r=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){var o=n.rows[r].cueStartTime,a=this.logger.time;if(o&&null!==a&&o<a)for(var s=0;s<this.nrRollUpRows;s++)this.rows[t-this.nrRollUpRows+s+1].copy(n.rows[r+s])}}this.currRow=t;var l=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,c=Math.max(u-1,0);l.setCursor(e.indent),e.color=l.chars[c].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)}},{key:"setBkgData",value:function(e){this.logger.log(2,(function(){return"bkgData = "+JSON.stringify(e)})),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){var e=this;if(null!==this.nrRollUpRows){this.logger.log(1,(function(){return e.getDisplayText()}));var t=this.currRow+1-this.nrRollUpRows,i=this.rows.splice(t,1)[0];i.clear(),this.rows.splice(this.currRow,0,i),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],i="",r=-1,n=0;n<15;n++){var o=this.rows[n].getTextString();o&&(r=n+1,e?t.push("Row "+r+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(i=e?"["+t.join(" | ")+"]":t.join("\n")),i}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),vn=function(){function e(t,i,r){(0,h.default)(this,e),this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=i,this.mode=null,this.verbose=0,this.displayedMemory=new pn(r),this.nonDisplayedMemory=new pn(r),this.lastOutputScreen=new pn(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}return(0,p.default)(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,this.logger.log(2,(function(){return"MODE="+e})),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=this,i=0;i<e.length;i++)this.writeScreen.insertChar(e[i]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(function(){return r+": "+t.writeScreen.getDisplayText(!0)})),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(function(){return"DISPLAYED: "+t.displayedMemory.getDisplayText(!0)})),this.outputDataUpdate())}},{key:"ccRCL",value:function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}},{key:"ccCR",value:function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}},{key:"ccENM",value:function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){var e=this;if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(function(){return"DISP: "+e.displayedMemory.getDisplayText()}))}this.outputDataUpdate(!0)}},{key:"ccTO",value:function(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var i=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),gn=function(){function e(t,i,r){(0,h.default)(this,e),this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var n=new un;this.channels=[null,new vn(t,i,n),new vn(t+1,r,n)],this.cmdHistory=_n(),this.logger=n}return(0,p.default)(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var i,r,n,o=!1;this.logger.time=e;for(var a=0;a<t.length;a+=2)if(r=127&t[a],n=127&t[a+1],0!==r||0!==n){if(this.logger.log(3,"["+cn([t[a],t[a+1]])+"] -> ("+cn([r,n])+")"),i=this.parseCmd(r,n),i||(i=this.parseMidrow(r,n)),i||(i=this.parsePAC(r,n)),i||(i=this.parseBackgroundAttributes(r,n)),!i&&(o=this.parseChars(r,n),o)){var s=this.currentChannel;if(s&&s>0){var l=this.channels[s];l.insertChars(o)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}i||o||this.logger.log(2,"Couldn't parse cleaned data "+cn([r,n])+" orig: "+cn([t[a],t[a+1]]))}}},{key:"parseCmd",value:function(e,t){var i=this.cmdHistory,r=(20===e||28===e||21===e||29===e)&&t>=32&&t<=47,n=(23===e||31===e)&&t>=33&&t<=35;if(!r&&!n)return!1;if(mn(e,t,i))return yn(null,null,i),this.logger.log(3,"Repeated command ("+cn([e,t])+") is dropped"),!0;var o=20===e||21===e||23===e?1:2,a=this.channels[o];return 20===e||21===e||28===e||29===e?32===t?a.ccRCL():33===t?a.ccBS():34===t?a.ccAOF():35===t?a.ccAON():36===t?a.ccDER():37===t?a.ccRU(2):38===t?a.ccRU(3):39===t?a.ccRU(4):40===t?a.ccFON():41===t?a.ccRDC():42===t?a.ccTR():43===t?a.ccRTD():44===t?a.ccEDM():45===t?a.ccCR():46===t?a.ccENM():47===t&&a.ccEOC():a.ccTO(t-32),yn(e,t,i),this.currentChannel=o,!0}},{key:"parseMidrow",value:function(e,t){var i=0;if((17===e||25===e)&&t>=32&&t<=47){if(i=17===e?1:2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var r=this.channels[i];return!!r&&(r.ccMIDROW(t),this.logger.log(3,"MIDROW ("+cn([e,t])+")"),!0)}return!1}},{key:"parsePAC",value:function(e,t){var i,r=this.cmdHistory,n=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,o=(16===e||24===e)&&t>=64&&t<=95;if(!n&&!o)return!1;if(mn(e,t,r))return yn(null,null,r),!0;var a=e<=23?1:2;i=t>=64&&t<=95?1===a?nn[e]:an[e]:1===a?on[e]:sn[e];var s=this.channels[a];return!!s&&(s.setPAC(this.interpretPAC(i,t)),yn(e,t,r),this.currentChannel=a,!0)}},{key:"interpretPAC",value:function(e,t){var i,r={color:null,italics:!1,indent:null,underline:!1,row:e};return i=t>95?t-96:t-64,r.underline=1===(1&i),i<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((i-16)/2),r}},{key:"parseChars",value:function(e,t){var i,r,n=null,o=null;(e>=25?(i=2,o=e-8):(i=1,o=e),o>=17&&o<=19)?(r=17===o?t+80:18===o?t+112:t+144,this.logger.log(2,"Special char '"+rn(r)+"' in channel "+i),n=[r]):e>=32&&e<=127&&(n=0===t?[e]:[e,t]);if(n){var a=cn(n);this.logger.log(3,"Char codes =  "+a.join(",")),yn(e,t,this.cmdHistory)}return n}},{key:"parseBackgroundAttributes",value:function(e,t){var i,r=(16===e||24===e)&&t>=32&&t<=47,n=(23===e||31===e)&&t>=45&&t<=47;if(!r&&!n)return!1;var o={};16===e||24===e?(i=Math.floor((t-32)/2),o.background=ln[i],t%2===1&&(o.background=o.background+"_semi")):45===t?o.background="transparent":(o.foreground="black",47===t&&(o.underline=!0));var a=e<=23?1:2,s=this.channels[a];return s.setBkgData(o),yn(e,t,this.cmdHistory),!0}},{key:"reset",value:function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory=_n()}},{key:"cueSplitAtTime",value:function(e){for(var t=0;t<this.channels.length;t++){var i=this.channels[t];i&&i.cueSplitAtTime(e)}}}]),e}();function yn(e,t,i){i.a=e,i.b=t}function mn(e,t,i){return i.a===e&&i.b===t}function _n(){return{a:null,b:null}}var bn=function(){function e(t,i){(0,h.default)(this,e),this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=i}return(0,p.default)(e,[{key:"dispatchCue",value:function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}},{key:"newCue",value:function(e,t,i){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}},{key:"reset",value:function(){this.cueRanges=[],this.startTime=null}}]),e}(),Sn=function(){if("undefined"!==typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function i(e,t){if("string"!==typeof t)return!1;if(!Array.isArray(e))return!1;var i=t.toLowerCase();return!!~e.indexOf(i)&&i}function r(e){return i(t,e)}function n(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)e[a]=o[a]}return e}function o(t,o,a){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var u="",c=!1,d=t,f=o,h=a,p=null,v="",g=!0,y="auto",m="start",_=50,b="middle",S=50,T="middle";Object.defineProperty(s,"id",n({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",n({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",n({},l,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",n({},l,{get:function(){return f},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",n({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",n({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",n({},l,{get:function(){return v},set:function(t){var r=function(t){return i(e,t)}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");v=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",n({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",n({},l,{get:function(){return y},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",n({},l,{get:function(){return m},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",n({},l,{get:function(){return _},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",n({},l,{get:function(){return b},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",n({},l,{get:function(){return S},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");S=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",n({},l,{get:function(){return T},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),s.displayState=void 0}return o.prototype.getCueAsHTML=function(){var e=self.WebVTT;return e.convertCueToDOMTree(self,this.text)},o}(),Tn=function(){function e(){(0,h.default)(this,e)}return(0,p.default)(e,[{key:"decode",value:function(e,t){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}]),e}();function En(e){function t(e,t,i,r){return 3600*(0|e)+60*(0|t)+(0|i)+parseFloat(r||0)}var i=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return i?parseFloat(i[2])>59?t(i[2],i[3],0,i[4]):t(i[1],i[2],i[3],i[4]):null}var wn=function(){function e(){(0,h.default)(this,e),this.values=Object.create(null)}return(0,p.default)(e,[{key:"set",value:function(e,t){this.get(e)||""===t||(this.values[e]=t)}},{key:"get",value:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t}},{key:"has",value:function(e){return e in this.values}},{key:"alt",value:function(e,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(e,t);break}}},{key:"integer",value:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}},{key:"percent",value:function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var i=parseFloat(t);if(i>=0&&i<=100)return this.set(e,i),!0}return!1}}]),e}();function kn(e,t,i,r){var n=r?e.split(r):[e];for(var o in n)if("string"===typeof n[o]){var a=n[o].split(i);if(2===a.length){var s=a[0],l=a[1];t(s,l)}}}var xn=new Sn(0,0,""),An="middle"===xn.align?"middle":"center";function Cn(e,t,i){var r=e;function n(){var t=En(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){e=e.replace(/^\s+/,"")}if(o(),t.startTime=n(),o(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.slice(3),o(),t.endTime=n(),o(),function(e,t){var r=new wn;kn(e,(function(e,t){var n;switch(e){case"region":for(var o=i.length-1;o>=0;o--)if(i[o].id===t){r.set(e,i[o].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":n=t.split(","),r.integer(e,n[0]),r.percent(e,n[0])&&r.set("snapToLines",!1),r.alt(e,n[0],["auto"]),2===n.length&&r.alt("lineAlign",n[1],["start",An,"end"]);break;case"position":n=t.split(","),r.percent(e,n[0]),2===n.length&&r.alt("positionAlign",n[1],["start",An,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",An,"end","left","right"]);break}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var n=r.get("line","auto");"auto"===n&&-1===xn.line&&(n=-1),t.line=n,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",An);var o=r.get("position","auto");"auto"===o&&50===xn.position&&(o="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=o}(e,t)}function Ln(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var In=function(){function e(){(0,h.default)(this,e),this.state="INITIAL",this.buffer="",this.decoder=new Tn,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}return(0,p.default)(e,[{key:"parse",value:function(e){var t=this;function i(){var e=t.buffer,i=0;e=Ln(e);while(i<e.length&&"\r"!==e[i]&&"\n"!==e[i])++i;var r=e.slice(0,i);return"\r"===e[i]&&++i,"\n"===e[i]&&++i,t.buffer=e.slice(i),r}function r(e){kn(e,(function(e,t){}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var n="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;n=i();var o=n.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==o||!o[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}var a=!1;while(t.buffer){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:n=i(),t.state){case"HEADER":/:/.test(n)?r(n):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){t.state="NOTE";break}if(!n)continue;if(t.cue=new Sn(0,0,""),t.state="CUE",-1===n.indexOf("--\x3e")){t.cue.id=n;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{Cn(n,t.cue,t.regionList)}catch(l){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var s=-1!==n.indexOf("--\x3e");if(!n||s&&(a=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=n;continue;case"BADCUE":n||(t.state="ID")}}}catch(l){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}},{key:"flush",value:function(){try{if((this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state||"BADWEBVTT"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){this.onparsingerror&&this.onparsingerror(e)}return this.onflush&&this.onflush(),this}}]),e}(),Pn=/\r\n|\n\r|\n|\r/g,Dn=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.slice(i,i+t.length)===t},Rn=function(e){var t=5381,i=e.length;while(i)t=33*t^e.charCodeAt(--i);return(t>>>0).toString()};function On(e,t,i){return Rn(e.toString())+Rn(t.toString())+Rn(i)}function Mn(e,t,i,r,n,o,a){var s,l=new In,u=_e(new Uint8Array(e)).trim().replace(Pn,"\n").split("\n"),c=[],d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return hr(e,9e4,1/t)}(t.baseTime,t.timescale),f="00:00.000",h=0,p=0,v=!0;l.oncue=function(e){var t=i[r],o=i.ccOffset,a=(h-d)/9e4;null!=t&&t.new&&(void 0!==p?o=i.ccOffset=t.start:function(e,t,i){var r=e[t],n=e[r.prevCC];if(!n||!n.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);while(null!=(o=n)&&o.new){var o;e.ccOffset+=r.start-n.start,r.new=!1,r=n,n=e[r.prevCC]}e.presentationOffset=i}(i,r,a)),a&&(o=a-i.presentationOffset);var s=e.endTime-e.startTime,l=mr(9e4*(e.startTime+o-p),9e4*n)/9e4;e.startTime=Math.max(l,0),e.endTime=Math.max(l+s,0);var u=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(u)),e.id||(e.id=On(e.startTime,e.endTime,u)),e.endTime>0&&c.push(e)},l.onparsingerror=function(e){s=e},l.onflush=function(){s?a(s):o(c)},u.forEach((function(e){if(v){if(Dn(e,"X-TIMESTAMP-MAP=")){v=!1,e.slice(16).split(",").forEach((function(e){Dn(e,"LOCAL:")?f=e.slice(6):Dn(e,"MPEGTS:")&&(h=parseInt(e.slice(7)))}));try{p=function(e){var t=parseInt(e.slice(-3)),i=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),n=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!x(t)||!x(i)||!x(r)||!x(n))throw Error("Malformed X-TIMESTAMP-MAP: Local:".concat(e));return t+=1e3*i,t+=6e4*r,t+=36e5*n,t}(f)/1e3}catch(t){s=t}return}""===e&&(v=!1)}l.parse(e+"\n")})),l.flush()}var Nn=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Fn=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Bn={left:"start",center:"center",right:"end",start:"start",end:"end"};function Un(e,t,i,r){var n=Ie(new Uint8Array(e),["mdat"]);if(0!==n.length){var o=n.map((function(e){return _e(e)})),a=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return hr(e,t,1/i,r)}(t.baseTime,1,t.timescale);try{o.forEach((function(e){return i(function(e,t){var i=new DOMParser,r=i.parseFromString(e,"text/xml"),n=r.getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");var o={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(o).reduce((function(e,t){return e[t]=n.getAttribute("ttp:".concat(t))||o[t],e}),{}),s="preserve"!==n.getAttribute("xml:space"),l=Hn(jn(n,"styling","style")),u=Hn(jn(n,"layout","region")),c=jn(n,"body","[begin]");return[].map.call(c,(function(e){var i=function e(t,i){return[].slice.call(t.childNodes).reduce((function(t,r,n){var o;return"br"===r.nodeName&&n?t+"\n":null!=(o=r.childNodes)&&o.length?e(r,i):i?t+r.textContent.trim().replace(/\s+/g," "):t+r.textContent}),"")}(e,s);if(!i||!e.hasAttribute("begin"))return null;var r=Gn(e.getAttribute("begin"),a),n=Gn(e.getAttribute("dur"),a),o=Gn(e.getAttribute("end"),a);if(null===r)throw Vn(e);if(null===o){if(null===n)throw Vn(e);o=r+n}var c=new Sn(r-t,o-t,i);c.id=On(c.startTime,c.endTime,c.text);var d=u[e.getAttribute("region")],f=l[e.getAttribute("style")],h=function(e,t,i){var r="http://www.w3.org/ns/ttml#styling",n=null,o=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;o&&i.hasOwnProperty(o)&&(n=i[o]);return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(i,o){var a=$n(t,r,o)||$n(e,r,o)||$n(n,r,o);return a&&(i[o]=a),i}),{})}(d,f,l),p=h.textAlign;if(p){var v=Bn[p];v&&(c.lineAlign=v),c.align=p}return k(c,h),c})).filter((function(e){return null!==e}))}(e,a))}))}catch(s){r(s)}}else r(new Error("Could not parse IMSC1 mdat"))}function jn(e,t,i){var r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(i)):[]}function Hn(e){return e.reduce((function(e,t){var i=t.getAttribute("xml:id");return i&&(e[i]=t),e}),{})}function $n(e,t,i){return e&&e.hasAttributeNS(t,i)?e.getAttributeNS(t,i):null}function Vn(e){return new Error("Could not parse ttml timestamp ".concat(e))}function Gn(e,t){if(!e)return null;var i=En(e);return null===i&&(Nn.test(e)?i=function(e,t){var i=Nn.exec(e),r=(0|i[4])+(0|i[5])/t.subFrameRate;return 3600*(0|i[1])+60*(0|i[2])+(0|i[3])+r/t.frameRate}(e,t):Fn.test(e)&&(i=function(e,t){var i=Fn.exec(e),r=Number(i[1]),n=i[2];switch(n){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),i}var Kn=function(){function e(t){if((0,h.default)(this,e),this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=zn(),this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var i=new bn(this,"textTrack1"),r=new bn(this,"textTrack2"),n=new bn(this,"textTrack3"),o=new bn(this,"textTrack4");this.cea608Parser1=new gn(1,i,r),this.cea608Parser2=new gn(3,n,o)}t.on(A.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(A.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(A.MANIFEST_LOADING,this.onManifestLoading,this),t.on(A.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(A.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(A.FRAG_LOADING,this.onFragLoading,this),t.on(A.FRAG_LOADED,this.onFragLoaded,this),t.on(A.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(A.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(A.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(A.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(A.BUFFER_FLUSHING,this.onBufferFlushing,this)}return(0,p.default)(e,[{key:"destroy",value:function(){var e=this.hls;e.off(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(A.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(A.FRAG_LOADING,this.onFragLoading,this),e.off(A.FRAG_LOADED,this.onFragLoaded,this),e.off(A.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(A.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(A.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(A.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(A.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}},{key:"addCues",value:function(e,t,i,r,n){for(var o=!1,a=n.length;a--;){var s=n[a],l=Wn(s[0],s[1],t,i);if(l>=0&&(s[0]=Math.min(s[0],t),s[1]=Math.max(s[1],i),o=!0,l/(i-t)>.5))return}if(o||n.push([t,i]),this.config.renderTextTracksNatively){var u=this.captionsTracks[e];this.Cues.newCue(u,t,i,r)}else{var c=this.Cues.newCue(null,t,i,r);this.hls.trigger(A.CUES_PARSED,{type:"captions",cues:c,track:e})}}},{key:"onInitPtsFound",value:function(e,t){var i=this,r=t.frag,n=t.id,o=t.initPTS,a=t.timescale,s=this.unparsedVttFrags;"main"===n&&(this.initPTS[r.cc]={baseTime:o,timescale:a}),s.length&&(this.unparsedVttFrags=[],s.forEach((function(e){i.onFragLoaded(A.FRAG_LOADED,e)})))}},{key:"getExistingTrack",value:function(e){var t=this.media;if(t)for(var i=0;i<t.textTracks.length;i++){var r=t.textTracks[i];if(r[e])return r}return null}},{key:"createCaptionsTrack",value:function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}},{key:"createNativeTrack",value:function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,i=this.captionsTracks,r=this.media,n=t[e],o=n.label,a=n.languageCode,s=this.getExistingTrack(e);if(s)i[e]=s,_t(i[e]),yt(i[e],r);else{var l=this.createTextTrack("captions",o,a);l&&(l[e]=!0,i[e]=l)}}}},{key:"createNonNativeTrack",value:function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var i=t.label,r={_id:e,label:i,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=r,this.hls.trigger(A.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}}}},{key:"createTextTrack",value:function(e,t,i){var r=this.media;if(r)return r.addTextTrack(e,t,i)}},{key:"onMediaAttaching",value:function(e,t){this.media=t.media,this._cleanTracks()}},{key:"onMediaDetaching",value:function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){_t(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}}},{key:"onManifestLoading",value:function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=zn(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}},{key:"_cleanTracks",value:function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var i=0;i<t.length;i++)_t(t[i])}}},{key:"onSubtitleTracksUpdated",value:function(e,t){var i=this,r=t.subtitleTracks||[],n=r.some((function(e){return"stpp.ttml.im1t"===e.textCodec}));if(this.config.enableWebVTT||n&&this.config.enableIMSC1){var o=Kr(this.tracks,r);if(o)return void(this.tracks=r);if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){var a=this.media?this.media.textTracks:null;this.tracks.forEach((function(e,t){var r;if(a&&t<a.length){for(var n=null,o=0;o<a.length;o++)if(qn(a[o],e)){n=a[o];break}n&&(r=n)}if(r)_t(r);else{var s=i._captionsOrSubtitlesFromCharacteristics(e);r=i.createTextTrack(s,e.name,e.lang),r&&(r.mode="disabled")}r&&(r.groupId=e.groupId,i.textTracks.push(r))}))}else if(this.tracks.length){var s=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(A.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}}},{key:"_captionsOrSubtitlesFromCharacteristics",value:function(e){if(e.attrs.CHARACTERISTICS){var t=/transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),i=/describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);if(t&&i)return"captions"}return"subtitles"}},{key:"onManifestLoaded",value:function(e,t){var i=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var r="textTrack".concat(t[1]),n=i.captionsProperties[r];n&&(n.label=e.name,e.lang&&(n.languageCode=e.lang),n.media=e)}}))}},{key:"closedCaptionsForLevel",value:function(e){var t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]}},{key:"onFragLoading",value:function(e,t){var i=this.cea608Parser1,r=this.cea608Parser2,n=this.lastSn,o=this.lastPartIndex;if(this.enabled&&i&&r&&t.frag.type===ht.MAIN){var a,s,l=t.frag.sn,u=null!=(a=null==t||null==(s=t.part)?void 0:s.index)?a:-1;l===n+1||l===n&&u===o+1||(i.reset(),r.reset()),this.lastSn=l,this.lastPartIndex=u}}},{key:"onFragLoaded",value:function(e,t){var i=t.frag,r=t.payload,n=this.initPTS,o=this.unparsedVttFrags;if(i.type===ht.SUBTITLE)if(r.byteLength){if(!n[i.cc])return o.push(t),void(n.length&&this.hls.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Missing initial subtitle PTS")}));var a=i.decryptdata,s="stats"in t;if(null==a||!a.encrypted||s){var l=this.tracks[i.level],u=this.vttCCs;u[i.cc]||(u[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),l&&"stpp.ttml.im1t"===l.textCodec?this._parseIMSC1(i,r):this._parseVTTs(i,r,u)}}else this.hls.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}},{key:"_parseIMSC1",value:function(e,t){var i=this,r=this.hls;Un(t,this.initPTS[e.cc],(function(t){i._appendCues(t,e.level),r.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){M.log("Failed to parse IMSC1: ".concat(t)),r.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))}},{key:"_parseVTTs",value:function(e,t,i){var r,n=this,o=this.hls,a=null!=(r=e.initSegment)&&r.data?Me(e.initSegment.data,new Uint8Array(t)):t;Mn(a,this.initPTS[e.cc],i,e.cc,e.start,(function(t){n._appendCues(t,e.level),o.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(i){n._fallbackToIMSC1(e,t),M.log("Failed to parse VTT cue: ".concat(i)),o.trigger(A.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})}))}},{key:"_fallbackToIMSC1",value:function(e,t){var i=this,r=this.tracks[e.level];r.textCodec||Un(t,this.initPTS[e.cc],(function(){r.textCodec="stpp.ttml.im1t",i._parseIMSC1(e,t)}),(function(){r.textCodec="wvtt"}))}},{key:"_appendCues",value:function(e,t){var i=this.hls;if(this.config.renderTextTracksNatively){var r=this.textTracks[t];if(!r||"disabled"===r.mode)return;e.forEach((function(e){return mt(r,e)}))}else{var n=this.tracks[t];if(!n)return;var o=n.default?"default":"subtitles"+t;i.trigger(A.CUES_PARSED,{type:"subtitles",cues:e,track:o})}}},{key:"onFragDecrypted",value:function(e,t){var i=t.frag;if(i.type===ht.SUBTITLE){if(!this.initPTS[i.cc])return void this.unparsedVttFrags.push(t);this.onFragLoaded(A.FRAG_LOADED,t)}}},{key:"onSubtitleTracksCleared",value:function(){this.tracks=[],this.captionsTracks={}}},{key:"onFragParsingUserdata",value:function(e,t){var i=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&i&&r){var n=t.frag,o=t.samples;if(n.type!==ht.MAIN||"NONE"!==this.closedCaptionsForLevel(n))for(var a=0;a<o.length;a++){var s=o[a].bytes;if(s){var l=this.extractCea608Data(s);i.addData(o[a].pts,l[0]),r.addData(o[a].pts,l[1])}}}}},{key:"onBufferFlushing",value:function(e,t){var i=t.startOffset,r=t.endOffset,n=t.endOffsetSubtitles,o=t.type,a=this.media;if(a&&!(a.currentTime<r)){if(!o||"video"===o){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return bt(s[e],i,r)}))}if(this.config.renderTextTracksNatively&&0===i&&void 0!==n){var l=this.textTracks;Object.keys(l).forEach((function(e){return bt(l[e],i,n)}))}}}},{key:"extractCea608Data",value:function(e){for(var t=[[],[]],i=31&e[0],r=2,n=0;n<i;n++){var o=e[r++],a=127&e[r++],s=127&e[r++];if(0!==a||0!==s){var l=0!==(4&o);if(l){var u=3&o;0!==u&&1!==u||(t[u].push(a),t[u].push(s))}}}return t}}]),e}();function qn(e,t){return!!e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function Wn(e,t,i,r){return Math.min(t,r)-Math.max(e,i)}function zn(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}var Yn=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}return(0,p.default)(e,[{key:"setStreamController",value:function(e){this.streamController=e}},{key:"destroy",value:function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}},{key:"registerListeners",value:function(){var e=this.hls;e.on(A.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.BUFFER_CODECS,this.onBufferCodecs,this),e.on(A.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"unregisterListener",value:function(){var e=this.hls;e.off(A.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(A.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.BUFFER_CODECS,this.onBufferCodecs,this),e.off(A.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"onFpsDropLevelCapping",value:function(e,t){var i=this.hls.levels[t.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}},{key:"onMediaAttaching",value:function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null}},{key:"onManifestParsed",value:function(e,t){var i=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,i.config.capLevelToPlayerSize&&t.video&&this.startCapping()}},{key:"onBufferCodecs",value:function(e,t){var i=this.hls;i.config.capLevelToPlayerSize&&t.video&&this.startCapping()}},{key:"onMediaDetaching",value:function(){this.stopCapping()}},{key:"detectPlayerSize",value:function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(t){var i=this,r=this.hls.levels;if(!r.length)return-1;var n=r.filter((function(e,r){return i.isLevelAllowed(e)&&r<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}},{key:"startCapping",value:function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"stopCapping",value:function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}},{key:"getDimensions",value:function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var i=e.getBoundingClientRect();t.width=i.width,t.height=i.height,t.width||t.height||(t.width=i.right-i.left||e.width||0,t.height=i.bottom-i.top||e.height||0)}return this.clientRect=t,t}},{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(t){}return e}},{key:"isLevelAllowed",value:function(e){var t=this.restrictedLevels;return!t.some((function(t){return e.bitrate===t.bitrate&&e.width===t.width&&e.height===t.height}))}}],[{key:"getMaxLevelByMediaSize",value:function(e,t,i){if(null==e||!e.length)return-1;for(var r=function(e,t){return!t||(e.width!==t.width||e.height!==t.height)},n=e.length-1,o=0;o<e.length;o+=1){var a=e[o];if((a.width>=t||a.height>=i)&&r(a,e[o+1])){n=o;break}}return n}}]),e}(),Qn=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}return(0,p.default)(e,[{key:"setStreamController",value:function(e){this.streamController=e}},{key:"registerListeners",value:function(){this.hls.on(A.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"unregisterListeners",value:function(){this.hls.off(A.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}},{key:"onMediaAttaching",value:function(e,t){var i=this.hls.config;if(i.capLevelOnFPSDrop){var r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&"function"===typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}},{key:"checkFPS",value:function(e,t,i){var r=performance.now();if(t){if(this.lastTime){var n=r-this.lastTime,o=i-this.lastDroppedFrames,a=t-this.lastDecodedFrames,s=1e3*o/n,l=this.hls;if(l.trigger(A.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:i}),s>0&&o>l.config.fpsDroppedMonitoringThreshold*a){var u=l.currentLevel;M.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(A.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=i,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),e}(),Xn=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=e.CDMCleanupPromise?[e.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=M.debug.bind(M,"[eme]"),this.log=M.log.bind(M,"[eme]"),this.warn=M.warn.bind(M,"[eme]"),this.error=M.error.bind(M,"[eme]"),this.hls=t,this.config=t.config,this.registerListeners()}return(0,p.default)(e,[{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached();var e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}},{key:"registerListeners",value:function(){this.hls.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(A.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(A.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(A.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"unregisterListeners",value:function(){this.hls.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(A.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(A.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(A.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"getLicenseServerUrl",value:function(e){var t=this.config,i=t.drmSystems,r=t.widevineLicenseUrl,n=i[e];if(n)return n.licenseUrl;if(e===X.WIDEVINE&&r)return r;throw new Error('no license server URL configured for key-system "'.concat(e,'"'))}},{key:"getServerCertificateUrl",value:function(e){var t=this.config.drmSystems,i=t[e];if(i)return i.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'.concat(e,'"]'))}},{key:"attemptKeySystemAccess",value:function(e){var t=this,i=this.hls.levels,r=function(e,t,i){return!!e&&i.indexOf(e)===t},n=i.map((function(e){return e.audioCodec})).filter(r),o=i.map((function(e){return e.videoCodec})).filter(r);return n.length+o.length===0&&o.push("avc1.42e01e"),new Promise((function(i,r){(function e(a){var s=a.shift();t.getMediaKeysPromise(s,n,o).then((function(e){return i({keySystem:s,mediaKeys:e})})).catch((function(t){a.length?e(a):r(t instanceof Jn?t:new Jn({type:C.KEY_SYSTEM_ERROR,details:L.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))})(e)}))}},{key:"requestMediaKeySystemAccess",value:function(e,t){var i=this.config.requestMediaKeySystemAccessFunc;if("function"!==typeof i){var r="Configured requestMediaKeySystemAccess is not a function ".concat(i);return null===re&&"http:"===self.location.protocol&&(r="navigator.requestMediaKeySystemAccess is not available over insecure protocol ".concat(location.protocol)),Promise.reject(new Error(r))}return i(e,t)}},{key:"getMediaKeysPromise",value:function(e,t,i){var r=this,n=function(e,t,i,r){var n;switch(e){case X.FAIRPLAY:n=["cenc","sinf"];break;case X.WIDEVINE:case X.PLAYREADY:n=["cenc"];break;case X.CLEARKEY:n=["cenc","keyids"];break;default:throw new Error("Unknown key-system: ".concat(e))}return function(e,t,i,r){var n={initDataTypes:e,persistentState:r.persistentState||"not-allowed",distinctiveIdentifier:r.distinctiveIdentifier||"not-allowed",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:t.map((function(e){return{contentType:'audio/mp4; codecs="'.concat(e,'"'),robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null}})),videoCapabilities:i.map((function(e){return{contentType:'video/mp4; codecs="'.concat(e,'"'),robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}}))};return[n]}(n,t,i,r)}(e,t,i,this.config.drmSystemOptions),o=this.keySystemAccessPromises[e],a=null==o?void 0:o.keySystemAccess;if(!a){this.log('Requesting encrypted media "'.concat(e,'" key-system access with config: ').concat(JSON.stringify(n))),a=this.requestMediaKeySystemAccess(e,n);var s=this.keySystemAccessPromises[e]={keySystemAccess:a};return a.catch((function(t){r.log('Failed to obtain access to key-system "'.concat(e,'": ').concat(t))})),a.then((function(t){r.log('Access for key-system "'.concat(t.keySystem,'" obtained'));var i=r.fetchServerCertificate(e);return r.log('Create media-keys for "'.concat(e,'"')),s.mediaKeys=t.createMediaKeys().then((function(t){return r.log('Media-keys created for "'.concat(e,'"')),i.then((function(i){return i?r.setMediaKeysServerCertificate(t,e,i):t}))})),s.mediaKeys.catch((function(t){r.error('Failed to create media-keys for "'.concat(e,'"}: ').concat(t))})),s.mediaKeys}))}return a.then((function(){return o.mediaKeys}))}},{key:"createMediaKeySessionContext",value:function(e){var t=e.decryptdata,i=e.keySystem,r=e.mediaKeys;this.log('Creating key-system session "'.concat(i,'" keyId: ').concat(Se.hexDump(t.keyId||[])));var n=r.createSession(),o={decryptdata:t,keySystem:i,mediaKeys:r,mediaKeysSession:n,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}},{key:"renewKeySession",value:function(e){var t=e.decryptdata;if(t.pssh){var i=this.createMediaKeySessionContext(e),r=this.getKeyIdString(t);this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(i,"cenc",t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}},{key:"getKeyIdString",value:function(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return Se.hexDump(e.keyId)}},{key:"updateKeySession",value:function(e,t){var i,r=e.mediaKeysSession;return this.log('Updating key-session "'.concat(r.sessionId,'" for keyID ').concat(Se.hexDump((null==(i=e.decryptdata)?void 0:i.keyId)||[]),"\n      } (data length: ").concat(t?t.byteLength:t,")")),r.update(t)}},{key:"selectKeySystemFormat",value:function(e){var t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: ".concat(e.sn," ").concat(e.type,": ").concat(e.level,") key formats ").concat(t.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}},{key:"getKeyFormatPromise",value:function(e){var t=this;return new Promise((function(i,r){var n=ie(t.config),o=e.map(Z).filter((function(e){return!!e&&-1!==n.indexOf(e)}));return t.getKeySystemSelectionPromise(o).then((function(e){var t=e.keySystem,n=te(t);n?i(n):r(new Error('Unable to find format for key-system "'.concat(t,'"')))})).catch(r)}))}},{key:"loadKey",value:function(e){var t=this,i=e.keyInfo.decryptdata,r=this.getKeyIdString(i),n="(keyId: ".concat(r,' format: "').concat(i.keyFormat,'" method: ').concat(i.method," uri: ").concat(i.uri,")");this.log("Starting session for key ".concat(n));var o=this.keyIdToKeySessionPromise[r];return o||(o=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(i).then((function(r){var o=r.keySystem,a=r.mediaKeys;return t.throwIfDestroyed(),t.log("Handle encrypted media sn: ".concat(e.frag.sn," ").concat(e.frag.type,": ").concat(e.frag.level," using key ").concat(n)),t.attemptSetMediaKeys(o,a).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({keySystem:o,mediaKeys:a,decryptdata:i});return t.generateRequestWithPreferredKeySession(e,"cenc",i.pssh,"playlist-key")}))})),o.catch((function(e){return t.handleError(e)}))),o}},{key:"throwIfDestroyed",value:function(){if(!this.hls)throw new Error("invalid state")}},{key:"handleError",value:function(e){this.hls&&(this.error(e.message),e instanceof Jn?this.hls.trigger(A.ERROR,e.data):this.hls.trigger(A.ERROR,{type:C.KEY_SYSTEM_ERROR,details:L.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}},{key:"getKeySystemForKeyPromise",value:function(e){var t=this.getKeyIdString(e),i=this.keyIdToKeySessionPromise[t];if(!i){var r=Z(e.keyFormat),n=r?[r]:ie(this.config);return this.attemptKeySystemAccess(n)}return i}},{key:"getKeySystemSelectionPromise",value:function(e){if(e.length||(e=ie(this.config)),0===e.length)throw new Jn({type:C.KEY_SYSTEM_ERROR,details:L.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options ".concat(JSON.stringify({drmSystems:this.config.drmSystems})));return this.attemptKeySystemAccess(e)}},{key:"_onMediaEncrypted",value:function(e){var t=this,i=e.initDataType,r=e.initData;if(this.debug('"'.concat(e.type,'" event: init data type: "').concat(i,'"')),null!==r){var n,o;if("sinf"===i&&this.config.drmSystems[X.FAIRPLAY]){var a=ke(new Uint8Array(r));try{var s=z(JSON.parse(a).sinf),l=Re(new Uint8Array(s));if(!l)return;n=l.subarray(8,24),o=X.FAIRPLAY}catch(y){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var u=function(e){if(!(e instanceof ArrayBuffer)||e.byteLength<32)return null;var t={version:0,systemId:"",kids:null,data:null},i=new DataView(e),r=i.getUint32(0);if(e.byteLength!==r&&r>44)return null;var n=i.getUint32(4);if(1886614376!==n)return null;if(t.version=i.getUint32(8)>>>24,t.version>1)return null;t.systemId=Se.hexDump(new Uint8Array(e,12,16));var o=i.getUint32(28);if(0===t.version){if(r-32<o)return null;t.data=new Uint8Array(e,32,o)}else if(1===t.version){t.kids=[];for(var a=0;a<o;a++)t.kids.push(new Uint8Array(e,32+16*a,16))}return t}(r);if(null===u)return;0===u.version&&u.systemId===ee.WIDEVINE&&u.data&&(n=u.data.subarray(8,24)),o=function(e){if(e===ee.WIDEVINE)return X.WIDEVINE}(u.systemId)}if(o&&n){for(var c=Se.hexDump(n),d=this.keyIdToKeySessionPromise,f=this.mediaKeySessions,h=d[c],p=function(e){var o=f[e],a=o.decryptdata;if(a.pssh||!a.keyId)return"continue";var s=Se.hexDump(a.keyId);return c===s||-1!==a.uri.replace(/-/g,"").indexOf(c)?(h=d[s],delete d[s],a.pssh=new Uint8Array(r),a.keyId=n,h=d[c]=h.then((function(){return t.generateRequestWithPreferredKeySession(o,i,r,"encrypted-event-key-match")})),"break"):void 0},v=0;v<f.length;v++){var g=p(v);if("continue"!==g&&"break"===g)break}h||(h=d[c]=this.getKeySystemSelectionPromise([o]).then((function(e){var o,a=e.keySystem,s=e.mediaKeys;t.throwIfDestroyed();var l=new $e("ISO-23001-7",c,null!=(o=te(a))?o:"");return l.pssh=new Uint8Array(r),l.keyId=n,t.attemptSetMediaKeys(a,s).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({decryptdata:l,keySystem:a,mediaKeys:s});return t.generateRequestWithPreferredKeySession(e,i,r,"encrypted-event-no-match")}))}))),h.catch((function(e){return t.handleError(e)}))}}}},{key:"_onWaitingForKey",value:function(e){this.log('"'.concat(e.type,'" event'))}},{key:"attemptSetMediaKeys",value:function(e,t){var i=this,r=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'.concat(e,'"'));var n=Promise.all(r).then((function(){if(!i.media)throw new Error("Attempted to set mediaKeys without media element attached");return i.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(n),n.then((function(){i.log('Media-keys set for "'.concat(e,'"')),r.push(n),i.setMediaKeysQueue=i.setMediaKeysQueue.filter((function(e){return-1===r.indexOf(e)}))}))}},{key:"generateRequestWithPreferredKeySession",value:function(e,t,i,r){var n,o,a=this,s=null==(n=this.config.drmSystems)||null==(o=n[e.keySystem])?void 0:o.generateRequest;if(s)try{var l=s.call(this.hls,t,i,e);if(!l)throw new Error("Invalid response from configured generateRequest filter");t=l.initDataType,i=e.decryptdata.pssh=l.initData?new Uint8Array(l.initData):null}catch(h){var u;if(this.warn(h.message),null!=(u=this.hls)&&u.config.debug)throw h}if(null===i)return this.log('Skipping key-session request for "'.concat(r,'" (no initData)')),Promise.resolve(e);var c=this.getKeyIdString(e.decryptdata);this.log('Generating key-session request for "'.concat(r,'": ').concat(c," (init data type: ").concat(t," length: ").concat(i?i.byteLength:null,")"));var d=new Or;e.mediaKeysSession.onmessage=function(t){var i=e.mediaKeysSession;if(i){var r=t.messageType,n=t.message;a.log('"'.concat(r,'" message event for session "').concat(i.sessionId,'" message size: ').concat(n.byteLength)),"license-request"===r||"license-renewal"===r?a.renewLicense(e,n).catch((function(e){a.handleError(e),d.emit("error",e)})):"license-release"===r?e.keySystem===X.FAIRPLAY&&(a.updateKeySession(e,Q("acknowledged")),a.removeSession(e)):a.warn('unhandled media key message type "'.concat(r,'"'))}else d.emit("error",new Error("invalid state"))},e.mediaKeysSession.onkeystatuseschange=function(t){var i=e.mediaKeysSession;if(i){a.onKeyStatusChange(e);var r=e.keyStatus;d.emit("keyStatus",r),"expired"===r&&(a.warn("".concat(e.keySystem," expired for key ").concat(c)),a.renewKeySession(e))}else d.emit("error",new Error("invalid state"))};var f=new Promise((function(e,t){d.on("error",t),d.on("keyStatus",(function(i){i.startsWith("usable")?e():"output-restricted"===i?t(new Jn({type:C.KEY_SYSTEM_ERROR,details:L.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===i?t(new Jn({type:C.KEY_SYSTEM_ERROR,details:L.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'.concat(i,'"'))):"expired"===i?t(new Error("key expired while generating request")):a.warn('unhandled key status change "'.concat(i,'"'))}))}));return e.mediaKeysSession.generateRequest(t,i).then((function(){var t;a.log('Request generated for key-session "'.concat(null==(t=e.mediaKeysSession)?void 0:t.sessionId,'" keyId: ').concat(c))})).catch((function(e){throw new Jn({type:C.KEY_SYSTEM_ERROR,details:L.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},"Error generating key-session request: ".concat(e))})).then((function(){return f})).catch((function(t){throw d.removeAllListeners(),a.removeSession(e),t})).then((function(){return d.removeAllListeners(),e}))}},{key:"onKeyStatusChange",value:function(e){var t=this;e.mediaKeysSession.keyStatuses.forEach((function(i,r){t.log('key status change "'.concat(i,'" for keyStatuses keyId: ').concat(Se.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))," session keyId: ").concat(Se.hexDump(new Uint8Array(e.decryptdata.keyId||[]))," uri: ").concat(e.decryptdata.uri)),e.keyStatus=i}))}},{key:"fetchServerCertificate",value:function(e){var t=this.config,i=t.loader,r=new i(t),n=this.getServerCertificateUrl(e);return n?(this.log('Fetching serverCertificate for "'.concat(e,'"')),new Promise((function(i,o){var a={responseType:"arraybuffer",url:n},s=t.certLoadPolicy.default,l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:function(e,t,r,n){i(e.data)},onError:function(t,i,r,s){o(new Jn({type:C.KEY_SYSTEM_ERROR,details:L.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:r,response:E({url:a.url,data:void 0},t)},'"'.concat(e,'" certificate request failed (').concat(n,"). Status: ").concat(t.code," (").concat(t.text,")")))},onTimeout:function(t,i,r){o(new Jn({type:C.KEY_SYSTEM_ERROR,details:L.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:r,response:{url:a.url,data:void 0}},'"'.concat(e,'" certificate request timed out (').concat(n,")")))},onAbort:function(e,t,i){o(new Error("aborted"))}};r.load(a,l,u)}))):Promise.resolve()}},{key:"setMediaKeysServerCertificate",value:function(e,t,i){var r=this;return new Promise((function(n,o){e.setServerCertificate(i).then((function(o){r.log("setServerCertificate ".concat(o?"success":"not supported by CDM"," (").concat(null==i?void 0:i.byteLength,') on "').concat(t,'"')),n(e)})).catch((function(e){o(new Jn({type:C.KEY_SYSTEM_ERROR,details:L.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))}},{key:"renewLicense",value:function(e,t){var i=this;return this.requestLicense(e,new Uint8Array(t)).then((function(t){return i.updateKeySession(e,new Uint8Array(t)).catch((function(e){throw new Jn({type:C.KEY_SYSTEM_ERROR,details:L.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))}))}},{key:"setupLicenseXHR",value:function(e,t,i,r){var n=this,o=this.config.licenseXhrSetup;return o?Promise.resolve().then((function(){if(!i.decryptdata)throw new Error("Key removed");return o.call(n.hls,e,t,i,r)})).catch((function(a){if(!i.decryptdata)throw a;return e.open("POST",t,!0),o.call(n.hls,e,t,i,r)})).then((function(i){e.readyState||e.open("POST",t,!0);var n=i||r;return{xhr:e,licenseChallenge:n}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:r}))}},{key:"requestLicense",value:function(e,t){var i=this,r=this.config.keyLoadPolicy.default;return new Promise((function(n,o){var a=i.getLicenseServerUrl(e.keySystem);i.log("Sending license request to URL: ".concat(a));var s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=function(){if(!i.hls||!e.mediaKeysSession)return o(new Error("invalid state"));if(4===s.readyState)if(200===s.status){i._requestLicenseFailureCount=0;var l=s.response;i.log("License received ".concat(l instanceof ArrayBuffer?l.byteLength:l));var u=i.config.licenseResponseCallback;if(u)try{l=u.call(i.hls,s,a,e)}catch(h){i.error(h)}n(l)}else{var c=r.errorRetry,d=c?c.maxNumRetry:0;if(i._requestLicenseFailureCount++,i._requestLicenseFailureCount>d||s.status>=400&&s.status<500)o(new Jn({type:C.KEY_SYSTEM_ERROR,details:L.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:{url:a,data:void 0,code:s.status,text:s.statusText}},"License Request XHR failed (".concat(a,"). Status: ").concat(s.status," (").concat(s.statusText,")")));else{var f=d-i._requestLicenseFailureCount+1;i.warn("Retrying license request, ".concat(f," attempts left")),i.requestLicense(e,t).then(n,o)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=s,i.setupLicenseXHR(s,a,e,t).then((function(e){var t=e.xhr,i=e.licenseChallenge;t.send(i)}))}))}},{key:"onMediaAttached",value:function(e,t){if(this.config.emeEnabled){var i=t.media;this.media=i,i.addEventListener("encrypted",this.onMediaEncrypted),i.addEventListener("waitingforkey",this.onWaitingForKey)}}},{key:"onMediaDetached",value:function(){var t=this,i=this.media,r=this.mediaKeySessions;i&&(i.removeEventListener("encrypted",this.onMediaEncrypted),i.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},$e.clearKeyUriToKeyIdMap();var n=r.length;e.CDMCleanupPromise=Promise.all(r.map((function(e){return t.removeSession(e)})).concat(null==i?void 0:i.setMediaKeys(null).catch((function(e){t.log("Could not clear media keys: ".concat(e,". media.src: ").concat(null==i?void 0:i.src))})))).then((function(){n&&(t.log("finished closing key sessions and clearing media keys"),r.length=0)})).catch((function(e){t.log("Could not close sessions and clear media keys: ".concat(e,". media.src: ").concat(null==i?void 0:i.src))}))}},{key:"onManifestLoading",value:function(){this.keyFormatPromise=null}},{key:"onManifestLoaded",value:function(e,t){var i=t.sessionKeys;if(i&&this.config.emeEnabled&&!this.keyFormatPromise){var r=i.reduce((function(e,t){return-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e}),[]);this.log("Selecting key-system from session-keys ".concat(r.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(r)}}},{key:"removeSession",value:function(e){var t=this,i=e.mediaKeysSession,r=e.licenseXhr;if(i){this.log("Remove licenses and keys and close session ".concat(i.sessionId)),i.onmessage=null,i.onkeystatuseschange=null,r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;var n=this.mediaKeySessions.indexOf(e);return n>-1&&this.mediaKeySessions.splice(n,1),i.remove().catch((function(e){t.log("Could not remove session: ".concat(e))})).then((function(){return i.close()})).catch((function(e){t.log("Could not close session: ".concat(e))}))}}}]),e}();Xn.CDMCleanupPromise=void 0;var Jn=function(e){(0,u.default)(i,e);var t=m(i);function i(e,r){var n;return(0,h.default)(this,i),n=t.call(this,r),n.data=void 0,e.error||(e.error=new Error(r)),n.data=e,e.err=e.error,n}return(0,p.default)(i)}((0,s.default)(Error)),Zn={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},eo=function(){function e(t){var i=this;(0,h.default)(this,e),this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){i.initialized&&(i.starved=!0),i.buffering=!0},this.onPlaying=function(){i.initialized||(i.initialized=!0),i.buffering=!1},this.applyPlaylistData=function(e){try{i.apply(e,{ot:Zn.MANIFEST,su:!i.initialized})}catch(t){M.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=function(e){try{var t=e.frag,r=i.hls.levels[t.level],n=i.getObjectType(t),o={d:1e3*t.duration,ot:n};n!==Zn.VIDEO&&n!==Zn.AUDIO&&n!=Zn.MUXED||(o.br=r.bitrate/1e3,o.tb=i.getTopBandwidth(n)/1e3,o.bl=i.getBufferLength(n)),i.apply(e,o)}catch(a){M.warn("Could not generate segment CMCD data.",a)}},this.hls=t;var r=this.config=t.config,n=r.cmcd;null!=n&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.uuid(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.registerListeners())}return(0,p.default)(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(A.MEDIA_DETACHED,this.onMediaDetached,this),e.on(A.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(A.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(A.MEDIA_DETACHED,this.onMediaDetached,this),e.off(A.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}},{key:"onMediaDetached",value:function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}},{key:"onBufferCreated",value:function(e,t){var i,r;this.audioBuffer=null==(i=t.tracks.audio)?void 0:i.buffer,this.videoBuffer=null==(r=t.tracks.video)?void 0:r.buffer}},{key:"createData",value:function(){var e;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(e=this.media)?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}},{key:"apply",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(i,this.createData());var r=i.ot===Zn.INIT||i.ot===Zn.VIDEO||i.ot===Zn.MUXED;if(this.starved&&r&&(i.bs=!0,i.su=!0,this.starved=!1),null==i.su&&(i.su=this.buffering),this.useHeaders){var n=e.toHeaders(i);if(!Object.keys(n).length)return;t.headers||(t.headers={}),k(t.headers,n)}else{var o=e.toQuery(i);if(!o)return;t.url=e.appendQueryToUri(t.url,o)}}},{key:"getObjectType",value:function(e){var t=e.type;return"subtitle"===t?Zn.TIMED_TEXT:"initSegment"===e.sn?Zn.INIT:"audio"===t?Zn.AUDIO:"main"===t?this.hls.audioTracks.length?Zn.VIDEO:Zn.MUXED:void 0}},{key:"getTopBandwidth",value:function(e){var t,i=0,r=this.hls;if(e===Zn.AUDIO)t=r.audioTracks;else{var n=r.maxAutoLevel,o=n>-1?n+1:r.levels.length;t=r.levels.slice(0,o)}var a,s=g(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;l.bitrate>i&&(i=l.bitrate)}}catch(mo){s.e(mo)}finally{s.f()}return i>0?i:NaN}},{key:"getBufferLength",value:function(e){var t=this.hls.media,i=e===Zn.AUDIO?this.audioBuffer:this.videoBuffer;if(!i||!t)return NaN;var r=pi.bufferInfo(i,t.currentTime,this.config.maxBufferHole);return 1e3*r.len}},{key:"createPlaylistLoader",value:function(){var e=this.config.pLoader,t=this.applyPlaylistData,i=e||this.config.loader;return function(){function e(t){(0,h.default)(this,e),this.loader=void 0,this.loader=new i(t)}return(0,p.default)(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(e,i,r){t(e),this.loader.load(e,i,r)}}]),e}()}},{key:"createFragmentLoader",value:function(){var e=this.config.fLoader,t=this.applyFragmentData,i=e||this.config.loader;return function(){function e(t){(0,h.default)(this,e),this.loader=void 0,this.loader=new i(t)}return(0,p.default)(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(e,i,r){t(e),this.loader.load(e,i,r)}}]),e}()}}],[{key:"uuid",value:function(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}},{key:"serialize",value:function(e){var t,i=[],r=function(e){return!Number.isNaN(e)&&null!=e&&""!==e&&!1!==e},n=function(e){return Math.round(e)},o=function(e){return 100*n(e/100)},a={br:n,d:n,bl:o,dl:o,mtp:o,nor:function(e){return encodeURIComponent(e)},rtp:o,tb:n},s=Object.keys(e||{}).sort(),l=g(s);try{for(l.s();!(t=l.n()).done;){var u=t.value,c=e[u];if(r(c)&&(("v"!==u||1!==c)&&("pr"!=u||1!==c))){var d=a[u];d&&(c=d(c));var f=(0,v.default)(c),h=void 0;h="ot"===u||"sf"===u||"st"===u?"".concat(u,"=").concat(c):"boolean"===f?u:"number"===f?"".concat(u,"=").concat(c):"".concat(u,"=").concat(JSON.stringify(c)),i.push(h)}}}catch(mo){l.e(mo)}finally{l.f()}return i.join(",")}},{key:"toHeaders",value:function(t){for(var i=Object.keys(t),r={},n=["Object","Request","Session","Status"],o=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},s=0,l=i;s<l.length;s++){var u=l[s],c=null!=a[u]?a[u]:1;o[c][u]=t[u]}for(var d=0;d<o.length;d++){var f=e.serialize(o[d]);f&&(r["CMCD-".concat(n[d])]=f)}return r}},{key:"toQuery",value:function(t){return"CMCD=".concat(encodeURIComponent(e.serialize(t)))}},{key:"appendQueryToUri",value:function(e,t){if(!t)return e;var i=e.includes("?")?"&":"?";return"".concat(e).concat(i).concat(t)}}]),e}(),to=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.log=M.log.bind(M,"[content-steering]:"),this.registerListeners()}return(0,p.default)(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(A.MANIFEST_LOADING,this.onManifestLoading,this),e.on(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(A.MANIFEST_PARSED,this.onManifestParsed,this),e.on(A.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e&&(e.off(A.MANIFEST_LOADING,this.onManifestLoading,this),e.off(A.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(A.MANIFEST_PARSED,this.onManifestParsed,this),e.off(A.ERROR,this.onError,this))}},{key:"startLoad",value:function(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){var e=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,e)}else this.loadSteeringManifest(this.uri)}},{key:"stopLoad",value:function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}},{key:"destroy",value:function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"removeLevel",value:function(e){var t=this.levels;t&&(this.levels=t.filter((function(t){return t!==e})))}},{key:"onManifestLoading",value:function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"onManifestLoaded",value:function(e,t){var i=t.contentSteering;null!==i&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}},{key:"onManifestParsed",value:function(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}},{key:"onError",value:function(e,t){var i=t.errorAction;if((null==i?void 0:i.action)===zt.SendAlternateToPenaltyBox&&i.flags===Yt.MoveAllAlternatesMatchingHost){var r=this.pathwayPriority,n=this.pathwayId;this.penalizedPathways[n]||(this.penalizedPathways[n]=performance.now()),!r&&this.levels&&(r=this.levels.reduce((function(e,t){return-1===e.indexOf(t.pathwayId)&&e.push(t.pathwayId),e}),[])),r&&r.length>1&&(this.updatePathwayPriority(r),i.resolved=this.pathwayId!==n)}}},{key:"filterParsedLevels",value:function(e){this.levels=e;var t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){var i=e[0].pathwayId;this.log("No levels found in Pathway ".concat(this.pathwayId,'. Setting initial Pathway to "').concat(i,'"')),t=this.getLevelsForPathway(i),this.pathwayId=i}return t.length!==e.length?(this.log("Found ".concat(t.length,"/").concat(e.length,' levels in Pathway "').concat(this.pathwayId,'"')),t):e}},{key:"getLevelsForPathway",value:function(e){return null===this.levels?[]:this.levels.filter((function(t){return e===t.pathwayId}))}},{key:"updatePathwayPriority",value:function(e){var t;this.pathwayPriority=e;var i=this.penalizedPathways,r=performance.now();Object.keys(i).forEach((function(e){r-i[e]>3e5&&delete i[e]}));for(var n=0;n<e.length;n++){var o=e[n];if(!i[o]){if(o===this.pathwayId)return;var a=this.hls.nextLoadLevel,s=this.hls.levels[a];if(t=this.getLevelsForPathway(o),t.length>0){this.log('Setting Pathway to "'.concat(o,'"')),this.pathwayId=o,this.hls.trigger(A.LEVELS_UPDATED,{levels:t});var l=this.hls.levels[a];s&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==s.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==s.bitrate&&this.log("Unstable Pathways change from bitrate ".concat(s.bitrate," to ").concat(l.bitrate)),this.hls.nextLoadLevel=a);break}}}}},{key:"clonePathways",value:function(e){var t=this,i=this.levels;if(i){var r={},o={};e.forEach((function(e){var a=e.ID,s=e["BASE-ID"],l=e["URI-REPLACEMENT"];if(!i.some((function(e){return e.pathwayId===a}))){var u=t.getLevelsForPathway(s).map((function(e){var t=k({},e);t.details=void 0,t.url=ro(e.uri,e.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l);var i=new B(e.attrs);i["PATHWAY-ID"]=a;var n=i.AUDIO&&"".concat(i.AUDIO,"_clone_").concat(a),s=i.SUBTITLES&&"".concat(i.SUBTITLES,"_clone_").concat(a);n&&(r[i.AUDIO]=n,i.AUDIO=n),s&&(o[i.SUBTITLES]=s,i.SUBTITLES=s),t.attrs=i;var u=new Pt(t);return ei(u,"audio",n),ei(u,"text",s),u}));i.push.apply(i,(0,n.default)(u)),io(t.audioTracks,r,l,a),io(t.subtitleTracks,o,l,a)}}))}}},{key:"loadSteeringManifest",value:function(e){var t,i=this,r=this.hls.config,n=r.loader;this.loader&&this.loader.destroy(),this.loader=new n(r);try{t=new self.URL(e)}catch(d){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: ".concat(e))}if("data:"!==t.protocol){var o=0|(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate);t.searchParams.set("_HLS_pathway",this.pathwayId),t.searchParams.set("_HLS_throughput",""+o)}var a={responseType:"json",url:t.href},s=r.steeringManifestLoadPolicy.default,l=s.errorRetry||s.timeoutRetry||{},u={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},c={onSuccess:function(e,r,n,o){i.log('Loaded steering manifest: "'.concat(t,'"'));var a=e.data;if(1===a.VERSION){i.updated=performance.now(),i.timeToLoad=a.TTL;var s=a["RELOAD-URI"],l=a["PATHWAY-CLONES"],u=a["PATHWAY-PRIORITY"];if(s)try{i.uri=new self.URL(s,t).href}catch(d){return i.enabled=!1,void i.log("Failed to parse Steering Manifest RELOAD-URI: ".concat(s))}i.scheduleRefresh(i.uri||n.url),l&&i.clonePathways(l),u&&i.updatePathwayPriority(u)}else i.log("Steering VERSION ".concat(a.VERSION," not supported!"))},onError:function(e,t,r,n){if(i.log("Error loading steering manifest: ".concat(e.code," ").concat(e.text," (").concat(t.url,")")),i.stopLoad(),410===e.code)return i.enabled=!1,void i.log("Steering manifest ".concat(t.url," no longer available"));var o=1e3*i.timeToLoad;if(429!==e.code)i.scheduleRefresh(i.uri||t.url,o);else{var a=i.loader;if("function"===typeof(null==a?void 0:a.getResponseHeader)){var s=a.getResponseHeader("Retry-After");s&&(o=1e3*parseFloat(s))}i.log("Steering manifest ".concat(t.url," rate limited"))}},onTimeout:function(e,t,r){i.log("Timeout loading steering manifest (".concat(t.url,")")),i.scheduleRefresh(i.uri||t.url)}};this.log("Requesting steering manifest: ".concat(t)),this.loader.load(a,u,c)}},{key:"scheduleRefresh",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3*this.timeToLoad;self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout((function(){t.loadSteeringManifest(e)}),i)}}]),e}();function io(e,t,i,r){e&&Object.keys(t).forEach((function(o){var a=e.filter((function(e){return e.groupId===o})).map((function(e){var n=k({},e);return n.details=void 0,n.attrs=new B(n.attrs),n.url=n.attrs.URI=ro(e.url,e.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",i),n.groupId=n.attrs["GROUP-ID"]=t[o],n.attrs["PATHWAY-ID"]=r,n}));e.push.apply(e,(0,n.default)(a))}))}function ro(e,t,i,r){var n,o=r.HOST,a=r.PARAMS,s=r[i];t&&(n=null==s?void 0:s[t],n&&(e=n));var l=new self.URL(e);return o&&!n&&(l.host=o),a&&Object.keys(a).sort().forEach((function(e){e&&l.searchParams.set(e,a[e])})),l.href}var no=/^age:\s*[\d.]+\s*$/im,oo=function(){function e(t){(0,h.default)(this,e),this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new $,this.retryDelay=0}return(0,p.default)(e,[{key:"destroy",value:function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}},{key:"abortInternal",value:function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))}},{key:"abort",value:function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}},{key:"load",value:function(e,t,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=i,this.loadInternal()}},{key:"loadInternal",value:function(){var e=this,t=this.config,i=this.context;if(t){var r=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0;var o=this.xhrSetup;o?Promise.resolve().then((function(){if(!e.stats.aborted)return o(r,i.url)})).catch((function(e){return r.open("GET",i.url,!0),o(r,i.url)})).then((function(){e.stats.aborted||e.openAndSendXhr(r,i,t)})).catch((function(t){e.callbacks.onError({code:r.status,text:t.message},i,r,n)})):this.openAndSendXhr(r,i,t)}}},{key:"openAndSendXhr",value:function(e,t,i){e.readyState||e.open("GET",t.url,!0);var r=this.context.headers,n=i.loadPolicy,o=n.maxTimeToFirstByteMs,a=n.maxLoadTimeMs;if(r)for(var s in r)e.setRequestHeader(s,r[s]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),i.timeout=o&&x(o)?o:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),e.send()}},{key:"readystatechange",value:function(){var e=this.context,t=this.loader,i=this.stats;if(e&&t){var r=t.readyState,n=this.config;if(!i.aborted&&r>=2&&(0===i.loading.first&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),n.timeout!==n.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),n.timeout=n.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),4===r)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;var o=t.status,a="text"!==t.responseType;if(o>=200&&o<300&&(a&&t.response||null!==t.responseText)){i.loading.end=Math.max(self.performance.now(),i.loading.first);var s=a?t.response:t.responseText,l="arraybuffer"===t.responseType?s.byteLength:s.length;if(i.loaded=i.total=l,i.bwEstimate=8e3*i.total/(i.loading.end-i.loading.first),!this.callbacks)return;var u=this.callbacks.onProgress;if(u&&u(i,e,s,t),!this.callbacks)return;var c={url:t.responseURL,data:s,code:o};this.callbacks.onSuccess(c,i,e,t)}else{var d=n.loadPolicy.errorRetry,f=i.retry;Vt(d,f,!1,o)?this.retry(d):(M.error("".concat(o," while loading ").concat(e.url)),this.callbacks.onError({code:o,text:t.statusText},e,t,i))}}}}},{key:"loadtimeout",value:function(){var e,t=null==(e=this.config)?void 0:e.loadPolicy.timeoutRetry,i=this.stats.retry;if(Vt(t,i,!0))this.retry(t);else{M.warn("timeout while loading ".concat(this.context.url));var r=this.callbacks;r&&(this.abortInternal(),r.onTimeout(this.stats,this.context,this.loader))}}},{key:"retry",value:function(e){var t=this.context,i=this.stats;this.retryDelay=Ht(e,i.retry),i.retry++,M.warn("".concat(status?"HTTP Status "+status:"Timeout"," while loading ").concat(t.url,", retrying ").concat(i.retry,"/").concat(e.maxNumRetry," in ").concat(this.retryDelay,"ms")),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}},{key:"getCacheAge",value:function(){var e=null;if(this.loader&&no.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}},{key:"getResponseHeader",value:function(e){return this.loader&&new RegExp("^".concat(e,":\\s*[\\d.]+\\s*$"),"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}]),e}();var ao=/(\d+)-(\d+)\/(\d+)/,so=function(){function e(t){(0,h.default)(this,e),this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||lo,this.controller=new self.AbortController,this.stats=new $}return(0,p.default)(e,[{key:"destroy",value:function(){this.loader=this.callbacks=null,this.abortInternal()}},{key:"abortInternal",value:function(){var e=this.response;null!=e&&e.ok||(this.stats.aborted=!0,this.controller.abort())}},{key:"abort",value:function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}},{key:"load",value:function(e,t,i){var r=this,n=this.stats;if(n.loading.start)throw new Error("Loader can only be used once.");n.loading.start=self.performance.now();var o=function(e,t){var i={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(k({},e.headers))};e.rangeEnd&&i.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1));return i}(e,this.controller.signal),a=i.onProgress,s="arraybuffer"===e.responseType,l=s?"byteLength":"length",u=t.loadPolicy,c=u.maxTimeToFirstByteMs,d=u.maxLoadTimeMs;this.context=e,this.config=t,this.callbacks=i,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),t.timeout=c&&x(c)?c:d,this.requestTimeout=self.setTimeout((function(){r.abortInternal(),i.onTimeout(n,e,r.response)}),t.timeout),self.fetch(this.request).then((function(o){r.response=r.loader=o;var l=Math.max(self.performance.now(),n.loading.start);if(self.clearTimeout(r.requestTimeout),t.timeout=d,r.requestTimeout=self.setTimeout((function(){r.abortInternal(),i.onTimeout(n,e,r.response)}),d-(l-n.loading.start)),!o.ok){var u=o.status,c=o.statusText;throw new uo(c||"fetch, bad network response",u,o)}return n.loading.first=l,n.total=function(e){var t=e.get("Content-Range");if(t){var i=function(e){var t=ao.exec(e);if(t)return parseInt(t[2])-parseInt(t[1])+1}(t);if(x(i))return i}var r=e.get("Content-Length");if(r)return parseInt(r)}(o.headers)||n.total,a&&x(t.highWaterMark)?r.loadProgressively(o,n,e,t.highWaterMark,a):s?o.arrayBuffer():"json"===e.responseType?o.json():o.text()})).then((function(o){var s=r.response;self.clearTimeout(r.requestTimeout),n.loading.end=Math.max(self.performance.now(),n.loading.first);var u=o[l];u&&(n.loaded=n.total=u);var c={url:s.url,data:o,code:s.status};a&&!x(t.highWaterMark)&&a(n,e,o,s),i.onSuccess(c,n,e,s)})).catch((function(t){if(self.clearTimeout(r.requestTimeout),!n.aborted){var o=t&&t.code||0,a=t?t.message:null;i.onError({code:o,text:a},e,t?t.details:null,n)}}))}},{key:"getCacheAge",value:function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}},{key:"getResponseHeader",value:function(e){return this.response?this.response.headers.get(e):null}},{key:"loadProgressively",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4?arguments[4]:void 0,o=new $r,a=e.body.getReader(),s=function s(){return a.read().then((function(a){if(a.done)return o.dataLength&&n(t,i,o.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=a.value,u=l.length;return t.loaded+=u,u<r||o.dataLength?(o.push(l),o.dataLength>=r&&n(t,i,o.flush(),e)):n(t,i,l,e),s()})).catch((function(){return Promise.reject()}))};return s()}}]),e}();function lo(e,t){return new self.Request(e.url,t)}var uo=function(e){(0,u.default)(i,e);var t=m(i);function i(e,r,n){var o;return(0,h.default)(this,i),o=t.call(this,e),o.code=void 0,o.details=void 0,o.code=r,o.details=n,o}return(0,p.default)(i)}((0,s.default)(Error)),co=/\s/,fo={newCue:function(e,t,i,r){for(var n,o,a,s,l,u=[],c=self.VTTCue||self.TextTrackCue,d=0;d<r.rows.length;d++)if(n=r.rows[d],a=!0,s=0,l="",!n.isEmpty()){for(var f,h=0;h<n.chars.length;h++)co.test(n.chars[h].uchar)&&a?s++:(l+=n.chars[h].uchar,a=!1);n.cueStartTime=t,t===i&&(i+=1e-4),s>=16?s--:s++;var p=Ln(l.trim()),v=On(t,i,p);null!=e&&null!=(f=e.cues)&&f.getCueById(v)||(o=new c(t,i,p),o.id=v,o.line=d+1,o.align="left",o.position=10+Math.min(80,10*Math.floor(8*s/32)),u.push(o))}return e&&u.length&&(u.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),u.forEach((function(t){return mt(e,t)}))),u}},ho=E(E({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:oo,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Hr,bufferController:en,capLevelController:Yn,errorController:Qt,fpsController:Qn,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:re,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function(){return{cueHandler:fo,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:Wr,subtitleTrackController:Yr,timelineController:Kn,audioStreamController:Vr,audioTrackController:Gr,emeController:Xn,cmcdController:eo,contentSteeringController:to});function po(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var i=vo(e),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((function(e){var n="".concat("level"===e?"playlist":e,"LoadPolicy"),o=void 0===t[n],a=[];r.forEach((function(r){var s="".concat(e,"Loading").concat(r),l=t[s];if(void 0!==l&&o){a.push(s);var u=i[n].default;switch(t[n]={default:u},r){case"TimeOut":u.maxLoadTimeMs=l,u.maxTimeToFirstByteMs=l;break;case"MaxRetry":u.errorRetry.maxNumRetry=l,u.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":u.errorRetry.retryDelayMs=l,u.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":u.errorRetry.maxRetryDelayMs=l,u.timeoutRetry.maxRetryDelayMs=l;break}}})),a.length&&M.warn('hls.js config: "'.concat(a.join('", "'),'" setting(s) are deprecated, use "').concat(n,'": ').concat(JSON.stringify(t[n])))})),E(E({},i),t)}function vo(e){return e&&"object"===(0,v.default)(e)?Array.isArray(e)?e.map(vo):Object.keys(e).reduce((function(t,i){return t[i]=vo(e[i]),t}),{}):e}function go(e){var t=e.loader;if(t!==so&&t!==oo)M.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1;else{var i=function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}();i&&(e.loader=so,e.progressive=!0,e.enableSoftwareAES=!0,M.log("[config]: Progressive streaming enabled, using FetchLoader"))}}var yo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.default)(this,e),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Or,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,O(t.debug||!1,"Hls instance");var i=this.config=po(e.DefaultConfig,t);this.userConfig=t,this._autoLevelCapping=-1,i.progressive&&go(i);var r=i.abrController,n=i.bufferController,o=i.capLevelController,a=i.errorController,s=i.fpsController,l=new a(this),u=this.abrController=new r(this),c=this.bufferController=new n(this),d=this.capLevelController=new o(this),f=new s(this),p=new gt(this),v=new xt(this),g=i.contentSteeringController,y=g?new g(this):null,m=this.levelController=new Zt(this,y),_=new ri(this),b=new di(this.config),S=this.streamController=new Br(this,_,b);d.setStreamController(S),f.setStreamController(S);var T=[p,m,S];y&&T.splice(1,0,y),this.networkControllers=T;var E=[u,c,d,f,v,_];this.audioTrackController=this.createController(i.audioTrackController,T);var w=i.audioStreamController;w&&T.push(new w(this,_,b)),this.subtitleTrackController=this.createController(i.subtitleTrackController,T);var k=i.subtitleStreamController;k&&T.push(new k(this,_,b)),this.createController(i.timelineController,E),b.emeController=this.emeController=this.createController(i.emeController,E),this.cmcdController=this.createController(i.cmcdController,E),this.latencyController=this.createController(At,E),this.coreComponents=E,T.push(l);var x=l.onErrorOut;"function"===typeof x&&this.on(A.ERROR,x,l)}return(0,p.default)(e,[{key:"createController",value:function(e,t){if(e){var i=new e(this);return t&&t.push(i),i}return null}},{key:"on",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.on(e,t,i)}},{key:"once",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.once(e,t,i)}},{key:"removeAllListeners",value:function(e){this._emitter.removeAllListeners(e)}},{key:"off",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=arguments.length>3?arguments[3]:void 0;this._emitter.off(e,t,i,r)}},{key:"listeners",value:function(e){return this._emitter.listeners(e)}},{key:"emit",value:function(e,t,i){return this._emitter.emit(e,t,i)}},{key:"trigger",value:function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(i){M.error("An internal error happened while handling event "+e+'. Error message: "'+i.message+'". Here is a stacktrace:',i),this.trigger(A.ERROR,{type:C.OTHER_ERROR,details:L.INTERNAL_EXCEPTION,fatal:!1,event:e,error:i})}return!1}},{key:"listenerCount",value:function(e){return this._emitter.listenerCount(e)}},{key:"destroy",value:function(){M.log("destroy"),this.trigger(A.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0;var e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}},{key:"attachMedia",value:function(e){M.log("attachMedia"),this._media=e,this.trigger(A.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){M.log("detachMedia"),this.trigger(A.MEDIA_DETACHING,void 0),this._media=null}},{key:"loadSource",value:function(e){this.stopLoad();var t=this.media,i=this.url,r=this.url=S.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});M.log("loadSource:".concat(r)),t&&i&&(i!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(A.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;M.log("startLoad(".concat(e,")")),this.networkControllers.forEach((function(t){t.startLoad(e)}))}},{key:"stopLoad",value:function(){M.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))}},{key:"swapAudioCodec",value:function(){M.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){M.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)}},{key:"removeLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.levelController.removeLevel(e,t)}},{key:"levels",get:function(){var e=this.levelController.levels;return e||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){M.log("set currentLevel:".concat(e)),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){M.log("set nextLevel:".concat(e)),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){M.log("set loadLevel:".concat(e)),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){M.log("set firstLevel:".concat(e)),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){M.log("set startLevel:".concat(e)),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(M.log("set autoLevelCapping:".concat(e)),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(e){Ct.indexOf(e)>-1&&(this._maxHdcpLevel=e)}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var i=e.length,r=0;r<i;r++)if(e[r].maxBitrate>=t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e,t=this.levels,i=this.autoLevelCapping,r=this.maxHdcpLevel;if(e=-1===i&&t&&t.length?t.length-1:i,r)for(var n=e;n--;){var o=t[n].attrs["HDCP-LEVEL"];if(o&&o<=r)return n}return e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.3"}},{key:"isSupported",value:function(){return function(){var e=Ye();if(!e)return!1;var t=Li(),i=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!i&&!!r}()}},{key:"Events",get:function(){return A}},{key:"ErrorTypes",get:function(){return C}},{key:"ErrorDetails",get:function(){return L}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:ho},set:function(t){e.defaultConfig=t}}]),e}();t.default=yo,yo.defaultConfig=void 0},"3eae":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","uni-card"),class:e._$s(0,"c",{"uni-card--full":e.isFull,"uni-card--shadow":e.isShadow,"uni-card--border":e.border}),style:e._$s(0,"s",{margin:e.isFull?0:e.margin,padding:e.spacing,"box-shadow":e.isShadow?e.shadow:""}),attrs:{_i:0}},[e._t("cover",[e._$s(2,"i",e.cover)?i("view",{staticClass:e._$s(2,"sc","uni-card__cover"),attrs:{_i:2}},[i("image",{staticClass:e._$s(3,"sc","uni-card__cover-image"),attrs:{src:e._$s(3,"a-src",e.cover),_i:3},on:{click:function(t){return e.onClick("cover")}}})]):e._e()],{_i:1}),e._t("title",[e._$s(5,"i",e.title||e.extra)?i("view",{staticClass:e._$s(5,"sc","uni-card__header"),attrs:{_i:5}},[i("view",{staticClass:e._$s(6,"sc","uni-card__header-box"),attrs:{_i:6},on:{click:function(t){return e.onClick("title")}}},[e._$s(7,"i",e.thumbnail)?i("view",{staticClass:e._$s(7,"sc","uni-card__header-avatar"),attrs:{_i:7}},[i("image",{staticClass:e._$s(8,"sc","uni-card__header-avatar-image"),attrs:{src:e._$s(8,"a-src",e.thumbnail),_i:8}})]):e._e(),i("view",{staticClass:e._$s(9,"sc","uni-card__header-content"),attrs:{_i:9}},[i("text",{staticClass:e._$s(10,"sc","uni-card__header-content-title uni-ellipsis"),attrs:{_i:10}},[e._v(e._$s(10,"t0-0",e._s(e.title)))]),e._$s(11,"i",e.title&&e.subTitle)?i("text",{staticClass:e._$s(11,"sc","uni-card__header-content-subtitle uni-ellipsis"),attrs:{_i:11}},[e._v(e._$s(11,"t0-0",e._s(e.subTitle)))]):e._e()])]),i("view",{staticClass:e._$s(12,"sc","uni-card__header-extra"),attrs:{_i:12},on:{click:function(t){return e.onClick("extra")}}},[i("text",{staticClass:e._$s(13,"sc","uni-card__header-extra-text"),attrs:{_i:13}},[e._v(e._$s(13,"t0-0",e._s(e.extra)))])])]):e._e()],{_i:4}),i("view",{staticClass:e._$s(14,"sc","uni-card__content"),style:e._$s(14,"s",{padding:e.padding}),attrs:{_i:14},on:{click:function(t){return e.onClick("content")}}},[e._t("default",null,{_i:15})],2),i("view",{staticClass:e._$s(16,"sc","uni-card__actions"),attrs:{_i:16},on:{click:function(t){return e.onClick("actions")}}},[e._t("actions",null,{_i:17})],2)],2)},n=[]},"3edd":function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9"}')},"3f17":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a8a0")),o=r(i("3e44"));i("141e"),i("abdb");var a={components:{Wnavbar:n.default},data:function(){return{query:null,dp:null,searchData:{chapterPath:"",title:""}}},onLoad:function(e){this.searchData.chapterPath=e.chapterPath,this.searchData.title=e.title},created:function(){},methods:{initH5Video:function(){this.dp=new DPlayer({element:this.$refs.player,loop:!1,video:{pic:"",url:this.searchData.chapterPath,type:"customHls",customType:{customHls:function(e,t){var i=new o.default;i.loadSource(e.src),i.attachMedia(e)}}}}),document.querySelector("#dplayer").oncontextmenu=function(){return document.querySelector(".dplayer-menu").style.display="none",document.querySelector(".dplayer-mask").style.display="none",!1},this.dp.play()},videoErrorCallback:function(e){uni.showModal({content:e.target.errMsg,showCancel:!1})}},mounted:function(){}};t.default=a},"408f":function(e,t,i){"use strict";i.r(t);var r=i("59d1"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"41d7":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("8bbf")),o=r(i("26cb")),a=r(i("a698")),s=r(i("b56e")),l=r(i("1a69")),u=r(i("1afc"));n.default.use(o.default);var c=new o.default.Store({modules:{book:a.default,comic:s.default,video:l.default,chapter:u.default}}),d=c;t.default=d},"422b":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uIcon:i("14ff").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","serach"),attrs:{_i:0}},[i("view",{staticClass:e._$s(1,"sc","content"),style:e._$s(1,"s",{"border-radius":e.radius+"px"}),attrs:{_i:1}},[i("view",{staticClass:e._$s(2,"sc","content-box"),attrs:{_i:2}},[e._$s(3,"i",e.selectList.length>0)?i("view",{staticClass:e._$s(3,"sc","seach-select"),attrs:{_i:3}},[i("view",{staticClass:e._$s(4,"sc","select-value"),attrs:{_i:4},on:{click:e.selectClick}},[e._v(e._$s(4,"t0-0",e._s(e.selectList[e.selectIndex].name))),i("view",{staticClass:e._$s(5,"sc","icon-css-search"),attrs:{_i:5}},[i("u-icon",{attrs:{name:"arrow-down-fill",color:"#8B8E94",size:"10",_i:6}})],1)]),i("view",{staticClass:e._$s(7,"sc","select-item-list"),style:e._$s(7,"s",{display:e.showSelectList?"block":"none"}),attrs:{_i:7}},[i("text",{staticClass:e._$s(8,"sc","cuIcon-triangleupfill"),attrs:{_i:8}}),e._l(e._$s(9,"f",{forItems:e.selectList}),(function(t,r,n,o){return i("view",{key:e._$s(9,"f",{forIndex:n,key:r}),class:e._$s("9-"+o,"c",["select-item",r>0?"item-border":""]),attrs:{_i:"9-"+o},on:{click:function(t){return e.selectItem(r)}}},[e._v(e._$s("9-"+o,"t0-0",e._s(t.name)))])}))],2)]):e._e(),e._$s(10,"i",e.showSeachIcon)?i("text",{staticClass:e._$s(10,"sc","cuIcon-search"),attrs:{_i:10}}):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputVal,expression:"inputVal"}],staticClass:e._$s(11,"sc","input"),attrs:{placeholder:e._$s(11,"a-placeholder",e.placeholder),focus:e._$s(11,"a-focus",e.isFocus),_i:11},domProps:{value:e._$s(11,"v-model",e.inputVal)},on:{input:[function(t){t.target.composing||(e.inputVal=t.target.value)},e.inputChange],confirm:e.triggerConfirm,focus:e.focus,blur:e.blur}}),e._$s(12,"i",e.isDelShow)?i("text",{staticClass:e._$s(12,"sc","cuIcon-roundclose"),attrs:{_i:12},on:{click:function(t){return t.stopPropagation(),e.clear(t)}}}):e._e()]),e._$s(13,"i",e.showSeachBth&&"inside"===e.button||e.isDelShow&&"inside"===e.button)?i("view",{staticClass:e._$s(13,"sc","serachBtn"),attrs:{_i:13},on:{click:e.search}}):e._e()]),e._$s(14,"i","outside"===e.button)?i("view",{staticClass:e._$s(14,"sc","button"),class:e._$s(14,"c",{active:e.showSeachBth}),attrs:{_i:14},on:{click:e.search}},[i("view",{staticClass:e._$s(15,"sc","button-item"),attrs:{_i:15}},[e._v(e._$s(15,"t0-0",e._s(e.showSeachBth?"\u641c\u7d22":e.searchName)))])]):e._e(),i("view",{directives:[{name:"show",rawName:"v-show",value:e._$s(16,"v-show",e.showSelectList),expression:"_$s(16,'v-show',showSelectList)"}],staticClass:e._$s(16,"sc","page-mask"),attrs:{_i:16},on:{click:e.selectClick}})])},o=[]},"42aa":function(e,t,i){"use strict";i.r(t);var r=i("034d"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},4315:function(e,t,i){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i?r||(r=!0,"function"===typeof e&&e(),setTimeout((function(){r=!1}),t)):r||(r=!0,setTimeout((function(){r=!1,"function"===typeof e&&e()}),t))};t.default=n},"43e4":function(e,t,i){"use strict";i.r(t);var r=i("0767"),n=i("5e22");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"444a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{show:{type:Boolean,default:uni.$u.props.popup.show},overlay:{type:Boolean,default:uni.$u.props.popup.overlay},mode:{type:String,default:uni.$u.props.popup.mode},duration:{type:[String,Number],default:uni.$u.props.popup.duration},closeable:{type:Boolean,default:uni.$u.props.popup.closeable},overlayStyle:{type:[Object,String],default:uni.$u.props.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:uni.$u.props.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:uni.$u.props.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:uni.$u.props.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:uni.$u.props.popup.safeAreaInsetTop},closeIconPos:{type:String,default:uni.$u.props.popup.closeIconPos},round:{type:[Boolean,String,Number],default:uni.$u.props.popup.round},zoom:{type:Boolean,default:uni.$u.props.popup.zoom},bgColor:{type:String,default:uni.$u.props.popup.bgColor},overlayOpacity:{type:[Number,String],default:uni.$u.props.popup.overlayOpacity}}};t.default=r},"448a":function(e,t,i){var r=i("2236"),n=i("11b0"),o=i("6613"),a=i("0676");e.exports=function(e){return r(e)||n(e)||o(e)||a()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"448d":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("16f0")),o=r(i("3edd")),a=r(i("8d13")),s={en:n.default,"zh-Hans":o.default,"zh-Hant":a.default};t.default=s},4490:function(e,t,i){"use strict";i.r(t);var r=i("efb7"),n=i("2cfd");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},4556:function(e,t,i){"use strict";i.r(t);var r=i("606c"),n=i("cd6e");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"5a68df75",null,!1,r["a"],void 0);t["default"]=s.exports},4563:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={collapseItem:{title:"",value:"",label:"",disabled:!1,isLink:!0,clickable:!0,border:!0,align:"left",name:"",icon:"",duration:300}}},4569:function(e,t,i){"use strict";i.r(t);var r=i("e687"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"45eb":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("c973")),a=r(i("c935")),s={name:"u-collapse-item",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{elId:uni.$u.guid(),animationData:{},expanded:!1,showBorder:!1,animating:!1,parentData:{accordion:!1,border:!1}}},watch:{expanded:function(e){var t=this;clearTimeout(this.timer),this.timer=null,this.timer=setTimeout((function(){t.showBorder=e}),e?10:290)}},mounted:function(){this.init()},methods:{init:function(){var e=this;if(this.updateParentData(),!this.parent)return uni.$u.error("u-collapse-item\u5fc5\u987b\u8981\u642d\u914du-collapse\u7ec4\u4ef6\u4f7f\u7528");var t=this.parent,i=t.value,r=t.accordion;t.children;if(r){if(uni.$u.test.array(i))return uni.$u.error("\u624b\u98ce\u7434\u6a21\u5f0f\u4e0b\uff0cu-collapse\u7ec4\u4ef6\u7684value\u53c2\u6570\u4e0d\u80fd\u4e3a\u6570\u7ec4");this.expanded=this.name==i}else{if(!uni.$u.test.array(i)&&null!==i)return uni.$u.error("\u975e\u624b\u98ce\u7434\u6a21\u5f0f\u4e0b\uff0cu-collapse\u7ec4\u4ef6\u7684value\u53c2\u6570\u5fc5\u987b\u4e3a\u6570\u7ec4");this.expanded=(i||[]).some((function(t){return t==e.name}))}this.$nextTick((function(){this.setContentAnimate()}))},updateParentData:function(){this.getParentData("u-collapse")},setContentAnimate:function(){var e=this;return(0,o.default)(n.default.mark((function t(){var i,r,o;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.queryRect();case 2:i=t.sent,r=e.expanded?i.height:0,e.animating=!0,o=uni.createAnimation({timingFunction:"ease-in-out"}),o.height(r).step({duration:e.duration}).step(),e.animationData=o.export(),uni.$u.sleep(e.duration).then((function(){e.animating=!1}));case 9:case"end":return t.stop()}}),t)})))()},clickHandler:function(){this.disabled&&this.animating||this.parent&&this.parent.onChange(this)},queryRect:function(){var e=this;return new Promise((function(t){e.$uGetRect("#".concat(e.elId)).then((function(e){t(e)}))}))}}};t.default=s},"478b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{stackFromEnd:{type:Boolean,default:!1},enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0},renderReverse:{type:Boolean,default:!1}},created:function(){this.firstChildAppend=!1},methods:{loadMore:function(e){this.$emit("scrolltolower")},scroll:function(e){this.$emit("scroll",e)}}};t.default=r},"47d8":function(e,t,i){"use strict";i.r(t);var r=i("9161"),n=i("ea4e");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"480f":function(e,t,i){var r=i("c135"),n=i("11b0"),o=i("6613"),a=i("c240");e.exports=function(e){return r(e)||n(e)||o(e)||a()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"488d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{status:{type:String,default:uni.$u.props.loadmore.status},bgColor:{type:String,default:uni.$u.props.loadmore.bgColor},icon:{type:Boolean,default:uni.$u.props.loadmore.icon},fontSize:{type:[String,Number],default:uni.$u.props.loadmore.fontSize},iconSize:{type:[String,Number],default:uni.$u.props.loadmore.iconSize},color:{type:String,default:uni.$u.props.loadmore.color},loadingIcon:{type:String,default:uni.$u.props.loadmore.loadingIcon},loadmoreText:{type:String,default:uni.$u.props.loadmore.loadmoreText},loadingText:{type:String,default:uni.$u.props.loadmore.loadingText},nomoreText:{type:String,default:uni.$u.props.loadmore.nomoreText},isDot:{type:Boolean,default:uni.$u.props.loadmore.isDot},iconColor:{type:String,default:uni.$u.props.loadmore.iconColor},marginTop:{type:[String,Number],default:uni.$u.props.loadmore.marginTop},marginBottom:{type:[String,Number],default:uni.$u.props.loadmore.marginBottom},height:{type:[String,Number],default:uni.$u.props.loadmore.height},line:{type:Boolean,default:uni.$u.props.loadmore.line},lineColor:{type:String,default:uni.$u.props.loadmore.lineColor},dashed:{type:Boolean,default:uni.$u.props.loadmore.dashed}}};t.default=r},4927:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{wxsProp:{optDown:{},scrollTop:0,bodyHeight:0,isDownScrolling:!1,isUpScrolling:!1,isScrollBody:!0,isUpBoth:!0,t:0},callProp:{callType:"",t:0}}},methods:{wxsCall:function(e){"setWxsProp"===e.type?this.wxsProp={optDown:this.mescroll.optDown,scrollTop:this.mescroll.getScrollTop(),bodyHeight:this.mescroll.getBodyHeight(),isDownScrolling:this.mescroll.isDownScrolling,isUpScrolling:this.mescroll.isUpScrolling,isUpBoth:this.mescroll.optUp.isBoth,isScrollBody:this.mescroll.isScrollBody,t:Date.now()}:"setLoadType"===e.type?(this.downLoadType=e.downLoadType,this.$set(this.mescroll,"downLoadType",this.downLoadType),this.$set(this.mescroll,"isDownEndSuccess",null)):"triggerDownScroll"===e.type?this.mescroll.triggerDownScroll():"endDownScroll"===e.type?this.mescroll.endDownScroll():"triggerUpScroll"===e.type&&this.mescroll.triggerUpScroll(!0)}},mounted:function(){var e=this;this.mescroll.optDown.afterLoading=function(){e.callProp={callType:"showLoading",t:Date.now()}},this.mescroll.optDown.afterEndDownScroll=function(){e.callProp={callType:"endDownScroll",t:Date.now()};var t=300+(e.mescroll.optDown.beforeEndDelay||0);setTimeout((function(){4!==e.downLoadType&&0!==e.downLoadType||(e.callProp={callType:"clearTransform",t:Date.now()}),e.$set(e.mescroll,"downLoadType",e.downLoadType)}),t)},this.wxsCall({type:"setWxsProp"})}},n=r;t.default=n},"4a4b":function(e,t){function i(t,r){return e.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,i(t,r)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"4c18":function(e,t,i){"use strict";i.r(t);var r=i("f3b3"),n=i("b924");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"a4dde966",null,!1,r["a"],void 0);t["default"]=s.exports},"4c2f":function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("d484")),o=r(i("e5dc")),a=r(i("1eff")),s=r(i("1632")),l=r(i("4927")),u={name:"mescroll-uni",mixins:[l.default],components:{MescrollTop:s.default},props:{down:Object,up:Object,i18n:Object,top:[String,Number],topbar:[Boolean,String],bottom:[String,Number],safearea:Boolean,fixed:{type:Boolean,default:!0},height:[String,Number],bottombar:{type:Boolean,default:!0},disableScroll:Boolean},data:function(){return{mescroll:{optDown:{},optUp:{}},viewId:"id_"+Math.random().toString(36).substr(2,16),downHight:0,downRate:0,downLoadType:0,upLoadType:0,isShowEmpty:!1,isShowToTop:!1,scrollTop:0,scrollAnim:!1,windowTop:0,windowBottom:0,windowHeight:0,statusBarHeight:0}},watch:{height:function(){this.setClientHeight()}},computed:{isFixed:function(){return!this.height&&this.fixed},scrollHeight:function(){return this.isFixed?"auto":this.height?this.toPx(this.height)+"px":"100%"},numTop:function(){return this.toPx(this.top)},fixedTop:function(){return this.isFixed?this.numTop+this.windowTop+"px":0},padTop:function(){return this.isFixed?0:this.numTop+"px"},numBottom:function(){return this.toPx(this.bottom)},fixedBottom:function(){return this.isFixed?this.numBottom+this.windowBottom+"px":0},padBottom:function(){return this.isFixed?0:this.numBottom+"px"},isDownReset:function(){return 3===this.downLoadType||4===this.downLoadType},transition:function(){return this.isDownReset?"transform 300ms":""},translateY:function(){return this.downHight>0?"translateY("+this.downHight+"px)":""},scrollable:function(){return!this.disableScroll&&(0===this.downLoadType||this.isDownReset)},isDownLoading:function(){return 3===this.downLoadType},downRotate:function(){return"rotate("+360*this.downRate+"deg)"},downText:function(){if(!this.mescroll)return"";switch(this.downLoadType){case 1:return this.mescroll.optDown.textInOffset;case 2:return this.mescroll.optDown.textOutOffset;case 3:return this.mescroll.optDown.textLoading;case 4:return this.mescroll.isDownEndSuccess?this.mescroll.optDown.textSuccess:0==this.mescroll.isDownEndSuccess?this.mescroll.optDown.textErr:this.mescroll.optDown.textInOffset;default:return this.mescroll.optDown.textInOffset}}},methods:{toPx:function(e){if("string"===typeof e)if(-1!==e.indexOf("px"))if(-1!==e.indexOf("rpx"))e=e.replace("rpx","");else{if(-1===e.indexOf("upx"))return Number(e.replace("px",""));e=e.replace("upx","")}else if(-1!==e.indexOf("%")){var t=Number(e.replace("%",""))/100;return this.windowHeight*t}return e?uni.upx2px(Number(e)):0},scroll:function(e){var t=this;this.mescroll.scroll(e.detail,(function(){t.$emit("scroll",t.mescroll)}))},emptyClick:function(){this.$emit("emptyclick",this.mescroll)},toTopClick:function(){this.mescroll.scrollTo(0,this.mescroll.optUp.toTop.duration),this.$emit("topclick",this.mescroll)},setClientHeight:function(){var e=this;this.isExec||(this.isExec=!0,this.$nextTick((function(){e.getClientInfo((function(t){e.isExec=!1,t?e.mescroll.setClientHeight(t.height):3!=e.clientNum&&(e.clientNum=null==e.clientNum?1:e.clientNum+1,setTimeout((function(){e.setClientHeight()}),100*e.clientNum))}))})))},getClientInfo:function(e){var t=uni.createSelectorQuery().in(this),i=t.select("#"+this.viewId);i.boundingClientRect((function(t){e(t)})).exec()}},created:function(){var t=this,i={down:{inOffset:function(){t.downLoadType=1},outOffset:function(){t.downLoadType=2},onMoving:function(e,i,r){t.downHight=r,t.downRate=i},showLoading:function(e,i){t.downLoadType=3,t.downHight=i},beforeEndDownScroll:function(e){return t.downLoadType=4,e.optDown.beforeEndDelay},endDownScroll:function(){t.downLoadType=4,t.downHight=0,t.downResetTimer&&clearTimeout(t.downResetTimer),t.downResetTimer=setTimeout((function(){4===t.downLoadType&&(t.downLoadType=0)}),300)},callback:function(e){t.$emit("down",e)}},up:{showLoading:function(){t.upLoadType=1},showNoMore:function(){t.upLoadType=2},hideUpScroll:function(e){t.upLoadType=e.optUp.hasNext?0:3},empty:{onShow:function(e){t.isShowEmpty=e}},toTop:{onShow:function(e){t.isShowToTop=e}},callback:function(e){t.$emit("up",e),t.setClientHeight()}}},r=a.default.getType(),s={type:r};n.default.extend(s,t.i18n),n.default.extend(s,o.default.i18n),n.default.extend(i,s[r]),n.default.extend(i,{down:o.default.down,up:o.default.up});var l=JSON.parse(JSON.stringify({down:t.down,up:t.up}));n.default.extend(l,i),t.mescroll=new n.default(l),t.mescroll.viewId=t.viewId,t.mescroll.i18n=s,t.$emit("init",t.mescroll);var u=uni.getSystemInfoSync();u.windowTop&&(t.windowTop=u.windowTop),u.windowBottom&&(t.windowBottom=u.windowBottom),u.windowHeight&&(t.windowHeight=u.windowHeight),u.statusBarHeight&&(t.statusBarHeight=u.statusBarHeight),t.mescroll.setBodyHeight(u.windowHeight),t.mescroll.resetScrollTo((function(i,r){if(t.scrollAnim=0!==r,"string"!==typeof i){var n=t.mescroll.getScrollTop();0===r||300===r?(t.scrollTop=n,t.$nextTick((function(){t.scrollTop=i}))):t.mescroll.getStep(n,i,(function(e){t.scrollTop=e}),r)}else t.getClientInfo((function(r){var n,o=r.top;-1==i.indexOf("#")&&-1==i.indexOf(".")?n="#"+i:(n=i,-1!=i.indexOf(">>>")&&(n=i.split(">>>")[1].trim())),uni.createSelectorQuery().select(n).boundingClientRect((function(i){if(i){var r=t.mescroll.getScrollTop(),a=i.top-o;a+=r,t.isFixed||(a-=t.numTop),t.scrollTop=r,t.$nextTick((function(){t.scrollTop=a}))}else e("error",n+" does not exist"," at uni_modules/mescroll-uni/components/mescroll-uni/mescroll-uni.vue:422")})).exec()}))})),t.up&&t.up.toTop&&null!=t.up.toTop.safearea||(t.mescroll.optUp.toTop.safearea=t.safearea),uni.$on("setMescrollGlobalOption",(function(e){if(e){var i=e.i18n?e.i18n.type:null;if(i&&t.mescroll.i18n.type!=i&&(t.mescroll.i18n.type=i,a.default.setType(i),n.default.extend(e,t.mescroll.i18n[i])),e.down){var r=n.default.extend({},e.down);t.mescroll.optDown=n.default.extend(r,t.mescroll.optDown)}if(e.up){var o=n.default.extend({},e.up);t.mescroll.optUp=n.default.extend(o,t.mescroll.optUp)}}}))},mounted:function(){this.setClientHeight()},destroyed:function(){uni.$off("setMescrollGlobalOption")}};t.default=u}).call(this,i("0de9")["default"])},"4c77":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swipeAction:{autoClose:!0}}},"4d00":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{col:{type:[String,Number],default:uni.$u.props.grid.col},border:{type:Boolean,default:uni.$u.props.grid.border},align:{type:String,default:uni.$u.props.grid.align}}};t.default=r},"4d44":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={gap:{bgColor:"transparent",height:20,marginTop:0,marginBottom:0,customStyle:{}}}},"4d68":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={image:{src:"",mode:"aspectFill",width:"300",height:"225",shape:"square",radius:0,lazyLoad:!0,showMenuByLongpress:!0,loadingIcon:"photo",errorIcon:"error-circle",showLoading:!0,showError:!0,fade:!0,webp:!1,duration:500,bgColor:"#f3f4f6"}}},"4df7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={statusBar:{bgColor:"transparent"}}},"4e10":function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("7037")),o=function(){function t(e,t){return null!=t&&e instanceof t}var i,r,o;try{i=Map}catch(u){i=function(){}}try{r=Set}catch(u){r=function(){}}try{o=Promise}catch(u){o=function(){}}function a(s,u,c,d,f){"object"===(0,n.default)(u)&&(c=u.depth,d=u.prototype,f=u.includeNonEnumerable,u=u.circular);var h=[],p=[],v="undefined"!=typeof e;return"undefined"==typeof u&&(u=!0),"undefined"==typeof c&&(c=1/0),function s(c,g){if(null===c)return null;if(0===g)return c;var y,m;if("object"!=(0,n.default)(c))return c;if(t(c,i))y=new i;else if(t(c,r))y=new r;else if(t(c,o))y=new o((function(e,t){c.then((function(t){e(s(t,g-1))}),(function(e){t(s(e,g-1))}))}));else if(a.__isArray(c))y=[];else if(a.__isRegExp(c))y=new RegExp(c.source,l(c)),c.lastIndex&&(y.lastIndex=c.lastIndex);else if(a.__isDate(c))y=new Date(c.getTime());else{if(v&&e.isBuffer(c))return e.from?y=e.from(c):(y=new e(c.length),c.copy(y)),y;t(c,Error)?y=Object.create(c):"undefined"==typeof d?(m=Object.getPrototypeOf(c),y=Object.create(m)):(y=Object.create(d),m=d)}if(u){var _=h.indexOf(c);if(-1!=_)return p[_];h.push(c),p.push(y)}for(var b in t(c,i)&&c.forEach((function(e,t){var i=s(t,g-1),r=s(e,g-1);y.set(i,r)})),t(c,r)&&c.forEach((function(e){var t=s(e,g-1);y.add(t)})),c){var S=Object.getOwnPropertyDescriptor(c,b);S&&(y[b]=s(c[b],g-1));try{var T=Object.getOwnPropertyDescriptor(c,b);if("undefined"===T.set)continue;y[b]=s(c[b],g-1)}catch(C){if(C instanceof TypeError)continue;if(C instanceof ReferenceError)continue}}if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(c);for(b=0;b<E.length;b++){var w=E[b],k=Object.getOwnPropertyDescriptor(c,w);(!k||k.enumerable||f)&&(y[w]=s(c[w],g-1),Object.defineProperty(y,w,k))}}if(f){var x=Object.getOwnPropertyNames(c);for(b=0;b<x.length;b++){var A=x[b];k=Object.getOwnPropertyDescriptor(c,A);k&&k.enumerable||(y[A]=s(c[A],g-1),Object.defineProperty(y,A,k))}}return y}(s,c)}function s(e){return Object.prototype.toString.call(e)}function l(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=s,a.__isDate=function(e){return"object"===(0,n.default)(e)&&"[object Date]"===s(e)},a.__isArray=function(e){return"object"===(0,n.default)(e)&&"[object Array]"===s(e)},a.__isRegExp=function(e){return"object"===(0,n.default)(e)&&"[object RegExp]"===s(e)},a.__getRegExpFlags=l,a}(),a=o;t.default=a}).call(this,i("b639").Buffer)},"4ea4":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"4f11":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uLoadingPage:i("b56b").default,uLoadmore:i("7f08").default,uRow:i("fe3a").default,uCol:i("6014").default,uButton:i("0875").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",[i("Wnavbar",{attrs:{title:this.searchData.title,_i:1}}),i("u-loading-page",{attrs:{loading:!e.ComicVal,_i:2}}),e._$s(3,"i",e.ComicVal)?i("view",{staticClass:e._$s(3,"sc","video-box-class"),attrs:{_i:3}},[i("view",{},[i("scroll-view",{staticClass:e._$s(5,"sc","scroll-Y"),attrs:{_i:5},on:{scrolltoupper:e.upper}},[e._l(e._$s(6,"f",{forItems:e.onloadComicValImg}),(function(t,r,n,o){return i("image",{key:e._$s(6,"f",{forIndex:n,key:r}),attrs:{src:e._$s("6-"+o,"a-src",t),_i:"6-"+o},on:{load:e.getImg,error:e.errImg}})})),i("u-loadmore",{attrs:{status:e.ComicVal.length>0?"loading":"nomore",loadingText:"\u7b49\u4e00\u7b49,\u672c\u7ae0\u8fd8\u5728\u52a0\u8f7d.",nomoreText:"\u6ca1\u6709\u66f4\u591a\u4e86,\u8bf7\u70b9\u51fb\u4e0b\u4e00\u7ae0.",_i:7}})],2)]),i("u-row",{attrs:{customStyle:"margin: 50rpx 0 50rpx 0",_i:8}},[i("u-col",{attrs:{span:"2",_i:9}}),i("u-col",{attrs:{span:"3",_i:10}},[i("view",{directives:[{name:"show",rawName:"v-show",value:e._$s(11,"v-show",e.upbotton.show),expression:"_$s(11,'v-show',upbotton.show)"}],attrs:{_i:11}},[i("u-button",{attrs:{type:"primary",size:"small",text:"\u4e0a\u4e00\u7ae0",_i:12},on:{click:function(t){return e.bottonClick(1)}}})],1)]),i("u-col",{attrs:{span:"2",_i:13}}),i("u-col",{attrs:{span:"3",_i:14}},[i("view",{directives:[{name:"show",rawName:"v-show",value:e._$s(15,"v-show",e.downbotton.show),expression:"_$s(15,'v-show',downbotton.show)"}],attrs:{_i:15}},[i("u-button",{attrs:{type:"primary",size:"small",text:"\u4e0b\u4e00\u7ae0",_i:16},on:{click:function(t){return e.bottonClick(2)}}})],1)]),i("u-col",{attrs:{span:"2",_i:17}})],1)],1):e._e()],1)},o=[]},"4f9b":function(e,t,i){"use strict";i.r(t);var r=i("4fb7"),n=i("7725");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"bc26bc76",null,!1,r["a"],void 0);t["default"]=s.exports},"4fb7":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uBadge:i("9bd9").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","u-tabs"),attrs:{_i:0}},[i("view",{staticClass:e._$s(1,"sc","u-tabs__wrapper"),attrs:{_i:1}},[e._t("left",null,{_i:2}),i("view",{staticClass:e._$s(3,"sc","u-tabs__wrapper__scroll-view-wrapper"),attrs:{_i:3}},[i("scroll-view",{ref:"u-tabs__wrapper__scroll-view",staticClass:e._$s(4,"sc","u-tabs__wrapper__scroll-view"),attrs:{"scroll-x":e._$s(4,"a-scroll-x",e.scrollable),"scroll-left":e._$s(4,"a-scroll-left",e.scrollLeft),_i:4}},[i("view",{ref:"u-tabs__wrapper__nav",staticClass:e._$s(5,"sc","u-tabs__wrapper__nav"),attrs:{_i:5}},[e._l(e._$s(6,"f",{forItems:e.list}),(function(t,r,n,o){return i("view",{key:e._$s(6,"f",{forIndex:n,key:r}),ref:e._$s("6-"+o,"ref","u-tabs__wrapper__nav__item-"+r),refInFor:!0,staticClass:e._$s("6-"+o,"sc","u-tabs__wrapper__nav__item"),class:e._$s("6-"+o,"c",["u-tabs__wrapper__nav__item-"+r,t.disabled&&"u-tabs__wrapper__nav__item--disabled"]),style:e._$s("6-"+o,"s",[e.$u.addStyle(e.itemStyle),{flex:e.scrollable?"":1}]),attrs:{_i:"6-"+o},on:{click:function(i){return e.clickHandler(t,r)}}},[i("text",{staticClass:e._$s("7-"+o,"sc","u-tabs__wrapper__nav__item__text"),class:e._$s("7-"+o,"c",[t.disabled&&"u-tabs__wrapper__nav__item__text--disabled"]),style:e._$s("7-"+o,"s",[e.textStyle(r)]),attrs:{_i:"7-"+o}},[e._v(e._$s("7-"+o,"t0-0",e._s(t[e.keyName])))]),i("u-badge",{attrs:{show:!(!t.badge||!(t.badge.show||t.badge.isDot||t.badge.value)),isDot:t.badge&&t.badge.isDot||e.propsBadge.isDot,value:t.badge&&t.badge.value||e.propsBadge.value,max:t.badge&&t.badge.max||e.propsBadge.max,type:t.badge&&t.badge.type||e.propsBadge.type,showZero:t.badge&&t.badge.showZero||e.propsBadge.showZero,bgColor:t.badge&&t.badge.bgColor||e.propsBadge.bgColor,color:t.badge&&t.badge.color||e.propsBadge.color,shape:t.badge&&t.badge.shape||e.propsBadge.shape,numberType:t.badge&&t.badge.numberType||e.propsBadge.numberType,inverted:t.badge&&t.badge.inverted||e.propsBadge.inverted,customStyle:"margin-left: 4px;",_i:"8-"+o}})],1)})),i("view",{ref:"u-tabs__wrapper__nav__line",staticClass:e._$s(9,"sc","u-tabs__wrapper__nav__line"),style:e._$s(9,"s",[{width:e.$u.addUnit(e.lineWidth),transform:"translate("+e.lineOffsetLeft+"px)",transitionDuration:(e.firstTime?0:e.duration)+"ms",height:e.$u.addUnit(e.lineHeight),background:e.lineColor,backgroundSize:e.lineBgSize}]),attrs:{_i:9}})],2)])]),e._t("right",null,{_i:10})],2)])},o=[]},5260:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("scroll-view",{staticClass:e._$s(0,"sc","u-list"),style:e._$s(0,"s",[e.listStyle]),attrs:{"scroll-into-view":e._$s(0,"a-scroll-into-view",e.scrollIntoView),"scroll-top":e._$s(0,"a-scroll-top",Number(e.scrollTop)),"lower-threshold":e._$s(0,"a-lower-threshold",Number(e.lowerThreshold)),"upper-threshold":e._$s(0,"a-upper-threshold",Number(e.upperThreshold)),"show-scrollbar":e._$s(0,"a-show-scrollbar",e.showScrollbar),"enable-back-to-top":e._$s(0,"a-enable-back-to-top",e.enableBackToTop),"scroll-with-animation":e._$s(0,"a-scroll-with-animation",e.scrollWithAnimation),_i:0},on:{scroll:e.onScroll,scrolltolower:e.scrolltolower,scrolltoupper:e.scrolltoupper}},[i("view",[e._t("default",null,{_i:2})],2)])},n=[]},"540f":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("444a")),o={name:"u-popup",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{overlayDuration:this.duration+50}},watch:{show:function(e,t){}},computed:{transitionStyle:function(){var e={zIndex:this.zIndex,position:"fixed",display:"flex"};return e[this.mode]=0,"left"===this.mode||"right"===this.mode?uni.$u.deepMerge(e,{bottom:0,top:0}):"top"===this.mode||"bottom"===this.mode?uni.$u.deepMerge(e,{left:0,right:0}):"center"===this.mode?uni.$u.deepMerge(e,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0}):void 0},contentStyle:function(){var e={},t=uni.$u.sys();t.safeAreaInsets;if("center"!==this.mode&&(e.flex=1),this.bgColor&&(e.backgroundColor=this.bgColor),this.round){var i=uni.$u.addUnit(this.round);"top"===this.mode?(e.borderBottomLeftRadius=i,e.borderBottomRightRadius=i):"bottom"===this.mode?(e.borderTopLeftRadius=i,e.borderTopRightRadius=i):"center"===this.mode&&(e.borderRadius=i)}return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},position:function(){return"center"===this.mode?this.zoom?"fade-zoom":"fade":"left"===this.mode?"slide-left":"right"===this.mode?"slide-right":"bottom"===this.mode?"slide-up":"top"===this.mode?"slide-down":void 0}},methods:{overlayClick:function(){this.closeOnClickOverlay&&this.$emit("close")},close:function(e){this.$emit("close")},afterEnter:function(){this.$emit("open")},clickHandler:function(){"center"===this.mode&&this.overlayClick(),this.$emit("click")}}};t.default=o},"567a":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("11f2")),o=n.default.color,a={loadingIcon:{show:!0,color:o["u-tips-color"],textColor:o["u-tips-color"],vertical:!1,mode:"spinner",size:24,textSize:15,text:"",timingFunction:"ease-in-out",duration:1200,inactiveColor:""}};t.default=a},"570d":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("5fbe")),o={components:{nxSearch:n.default},data:function(){return{selectList:[{id:1,name:"\u5c0f\u8bf4"},{id:2,name:"\u6f2b\u753b"},{id:3,name:"\u89c6\u9891"}],keyword:""}},onLoad:function(){},methods:{doSearch:function(e){var t=null;0==e.selectIndex&&(t="/pages/components/dataList/dataList?type=".concat("book","&name=",e.keyword,"&title=",1)),1==e.selectIndex&&(t="/pages/components/dataList/dataList?type=".concat("comic","&name=",e.keyword,"&title=",1)),2==e.selectIndex&&(t="/pages/components/dataList/dataList?type=".concat("video","&name=",e.keyword,"&title=",1)),uni.navigateTo({url:t})},doSearc:function(e){this.doSearch(e)}}};t.default=o},5976:function(e,t,i){"use strict";i.r(t);var r=i("aa32"),n=i("e71a");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"a2196de4",null,!1,r["a"],void 0);t["default"]=s.exports},"59d1":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("4d00")),o={name:"u-grid",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{index:0,width:0}},watch:{parentData:function(){this.children.length&&this.children.map((function(e){"function"==typeof e.updateParentData&&e.updateParentData()}))}},created:function(){this.children=[]},computed:{parentData:function(){return[this.hoverClass,this.col,this.size,this.border]},gridStyle:function(){var e={};switch(this.align){case"left":e.justifyContent="flex-start";break;case"center":e.justifyContent="center";break;case"right":e.justifyContent="flex-end";break;default:e.justifyContent="flex-start"}return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},methods:{childClick:function(e){this.$emit("click",e)}}};t.default=o},"5a43":function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5bc1":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uLoadingPage:i("b56b").default,"u-Image":i("dc66").default,uRow:i("fe3a").default,uCol:i("6014").default,uTag:i("bc56").default,uButton:i("0875").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",[i("downScroll",{ref:"downscroll",attrs:{downLoadFun:e.loadXHRFun,_i:1}},[i("Wnavbar",{attrs:{title:"\u7ae0\u8282",_i:2}}),i("u-loading-page",{attrs:{loading:!e.chapterInfo,_i:3}}),i("view",{staticClass:e._$s(4,"sc","Chapter-class-box"),attrs:{_i:4}},[e._$s(5,"i",e.chapterInfo)?i("view",{staticClass:e._$s(5,"sc","cover-class"),attrs:{_i:5}},[i("h3",{staticClass:e._$s(6,"sc","title-class"),attrs:{_i:6}},[e._v(e._$s(6,"t0-0",e._s(e.routeData.name)))]),i("u--image",{attrs:{src:e.chapterInfo?e.chapterInfo.cover:"",radius:"10rpx",fade:!0,duration:"450",width:"220rpx",height:"340rpx",_i:7}},[i("view",{slot:"error"})]),i("view",{staticClass:e._$s(9,"sc","content-blurb"),attrs:{_i:9}},[i("u-row",{attrs:{customStyle:"margin-bottom: 10px",_i:10}},[i("u-col",{attrs:{span:"2",_i:11}},[i("view",{staticClass:e._$s(12,"sc","demo-layout bg-purple-light"),attrs:{_i:12}})]),i("u-col",{attrs:{span:"10",_i:13}},[i("view",{staticClass:e._$s(14,"sc","demo-layout bg-purple"),attrs:{_i:14}},[e._v(e._$s(14,"t0-0",e._s(e.chapterInfo?e.chapterInfo.author:"")))])])],1),i("u-row",{attrs:{customStyle:"margin-bottom: 10px",_i:15}},[i("u-col",{attrs:{span:"2",_i:16}},[i("view",{staticClass:e._$s(17,"sc","demo-layout bg-purple-light"),attrs:{_i:17}})]),i("u-col",{attrs:{span:"10",_i:18}},[i("view",{staticClass:e._$s(19,"sc","demo-layout bg-purple"),attrs:{_i:19}},[i("span",e._l(e._$s(21,"f",{forItems:e.chapterInfo?e.chapterInfo.typeList.split(","):[]}),(function(t,r,n,o){return i("u-tag",{key:e._$s(21,"f",{forIndex:n,key:r}),attrs:{text:t,plain:!0,size:"mini",type:"warning",_i:"21-"+o}})})),1)])])],1),i("u-row",{attrs:{customStyle:"margin-bottom: 10px",_i:22}},[i("u-col",{attrs:{span:"2",_i:23}},[i("view",{staticClass:e._$s(24,"sc","demo-layout bg-purple-light"),attrs:{_i:24}})]),i("u-col",{attrs:{span:"10",_i:25}},[i("view",{staticClass:e._$s(26,"sc","demo-layout bg-purple"),attrs:{_i:26}},[e._v(e._$s(26,"t0-0",e._s(e.chapterInfo?e.chapterInfo.descs:"")))])])],1)],1),i("view",{staticClass:e._$s(27,"sc","select-chapter-botton"),attrs:{_i:27}},[i("u-button",{attrs:{type:"primary",plain:!0,text:"\u9009\u62e9\u76ee\u5f55",_i:28},on:{click:e.clickShowfun}})],1)],1):e._e()]),i("nWpopup",{ref:"popup",attrs:{type:e.routeData.type,listData:e.chapterInfo?e.chapterInfo.chapterList:[],id:e._$s(29,"a-id",e.searchOption),name:e.routeData.name,_i:29}})],1)],1)},o=[]},"5bc19":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={id:"2852637",name:"uniui\u56fe\u6807\u5e93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]}},"5bc3":function(e,t,i){var r=i("a395");function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r(n.key),n)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5c05":function(e,t,i){"use strict";i.r(t);var r=i("66fa"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"5d17":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={notify:{top:0,type:"primary",color:"#ffffff",bgColor:"",message:"",duration:3e3,fontSize:15,safeAreaInsetTop:!1}}},"5e22":function(e,t,i){"use strict";i.r(t);var r=i("ad81"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"5e3d":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","u-icon"),class:e._$s(0,"c",["u-icon--"+e.labelPos]),attrs:{_i:0},on:{click:e.clickHandler}},[e._$s(1,"i",e.isImg)?i("image",{staticClass:e._$s(1,"sc","u-icon__img"),style:e._$s(1,"s",[e.imgStyle,e.$u.addStyle(e.customStyle)]),attrs:{src:e._$s(1,"a-src",e.name),mode:e._$s(1,"a-mode",e.imgMode),_i:1}}):i("text",{staticClass:e._$s(2,"sc","u-icon__icon"),class:e._$s(2,"c",e.uClasses),style:e._$s(2,"s",[e.iconStyle,e.$u.addStyle(e.customStyle)]),attrs:{"hover-class":e._$s(2,"a-hover-class",e.hoverClass),_i:2}},[e._v(e._$s(2,"t0-0",e._s(e.icon)))]),e._$s(3,"i",""!==e.label)?i("text",{staticClass:e._$s(3,"sc","u-icon__label"),style:e._$s(3,"s",{color:e.labelColor,fontSize:e.$u.addUnit(e.labelSize),marginLeft:"right"==e.labelPos?e.$u.addUnit(e.space):0,marginTop:"bottom"==e.labelPos?e.$u.addUnit(e.space):0,marginRight:"left"==e.labelPos?e.$u.addUnit(e.space):0,marginBottom:"top"==e.labelPos?e.$u.addUnit(e.space):0}),attrs:{_i:3}},[e._v(e._$s(3,"t0-0",e._s(e.label)))]):e._e()])},n=[]},"5e6e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={numberBox:{name:"",value:0,min:1,max:Number.MAX_SAFE_INTEGER,step:1,integer:!1,disabled:!1,disabledInput:!1,asyncChange:!1,inputWidth:35,showMinus:!0,showPlus:!0,decimalLength:null,longPress:!0,color:"#323233",buttonSize:30,bgColor:"#EBECEE",cursorSpacing:100,disableMinus:!1,disablePlus:!1,iconStyle:""}};t.default=r},"5f99":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={loadingPage:{loadingText:"\u6b63\u5728\u52a0\u8f7d",image:"",loadingMode:"circle",loading:!1,bgColor:"#ffffff",color:"#C8C8C8",fontSize:19,iconSize:28,loadingColor:"#C8C8C8"}}},"5fbe":function(e,t,i){"use strict";i.r(t);var r=i("422b"),n=i("e253");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"89be3aac",null,!1,r["a"],void 0);t["default"]=s.exports},6014:function(e,t,i){"use strict";i.r(t);var r=i("07e8"),n=i("840c");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"4a13efb0",null,!1,r["a"],void 0);t["default"]=s.exports},6021:function(e,t,i){"use strict";i.r(t);var r=i("9d00"),n=i("2de3");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"2150815e",null,!1,r["a"],void 0);t["default"]=s.exports},"606c":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uCell:i("6021").default,uLine:i("8638").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","u-collapse-item"),attrs:{_i:0}},[i("u-cell",{attrs:{title:e.title,value:e.value,label:e.label,icon:e.icon,isLink:e.isLink,clickable:e.clickable,border:e.parentData.border&&e.showBorder,arrowDirection:e.expanded?"up":"down",disabled:e.disabled,_i:1},on:{click:e.clickHandler}},[i("template",{slot:"title"},[e._t("title",null,{_i:3})],2),i("template",{slot:"icon"},[e._t("icon",null,{_i:5})],2),i("template",{slot:"value"},[e._t("value",null,{_i:7})],2),i("template",{slot:"right-icon"},[e._t("right-icon",null,{_i:9})],2)],2),i("view",{ref:"animation",staticClass:e._$s(10,"sc","u-collapse-item__content"),attrs:{animation:e._$s(10,"a-animation",e.animationData),_i:10}},[i("view",{ref:e._$s(11,"ref",e.elId),staticClass:e._$s(11,"sc","u-collapse-item__content__text content-class"),attrs:{id:e._$s(11,"a-id",e.elId),_i:11}},[e._t("default",null,{_i:12})],2)]),e._$s(13,"i",e.parentData.border)?i("u-line",{attrs:{_i:13}}):e._e()],1)},o=[]},6083:function(e,t,i){"use strict";i.r(t);var r=i("98a7"),n=i("b1ce");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},6116:function(e,t,i){"use strict";i.r(t);var r=i("b77d"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"615d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={countTo:{startVal:0,endVal:0,duration:2e3,autoplay:!0,decimals:0,useEasing:!0,decimal:".",color:"#606266",fontSize:22,bold:!1,separator:""}}},"61f5":function(e,t,i){"use strict";i.r(t);var r=i("3eae"),n=i("e1fc");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},6251:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{hairline:{type:Boolean,default:uni.$u.props.button.hairline},type:{type:String,default:uni.$u.props.button.type},size:{type:String,default:uni.$u.props.button.size},shape:{type:String,default:uni.$u.props.button.shape},plain:{type:Boolean,default:uni.$u.props.button.plain},disabled:{type:Boolean,default:uni.$u.props.button.disabled},loading:{type:Boolean,default:uni.$u.props.button.loading},loadingText:{type:[String,Number],default:uni.$u.props.button.loadingText},loadingMode:{type:String,default:uni.$u.props.button.loadingMode},loadingSize:{type:[String,Number],default:uni.$u.props.button.loadingSize},openType:{type:String,default:uni.$u.props.button.openType},formType:{type:String,default:uni.$u.props.button.formType},appParameter:{type:String,default:uni.$u.props.button.appParameter},hoverStopPropagation:{type:Boolean,default:uni.$u.props.button.hoverStopPropagation},lang:{type:String,default:uni.$u.props.button.lang},sessionFrom:{type:String,default:uni.$u.props.button.sessionFrom},sendMessageTitle:{type:String,default:uni.$u.props.button.sendMessageTitle},sendMessagePath:{type:String,default:uni.$u.props.button.sendMessagePath},sendMessageImg:{type:String,default:uni.$u.props.button.sendMessageImg},showMessageCard:{type:Boolean,default:uni.$u.props.button.showMessageCard},dataName:{type:String,default:uni.$u.props.button.dataName},throttleTime:{type:[String,Number],default:uni.$u.props.button.throttleTime},hoverStartTime:{type:[String,Number],default:uni.$u.props.button.hoverStartTime},hoverStayTime:{type:[String,Number],default:uni.$u.props.button.hoverStayTime},text:{type:[String,Number],default:uni.$u.props.button.text},icon:{type:String,default:uni.$u.props.button.icon},iconColor:{type:String,default:uni.$u.props.button.icon},color:{type:String,default:uni.$u.props.button.color}}};t.default=r},"62b4":function(e,t,i){"use strict";i.r(t);var r=i("966f"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"62c7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={textarea:{value:"",placeholder:"",placeholderClass:"textarea-placeholder",placeholderStyle:"color: #c0c4cc",height:70,confirmType:"done",disabled:!1,count:!1,focus:!1,autoHeight:!1,fixed:!1,cursorSpacing:0,cursor:"",showConfirmBar:!0,selectionStart:-1,selectionEnd:-1,adjustPosition:!0,disableDefaultPadding:!1,holdKeyboard:!1,maxlength:140,border:"surround",formatter:null}}},"635a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={sticky:{offsetTop:0,customNavHeight:0,disabled:!1,bgColor:"transparent",zIndex:"",index:""}}},6489:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{gutter:{type:[String,Number],default:uni.$u.props.row.gutter},justify:{type:String,default:uni.$u.props.row.justify},align:{type:String,default:uni.$u.props.row.align}}};t.default=r},"65d3":function(e,t,i){"use strict";i.r(t);var r=i("e018"),n=i("cda9");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},6613:function(e,t,i){var r=i("5a43");e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"667a":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("38db")),o={name:"u-loading-icon",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}},computed:{otherBorderColor:function(){var e=uni.$u.colorGradient(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:e:"transparent"}},watch:{show:function(e){}},mounted:function(){this.init()},methods:{init:function(){var e=this;setTimeout((function(){e.show&&e.addEventListenerToWebview()}),20)},addEventListenerToWebview:function(){var e=this,t=getCurrentPages(),i=t[t.length-1],r=i.$getAppWebview();r.addEventListener("hide",(function(){e.webviewHide=!0})),r.addEventListener("show",(function(){e.webviewHide=!1}))}}};t.default=o},"66fa":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={onLaunch:function(){e("log","App Launch"," at App.vue:4")},onShow:function(){e("log","App Show"," at App.vue:17")},onHide:function(){e("log","App Hide"," at App.vue:20")}};t.default=i}).call(this,i("0de9")["default"])},"680b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{loadingText:{type:[String,Number],default:uni.$u.props.loadingPage.loadingText},image:{type:String,default:uni.$u.props.loadingPage.image},loadingMode:{type:String,default:uni.$u.props.loadingPage.loadingMode},loading:{type:Boolean,default:uni.$u.props.loadingPage.loading},bgColor:{type:String,default:uni.$u.props.loadingPage.bgColor},color:{type:String,default:uni.$u.props.loadingPage.color},fontSize:{type:[String,Number],default:uni.$u.props.loadingPage.fontSize},iconSize:{type:[String,Number],default:uni.$u.props.loadingPage.fontSize},loadingColor:{type:String,default:uni.$u.props.loadingPage.loadingColor}}};t.default=r},"68ce":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("f102")),o={name:"u-tag",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{}},computed:{style:function(){var e={};return this.bgColor&&(e.backgroundColor=this.bgColor),this.color&&(e.color=this.color),this.borderColor&&(e.borderColor=this.borderColor),e},textColor:function(){var e={};return this.color&&(e.color=this.color),e},imgStyle:function(){var e="large"===this.size?"17px":"medium"===this.size?"15px":"13px";return{width:e,height:e}},closeSize:function(){var e="large"===this.size?15:"medium"===this.size?13:12;return e},iconSize:function(){var e="large"===this.size?21:"medium"===this.size?19:16;return e},elIconColor:function(){return this.iconColor?this.iconColor:this.plain?this.type:"#ffffff"}},methods:{closeHandler:function(){this.$emit("close",this.name)},clickHandler:function(){this.$emit("click",this.name)}}};t.default=o},"6a0d":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("f6a6")),o={name:"u-image",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{},show:!1}},watch:{src:{immediate:!0,handler:function(e){e?(this.isError=!1,this.loading=!0):this.isError=!0}}},computed:{wrapStyle:function(){var e={};return e.width=this.$u.addUnit(this.width),e.height=this.$u.addUnit(this.height),e.borderRadius="circle"==this.shape?"10000px":uni.$u.addUnit(this.radius),e.overflow=this.borderRadius>0?"hidden":"visible",uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},mounted:function(){this.show=!0},methods:{onClick:function(){this.$emit("click")},onErrorHandler:function(e){this.loading=!1,this.isError=!0,this.$emit("error",e)},onLoadHandler:function(e){this.loading=!1,this.isError=!1,this.$emit("load",e),this.removeBgColor()},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}};t.default=o},"6b0f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={overlay:{show:!1,zIndex:10070,duration:300,opacity:.5}}},"6b58":function(e,t,i){var r=i("7037")["default"],n=i("3c96");e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return n(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"6b95":function(e,t,i){"use strict";i.r(t);var r=i("9647"),n=i("3c14");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"6ba4":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("488d")),o={name:"u-loadmore",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{dotText:"\u25cf"}},computed:{loadTextStyle:function(){return{color:this.color,fontSize:uni.$u.addUnit(this.fontSize),lineHeight:uni.$u.addUnit(this.fontSize),backgroundColor:this.bgColor}},showText:function(){var e="";return e="loadmore"==this.status?this.loadmoreText:"loading"==this.status?this.loadingText:"nomore"==this.status&&this.isDot?this.dotText:this.nomoreText,e}},methods:{loadMore:function(){"loadmore"==this.status&&this.$emit("loadmore")}}};t.default=o},"6bdb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={baseURL:"",header:{},method:"GET",dataType:"json",responseType:"text",custom:{},timeout:6e4,sslVerify:!0,firstIpv4:!1,validateStatus:function(e){return e>=200&&e<300}}},"6cfd":function(e,t,i){"use strict";i.r(t);var r=i("b765"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"6da0":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("278c")),o=r(i("7037")),a=r(i("0e3a")),s=i("ea86");function l(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakMap;if(null===e||"object"!==(0,o.default)(e))return e;if(i.has(e))return i.get(e);if(e instanceof Date)t=new Date(e.getTime());else if(e instanceof RegExp)t=new RegExp(e);else if(e instanceof Map)t=new Map(Array.from(e,(function(e){var t=(0,n.default)(e,2),r=t[0],o=t[1];return[r,l(o,i)]})));else if(e instanceof Set)t=new Set(Array.from(e,(function(e){return l(e,i)})));else if(Array.isArray(e))t=e.map((function(e){return l(e,i)}));else if("[object Object]"===Object.prototype.toString.call(e)){t=Object.create(Object.getPrototypeOf(e)),i.set(e,t);for(var r=0,a=Object.entries(e);r<a.length;r++){var s=(0,n.default)(a[r],2),u=s[0],c=s[1];t[u]=l(c,i)}}else t=Object.assign({},e);return i.set(e,t),t}function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";e=t?/^\d{10}$/.test(null===t||void 0===t?void 0:t.toString().trim())?new Date(1e3*t):"string"===typeof t&&/^\d+$/.test(t.trim())?new Date(Number(t)):"string"===typeof t&&t.includes("-")&&!t.includes("T")?new Date(t.replace(/-/g,"/")):new Date(t):new Date;var r={y:e.getFullYear().toString(),m:(e.getMonth()+1).toString().padStart(2,"0"),d:e.getDate().toString().padStart(2,"0"),h:e.getHours().toString().padStart(2,"0"),M:e.getMinutes().toString().padStart(2,"0"),s:e.getSeconds().toString().padStart(2,"0")};for(var o in r){var a=new RegExp("".concat(o,"+")).exec(i)||[],s=(0,n.default)(a,1),l=s[0];if(l){var u="y"===o&&2===l.length?2:0;i=i.replace(l,r[o].slice(u))}}return i}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return e=String(e),"both"==t?e.replace(/^\s+|\s+$/g,""):"left"==t?e.replace(/^\s*/,""):"right"==t?e.replace(/(\s*$)/g,""):"all"==t?e.replace(/\s+/g,""):e}String.prototype.padStart||(String.prototype.padStart=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if("[object String]"!==Object.prototype.toString.call(t))throw new TypeError("fillString must be String");var i=this;if(i.length>=e)return String(i);var r=e-i.length,n=Math.ceil(r/t.length);while(n>>=1)t+=t,1===n&&(t+=t);return t.slice(0,r)+i});var d={range:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(e,Math.min(t,Number(i)))},getPx:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.default.number(e)?t?"".concat(e,"px"):Number(e):/(rpx|upx)$/.test(e)?t?"".concat(uni.upx2px(parseInt(e)),"px"):Number(uni.upx2px(parseInt(e))):t?"".concat(parseInt(e),"px"):parseInt(e)},sleep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return new Promise((function(t){setTimeout((function(){t()}),e)}))},os:function(){return uni.getSystemInfoSync().platform.toLowerCase()},sys:function(){return uni.getSystemInfoSync()},random:function(e,t){if(e>=0&&t>0&&t>=e){var i=t-e+1;return Math.floor(Math.random()*i+e)}return 0},guid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[];if(i=i||r.length,e)for(var o=0;o<e;o++)n[o]=r[0|Math.random()*i];else{var a;n[8]=n[13]=n[18]=n[23]="-",n[14]="4";for(var s=0;s<36;s++)n[s]||(a=0|16*Math.random(),n[s]=r[19==s?3&a|8:a])}return t?(n.shift(),"u".concat(n.join(""))):n.join("")},$parent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.$parent;while(t){if(!t.$options||t.$options.name===e)return t;t=t.$parent}return!1},addStyle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"object";if(a.default.empty(e)||"object"===(0,o.default)(e)&&"object"===t||"string"===t&&"string"===typeof e)return e;if("object"===t){e=c(e);for(var i=e.split(";"),r={},n=0;n<i.length;n++)if(i[n]){var s=i[n].split(":");r[c(s[0])]=c(s[1])}return r}var l="";for(var u in e){var d=u.replace(/([A-Z])/g,"-$1").toLowerCase();l+="".concat(d,":").concat(e[u],";")}return c(l)},addUnit:function(){var e,t,i,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null!==(e=null===(t=uni)||void 0===t||null===(i=t.$u)||void 0===i||null===(r=i.config)||void 0===r?void 0:r.unit)&&void 0!==e?e:"px";return n=String(n),a.default.number(n)?"".concat(n).concat(o):n},deepClone:l,deepMerge:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=l(t),"object"!==(0,o.default)(t)||null===t||"object"!==(0,o.default)(i)||null===i)return t;var r=Array.isArray(t)?t.slice():Object.assign({},t);for(var n in i)if(i.hasOwnProperty(n)){var a=i[n],s=r[n];a instanceof Date?r[n]=new Date(a):a instanceof RegExp?r[n]=new RegExp(a):a instanceof Map?r[n]=new Map(a):a instanceof Set?r[n]=new Set(a):"object"===(0,o.default)(a)&&null!==a?r[n]=e(s,a):r[n]=a}return r},error:function(e){0},randomArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(){return Math.random()-.5}))},timeFormat:u,timeFrom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";null==e&&(e=Number(new Date)),e=parseInt(e),10==e.toString().length&&(e*=1e3);var i=(new Date).getTime()-e;i=parseInt(i/1e3);var r="";switch(!0){case i<300:r="\u521a\u521a";break;case i>=300&&i<3600:r="".concat(parseInt(i/60),"\u5206\u949f\u524d");break;case i>=3600&&i<86400:r="".concat(parseInt(i/3600),"\u5c0f\u65f6\u524d");break;case i>=86400&&i<2592e3:r="".concat(parseInt(i/86400),"\u5929\u524d");break;default:r=!1===t?i>=2592e3&&i<31536e3?"".concat(parseInt(i/2592e3),"\u4e2a\u6708\u524d"):"".concat(parseInt(i/31536e3),"\u5e74\u524d"):u(e,t)}return r},trim:c,queryParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"brackets",r=t?"?":"",n=[];-1==["indices","brackets","repeat","comma"].indexOf(i)&&(i="brackets");var o=function(t){var r=e[t];if(["",void 0,null].indexOf(r)>=0)return"continue";if(r.constructor===Array)switch(i){case"indices":for(var o=0;o<r.length;o++)n.push("".concat(t,"[").concat(o,"]=").concat(r[o]));break;case"brackets":r.forEach((function(e){n.push("".concat(t,"[]=").concat(e))}));break;case"repeat":r.forEach((function(e){n.push("".concat(t,"=").concat(e))}));break;case"comma":var a="";r.forEach((function(e){a+=(a?",":"")+e})),n.push("".concat(t,"=").concat(a));break;default:r.forEach((function(e){n.push("".concat(t,"[]=").concat(e))}))}else n.push("".concat(t,"=").concat(r))};for(var a in e)o(a);return n.length?r+n.join("&"):""},toast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;uni.showToast({title:String(e),icon:"none",duration:t})},type2icon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];-1==["primary","info","error","warning","success"].indexOf(e)&&(e="success");var i="";switch(e){case"primary":i="info-circle";break;case"info":i="info-circle";break;case"error":i="close-circle";break;case"warning":i="error-circle";break;case"success":i="checkmark-circle";break;default:i="checkmark-circle"}return t&&(i+="-fill"),i},priceFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";e="".concat(e).replace(/[^0-9+-Ee.]/g,"");var n=isFinite(+e)?+e:0,o=isFinite(+t)?Math.abs(t):0,a="undefined"===typeof r?",":r,l="undefined"===typeof i?".":i,u="";u=(o?(0,s.round)(n,o)+"":"".concat(Math.round(n))).split(".");var c=/(-?\d+)(\d{3})/;while(c.test(u[0]))u[0]=u[0].replace(c,"$1".concat(a,"$2"));return(u[1]||"").length<o&&(u[1]=u[1]||"",u[1]+=new Array(o-u[1].length+1).join("0")),u.join(l)},getDuration:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=parseInt(e);return t?/s$/.test(e)?e:"".concat(e,e>30?"ms":"s"):/ms$/.test(e)?i:/s$/.test(e)?i>30?i:1e3*i:i},padZero:function(e){return"00".concat(e).slice(-2)},formValidate:function(e,t){var i=uni.$u.$parent.call(e,"u-form-item"),r=uni.$u.$parent.call(e,"u-form");i&&r&&r.validateField(i.prop,(function(){}),t)},getProperty:function(e,t){if(e){if("string"!==typeof t||""===t)return"";if(-1!==t.indexOf(".")){for(var i=t.split("."),r=e[i[0]]||{},n=1;n<i.length;n++)r&&(r=r[i[n]]);return r}return e[t]}},setProperty:function(e,t,i){if(e){if("string"!==typeof t||""===t);else if(-1!==t.indexOf(".")){var r=t.split(".");(function e(t,i,r){if(1!==i.length)while(i.length>1){var n=i[0];t[n]&&"object"===(0,o.default)(t[n])||(t[n]={});i.shift();e(t[n],i,r)}else t[i[0]]=r})(e,r,i)}else e[t]=i}},page:function(){var e,t,i=getCurrentPages();return"/".concat(null!==(e=null===(t=i[i.length-1])||void 0===t?void 0:t.route)&&void 0!==e?e:"")},pages:function(){var e=getCurrentPages();return e},getHistoryPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=getCurrentPages(),i=t.length;return t[i-1+e]},setConfig:function(e){var t=e.props,i=void 0===t?{}:t,r=e.config,n=void 0===r?{}:r,o=e.color,a=void 0===o?{}:o,s=e.zIndex,l=void 0===s?{}:s,u=uni.$u.deepMerge;uni.$u.config=u(uni.$u.config,n),uni.$u.props=u(uni.$u.props,i),uni.$u.color=u(uni.$u.color,a),uni.$u.zIndex=u(uni.$u.zIndex,l)}};t.default=d},"6e4b":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("f457")),o={name:"u-navbar",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{}},methods:{leftClick:function(){this.$emit("leftClick"),this.autoBack&&uni.navigateBack()},rightClick:function(){this.$emit("rightClick")}}};t.default=o},"6e9f":function(e,t,i){"use strict";i.r(t);var r=i("c65b"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"6ecc":function(e,t,i){"use strict";i.r(t);var r=i("eed6"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"6f0f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{showScrollbar:{type:Boolean,default:uni.$u.props.list.showScrollbar},lowerThreshold:{type:[String,Number],default:uni.$u.props.list.lowerThreshold},upperThreshold:{type:[String,Number],default:uni.$u.props.list.upperThreshold},scrollTop:{type:[String,Number],default:uni.$u.props.list.scrollTop},offsetAccuracy:{type:[String,Number],default:uni.$u.props.list.offsetAccuracy},enableFlex:{type:Boolean,default:uni.$u.props.list.enableFlex},pagingEnabled:{type:Boolean,default:uni.$u.props.list.pagingEnabled},scrollable:{type:Boolean,default:uni.$u.props.list.scrollable},scrollIntoView:{type:String,default:uni.$u.props.list.scrollIntoView},scrollWithAnimation:{type:Boolean,default:uni.$u.props.list.scrollWithAnimation},enableBackToTop:{type:Boolean,default:uni.$u.props.list.enableBackToTop},height:{type:[String,Number],default:uni.$u.props.list.height},width:{type:[String,Number],default:uni.$u.props.list.width},preLoadScreen:{type:[String,Number],default:uni.$u.props.list.preLoadScreen}}};t.default=r},"6f3d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"category",data:function(){return{height:0,scrollTop:0,scrollHeight:0,categoryActive:0,activeStyle:{color:this.activeTextColor,backgroundColor:this.activeBackgroundColor}}},props:{defaultActive:{type:Number,default:0},categoryList:{type:Array,default:function(){return null}},subCategoryList:{type:Array,default:function(){return null}},activeTextColor:{type:String,default:"#F24544"},activeBackgroundColor:{type:String,default:"#e5e5e5"},label:{type:String,default:"name"},imgSrc:{type:String,default:"logo"},categoryMainClick:{},categorySubClick:{}},methods:{scroll:function(e){this.scrollHeight=e.detail.scrollHeight},categoryClickMain:function(e,t){this.$emit("categoryMainClick",e),this.categoryActive=t,this.scrollTop=-this.scrollHeight*t},categoryClickSub:function(e){this.$emit("categorySubClick",e)}},mounted:function(){var e=this;this.categoryActive=this.defaultActive,uni.getSystemInfo({success:function(t){e.height=t.windowHeight}})},watch:{subCategoryList:function(e,t){}}};t.default=r},"6f8f":function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"6feb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swiperIndicator:{length:0,current:0,indicatorActiveColor:"",indicatorInactiveColor:"",indicatorMode:"line"}}},7037:function(e,t){function i(t){return e.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},7079:function(e,t,i){"use strict";i.r(t);var r=i("84b9"),n=i("fd23");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"1a0b307a",null,!1,r["a"],void 0);t["default"]=s.exports},7161:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","u-status-bar"),style:this._$s(0,"s",[this.style]),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},n=[]},"722b":function(e,t,i){"use strict";i.r(t);var r=i("f196"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},7323:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("view",{staticClass:e._$s(0,"sc","content"),class:e._$s(0,"c",{active:e.active}),attrs:{_i:0}},[r("image",{staticClass:e._$s(1,"sc","logo"),class:e._$s(1,"c",{active:e.active}),attrs:{src:e._$s(1,"a-src",i("17d3")),_i:1}}),r("view",{staticClass:e._$s(2,"sc","tabbar-box-wrap"),attrs:{_i:2}},[r("view",{staticClass:e._$s(3,"sc","tabbar-box"),attrs:{_i:3}},[r("view",{staticClass:e._$s(4,"sc","tabbar-box-item"),attrs:{_i:4},on:{click:function(t){return e.goToPage("/pages/tabbar-3-detial/tabbar-3-release/tabbar-3-release")}}},[r("image",{staticClass:e._$s(5,"sc","box-image"),attrs:{src:e._$s(5,"a-src",i("1c75")),_i:5}}),r("text",{staticClass:e._$s(6,"sc","explain"),attrs:{_i:6}})]),r("view",{staticClass:e._$s(7,"sc","tabbar-box-item"),attrs:{_i:7},on:{click:function(t){return e.goToPage("/pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video")}}},[r("image",{staticClass:e._$s(8,"sc","box-image"),attrs:{src:e._$s(8,"a-src",i("09b4")),_i:8}}),r("text",{staticClass:e._$s(9,"sc","explain"),attrs:{_i:9}})]),r("view",{staticClass:e._$s(10,"sc","tabbar-box-item"),attrs:{_i:10},on:{click:function(t){return e.goToPage("/pages/tabbar-3-detial/tabbar-3-qa/tabbar-3-qa")}}},[r("image",{staticClass:e._$s(11,"sc","box-image"),attrs:{src:e._$s(11,"a-src",i("0104")),_i:11}}),r("text",{staticClass:e._$s(12,"sc","explain"),attrs:{_i:12}})])])])])},n=[]},"73e5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={rowNotice:{text:"",icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",fontSize:14,speed:80}}},"73f6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={primary:"#3c9cff",info:"#909399",default:"#909399",warning:"#f9ae3d",error:"#f56c6c",success:"#5ac725",mainColor:"#303133",contentColor:"#606266",tipsColor:"#909399",lightColor:"#c0c4cc",borderColor:"#e4e7ed"};t.default=r},"73f8":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9523")),o=(i("a97a"),r(i("a8a0"))),a=r(i("be98")),s=i("26cb"),l=r(i("ddb6"));function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d={components:{Wnavbar:o.default,nWpopup:a.default,downScroll:l.default},data:function(){return{routeData:{id:"",name:"",type:""},searchOption:{fictionId:"",cartoonId:"",videoId:""}}},onLoad:function(e){this.routeData.id=e.id,this.routeData.name=e.name,this.routeData.type=e.type,"book"==e.type&&(this.searchOption.fictionId=e.id,this.getBookChaptervuex(this.searchOption)),"comic"==e.type&&(this.searchOption.cartoonId=e.id,this.getComicgetlistvuex(this.searchOption)),"video"==e.type&&(this.searchOption.videoId=e.id,this.getVideogetlistvuex(this.searchOption))},methods:c(c({},(0,s.mapActions)({getBookChaptervuex:"chapter/getsearchBookChapterfun",getComicgetlistvuex:"chapter/getsearchComicChapterfun",getVideogetlistvuex:"chapter/getsearchVideoChapterfun"})),{},{loadXHRFun:function(e){var t=this,i=[];"book"==this.routeData.type&&(i=[this.getBookChaptervuex(this.searchOption)]),"comic"==this.routeData.type&&(i=[this.getComicgetlistvuex(this.searchOption)]),"video"==this.routeData.type&&(i=[this.getVideogetlistvuex(this.searchOption)]),Promise.all(i).then((function(i){t.$refs["downscroll"].panDuanFun(i,e)})).catch((function(i){t.$refs["downscroll"].panDuanFun(i,e)}))},clickShowfun:function(){this.$refs["popup"].open()}}),computed:c({},(0,s.mapState)({chapterInfo:function(e){return e.chapter.chapterInfo}})),mounted:function(){},onUnload:function(){this.$store.state.chapter.chapterInfo=null}};t.default=d},"740a":function(e,t,i){"use strict";var r=i("7037");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t)return e;var i;if(n.isURLSearchParams(t))i=t.toString();else{var r=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t="".concat(t,"[]"):e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),r.push("".concat(a(t),"=").concat(a(e)))})))})),i=r.join("&")}if(i){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var i=o(t);if(i&&i.has(e))return i.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(n,s,l):n[s]=e[s]}n.default=e,i&&i.set(e,n);return n}(i("8acd"));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(o=function(e){return e?i:t})(e)}function a(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}},7522:function(e,t){e.exports={props:{customStyle:{type:[Object,String],default:function(){return{}}},customClass:{type:String,default:""},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"}},data:function(){return{}},onLoad:function(){this.$u.getRect=this.$uGetRect},created:function(){this.$u.getRect=this.$uGetRect},computed:{$u:function(){return uni.$u.deepMerge(uni.$u,{props:void 0,http:void 0,mixin:void 0})},bem:function(){return function(e,t,i){var r=this,n="u-".concat(e,"--"),o={};return t&&t.map((function(e){o[n+r[e]]=!0})),i&&i.map((function(e){r[e]?o[n+e]=r[e]:delete o[n+e]})),Object.keys(o)}}},methods:{openPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"url",t=this[e];t&&uni[this.linkType]({url:t})},$uGetRect:function(e,t){var i=this;return new Promise((function(r){uni.createSelectorQuery().in(i)[t?"selectAll":"select"](e).boundingClientRect((function(e){t&&Array.isArray(e)&&e.length&&r(e),!t&&e&&r(e)})).exec()}))},getParentData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.parent||(this.parent={}),this.parent=uni.$u.$parent.call(this,t),this.parent.children&&-1===this.parent.children.indexOf(this)&&this.parent.children.push(this),this.parent&&this.parentData&&Object.keys(this.parentData).map((function(t){e.parentData[t]=e.parent[t]}))},preventEvent:function(e){e&&"function"===typeof e.stopPropagation&&e.stopPropagation()},noop:function(e){this.preventEvent(e)}},onReachBottom:function(){uni.$emit("uOnReachBottom")},beforeDestroy:function(){var e=this;if(this.parent&&uni.$u.test.array(this.parent.children)){var t=this.parent.children;t.map((function(i,r){i===e&&t.splice(r,1)}))}}}},"755c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{title:"Hello"}},onLoad:function(){},methods:{}}},7584:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={listItem:{anchor:""}}},"75e4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swipeActionItem:{show:!1,name:"",disabled:!1,threshold:20,autoClose:!0,options:[],duration:300}}},"760d":function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("1b1c")),o=i("7ebb"),a={components:{category:n.default},data:function(){return{categoryList:[{name:"\u5c0f\u8bf4",subCategoryList:o.bookList},{name:"\u6f2b\u753b",subCategoryList:o.comicList},{name:"\u89c6\u9891",subCategoryList:o.videoList}],subCategoryList:[]}},onLoad:function(){},methods:{categoryMainClick:function(e){this.subCategoryList=e.subCategoryList},categorySubClick:function(t){e("log",t," at pages/tabbar/tabbar-2/tabbar-2.vue:46");var i="/pages/components/dataList/dataList?type=".concat(t.type,"&name=").concat(t.name,"&title=",0);uni.navigateTo({url:i})}},mounted:function(){e("log",this.categoryList," at pages/tabbar/tabbar-2/tabbar-2.vue:54"),this.subCategoryList=o.bookList}};t.default=a}).call(this,i("0de9")["default"])},7725:function(e,t,i){"use strict";i.r(t);var r=i("b49e"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},7791:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{title:"Hello"}},onLoad:function(){},methods:{}}},7845:function(e,t,i){"use strict";i.r(t);var r=i("f9e7"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},7933:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{show:{type:Boolean,default:uni.$u.props.overlay.show},zIndex:{type:[String,Number],default:uni.$u.props.overlay.zIndex},duration:{type:[String,Number],default:uni.$u.props.overlay.duration},opacity:{type:[String,Number],default:uni.$u.props.overlay.opacity}}};t.default=r},7972:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("c973")),a=r(i("27fa")),s={name:"u-sticky",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{cssSticky:!1,stickyTop:0,elId:uni.$u.guid(),left:0,width:"auto",height:"auto",fixed:!1}},computed:{style:function(){var e={};return this.disabled?e.position="static":this.cssSticky?(e.position="sticky",e.zIndex=this.uZindex,e.top=uni.$u.addUnit(this.stickyTop)):e.height=this.fixed?this.height+"px":"auto",e.backgroundColor=this.bgColor,uni.$u.deepMerge(uni.$u.addStyle(this.customStyle),e)},stickyContent:function(){var e={};return this.cssSticky||(e.position=this.fixed?"fixed":"static",e.top=this.stickyTop+"px",e.left=this.left+"px",e.width="auto"==this.width?"auto":this.width+"px",e.zIndex=this.uZindex),e},uZindex:function(){return this.zIndex?this.zIndex:uni.$u.zIndex.sticky}},mounted:function(){this.init()},methods:{init:function(){this.getStickyTop(),this.checkSupportCssSticky(),this.cssSticky||!this.disabled&&this.initObserveContent()},initObserveContent:function(){var e=this;this.$uGetRect("#"+this.elId).then((function(t){e.height=t.height,e.left=t.left,e.width=t.width,e.$nextTick((function(){e.observeContent()}))}))},observeContent:function(){var e=this;this.disconnectObserver("contentObserver");var t=uni.createIntersectionObserver({thresholds:[.95,.98,1]});t.relativeToViewport({top:-this.stickyTop}),t.observe("#".concat(this.elId),(function(t){e.setFixed(t.boundingClientRect.top)})),this.contentObserver=t},setFixed:function(e){var t=e<=this.stickyTop;this.fixed=t},disconnectObserver:function(e){var t=this[e];t&&t.disconnect()},getStickyTop:function(){this.stickyTop=uni.$u.getPx(this.offsetTop)+uni.$u.getPx(this.customNavHeight)},checkSupportCssSticky:function(){var e=this;return(0,o.default)(n.default.mark((function t(){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"android"===uni.$u.os()&&Number(uni.$u.sys().system)>8&&(e.cssSticky=!0),t.next=3,e.checkComputedStyle();case 3:e.cssSticky=t.sent,"ios"===uni.$u.os()&&(e.cssSticky=!0);case 5:case"end":return t.stop()}}),t)})))()},checkComputedStyle:function(){var e=this;return new Promise((function(t){uni.createSelectorQuery().in(e).select(".u-sticky").fields({computedStyle:["position"]}).exec((function(e){t("sticky"===e[0].position)}))}))},checkCssStickyForH5:function(){}},beforeDestroy:function(){this.disconnectObserver("contentObserver")}};t.default=s},"7cf8":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a936"));t.default=function(e){return(0,n.default)(e)}},"7ebb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoList=t.comicList=t.bookList=void 0;t.bookList=[{name:"\u7384\u5e7b\u5947\u5e7b",logo:"",type:"book"},{name:"\u5973\u751f\u9891\u9053",logo:"",type:"book"},{name:"\u90fd\u5e02\u8a00\u60c5",logo:"",type:"book"},{name:"\u7f51\u6e38\u7ade\u6280",logo:"",type:"book"},{name:"\u5386\u53f2\u519b\u4e8b",logo:"",type:"book"},{name:"\u79d1\u5e7b\u7075\u5f02",logo:"",type:"book"},{name:"\u6b66\u4fa0\u4ed9\u4fa0",logo:"",type:"book"},{name:"\u7a7f\u8d8a\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u7384\u5e7b\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u7f51\u6e38\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u4fee\u771f\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u79d1\u5e7b\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u90fd\u5e02\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u5176\u4ed6\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u540c\u4eba\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u5192\u9669",logo:"",type:"book"},{name:"\u7a7f\u8d8a",logo:"",type:"book"},{name:"\u5947\u5e7b",logo:"",type:"book"},{name:"\u6821\u56ed",logo:"",type:"book"},{name:"\u5f02\u754c",logo:"",type:"book"},{name:"\u5f02\u4e16\u754c",logo:"",type:"book"},{name:"\u604b\u7231",logo:"",type:"book"},{name:"\u540c\u4eba\u4f5c\u54c1",logo:"",type:"book"},{name:"\u9b54\u6cd5",logo:"",type:"book"},{name:"\u9b54\u5e7b",logo:"",type:"book"},{name:"\u767e\u5408",logo:"",type:"book"},{name:"\u9752\u6625",logo:"",type:"book"},{name:"\u7f51\u6e38\u52a8\u6f2b",logo:"",type:"book"},{name:"\u5176\u4ed6\u7c7b\u578b",logo:"",type:"book"},{name:"\u7384\u5e7b\u9b54\u6cd5",logo:"",type:"book"},{name:"\u6b66\u4fa0\u4fee\u771f",logo:"",type:"book"},{name:"\u795e\u8bdd",logo:"",type:"book"},{name:"\u795e\u9b3c",logo:"",type:"book"},{name:"\u8f7b\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u79d1\u5e7b",logo:"",type:"book"},{name:"\u5e7b\u60f3",logo:"",type:"book"},{name:"\u7eaf\u7231",logo:"",type:"book"},{name:"\u60ac\u7591",logo:"",type:"book"},{name:"\u4fa6\u63a2",logo:"",type:"book"},{name:"\u6050\u6016",logo:"",type:"book"},{name:"\u7231\u60c5",logo:"",type:"book"},{name:"\u641e\u7b11",logo:"",type:"book"},{name:"\u795e\u79d8",logo:"",type:"book"},{name:"\u683c\u6597",logo:"",type:"book"},{name:"\u6218\u6597",logo:"",type:"book"},{name:"\u65e5\u672c\u6587\u5b66",logo:"",type:"book"},{name:"\u6218\u4e89",logo:"",type:"book"},{name:"\u540e\u5bab",logo:"",type:"book"},{name:"\u604b\u7231\u559c\u5267",logo:"",type:"book"},{name:"\u4fa6\u63a2\u63a8\u7406",logo:"",type:"book"},{name:"\u5176\u4ed6",logo:"",type:"book"},{name:"\u5b8c\u672c\u5c0f\u8bf4",logo:"",type:"book"},{name:"\u8f6c\u751f",logo:"",type:"book"},{name:"\u8f7b\u6587\u5b66",logo:"",type:"book"},{name:"\u5e7d\u9ed8",logo:"",type:"book"},{name:"\u9ed1\u6697",logo:"",type:"book"},{name:"\u60ca\u609a",logo:"",type:"book"},{name:"\u6697\u9ed1",logo:"",type:"book"},{name:"\u72af\u7f6a",logo:"",type:"book"}];t.comicList=[{name:"\u9738\u603b",logo:"",type:"comic"},{name:"\u604b\u7231",logo:"",type:"comic"},{name:"\u7384\u5e7b",logo:"",type:"comic"},{name:"\u70ed\u8840",logo:"",type:"comic"},{name:"\u53e4\u98ce",logo:"",type:"comic"},{name:"\u641e\u7b11",logo:"",type:"comic"},{name:"\u751f\u6d3b",logo:"",type:"comic"},{name:"\u5192\u9669",logo:"",type:"comic"},{name:"\u6b22\u4e50\u5411",logo:"",type:"comic"},{name:"\u683c\u6597",logo:"",type:"comic"},{name:"\u540e\u5bab",logo:"",type:"comic"},{name:"\u7a7f\u8d8a",logo:"",type:"comic"},{name:"\u52a8\u4f5c",logo:"",type:"comic"},{name:"\u4fee\u771f",logo:"",type:"comic"},{name:"\u7075\u5f02",logo:"",type:"comic"},{name:"\u6821\u56ed",logo:"",type:"comic"},{name:"\u79d1\u5e7b",logo:"",type:"comic"},{name:"\u7ade\u6280",logo:"",type:"comic"},{name:"\u60ac\u7591",logo:"",type:"comic"},{name:"\u52b1\u5fd7",logo:"",type:"comic"},{name:"\u6050\u6016",logo:"",type:"comic"},{name:"\u67b6\u7a7a",logo:"",type:"comic"},{name:"\u771f\u4eba",logo:"",type:"comic"},{name:"\u60ca\u609a",logo:"",type:"comic"},{name:"\u6218\u4e89",logo:"",type:"comic"},{name:"\u8f7b\u5c0f\u8bf4",logo:"",type:"comic"},{name:"\u989c\u827a",logo:"",type:"comic"},{name:"\u540c\u4eba",logo:"",type:"comic"},{name:"\u673a\u6218",logo:"",type:"comic"},{name:"\u4e1c\u65b9",logo:"",type:"comic"},{name:"\u7eaf\u7231",logo:"",type:"comic"},{name:"\u5b85\u7cfb",logo:"",type:"comic"},{name:"\u7f8e\u98df",logo:"",type:"comic"},{name:"\u5355\u884c",logo:"",type:"comic"},{name:"\u6cdb\u7231",logo:"",type:"comic"},{name:"\u3086\u308a",logo:"",type:"comic"},{name:"TS",logo:"",type:"comic"},{name:"\u795e\u9b3c",logo:"",type:"comic"},{name:"\u8282\u64cd",logo:"",type:"comic"},{name:"\u8230\u5a18",logo:"",type:"comic"},{name:"\u7231\u60c5",logo:"",type:"comic"},{name:"\u5947\u5e7b",logo:"",type:"comic"},{name:"\u804c\u573a",logo:"",type:"comic"},{name:"\u79c0\u5409",logo:"",type:"comic"},{name:"\u840c\u7cfb",logo:"",type:"comic"},{name:"\u6cbb\u6108",logo:"",type:"comic"},{name:"\u9b54\u6cd5",logo:"",type:"comic"},{name:"\u6b66\u4fa0",logo:"",type:"comic"},{name:"\u60ca\u609a",logo:"",type:"comic"},{name:"\u5386\u53f2",logo:"",type:"comic"},{name:"\u4ed9\u4fa0",logo:"",type:"comic"},{name:"\u4fa6\u63a2",logo:"",type:"comic"},{name:"\u798f\u745e",logo:"",type:"comic"},{name:"\u897f\u65b9",logo:"",type:"comic"},{name:"\u9b54\u5e7b",logo:"",type:"comic"},{name:"\u5176\u4ed6",logo:"",type:"comic"},{name:"\u751f\u5b58",logo:"",type:"comic"},{name:"\u97f3\u4e50",logo:"",type:"comic"},{name:"\u821e\u8e48",logo:"",type:"comic"},{name:"\u56db\u683c",logo:"",type:"comic"}];t.videoList=[{name:"\u52a8\u6f2b\u7535\u5f71",logo:"",type:"video"},{name:"\u52a8\u4f5c",logo:"",type:"video"},{name:"\u79d1\u5e7b",logo:"",type:"video"},{name:"\u5176\u5b83",logo:"",type:"video"},{name:"\u52a8\u6f2b",logo:"",type:"video"},{name:"\u7eaa\u5f55\u7247",logo:"",type:"video"},{name:"\u65e5\u97e9\u52a8\u6f2b",logo:"",type:"video"},{name:"\u6b27\u7f8e\u52a8\u6f2b",logo:"",type:"video"},{name:"\u56fd\u4ea7\u52a8\u6f2b",logo:"",type:"video"},{name:"\u5267\u60c5\u52a8\u753b",logo:"",type:"video"},{name:"\u5947\u5e7b",logo:"",type:"video"},{name:"\u5267\u60c5",logo:"",type:"video"},{name:"\u4f26\u7406",logo:"",type:"video"},{name:"\u7efc\u827a",logo:"",type:"video"},{name:"\u56fd\u4ea7",logo:"",type:"video"},{name:"\u56fd\u4ea7\u5267",logo:"",type:"video"},{name:"\u771f\u4eba\u79c0",logo:"",type:"video"},{name:"\u559c\u5267",logo:"",type:"video"},{name:"\u7231\u60c5",logo:"",type:"video"},{name:"\u6b27\u7f8e",logo:"",type:"video"},{name:"\u5927\u9646\u7efc\u827a",logo:"",type:"video"},{name:"\u97e9\u56fd\u5267",logo:"",type:"video"},{name:"\u6d77\u5916\u5267",logo:"",type:"video"},{name:"\u6218\u4e89\u7247",logo:"",type:"video"},{name:"\u6050\u6016\u7247",logo:"",type:"video"},{name:"\u65e5\u5267",logo:"",type:"video"},{name:"\u6cf0\u5267",logo:"",type:"video"},{name:"\u6b27\u7f8e\u7efc\u827a",logo:"",type:"video"},{name:"\u6e2f\u53f0\u7efc\u827a",logo:"",type:"video"},{name:"\u65e5\u97e9\u7efc\u827a",logo:"",type:"video"},{name:"\u6e2f\u6fb3",logo:"",type:"video"},{name:"\u9009\u79c0",logo:"",type:"video"},{name:"\u4e2d\u56fd\u5927\u9646",logo:"",type:"video"},{name:"\u6d77\u5916\u52a8\u6f2b",logo:"",type:"video"},{name:"\u60ac\u7591",logo:"",type:"video"},{name:"\u65e5\u672c\u5267",logo:"",type:"video"},{name:"\u97f3\u4e50",logo:"",type:"video"}]},"7ec2":function(e,t,i){var r=i("7037")["default"];function n(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=n=function(){return t},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(e,t,i){e[t]=i.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(P){d=function(e,t,i){return e[t]=i}}function f(e,t,i,r){var n=t&&t.prototype instanceof v?t:v,o=Object.create(n.prototype),s=new C(r||[]);return a(o,"_invoke",{value:w(e,i,s)}),o}function h(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(P){return{type:"throw",arg:P}}}t.wrap=f;var p={};function v(){}function g(){}function y(){}var m={};d(m,l,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(L([])));b&&b!==i&&o.call(b,l)&&(m=b);var S=y.prototype=v.prototype=Object.create(m);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var i;a(this,"_invoke",{value:function(n,a){function s(){return new t((function(i,s){(function i(n,a,s,l){var u=h(e[n],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(u.arg)})(n,a,i,s)}))}return i=i?i.then(s,s):s()}})}function w(e,t,i){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return I()}for(i.method=n,i.arg=o;;){var a=i.delegate;if(a){var s=k(a,i);if(s){if(s===p)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===r)throw r="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r="executing";var l=h(e,t,i);if("normal"===l.type){if(r=i.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r="completed",i.method="throw",i.arg=l.arg)}}}function k(e,t){var i=t.method,r=e.iterator[i];if(void 0===r)return t.delegate=null,"throw"===i&&e.iterator["return"]&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var n=h(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function L(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(o.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:I}}function I(){return{value:void 0,done:!0}}return g.prototype=y,a(S,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=d(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,d(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},T(E.prototype),d(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,i,r,n,o){void 0===o&&(o=Promise);var a=new E(f(e,i,r,n),o);return t.isGeneratorFunction(i)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(S),d(S,c,"Generator"),d(S,l,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var r in t)i.push(r);return i.reverse(),function e(){for(;i.length;){var r=i.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,r){return a.type="throw",a.arg=e,t.next=i,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r],a=n.completion;if("root"===n.tryLoc)return i("end");if(n.tryLoc<=this.prev){var s=o.call(n,"catchLoc"),l=o.call(n,"finallyLoc");if(s&&l){if(this.prev<n.catchLoc)return i(n.catchLoc,!0);if(this.prev<n.finallyLoc)return i(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return i(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return i(n.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var n=r;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=e,a.arg=t,n?(this.method="next",this.next=n.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),A(i),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var r=i.completion;if("throw"===r.type){var n=r.arg;A(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:L(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"7f08":function(e,t,i){"use strict";i.r(t);var r=i("dfc6"),n=i("f714");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"0f91d4e1",null,!1,r["a"],void 0);t["default"]=s.exports},"7fff":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("fc6a")),o={name:"u-list-item",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{rect:{},index:0,show:!0,sys:uni.$u.sys()}},computed:{},inject:["uList"],watch:{"uList.innerScrollTop":function(e){var t=this.uList.preLoadScreen,i=this.sys.windowHeight;e<=i*t?this.parent.updateOffsetFromChild(0):this.rect.top<=e-i*t&&this.parent.updateOffsetFromChild(this.rect.top)}},created:function(){this.parent={}},mounted:function(){this.init()},methods:{init:function(){this.updateParentData(),this.index=this.parent.children.indexOf(this),this.resize()},updateParentData:function(){this.getParentData("u-list")},resize:function(){var e=this;this.queryRect("u-list-item-".concat(this.anchor)).then((function(t){var i=e.parent.children[e.index-1];e.rect=t;var r=e.uList.preLoadScreen,n=e.sys.windowHeight;i&&(e.rect.top=i.rect.top+i.rect.height),t.top>=e.uList.innerScrollTop+(1+r)*n&&(e.show=!1)}))},queryRect:function(e){var t=this;return new Promise((function(i){t.$uGetRect(".".concat(e)).then((function(e){i(e)}))}))}}};t.default=o},8075:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={loadmore:{status:"loadmore",bgColor:"transparent",icon:!0,fontSize:14,iconSize:17,color:"#606266",loadingIcon:"spinner",loadmoreText:"\u52a0\u8f7d\u66f4\u591a",loadingText:"\u6b63\u5728\u52a0\u8f7d...",nomoreText:"\u6ca1\u6709\u66f4\u591a\u4e86",isDot:!1,iconColor:"#b7b7b7",marginTop:10,marginBottom:10,height:"auto",line:!1,lineColor:"#E6E8EB",dashed:!1}}},8368:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={calendar:{title:"\u65e5\u671f\u9009\u62e9",showTitle:!0,showSubtitle:!0,mode:"single",startText:"\u5f00\u59cb",endText:"\u7ed3\u675f",customList:function(){return[]},color:"#3c9cff",minDate:0,maxDate:0,defaultDate:null,maxCount:Number.MAX_SAFE_INTEGER,rowHeight:56,formatter:null,showLunar:!1,showMark:!0,confirmText:"\u786e\u5b9a",confirmDisabledText:"\u786e\u5b9a",show:!1,closeOnClickOverlay:!1,readonly:!1,showConfirm:!0,maxRange:Number.MAX_SAFE_INTEGER,rangePrompt:"",showRangePrompt:!0,allowSameDay:!1,round:0,monthNum:3}};t.default=r},"840c":function(e,t,i){"use strict";i.r(t);var r=i("919e"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"84b9":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uLine:i("8638").default},n=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","u-collapse"),attrs:{_i:0}},[this._$s(1,"i",this.border)?t("u-line",{attrs:{_i:1}}):this._e(),this._t("default",null,{_i:2})],2)},o=[]},"84e3":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e._$s(0,"i",e.show)?i("view",{staticClass:e._$s(0,"sc","u-loading-icon"),class:e._$s(0,"c",[e.vertical&&"u-loading-icon--vertical"]),style:e._$s(0,"s",[e.$u.addStyle(e.customStyle)]),attrs:{_i:0}},[e._$s(1,"i",!e.webviewHide)?i("view",{ref:"ani",staticClass:e._$s(1,"sc","u-loading-icon__spinner"),class:e._$s(1,"c",["u-loading-icon__spinner--"+e.mode]),style:e._$s(1,"s",{color:e.color,width:e.$u.addUnit(e.size),height:e.$u.addUnit(e.size),borderTopColor:e.color,borderBottomColor:e.otherBorderColor,borderLeftColor:e.otherBorderColor,borderRightColor:e.otherBorderColor,"animation-duration":e.duration+"ms","animation-timing-function":"semicircle"===e.mode||"circle"===e.mode?e.timingFunction:""}),attrs:{_i:1}},[e._$s(2,"i","spinner"===e.mode)?e._l(e._$s(3,"f",{forItems:e.array12}),(function(t,r,n,o){return i("view",{key:e._$s(3,"f",{forIndex:n,key:r}),staticClass:e._$s("3-"+o,"sc","u-loading-icon__dot"),attrs:{_i:"3-"+o}})})):e._e()],2):e._e(),e._$s(4,"i",e.text)?i("text",{staticClass:e._$s(4,"sc","u-loading-icon__text"),style:e._$s(4,"s",{fontSize:e.$u.addUnit(e.textSize),color:e.textColor}),attrs:{_i:4}},[e._v(e._$s(4,"t0-0",e._s(e.text)))]):e._e()]):e._e()},n=[]},8577:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={toast:10090,noNetwork:10080,popup:10075,mask:10070,navbar:980,topTips:975,sticky:970,indexListSticky:965}},8638:function(e,t,i){"use strict";i.r(t);var r=i("ccca"),n=i("722b");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"408c4a9a",null,!1,r["a"],void 0);t["default"]=s.exports},"882f":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:["title"],data:function(){return{routeData:{}}},onLoad:function(e){},methods:{leftClick:function(){e("log","\u70b9\u51fb\u4e86"," at pages/components/backNavbar/index.vue:25"),uni.navigateBack()}},mounted:function(){}};t.default=i}).call(this,i("0de9")["default"])},"886f":function(e,t,i){"use strict";i.r(t);var r=i("b92f"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},8962:function(e,t,i){var r=i("9f70");function n(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=n=Reflect.get.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=n=function(e,t,i){var n=r(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:i):o.value}},e.exports.__esModule=!0,e.exports["default"]=e.exports),n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"8a05":function(e,t,i){"use strict";function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(e=String(e).toLowerCase(),e&&i.test(e)){if(4===e.length){for(var r="#",n=1;n<4;n+=1)r+=e.slice(n,n+1).concat(e.slice(n,n+1));e=r}for(var o=[],a=1;a<7;a+=2)o.push(parseInt("0x".concat(e.slice(a,a+2))));return t?"rgb(".concat(o[0],",").concat(o[1],",").concat(o[2],")"):o}if(/^(rgb|RGB)/.test(e)){var s=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");return s.map((function(e){return Number(e)}))}return e}function n(e){var t=e;if(/^(rgb|RGB)/.test(t)){for(var i=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),r="#",n=0;n<i.length;n++){var o=Number(i[n]).toString(16);o=1==String(o).length?"".concat(0,o):o,"0"===o&&(o+=o),r+=o}return 7!==r.length&&(r=t),r}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;var a=t.replace(/#/,"").split("");if(6===a.length)return t;if(3===a.length){for(var s="#",l=0;l<a.length;l+=1)s+=a[l]+a[l];return s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={colorGradient:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb(0, 0, 0)",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgb(255, 255, 255)",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=r(e,!1),a=o[0],s=o[1],l=o[2],u=r(t,!1),c=u[0],d=u[1],f=u[2],h=(c-a)/i,p=(d-s)/i,v=(f-l)/i,g=[],y=0;y<i;y++){var m=n("rgb(".concat(Math.round(h*y+a),",").concat(Math.round(p*y+s),",").concat(Math.round(v*y+l),")"));0===y&&(m=n(e)),y===i-1&&(m=n(t)),g.push(m)}return g},hexToRgb:r,rgbToHex:n,colorToRgba:function(e,t){e=n(e);var i=String(e).toLowerCase();if(i&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(i)){if(4===i.length){for(var r="#",o=1;o<4;o+=1)r+=i.slice(o,o+1).concat(i.slice(o,o+1));i=r}for(var a=[],s=1;s<7;s+=2)a.push(parseInt("0x".concat(i.slice(s,s+2))));return"rgba(".concat(a.join(","),",").concat(t,")")}return i}};t.default=o},"8a1a":function(e,t,i){"use strict";i.r(t);var r=i("2515"),n=i("1a4d");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=i("be1d"),l=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);"function"===typeof s["a"]&&Object(s["a"])(l),t["default"]=l.exports},"8a8e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{openType:String},methods:{onGetUserInfo:function(e){this.$emit("getuserinfo",e.detail)},onContact:function(e){this.$emit("contact",e.detail)},onGetPhoneNumber:function(e){this.$emit("getphonenumber",e.detail)},onError:function(e){this.$emit("error",e.detail)},onLaunchApp:function(e){this.$emit("launchapp",e.detail)},onOpenSetting:function(e){this.$emit("opensetting",e.detail)}}};t.default=r},"8acd":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.deepMerge=function e(){var t={};function i(i,r){"object"===(0,n.default)(t[r])&&"object"===(0,n.default)(i)?t[r]=e(t[r],i):"object"===(0,n.default)(i)?t[r]=e({},i):t[r]=i}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],i);return t},t.forEach=s,t.isArray=a,t.isBoolean=function(e){return"boolean"===typeof e},t.isDate=function(e){return"[object Date]"===o.call(e)},t.isObject=function(e){return null!==e&&"object"===(0,n.default)(e)},t.isPlainObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isURLSearchParams=function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},t.isUndefined=function(e){return"undefined"===typeof e};var n=r(i("7037")),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==(0,n.default)(e)&&(e=[e]),a(e))for(var i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}},"8bbf":function(e,t){e.exports=Vue},"8d13":function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"\u8acb\u8f38\u5165\u641c\u7d22\u5167\u5bb9"}')},"8ef4":function(e,t,i){"use strict";i.r(t);var r=i("ed7f"),n=i("62b4");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"9853d224",null,!1,r["a"],void 0);t["default"]=s.exports},"8f1b":function(e,t,i){"use strict";i.r(t);var r=i("7791"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},9083:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={formItem:{label:"",prop:"",borderBottom:"",labelPosition:"",labelWidth:"",rightIcon:"",leftIcon:"",required:!1,leftIconStyle:""}}},9129:function(e,t,i){"use strict";i.r(t);var r=i("0253"),n=i("f03a");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"b5a75dae",null,!1,r["a"],void 0);t["default"]=s.exports},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,i,r,n){var o,a,s=8*n-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=i?n-1:0,f=i?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,i,r,n,o){var a,s,l,u=8*o-n-1,c=(1<<u)-1,d=c>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+d>=1?f/l:f*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,n),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,n),a=0));n>=8;e[i+h]=255&s,h+=p,s/=256,n-=8);for(a=a<<n|s,u+=n;u>0;e[i+h]=255&a,h+=p,a/=256,u-=8);e[i+h-p]|=128*v}},9161:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","mescroll-empty"),class:e._$s(0,"c",{"empty-fixed":e.option.fixed}),style:e._$s(0,"s",{"z-index":e.option.zIndex,top:e.option.top}),attrs:{_i:0}},[i("view",[e._$s(2,"i",e.icon)?i("image",{staticClass:e._$s(2,"sc","empty-icon"),attrs:{src:e._$s(2,"a-src",e.icon),_i:2}}):e._e()]),e._$s(3,"i",e.tip)?i("view",{staticClass:e._$s(3,"sc","empty-tip"),attrs:{_i:3}},[e._v(e._$s(3,"t0-0",e._s(e.tip)))]):e._e(),e._$s(4,"i",e.btnText)?i("view",{staticClass:e._$s(4,"sc","empty-btn"),attrs:{_i:4},on:{click:e.emptyClick}},[e._v(e._$s(4,"t0-0",e._s(e.btnText)))]):e._e()])},n=[]},"919e":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("c973")),a=r(i("b35d")),s={name:"u-col",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{width:0,parentData:{gutter:0},gridNum:12}},computed:{uJustify:function(){return"end"==this.justify||"start"==this.justify?"flex-"+this.justify:"around"==this.justify||"between"==this.justify?"space-"+this.justify:this.justify},uAlignItem:function(){return"top"==this.align?"flex-start":"bottom"==this.align?"flex-end":this.align},colStyle:function(){var e={paddingLeft:uni.$u.addUnit(uni.$u.getPx(this.parentData.gutter)/2),paddingRight:uni.$u.addUnit(uni.$u.getPx(this.parentData.gutter)/2),alignItems:this.uAlignItem,justifyContent:this.uJustify,textAlign:this.textAlign,flex:"0 0 ".concat(100/this.gridNum*this.span,"%"),marginLeft:100/12*this.offset+"%"};return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},mounted:function(){this.init()},methods:{init:function(){var e=this;return(0,o.default)(n.default.mark((function t(){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.updateParentData(),t.next=3,e.parent.getComponentWidth();case 3:e.width=t.sent;case 4:case"end":return t.stop()}}),t)})))()},updateParentData:function(){this.getParentData("u-row")},clickHandler:function(e){this.$emit("click")}}};t.default=s},9276:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{active:!1}},onLoad:function(){},onShow:function(){this.active=!0},onHide:function(){this.active=!1},methods:{goToPage:function(e){e&&uni.navigateTo({url:e})}}};t.default=r},"92c5":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9523")),o=r(i("a8a0")),a=(i("a97a"),i("26cb"));function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u={components:{Wnavbar:o.default},data:function(){return{upbotton:{show:!1,chapterId:"",title:"",id:""},downbotton:{show:!1,chapterId:"",title:"",id:""},searchData:{chapterId:"",title:"",fictionId:""},bookList:{}}},onLoad:function(e){this.searchData.chapterId=e.chapterId,this.searchData.title=e.title,this.searchData.fictionId=e.id,this.downbotton.id=e.id,this.upbotton.id=e.id,this.chapterInfo?this.showbotton(this.chapterInfo.chapterList):this.getBookChaptervuex(this.searchData),this.getsearchBookContentvuex(this.searchData)},methods:l(l(l({},(0,a.mapActions)({getsearchBookContentvuex:"book/getsearchBookContentfun",getBookChaptervuex:"chapter/getsearchBookChapterfun"})),(0,a.mapMutations)({resetbookval:"book/resetbookval"})),{},{showbotton:function(e){var t=this;e.forEach((function(i,r){var n,o,a,s,l,u;i.chapterId==t.searchData.chapterId&&(t.upbotton.show=!(null===(n=e[r-1])||void 0===n||!n.chapterId),t.upbotton.chapterId=null===(o=e[r-1])||void 0===o?void 0:o.chapterId,t.upbotton.title=null===(a=e[r-1])||void 0===a?void 0:a.title,t.downbotton.show=!(null===(s=e[r+1])||void 0===s||!s.chapterId),t.downbotton.chapterId=null===(l=e[r+1])||void 0===l?void 0:l.chapterId,t.downbotton.title=null===(u=e[r+1])||void 0===u?void 0:u.title)}))},bottonClick:function(e){var t;this.resetbookval(null),t=1==e?"/pages/BookContent/content?chapterId=".concat(this.upbotton.chapterId,"&title=").concat(this.upbotton.title,"&id=").concat(this.upbotton.id):"/pages/BookContent/content?chapterId=".concat(this.downbotton.chapterId,"&title=").concat(this.downbotton.title,"&id=").concat(this.downbotton.id),uni.redirectTo({url:t})}}),computed:l({},(0,a.mapState)({chapterInfo:function(e){return e.chapter.chapterInfo},bookval:function(e){return e.book.bookval}})),watch:{chapterInfo:{handler:function(e,t){this.showbotton(e.chapterList)},deep:!0}},beforeDestroy:function(){this.resetbookval(null)}};t.default=u},"92ca":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("19f9")),o={name:"u-empty",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{icons:{car:"\u8d2d\u7269\u8f66\u4e3a\u7a7a",page:"\u9875\u9762\u4e0d\u5b58\u5728",search:"\u6ca1\u6709\u641c\u7d22\u7ed3\u679c",address:"\u6ca1\u6709\u6536\u8d27\u5730\u5740",wifi:"\u6ca1\u6709WiFi",order:"\u8ba2\u5355\u4e3a\u7a7a",coupon:"\u6ca1\u6709\u4f18\u60e0\u5238",favor:"\u6682\u65e0\u6536\u85cf",permission:"\u65e0\u6743\u9650",history:"\u65e0\u5386\u53f2\u8bb0\u5f55",news:"\u65e0\u65b0\u95fb\u5217\u8868",message:"\u6d88\u606f\u5217\u8868\u4e3a\u7a7a",list:"\u5217\u8868\u4e3a\u7a7a",data:"\u6570\u636e\u4e3a\u7a7a",comment:"\u6682\u65e0\u8bc4\u8bba"}}},computed:{emptyStyle:function(){var e={};return e.marginTop=uni.$u.addUnit(this.marginTop),uni.$u.deepMerge(uni.$u.addStyle(this.customStyle),e)},textStyle:function(){var e={};return e.color=this.textColor,e.fontSize=uni.$u.addUnit(this.textSize),e},isSrc:function(){return this.icon.indexOf("/")>=0}}};t.default=o},"92cd":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","content"),attrs:{_i:0}})},n=[]},"94d8":function(e,t,i){"use strict";i.r(t);var r=i("bbda"),n=i("392d");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},9523:function(e,t,i){var r=i("a395");e.exports=function(e,t,i){return t=r(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"95f8":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="https://api.pingcc.cn";e("log","\u751f\u4ea7\u73af\u5883"," at http/request.js:7"),i="https://api.pingcc.cn";var r=function(e,t){uni.onNetworkStatusChange((function(e){return e.isConnected||uni.showToast({title:"\u7f51\u7edc\u8fde\u63a5\u4e0d\u53ef\u7528\uff01",icon:"none"}),!1}));var r=uni.getStorageSync("token"),n={url:i+e.url,data:t,method:e.method||"GET",header:"get"==e.method?{"X-Access-Token":r,"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json; charset=UTF-8"}:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json; charset=UTF-8"},dataType:"json"},o=new Promise((function(e,t){uni.request(n).then((function(t){var i;"request:fail"==(null===(i=t[0])||void 0===i?void 0:i.errMsg)&&(uni.showToast({title:"\u670d\u52a1\u5668\u9519\u8bef",duration:2e3,icon:"none"}),e([])),200==t[1].statusCode?(2==t[1].data.code&&uni.showToast({title:t[1].data.msg+"\u8bf7\u91cd\u65b0\u5237\u65b0",duration:2e3,icon:"none"}),e(t[1].data)):5e3==t[1].statusCode?(uni.reLaunch({url:"/pages/login/index"}),uni.clearStorageSync()):e(t[1])})).catch((function(e){t(e)}))}));return o};t.default=r}).call(this,i("0de9")["default"])},9640:function(e,t,i){"use strict";i.r(t);var r=i("a382"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},9647:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("uvText",{attrs:{type:e.type,show:e.show,text:e.text,prefixIcon:e.prefixIcon,suffixIcon:e.suffixIcon,mode:e.mode,href:e.href,format:e.format,call:e.call,openType:e.openType,bold:e.bold,block:e.block,lines:e.lines,color:e.color,decoration:e.decoration,size:e.size,iconStyle:e.iconStyle,margin:e.margin,lineHeight:e.lineHeight,align:e.align,wordWrap:e.wordWrap,customStyle:e.customStyle,_i:0},on:{click:function(t){return e.$emit("click")}}})},n=[]},"966f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"wList",props:["type","data","id","name"],data:function(){return{show:!1,list:{}}},methods:{huadong:function(e){},selectClickChapter:function(e){var t;"video"==this.type&&(t="/pages/VideoContent/content?chapterPath=".concat(e.chapterPath,"&title=").concat(this.name)),"book"==this.type&&(t="/pages/BookContent/content?chapterId=".concat(e.chapterId,"&title=").concat(e.title,"&id=").concat(this.id.fictionId)),"comic"==this.type&&(t="/pages/comicContent/content?chapterId=".concat(e.chapterId,"&title=").concat(e.title,"&id=").concat(this.id.cartoonId)),uni.navigateTo({url:t})}}};t.default=r},"970b":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"97ba":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("text",{staticClass:e._$s(0,"sc","uni-icons"),class:e._$s(0,"c",["uniui-"+e.type,e.customPrefix,e.customPrefix?e.type:""]),style:e._$s(0,"s",{color:e.color,"font-size":e.iconSize}),attrs:{_i:0},on:{click:e._onClick}})},n=[]},"97c0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={row:{gutter:0,justify:"start",align:"center"}}},"980b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tabbar:{value:null,safeAreaInsetBottom:!0,border:!0,zIndex:1,activeColor:"#1989fa",inactiveColor:"#7d7e80",fixed:!0,placeholder:!0}}},"982c":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("c973")),a=r(i("970b")),s=r(i("5bc3")),l=function(){function e(){(0,a.default)(this,e),this.config={type:"navigateTo",url:"",delta:1,params:{},animationType:"pop-in",animationDuration:300,intercept:!1},this.route=this.route.bind(this)}return(0,s.default)(e,[{key:"addRootPath",value:function(e){return"/"===e[0]?e:"/".concat(e)}},{key:"mixinParam",value:function(e,t){e=e&&this.addRootPath(e);var i="";return/.*\/.*\?.*=.*/.test(e)?(i=uni.$u.queryParams(t,!1),e+"&".concat(i)):(i=uni.$u.queryParams(t),e+i)}},{key:"route",value:function(){var e=(0,o.default)(n.default.mark((function e(){var t,i,r,o,a=arguments;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},i=a.length>1&&void 0!==a[1]?a[1]:{},r={},"string"===typeof t?(r.url=this.mixinParam(t,i),r.type="navigateTo"):(r=uni.$u.deepMerge(this.config,t),r.url=this.mixinParam(t.url,t.params)),r.url!==uni.$u.page()){e.next=6;break}return e.abrupt("return");case 6:if(i.intercept&&(this.config.intercept=i.intercept),r.params=i,r=uni.$u.deepMerge(this.config,r),"function"!==typeof uni.$u.routeIntercept){e.next=16;break}return e.next=12,new Promise((function(e,t){uni.$u.routeIntercept(r,e)}));case 12:o=e.sent,o&&this.openPage(r),e.next=17;break;case 16:this.openPage(r);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openPage",value:function(e){var t=e.url,i=(e.type,e.delta),r=e.animationType,n=e.animationDuration;"navigateTo"!=e.type&&"to"!=e.type||uni.navigateTo({url:t,animationType:r,animationDuration:n}),"redirectTo"!=e.type&&"redirect"!=e.type||uni.redirectTo({url:t}),"switchTab"!=e.type&&"tab"!=e.type||uni.switchTab({url:t}),"reLaunch"!=e.type&&"launch"!=e.type||uni.reLaunch({url:t}),"navigateBack"!=e.type&&"back"!=e.type||uni.navigateBack({delta:i})}}]),e}(),u=(new l).route;t.default=u},"984d":function(e,t,i){"use strict";i.r(t);var r=i("ebcd"),n=i("1b3b");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"d7bd0f22",null,!1,r["a"],void 0);t["default"]=s.exports},"98a7":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","content"),attrs:{_i:0}},[t("category",{attrs:{categoryList:this.categoryList,subCategoryList:this.subCategoryList,_i:1},on:{categoryMainClick:this.categoryMainClick,categorySubClick:this.categorySubClick}})],1)},n=[]},9943:function(e,t,i){"use strict";i.r(t);var r=i("755c"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"999d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={popup:{show:!1,overlay:!0,mode:"bottom",duration:300,closeable:!1,overlayStyle:function(){},closeOnClickOverlay:!0,zIndex:10075,safeAreaInsetBottom:!0,safeAreaInsetTop:!1,closeIconPos:"top-right",round:0,zoom:!0,bgColor:"",overlayOpacity:.5}}},"9a23":function(e,t,i){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var r=uni.requireGlobal();ArrayBuffer=r.ArrayBuffer,Int8Array=r.Int8Array,Uint8Array=r.Uint8Array,Uint8ClampedArray=r.Uint8ClampedArray,Int16Array=r.Int16Array,Uint16Array=r.Uint16Array,Int32Array=r.Int32Array,Uint32Array=r.Uint32Array,Float32Array=r.Float32Array,Float64Array=r.Float64Array,BigInt64Array=r.BigInt64Array,BigUint64Array=r.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/tabbar/tabbar-1/tabbar-1",(function(){return Vue.extend(i("5976").default)})),__definePage("pages/tabbar/tabbar-2/tabbar-2",(function(){return Vue.extend(i("6083").default)})),__definePage("pages/tabbar/tabbar-3/tabbar-3",(function(){return Vue.extend(i("b161").default)})),__definePage("pages/tabbar/tabbar-4/tabbar-4",(function(){return Vue.extend(i("94d8").default)})),__definePage("pages/tabbar/tabbar-5/tabbar-5",(function(){return Vue.extend(i("b7fe").default)})),__definePage("pages/tabbar-3-detial/tabbar-3-release/tabbar-3-release",(function(){return Vue.extend(i("e131").default)})),__definePage("pages/tabbar-3-detial/tabbar-3-video/tabbar-3-video",(function(){return Vue.extend(i("3465").default)})),__definePage("pages/tabbar-3-detial/tabbar-3-qa/tabbar-3-qa",(function(){return Vue.extend(i("65d3").default)})),__definePage("pages/Chaptercomponents/chapter/indexChapter",(function(){return Vue.extend(i("c42b").default)})),__definePage("pages/VideoContent/content",(function(){return Vue.extend(i("9129").default)})),__definePage("pages/BookContent/content",(function(){return Vue.extend(i("e43a").default)})),__definePage("pages/comicContent/content",(function(){return Vue.extend(i("df0e").default)})),__definePage("pages/components/dataList/dataList",(function(){return Vue.extend(i("9f9a").default)}))},"9a35":function(e,t,i){"use strict";i.r(t);var r=i("92ca"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"9a42":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{}}}},"9a54":function(e,t,i){"use strict";i.r(t);var r=i("dc93"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},"9ae1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick:function(e){this.$emit("click",e)}}};t.default=r},"9b42":function(e,t){e.exports=function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,o,a,s=[],l=!0,u=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=o.call(i)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&null!=i["return"]&&(a=i["return"](),Object(a)!==a))return}finally{if(u)throw n}}return s}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"9bd9":function(e,t,i){"use strict";i.r(t);var r=i("c763"),n=i("b28e");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"361197e0",null,!1,r["a"],void 0);t["default"]=s.exports},"9ccb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={empty:{icon:"",text:"",textColor:"#c0c4cc",textSize:14,iconColor:"#c0c4cc",iconSize:90,mode:"data",width:160,height:160,show:!0,marginTop:0}}},"9cda":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{value:{type:[String,Number,Array,null],default:uni.$u.props.collapse.value},accordion:{type:Boolean,default:uni.$u.props.collapse.accordion},border:{type:Boolean,default:uni.$u.props.collapse.border}}};t.default=r},"9d00":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uIcon:i("14ff").default,uLine:i("8638").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","u-cell"),class:e._$s(0,"c",[e.customClass]),style:e._$s(0,"s",[e.$u.addStyle(e.customStyle)]),attrs:{"hover-class":e._$s(0,"a-hover-class",e.disabled||!e.clickable&&!e.isLink?"":"u-cell--clickable"),_i:0},on:{click:e.clickHandler}},[i("view",{staticClass:e._$s(1,"sc","u-cell__body"),class:e._$s(1,"c",[e.center&&"u-cell--center","large"===e.size&&"u-cell__body--large"]),attrs:{_i:1}},[i("view",{staticClass:e._$s(2,"sc","u-cell__body__content"),attrs:{_i:2}},[e._$s(3,"i",e.$slots.icon||e.icon)?i("view",{staticClass:e._$s(3,"sc","u-cell__left-icon-wrap"),attrs:{_i:3}},[e._$s(4,"i",e.$slots.icon)?e._t("icon",null,{_i:4}):i("u-icon",{attrs:{name:e.icon,"custom-style":e.iconStyle,size:"large"===e.size?22:18,_i:5}})],2):e._e(),i("view",{staticClass:e._$s(6,"sc","u-cell__title"),attrs:{_i:6}},[e._t("title",[e._$s(8,"i",e.title)?i("text",{staticClass:e._$s(8,"sc","u-cell__title-text"),class:e._$s(8,"c",[e.disabled&&"u-cell--disabled","large"===e.size&&"u-cell__title-text--large"]),style:e._$s(8,"s",[e.titleTextStyle]),attrs:{_i:8}},[e._v(e._$s(8,"t0-0",e._s(e.title)))]):e._e()],{_i:7}),e._t("label",[e._$s(10,"i",e.label)?i("text",{staticClass:e._$s(10,"sc","u-cell__label"),class:e._$s(10,"c",[e.disabled&&"u-cell--disabled","large"===e.size&&"u-cell__label--large"]),attrs:{_i:10}},[e._v(e._$s(10,"t0-0",e._s(e.label)))]):e._e()],{_i:9})],2)]),e._t("value",[e._$s(12,"i",!e.$u.test.empty(e.value))?i("text",{staticClass:e._$s(12,"sc","u-cell__value"),class:e._$s(12,"c",[e.disabled&&"u-cell--disabled","large"===e.size&&"u-cell__value--large"]),attrs:{_i:12}},[e._v(e._$s(12,"t0-0",e._s(e.value)))]):e._e()],{_i:11}),e._$s(13,"i",e.$slots["right-icon"]||e.isLink)?i("view",{staticClass:e._$s(13,"sc","u-cell__right-icon-wrap"),class:e._$s(13,"c",["u-cell__right-icon-wrap--"+e.arrowDirection]),attrs:{_i:13}},[e._$s(14,"i",e.$slots["right-icon"])?e._t("right-icon",null,{_i:14}):i("u-icon",{attrs:{name:e.rightIcon,"custom-style":e.rightIconStyle,color:e.disabled?"#c8c9cc":"info",size:"large"===e.size?18:16,_i:15}})],2):e._e()],2),e._$s(16,"i",e.border)?i("u-line",{attrs:{_i:16}}):e._e()],1)},o=[]},"9d63":function(e,t,i){"use strict";i.r(t);var r=i("5c05");for(var n in r)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(n);var o=i("f0c5"),a=Object(o["a"])(r["default"],void 0,void 0,!1,null,null,null,!1,void 0,void 0);t["default"]=a.exports},"9e22":function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("11f2")),o=n.default.color,a={link:{color:o["u-primary"],fontSize:15,underLine:!1,href:"",mpTips:"\u94fe\u63a5\u5df2\u590d\u5236\uff0c\u8bf7\u5728\u6d4f\u89c8\u5668\u6253\u5f00",lineColor:"",text:""}};t.default=a},"9e40":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={checkbox:{name:"",shape:"",size:"",checkbox:!1,disabled:"",activeColor:"",inactiveColor:"",iconSize:"",iconColor:"",label:"",labelSize:"",labelColor:"",labelDisabled:""}}},"9f49":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{lang:String,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,formType:String,openType:String}};t.default=r},"9f70":function(e,t,i){var r=i("36c6");e.exports=function(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=r(e),null===e)break;return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"9f79":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={toolbar:{show:!0,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u8ba4",cancelColor:"#909193",confirmColor:"#3c9cff",title:""}}},"9f9a":function(e,t,i){"use strict";i.r(t);var r=i("f525"),n=i("9a54");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"62dab232",null,!1,r["a"],void 0);t["default"]=s.exports},a128:function(e,t,i){var r=i("36c6"),n=i("4a4b"),o=i("c5f7"),a=i("b17c");function s(t){var i="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof i){if(i.has(e))return i.get(e);i.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n(t,e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},a241:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{show:{type:Boolean,default:uni.$u.props.transition.show},mode:{type:String,default:uni.$u.props.transition.mode},duration:{type:[String,Number],default:uni.$u.props.transition.duration},timingFunction:{type:String,default:uni.$u.props.transition.timingFunction}}};t.default=r},a2ea:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={indexAnchor:{text:"",color:"#606266",size:14,bgColor:"#dedede",height:32}}},a34a:function(e,t,i){var r=i("7037"),n=i("7ec2")();e.exports=n;try{regeneratorRuntime=n}catch(o){"object"===("undefined"===typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},a382:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("37dc"),o=r(i("448d")),a=(0,n.initVueI18n)(o.default),s=a.t,l={name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:"\u53d6\u6d88"},bgColor:{type:String,default:"#F8F8F8"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:function(){return{show:!1,showSync:!1,searchVal:""}},computed:{cancelTextI18n:function(){return this.cancelText||s("uni-search-bar.cancel")},placeholderText:function(){return this.placeholder||s("uni-search-bar.placeholder")}},watch:{value:{immediate:!0,handler:function(e){this.searchVal=e,e&&(this.show=!0)}},focus:{immediate:!0,handler:function(e){var t=this;if(e){if(this.readonly)return;this.show=!0,this.$nextTick((function(){t.showSync=!0}))}}},searchVal:function(e,t){this.$emit("input",e)}},methods:{searchClick:function(){var e=this;this.readonly||this.show||(this.show=!0,this.$nextTick((function(){e.showSync=!0})))},clear:function(){this.$emit("clear",{value:this.searchVal}),this.searchVal=""},cancel:function(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,plus.key.hideSoftKeybord())},confirm:function(){plus.key.hideSoftKeybord(),this.$emit("confirm",{value:this.searchVal})},blur:function(){plus.key.hideSoftKeybord(),this.$emit("blur",{value:this.searchVal})},emitFocus:function(e){this.$emit("focus",e.detail)}}};t.default=l},a395:function(e,t,i){var r=i("7037")["default"],n=i("e50d");e.exports=function(e){var t=n(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},a3c9:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9523")),o=r(i("a241")),a=r(i("d0d3"));function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u={name:"u-transition",data:function(){return{inited:!1,viewStyle:{},status:"",transitionEnded:!1,display:!1,classes:""}},computed:{mergeStyle:function(){var e=this.viewStyle,t=this.customStyle;return l(l({transitionDuration:"".concat(this.duration,"ms"),transitionTimingFunction:this.timingFunction},uni.$u.addStyle(t)),e)}},mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default,o.default],watch:{show:{handler:function(e){e?this.vueEnter():this.vueLeave()},immediate:!0}}};t.default=u},a404:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={stepsItem:{title:"",desc:"",iconSize:17,error:!1}}},a43e:function(e,t,i){"use strict";i.r(t);var r=i("73f8"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},a4d9:function(e,t,i){"use strict";i.r(t);var r=i("e4a9"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},a4fc:function(e,t,i){"use strict";i.r(t);var r=i("0434"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},a525:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uOverlay:i("ea8b").default,uTransition:i("e0f9").default,uStatusBar:i("b4e6").default,uIcon:i("14ff").default,uSafeBottom:i("0b90").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","u-popup"),attrs:{_i:0},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault()}}},[e._$s(1,"i",e.overlay)?i("u-overlay",{attrs:{show:e.show,duration:e.overlayDuration,customStyle:e.overlayStyle,opacity:e.overlayOpacity,_i:1},on:{click:e.overlayClick}}):e._e(),i("u-transition",{attrs:{show:e.show,customStyle:e.transitionStyle,mode:e.position,duration:e.duration,_i:2},on:{afterEnter:e.afterEnter,click:e.clickHandler}},[i("view",{staticClass:e._$s(3,"sc","u-popup__content"),style:e._$s(3,"s",[e.contentStyle]),attrs:{_i:3},on:{click:function(t){return t.stopPropagation(),e.noop(t)}}},[e._$s(4,"i",e.safeAreaInsetTop)?i("u-status-bar",{attrs:{_i:4}}):e._e(),e._t("default",null,{_i:5}),e._$s(6,"i",e.closeable)?i("view",{staticClass:e._$s(6,"sc","u-popup__content__close"),class:e._$s(6,"c",["u-popup__content__close--"+e.closeIconPos]),attrs:{_i:6},on:{click:function(t){return t.stopPropagation(),e.close(t)}}},[i("u-icon",{attrs:{name:"close",color:"#909399",size:"18",bold:!0,_i:7}})],1):e._e(),e._$s(8,"i",e.safeAreaInsetBottom)?i("u-safe-bottom",{attrs:{_i:8}}):e._e()],2)])],1)},o=[]},a698:function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("c973")),a=r(i("448a")),s=i("a97a"),l={namespaced:!0,state:{searchList:null,searchHomeList:null,chapterInfo:null,bookval:null,listcount:0},mutations:{addType:function(t,i){var r;i.data.forEach((function(e){e.type=i.type})),t.searchList||(t.searchList=[]),(r=t.searchList).push.apply(r,(0,a.default)(i.data)),t.listcount=i.count,e("log",t.searchList," at store/modules/book.js:26")},addHomeType:function(e,t){var i;t.data.forEach((function(e){e.type=t.type})),e.searchHomeList=[],(i=e.searchHomeList).push.apply(i,(0,a.default)(t.data))},setBookVal:function(e,t){e.bookval=t.data},resetbookval:function(e,t){e.bookval=t},resetsearchList:function(e,t){e.searchList=t}},actions:{bookgetlist:function(e,t){return(0,o.default)(n.default.mark((function i(){var r;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,s.getsearchBook)(t);case 2:return r=i.sent,r.data&&e.commit("addType",{data:r.data,type:"book",count:r.count}),i.abrupt("return",r.code);case 5:case"end":return i.stop()}}),i)})))()},homebookgetlist:function(e,t){return(0,o.default)(n.default.mark((function i(){var r;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,s.getsearchBook)(t);case 2:return r=i.sent,r.data&&e.commit("addHomeType",{data:r.data,type:"book",count:r.count}),i.abrupt("return",r.code);case 5:case"end":return i.stop()}}),i)})))()},getsearchBookContentfun:function(t,i){return(0,o.default)(n.default.mark((function r(){var o;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,s.getsearchBookContent)(i);case 2:return o=r.sent,e("log",o.data," at store/modules/book.js:73"),o.data.pop(),t.commit("setBookVal",{data:o.data.join(),type:"book"}),r.abrupt("return",o.code);case 7:case"end":return r.stop()}}),r)})))()}},getters:{booklist:function(e){return e.searchHomeList?e.searchHomeList:[]},bookchapter:function(e){return e.chapterInfo?e.chapterInfo:null}}},u=l;t.default=u}).call(this,i("0de9")["default"])},a6c8:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","uni-list uni-border-top-bottom"),attrs:{_i:0}},[e._$s(1,"i",e.border)?i("view",{staticClass:e._$s(1,"sc","uni-list--border-top"),attrs:{_i:1}}):e._e(),e._t("default",null,{_i:2}),e._$s(3,"i",e.border)?i("view",{staticClass:e._$s(3,"sc","uni-list--border-bottom"),attrs:{_i:3}}):e._e()],2)},n=[]},a6f1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={avatar:{src:"",shape:"circle",size:40,mode:"scaleToFill",text:"",bgColor:"#c0c4cc",color:"#ffffff",fontSize:18,icon:"",mpAvatar:!1,randomBgColor:!1,defaultUrl:"",colorIndex:"",name:""}}},a7dc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cellGroup:{title:"",border:!0,customStyle:{}}}},a7e6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={transition:{show:!1,mode:"fade",duration:"300",timingFunction:"ease-out"}}},a872:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9523")),o=i("8acd");function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l=function(e,t,i){var r={};return e.forEach((function(e){(0,o.isUndefined)(i[e])?(0,o.isUndefined)(t[e])||(r[e]=t[e]):r[e]=i[e]})),r};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.method||e.method||"GET",r={baseURL:e.baseURL||"",method:i,url:t.url||"",params:t.params||{},custom:s(s({},e.custom||{}),t.custom||{}),header:(0,o.deepMerge)(e.header||{},t.header||{})},n=["getTask","validateStatus"];if(r=s(s({},r),l(n,e,t)),"DOWNLOAD"===i)(0,o.isUndefined)(t.timeout)?(0,o.isUndefined)(e.timeout)||(r.timeout=e.timeout):r.timeout=t.timeout;else if("UPLOAD"===i){delete r.header["content-type"],delete r.header["Content-Type"];var a=["files","filePath","name","timeout","formData"];a.forEach((function(e){(0,o.isUndefined)(t[e])||(r[e]=t[e])})),(0,o.isUndefined)(r.timeout)&&!(0,o.isUndefined)(e.timeout)&&(r.timeout=e.timeout)}else{var u=["data","timeout","dataType","responseType","sslVerify","firstIpv4"];r=s(s({},r),l(u,e,t))}return r}},a88a:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uNavbar:i("f7b4").default},n=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","wbar-class"),attrs:{_i:0}},[t("u-navbar",{attrs:{height:"80rpx",title:this.title,fixed:!1,placeholder:!0,bgColor:"#FFFFFF",_i:1},on:{leftClick:this.leftClick}})],1)},o=[]},a8a0:function(e,t,i){"use strict";i.r(t);var r=i("a88a"),n=i("3560");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"47108456",null,!1,r["a"],void 0);t["default"]=s.exports},a936:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9523")),o=r(i("740a")),a=r(i("b8ee")),s=r(i("c23d")),l=i("8acd");function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d=function(e,t){var i={};return e.forEach((function(e){(0,l.isUndefined)(t[e])||(i[e]=t[e])})),i};t.default=function(e){return new Promise((function(t,i){var r,n=(0,o.default)((0,a.default)(e.baseURL,e.url),e.params),u={url:n,header:e.header,complete:function(r){e.fullPath=n,r.config=e;try{"string"===typeof r.data&&(r.data=JSON.parse(r.data))}catch(o){}(0,s.default)(t,i,r)}};if("UPLOAD"===e.method){delete u.header["content-type"],delete u.header["Content-Type"];var f={filePath:e.filePath,name:e.name};r=uni.uploadFile(c(c(c({},u),f),d(["files","timeout","formData"],e)))}else if("DOWNLOAD"===e.method)(0,l.isUndefined)(e.timeout)||(u.timeout=e.timeout),r=uni.downloadFile(u);else{r=uni.request(c(c({},u),d(["data","method","timeout","dataType","responseType","sslVerify","firstIpv4"],e)))}e.getTask&&e.getTask(r,e)}))}},a97a:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getsearchBook=function(e){return(0,n.default)({url:"/fiction/search/".concat(e.option,"/").concat(e.key,"/").concat(e.from,"/").concat(e.size),method:"GET"})},t.getsearchBookChapter=function(e){return(0,n.default)({url:"/fictionChapter/search/".concat(e.fictionId),method:"GET"})},t.getsearchBookContent=function(e){return(0,n.default)({url:"/fictionContent/search/".concat(e.chapterId),method:"GET"})},t.getsearchComic=function(e){return(0,n.default)({url:"/comic/search/".concat(e.option,"/").concat(e.key,"/").concat(e.from,"/").concat(e.size),method:"GET"})},t.getsearchComicChapter=function(e){return(0,n.default)({url:"/comicChapter/search/".concat(e.cartoonId),method:"GET"})},t.getsearchComicContent=function(e){return(0,n.default)({url:"/comicContent/search/".concat(e.chapterId),method:"GET"})},t.getsearchVideo=function(e){return(0,n.default)({url:"/video/search/".concat(e.option,"/").concat(e.key,"/").concat(e.from,"/").concat(e.size),method:"GET"})},t.getsearchVideoChapter=function(e){return(0,n.default)({url:"/videoChapter/search/".concat(e.videoId),method:"GET"})};var n=r(i("95f8"))},aa32:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uTabs:i("4f9b").default,uniSearchBar:i("bac8").default,uGrid:i("0d4f").default,uGridItem:i("f09b").default,uIcon:i("14ff").default,uLoadingIcon:i("0320").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","content"),attrs:{_i:0}},[i("downScroll",{ref:"downscroll",attrs:{downLoadFun:e.loadXHRFun,_i:1}},[i("u-tabs",{attrs:{itemStyle:"width:19%;height:80rpx",scrollable:!1,list:e.list1,_i:2},on:{click:e.clickTabs}}),i("view",{attrs:{_i:3},on:{click:e.searchfocus}},[i("uni-search-bar",{attrs:{placeholder:"\u641c\u7d22",focus:e.focus,readonly:!0,_i:4}})],1),i("u-grid",{attrs:{border:!1,col:"4",_i:5}},e._l(e._$s(6,"f",{forItems:e.baseList}),(function(t,r,n,o){return i("u-grid-item",{key:e._$s(6,"f",{forIndex:n,key:r}),attrs:{_i:"6-"+o},on:{click:function(i){return e.gridClick(t)}}},[i("u-icon",{attrs:{customStyle:{paddingTop:"20rpx"},name:t.name,size:22,_i:"7-"+o}}),i("text",{staticClass:e._$s("8-"+o,"sc","grid-text"),attrs:{_i:"8-"+o}},[e._v(e._$s("8-"+o,"t0-0",e._s(t.title)))])],1)})),1),i("view",{directives:[{name:"show",rawName:"v-show",value:e._$s(9,"v-show",e.loading),expression:"_$s(9,'v-show',loading)"}],attrs:{_i:9}},[i("u-loading-icon",{attrs:{vertical:!0,_i:10}})],1),i("view",{directives:[{name:"show",rawName:"v-show",value:e._$s(11,"v-show",!e.loading),expression:"_$s(11,'v-show',!loading)"}],attrs:{_i:11}},[i("homeItem",{attrs:{title:"\u5c0f\u8bf4-"+this.booksearchOption.key,data:e.searchBookList,type:"book",_i:12}}),i("homeItem",{attrs:{title:"\u6f2b\u753b-"+this.comicsearchOption.key,data:e.searchComicList,type:"comic",_i:13}}),i("homeItem",{attrs:{title:"\u89c6\u9891-"+this.videosearchOption.key,data:e.searchVideoList,type:"video",_i:14}})],1)],1)],1)},o=[]},aa43:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={list:{showScrollbar:!1,lowerThreshold:50,upperThreshold:0,scrollTop:0,offsetAccuracy:10,enableFlex:!1,pagingEnabled:!1,scrollable:!0,scrollIntoView:"",scrollWithAnimation:!1,enableBackToTop:!1,height:0,width:0,preLoadScreen:1}}},abdb:function(e,t){},abf6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={lineProgress:{activeColor:"#19be6b",inactiveColor:"#ececec",percentage:0,showText:!0,height:12}}},ad81:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("278c")),o={name:"UniListItem",emits:["click","switchChange"],props:{direction:{type:String,default:"row"},title:{type:String,default:""},note:{type:String,default:""},ellipsis:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},clickable:{type:Boolean,default:!1},showArrow:{type:[Boolean,String],default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},badgeStyle:{type:Object,default:function(){return{}}},rightText:{type:String,default:""},thumb:{type:String,default:""},thumbSize:{type:String,default:"base"},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:function(){return{type:"",color:"#000000",size:20,customPrefix:""}}},border:{type:Boolean,default:!0},customStyle:{type:Object,default:function(){return{padding:"",backgroundColor:"#FFFFFF"}}},keepScrollPosition:{type:Boolean,default:!1}},watch:{"customStyle.padding":{handler:function(e){"number"==typeof e&&(e+="");var t=e.split(" ");if(1===t.length){var i=t[0];this.padding={top:i,right:i,bottom:i,left:i}}else if(2===t.length){var r=(0,n.default)(t,2),o=r[0],a=r[1];this.padding={top:o,right:a,bottom:o,left:a}}else if(4===t.length){var s=(0,n.default)(t,4),l=s[0],u=s[1],c=s[2],d=s[3];this.padding={top:l,right:u,bottom:c,left:d}}},immediate:!0}},data:function(){return{isFirstChild:!1,padding:{top:"",right:"",bottom:"",left:""}}},mounted:function(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0))},methods:{getForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniList",t=this.$parent,i=t.$options.name;while(i!==e){if(t=t.$parent,!t)return!1;i=t.$options.name}return t},onClick:function(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},onSwitchChange:function(e){this.$emit("switchChange",e.detail)},openPage:function(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi:function(e){var t=this,i={url:this.to,success:function(e){t.$emit("click",{data:e})},fail:function(e){t.$emit("click",{data:e})}};switch(e){case"navigateTo":uni.navigateTo(i);break;case"redirectTo":uni.redirectTo(i);break;case"reLaunch":uni.reLaunch(i);break;case"switchTab":uni.switchTab(i);break;default:uni.navigateTo(i)}}}};t.default=o},ae8d:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("c973")),a=r(i("1421")),s={name:"u-grid-item",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{parentData:{col:3,border:!0},classes:[]}},mounted:function(){this.init()},computed:{width:function(){return 100/Number(this.parentData.col)+"%"},itemStyle:function(){var e={background:this.bgColor,width:this.width};return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},methods:{init:function(){var e=this;uni.$on("$uGridItem",(function(){e.gridItemClasses()})),this.updateParentData(),uni.$emit("$uGridItem"),this.gridItemClasses()},updateParentData:function(){this.getParentData("u-grid")},clickHandler:function(){var e,t=this,i=this.name,r=null===(e=this.parent)||void 0===e?void 0:e.children;r&&null===this.name&&(i=r.findIndex((function(e){return e===t}))),this.parent&&this.parent.childClick(i),this.$emit("click",i)},getItemWidth:function(){var e=this;return(0,o.default)(n.default.mark((function t(){var i,r;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=0,!e.parent){t.next=6;break}return t.next=4,e.getParentWidth();case 4:r=t.sent,i=r/Number(e.parentData.col)+"px";case 6:e.width=i;case 7:case"end":return t.stop()}}),t)})))()},getParentWidth:function(){},gridItemClasses:function(){var e=this;if(this.parentData.border){var t=[];this.parent.children.map((function(i,r){if(e===i){var n=e.parent.children.length;(r+1)%e.parentData.col!==0&&r+1!==n&&t.push("u-border-right");var o=n%e.parentData.col===0?e.parentData.col:n%e.parentData.col;r<n-o&&t.push("u-border-bottom")}})),this.classes=t}}},beforeDestroy:function(){uni.$off("$uGridItem")}};t.default=s},b057:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uStatusBar:i("b4e6").default,uIcon:i("14ff").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","u-navbar"),attrs:{_i:0}},[e._$s(1,"i",e.fixed&&e.placeholder)?i("view",{staticClass:e._$s(1,"sc","u-navbar__placeholder"),style:e._$s(1,"s",{height:e.$u.addUnit(e.$u.getPx(e.height)+e.$u.sys().statusBarHeight,"px")}),attrs:{_i:1}}):e._e(),i("view",{class:e._$s(2,"c",[e.fixed&&"u-navbar--fixed"]),attrs:{_i:2}},[e._$s(3,"i",e.safeAreaInsetTop)?i("u-status-bar",{attrs:{bgColor:e.bgColor,_i:3}}):e._e(),i("view",{staticClass:e._$s(4,"sc","u-navbar__content"),class:e._$s(4,"c",[e.border&&"u-border-bottom"]),style:e._$s(4,"s",{height:e.$u.addUnit(e.height),backgroundColor:e.bgColor}),attrs:{_i:4}},[i("view",{staticClass:e._$s(5,"sc","u-navbar__content__left"),attrs:{_i:5},on:{click:e.leftClick}},[e._t("left",[e._$s(7,"i",e.leftIcon)?i("u-icon",{attrs:{name:e.leftIcon,size:e.leftIconSize,color:e.leftIconColor,_i:7}}):e._e(),e._$s(8,"i",e.leftText)?i("text",{staticClass:e._$s(8,"sc","u-navbar__content__left__text"),style:e._$s(8,"s",{color:e.leftIconColor}),attrs:{_i:8}},[e._v(e._$s(8,"t0-0",e._s(e.leftText)))]):e._e()],{_i:6})],2),e._t("center",[i("text",{staticClass:e._$s(10,"sc","u-line-1 u-navbar__content__title"),style:e._$s(10,"s",[{width:e.$u.addUnit(e.titleWidth)},e.$u.addStyle(e.titleStyle)]),attrs:{_i:10}},[e._v(e._$s(10,"t0-0",e._s(e.title)))])],{_i:9}),e._$s(11,"i",e.$slots.right||e.rightIcon||e.rightText)?i("view",{staticClass:e._$s(11,"sc","u-navbar__content__right"),attrs:{_i:11},on:{click:e.rightClick}},[e._t("right",[e._$s(13,"i",e.rightIcon)?i("u-icon",{attrs:{name:e.rightIcon,size:"20",_i:13}}):e._e(),e._$s(14,"i",e.rightText)?i("text",{staticClass:e._$s(14,"sc","u-navbar__content__right__text"),attrs:{_i:14}},[e._v(e._$s(14,"t0-0",e._s(e.rightText)))]):e._e()],{_i:12})],2):e._e()],2)],1)])},o=[]},b087:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(i("9f49")),r(i("8a8e"));var n=r(i("6251")),o={name:"u-button",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{}},computed:{bemClass:function(){return this.color?this.bem("button",["shape","size"],["disabled","plain","hairline"]):this.bem("button",["type","shape","size"],["disabled","plain","hairline"])},loadingColor:function(){return this.plain?this.color?this.color:uni.$u.config.color["u-".concat(this.type)]:"info"===this.type?"#c9c9c9":"rgb(200, 200, 200)"},iconColorCom:function(){return this.iconColor?this.iconColor:this.plain?this.color?this.color:this.type:"info"===this.type?"#000000":"#ffffff"},baseColor:function(){var e={};return this.color&&(e.color=this.plain?this.color:"white",this.plain||(e["background-color"]=this.color),-1!==this.color.indexOf("gradient")?(e.borderTopWidth=0,e.borderRightWidth=0,e.borderBottomWidth=0,e.borderLeftWidth=0,this.plain||(e.backgroundImage=this.color)):(e.borderColor=this.color,e.borderWidth="1px",e.borderStyle="solid")),e},nvueTextStyle:function(){var e={};return"info"===this.type&&(e.color="#323233"),this.color&&(e.color=this.plain?this.color:"white"),e.fontSize=this.textSize+"px",e},textSize:function(){var e=14,t=this.size;return"large"===t&&(e=16),"normal"===t&&(e=14),"small"===t&&(e=12),"mini"===t&&(e=10),e}},methods:{clickHandler:function(){var e=this;this.disabled||this.loading||uni.$u.throttle((function(){e.$emit("click")}),this.throttleTime)},getphonenumber:function(e){this.$emit("getphonenumber",e)},getuserinfo:function(e){this.$emit("getuserinfo",e)},error:function(e){this.$emit("error",e)},opensetting:function(e){this.$emit("opensetting",e)},launchapp:function(e){this.$emit("launchapp",e)}}};t.default=o},b08c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={noticeBar:{text:function(){return[]},direction:"row",step:!1,icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",speed:80,fontSize:14,duration:2e3,disableTouch:!0,url:"",linkType:"navigateTo"}}},b138:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={slider:{value:0,blockSize:18,min:0,max:100,step:1,activeColor:"#2979ff",inactiveColor:"#c0c4cc",blockColor:"#ffffff",showValue:!1,disabled:!1,blockStyle:function(){}}}},b161:function(e,t,i){"use strict";i.r(t);var r=i("7323"),n=i("151d");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"6d96a680",null,!1,r["a"],void 0);t["default"]=s.exports},b17c:function(e,t,i){var r=i("4a4b"),n=i("6f8f");function o(t,i,a){return n()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=o=function(e,t,i){var n=[null];n.push.apply(n,t);var o=Function.bind.apply(e,n),a=new o;return i&&r(a,i.prototype),a},e.exports.__esModule=!0,e.exports["default"]=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports},b1ce:function(e,t,i){"use strict";i.r(t);var r=i("760d"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},b28e:function(e,t,i){"use strict";i.r(t);var r=i("faff"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},b2df:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uTransition:i("e0f9").default},n=function(){var e=this.$createElement,t=this._self._c||e;return t("u-transition",{attrs:{show:this.show,"custom-class":"u-overlay",duration:this.duration,"custom-style":this.overlayStyle,_i:0},on:{click:this.clickHandler}},[this._t("default",null,{_i:1})],2)},o=[]},b2fb:function(e,t,i){"use strict";i.r(t);var r=i("a6c8"),n=i("dcf5");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},b35d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{span:{type:[String,Number],default:uni.$u.props.col.span},offset:{type:[String,Number],default:uni.$u.props.col.offset},justify:{type:String,default:uni.$u.props.col.justify},align:{type:String,default:uni.$u.props.col.align},textAlign:{type:String,default:uni.$u.props.col.textAlign}}};t.default=r},b49e:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("278c")),a=r(i("9523")),s=r(i("c973")),l=r(i("f667"));function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,a.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d={name:"u-tabs",mixins:[uni.$u.mpMixin,uni.$u.mixin,l.default],data:function(){return{firstTime:!0,scrollLeft:0,scrollViewWidth:0,lineOffsetLeft:0,tabsRect:{left:0},innerCurrent:0,moving:!1}},watch:{current:{immediate:!0,handler:function(e,t){var i=this;e!==this.innerCurrent&&(this.innerCurrent=e,this.$nextTick((function(){i.resize()})))}},list:function(){var e=this;this.$nextTick((function(){e.resize()}))}},computed:{textStyle:function(){var e=this;return function(t){var i={},r=t===e.innerCurrent?uni.$u.addStyle(e.activeStyle):uni.$u.addStyle(e.inactiveStyle);return e.list[t].disabled&&(i.color="#c8c9cc"),uni.$u.deepMerge(r,i)}},propsBadge:function(){return uni.$u.props.badge}},mounted:function(){var e=this;return(0,s.default)(n.default.mark((function t(){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init();case 1:case"end":return t.stop()}}),t)})))()},methods:{setLineLeft:function(){var e=this,t=this.list[this.innerCurrent];if(t){var i=this.list.slice(0,this.innerCurrent).reduce((function(e,t){return e+t.rect.width}),0),r=uni.$u.getPx(this.lineWidth);this.lineOffsetLeft=i+(t.rect.width-r)/2,this.firstTime&&setTimeout((function(){e.firstTime=!1}),10)}},animation:function(e){},clickHandler:function(e,t){this.$emit("click",c(c({},e),{},{index:t})),e.disabled||(this.innerCurrent=t,this.resize(),this.$emit("change",c(c({},e),{},{index:t})))},init:function(){var e=this;uni.$u.sleep().then((function(){e.resize()}))},setScrollLeft:function(){var e=this.list[this.innerCurrent],t=this.list.slice(0,this.innerCurrent).reduce((function(e,t){return e+t.rect.width}),0),i=uni.$u.sys().windowWidth,r=t-(this.tabsRect.width-e.rect.width)/2-(i-this.tabsRect.right)/2+this.tabsRect.left/2;r=Math.min(r,this.scrollViewWidth-this.tabsRect.width),this.scrollLeft=Math.max(0,r)},resize:function(){var e=this;0!==this.list.length&&Promise.all([this.getTabsRect(),this.getAllItemRect()]).then((function(t){var i=(0,o.default)(t,2),r=i[0],n=i[1],a=void 0===n?[]:n;e.tabsRect=r,e.scrollViewWidth=0,a.map((function(t,i){e.scrollViewWidth+=t.width,e.list[i].rect=t})),e.setLineLeft(),e.setScrollLeft()}))},getTabsRect:function(){var e=this;return new Promise((function(t){e.queryRect("u-tabs__wrapper__scroll-view").then((function(e){return t(e)}))}))},getAllItemRect:function(){var e=this;return new Promise((function(t){var i=e.list.map((function(t,i){return e.queryRect("u-tabs__wrapper__nav__item-".concat(i),!0)}));Promise.all(i).then((function(e){return t(e)}))}))},queryRect:function(e,t){var i=this;return new Promise((function(t){i.$uGetRect(".".concat(e)).then((function(e){t(e)}))}))}}};t.default=d},b4e6:function(e,t,i){"use strict";i.r(t);var r=i("7161"),n=i("7845");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"2292e5f5",null,!1,r["a"],void 0);t["default"]=s.exports},b566:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={indexList:{inactiveColor:"#606266",activeColor:"#5677fc",indexList:function(){return[]},sticky:!0,customNavHeight:0}}},b56b:function(e,t,i){"use strict";i.r(t);var r=i("e230"),n=i("a4d9");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"03bed71a",null,!1,r["a"],void 0);t["default"]=s.exports},b56e:function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("c973")),a=r(i("448a")),s=i("a97a"),l={namespaced:!0,state:{searchList:null,searchHomeList:null,chapterInfo:null,ComicVal:null,onloadComicValImg:[],listcount:0},mutations:{addType:function(e,t){var i;t.data.forEach((function(e){e.type=t.type})),e.searchList||(e.searchList=[]),(i=e.searchList).push.apply(i,(0,a.default)(t.data)),e.listcount=t.count},addHomeType:function(e,t){var i;t.data.forEach((function(e){e.type=t.type})),e.searchHomeList=[],(i=e.searchHomeList).push.apply(i,(0,a.default)(t.data))},setComicVal:function(e,t){e.ComicVal=t.data},changeOnloadComicValImg:function(e){e.ComicVal.length&&e.onloadComicValImg.push(e.ComicVal.shift())},resetComicval:function(e,t){e.ComicVal=t,e.onloadComicValImg=[]},resetsearchList:function(e,t){e.searchList=t}},actions:{comicgetlist:function(e,t){return(0,o.default)(n.default.mark((function i(){var r;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,s.getsearchComic)(t);case 2:return r=i.sent,r.data&&e.commit("addType",{data:r.data,type:"comic",count:r.count}),i.abrupt("return",r.code);case 5:case"end":return i.stop()}}),i)})))()},homecomicgetlist:function(e,t){return(0,o.default)(n.default.mark((function i(){var r;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,(0,s.getsearchComic)(t);case 2:return r=i.sent,r.data&&e.commit("addHomeType",{data:r.data,type:"comic",count:r.count}),i.abrupt("return",r.code);case 5:case"end":return i.stop()}}),i)})))()},getsearchComicContentfun:function(t,i){var r=this;return(0,o.default)(n.default.mark((function o(){var a;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.getsearchComicContent)(i);case 2:return a=n.sent,a.data&&(e("log",a.data," at store/modules/comic.js:81"),t.commit("setComicVal",{data:a.data}),t.commit("changeOnloadComicValImg"),e("log",r.state," at store/modules/comic.js:84")),n.abrupt("return",a.code);case 5:case"end":return n.stop()}}),o)})))()}},getters:{comiclist:function(e){return e.searchHomeList?e.searchHomeList:[]},comicchapter:function(e){return e.chapterInfo?e.chapterInfo:null},onloadComicValImg:function(e){return e.chapterInfo?e.chapterInfo:null}}},u=l;t.default=u}).call(this,i("0de9")["default"])},b599:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={album:{urls:function(){return[]},keyName:"",singleSize:180,multipleSize:70,space:6,singleMode:"scaleToFill",multipleMode:"aspectFill",maxCount:9,previewFullImage:!0,rowCount:3,showMore:!0}}},b639:function(e,t,i){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=i("1fb5"),n=i("9152"),o=i("e3db");function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=l.prototype):(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,i);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,i)}function u(e,t,i,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r);l.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=l.prototype):e=f(e,t);return e}(e,t,i,r):"string"===typeof t?function(e,t,i){"string"===typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,i);e=s(e,r);var n=e.write(t,i);n!==r&&(e=e.slice(0,n));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|h(t.length);return e=s(e,i),0===e.length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||function(e){return e!==e}(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function f(e,t){var i=t.length<0?0:0|h(t.length);e=s(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return H(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,t>>>=0,i<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return L(this,t,i);case"utf8":case"utf-8":return x(this,t,i);case"ascii":return A(this,t,i);case"latin1":case"binary":return C(this,t,i);case"base64":return k(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function y(e,t,i,r,n){if(0===e.length)return-1;if("string"===typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:m(e,t,i,r,n);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):m(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}function m(e,t,i,r,n){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,i/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){var c=-1;for(o=i;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(i+l>s&&(i=s-l),o=i;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function _(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r),r>n&&(r=n)):r=n;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function b(e,t,i,r){return $(j(t,e.length-i),e,i,r)}function S(e,t,i,r){return $(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function T(e,t,i,r){return S(e,t,i,r)}function E(e,t,i,r){return $(H(t),e,i,r)}function w(e,t,i,r){return $(function(e,t){for(var i,r,n,o=[],a=0;a<e.length;++a){if((t-=2)<0)break;i=e.charCodeAt(a),r=i>>8,n=i%256,o.push(n),o.push(r)}return o}(t,e.length-i),e,i,r)}function k(e,t,i){return 0===t&&i===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,i))}function x(e,t,i){i=Math.min(e.length,i);var r=[],n=t;while(n<i){var o,a,s,l,u=e[n],c=null,d=u>239?4:u>223?3:u>191?2:1;if(n+d<=i)switch(d){case 1:u<128&&(c=u);break;case 2:o=e[n+1],128===(192&o)&&(l=(31&u)<<6|63&o,l>127&&(c=l));break;case 3:o=e[n+1],a=e[n+2],128===(192&o)&&128===(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a,l>2047&&(l<55296||l>57343)&&(c=l));break;case 4:o=e[n+1],a=e[n+2],s=e[n+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s,l>65535&&l<1114112&&(c=l))}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),n+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var i="",r=0;while(r<t)i+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return i}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return u(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,r){return c(t),t<=0?s(e,t):void 0!==i?"string"===typeof r?s(e,t).fill(i,r):s(e,t).fill(i):s(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,o=Math.min(i,r);n<o;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:r<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=l.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var a=e[i];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,n),n+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):v.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,r,n){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,n>>>=0,this===e)return 0;for(var o=n-r,a=i-t,s=Math.min(o,a),u=this.slice(r,n),c=e.slice(t,i),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],a=c[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return y(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return y(this,e,t,i,!1)},l.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"===typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,i);case"utf8":case"utf-8":return b(this,e,t,i);case"ascii":return S(this,e,t,i);case"latin1":case"binary":return T(this,e,t,i);case"base64":return E(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function C(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function L(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",o=t;o<i;++o)n+=U(e[o]);return n}function I(e,t,i){for(var r=e.slice(t,i),n="",o=0;o<r.length;o+=2)n+=String.fromCharCode(r[o]+256*r[o+1]);return n}function P(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,i,r,n,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function R(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,o=Math.min(e.length-i,2);n<o;++n)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function O(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,o=Math.min(e.length-i,4);n<o;++n)e[i+n]=t>>>8*(r?n:3-n)&255}function M(e,t,i,r,n,o){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function N(e,t,i,r,o){return o||M(e,0,i,4),n.write(e,t,i,r,23,4),i+4}function F(e,t,i,r,o){return o||M(e,0,i,8),n.write(e,t,i,r,52,8),i+8}l.prototype.slice=function(e,t){var i,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=l.prototype;else{var n=t-e;i=new l(n,void 0);for(var o=0;o<n;++o)i[o]=this[o+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);var r=this[e],n=1,o=0;while(++o<t&&(n*=256))r+=this[e+o]*n;return r},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);var r=this[e+--t],n=1;while(t>0&&(n*=256))r+=this[e+--t]*n;return r},l.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);var r=this[e],n=1,o=0;while(++o<t&&(n*=256))r+=this[e+o]*n;return n*=128,r>=n&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||P(e,t,this.length);var r=t,n=1,o=this[e+--r];while(r>0&&(n*=256))o+=this[e+--r]*n;return n*=128,o>=n&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),n.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),n.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),n.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),n.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,r){if(e=+e,t|=0,i|=0,!r){var n=Math.pow(2,8*i)-1;D(this,e,t,i,n,0)}var o=1,a=0;this[t]=255&e;while(++a<i&&(o*=256))this[t+a]=e/o&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,r){if(e=+e,t|=0,i|=0,!r){var n=Math.pow(2,8*i)-1;D(this,e,t,i,n,0)}var o=i-1,a=1;this[t+o]=255&e;while(--o>=0&&(a*=256))this[t+o]=e/a&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);D(this,e,t,i,n-1,-n)}var o=0,a=1,s=0;this[t]=255&e;while(++o<i&&(a*=256))e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},l.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);D(this,e,t,i,n-1,-n)}var o=i-1,a=1,s=0;this[t+o]=255&e;while(--o>=0&&(a*=256))e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return N(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return N(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return F(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return F(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,o=r-i;if(this===e&&i<t&&t<r)for(n=o-1;n>=0;--n)e[n+t]=this[n+i];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},l.prototype.fill=function(e,t,i,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,i=this.length):"string"===typeof i&&(r=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"===typeof e)for(o=t;o<i;++o)this[o]=e;else{var a=l.isBuffer(e)?e:j(new l(e,r).toString()),s=a.length;for(o=0;o<i-t;++o)this[o+t]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var i;t=t||1/0;for(var r=e.length,n=null,o=[],a=0;a<r;++a){if(i=e.charCodeAt(a),i>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function H(e){return r.toByteArray(function(e){if(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}(e))}function $(e,t,i,r){for(var n=0;n<r;++n){if(n+i>=t.length||n>=e.length)break;t[n+i]=e[n]}return n}}).call(this,i("c8ba"))},b761:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{type:{type:String,default:uni.$u.props.text.type},show:{type:Boolean,default:uni.$u.props.text.show},text:{type:[String,Number],default:uni.$u.props.text.text},prefixIcon:{type:String,default:uni.$u.props.text.prefixIcon},suffixIcon:{type:String,default:uni.$u.props.text.suffixIcon},mode:{type:String,default:uni.$u.props.text.mode},href:{type:String,default:uni.$u.props.text.href},format:{type:[String,Function],default:uni.$u.props.text.format},call:{type:Boolean,default:uni.$u.props.text.call},openType:{type:String,default:uni.$u.props.text.openType},bold:{type:Boolean,default:uni.$u.props.text.bold},block:{type:Boolean,default:uni.$u.props.text.block},lines:{type:[String,Number],default:uni.$u.props.text.lines},color:{type:String,default:uni.$u.props.text.color},size:{type:[String,Number],default:uni.$u.props.text.size},iconStyle:{type:[Object,String],default:uni.$u.props.text.iconStyle},decoration:{type:String,default:uni.$u.props.text.decoration},margin:{type:[Object,String,Number],default:uni.$u.props.text.margin},lineHeight:{type:[String,Number],default:uni.$u.props.text.lineHeight},align:{type:String,default:uni.$u.props.text.align},wordWrap:{type:String,default:uni.$u.props.text.wordWrap}}};t.default=r},b765:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("984d")),o=r(i("f6a6")),a={name:"u--image",mixins:[uni.$u.mpMixin,o.default,uni.$u.mixin],components:{uvImage:n.default}};t.default=a},b77d:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("dfa4")),o=(r(i("9f49")),r(i("8a8e")),r(i("b761"))),a={name:"u--text",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default,o.default],computed:{valueStyle:function(){var e={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:uni.$u.addUnit(this.size)};return!this.type&&(e.color=this.color),this.isNvue&&this.lines&&(e.lines=this.lines),this.lineHeight&&(e.lineHeight=uni.$u.addUnit(this.lineHeight)),!this.isNvue&&this.block&&(e.display="block"),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},isNvue:function(){return!1},isMp:function(){return!1}},data:function(){return{}},methods:{clickHandler:function(){this.call&&"phone"===this.mode&&uni.makePhoneCall({phoneNumber:this.text}),this.$emit("click")}}};t.default=a},b7fe:function(e,t,i){"use strict";i.r(t);var r=i("2da9"),n=i("6ecc");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"5c0a651e",null,!1,r["a"],void 0);t["default"]=s.exports},b8ab:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{isDot:{type:Boolean,default:uni.$u.props.badge.isDot},value:{type:[Number,String],default:uni.$u.props.badge.value},show:{type:Boolean,default:uni.$u.props.badge.show},max:{type:[Number,String],default:uni.$u.props.badge.max},type:{type:String,default:uni.$u.props.badge.type},showZero:{type:Boolean,default:uni.$u.props.badge.showZero},bgColor:{type:[String,null],default:uni.$u.props.badge.bgColor},color:{type:[String,null],default:uni.$u.props.badge.color},shape:{type:String,default:uni.$u.props.badge.shape},numberType:{type:String,default:uni.$u.props.badge.numberType},offset:{type:Array,default:uni.$u.props.badge.offset},inverted:{type:Boolean,default:uni.$u.props.badge.inverted},absolute:{type:Boolean,default:uni.$u.props.badge.absolute}}};t.default=r},b8ee:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&!(0,n.default)(t))return(0,o.default)(e,t);return t};var n=r(i("3cdc")),o=r(i("22a9"))},b924:function(e,t,i){"use strict";i.r(t);var r=i("0849"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},b92f:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("7933")),o={name:"u-overlay",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],computed:{overlayStyle:function(){var e={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":"rgba(0, 0, 0, ".concat(this.opacity,")")};return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},methods:{clickHandler:function(){this.$emit("click")}}};t.default=o},ba17:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("e5dc")),o=r(i("1eff")),a={props:{option:{type:Object,default:function(){return{}}}},computed:{icon:function(){if(null!=this.option.icon)return this.option.icon;var e=o.default.getType();return this.option.i18n?this.option.i18n[e].icon:n.default.i18n[e].up.empty.icon||n.default.up.empty.icon},tip:function(){if(null!=this.option.tip)return this.option.tip;var e=o.default.getType();return this.option.i18n?this.option.i18n[e].tip:n.default.i18n[e].up.empty.tip||n.default.up.empty.tip},btnText:function(){if(this.option.i18n){var e=o.default.getType();return this.option.i18n[e].btnText}return this.option.btnText}},methods:{emptyClick:function(){this.$emit("emptyclick")}}};t.default=a},bac8:function(e,t,i){"use strict";i.r(t);var r=i("1135"),n=i("9640");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},bbda:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={nxSearch:i("5fbe").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",[i("view",[i("nx-search",{attrs:{selectList:e.selectList,button:"inside",_i:2},on:{search:e.doSearch,confirm:e.doSearc},model:{value:e._$s(2,"v-model",e.keyword),callback:function(t){e.keyword=t},expression:"keyword"}})],1)])},o=[]},bc05:function(e,t,i){"use strict";i.r(t);var r=i("b087"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},bc46:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={circleProgress:{percentage:30}}},bc56:function(e,t,i){"use strict";i.r(t);var r=i("ea7b"),n=i("e375");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"41bb1d57",null,!1,r["a"],void 0);t["default"]=s.exports},bdc1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={switch:{loading:!1,disabled:!1,size:25,activeColor:"#2979ff",inactiveColor:"#ffffff",value:!1,activeValue:!0,inactiveValue:!1,asyncChange:!1,space:0}}},be19:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={columnNotice:{text:"",icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",fontSize:14,speed:80,step:!1,duration:1500,disableTouch:!0}}},be1d:function(e,t,i){"use strict";t["a"]=function(e){(e.options.wxs||(e.options.wxs={}))["wxsBiz"]=function(e){var t={};function i(e,i){if(t.isMoveDown)t.downHight>=t.optDown.offset?(t.downHight=t.optDown.offset,t.callMethod(i,{type:"triggerDownScroll"})):(t.downHight=0,t.callMethod(i,{type:"endDownScroll"})),t.movetype=0,t.isMoveDown=!1;else if(!t.isScrollBody&&t.getScrollTop()===t.startTop){var r=t.getPoint(e).y-t.startPoint.y<0;if(r){var n=t.getAngle(t.getPoint(e),t.startPoint);n>80&&t.callMethod(i,{type:"triggerUpScroll"})}}t.callMethod(i,{type:"setWxsProp"})}return t.onMoving=function(e,t,i){e.requestAnimationFrame((function(){e.selectComponent(".mescroll-wxs-content").setStyle({"will-change":"transform",transform:"translateY("+i+"px)",transition:""});var r=e.selectComponent(".mescroll-wxs-progress");r&&r.setStyle({transform:"rotate("+360*t+"deg)"})}))},t.showLoading=function(e){t.downHight=t.optDown.offset,e.requestAnimationFrame((function(){e.selectComponent(".mescroll-wxs-content").setStyle({"will-change":"auto",transform:"translateY("+t.downHight+"px)",transition:"transform 300ms"})}))},t.endDownScroll=function(e){t.downHight=0,t.isDownScrolling=!1,e.requestAnimationFrame((function(){e.selectComponent(".mescroll-wxs-content").setStyle({"will-change":"auto",transform:"translateY(0)",transition:"transform 300ms"})}))},t.clearTransform=function(e){e.requestAnimationFrame((function(){e.selectComponent(".mescroll-wxs-content").setStyle({"will-change":"",transform:"",transition:""})}))},t.disabled=function(){return!t.optDown||!t.optDown.use||t.optDown.native},t.getPoint=function(e){return e?e.touches&&e.touches[0]?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches[0]?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.clientX,y:e.clientY}:{x:0,y:0}},t.getAngle=function(e,t){var i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y),n=Math.sqrt(i*i+r*r),o=0;return 0!==n&&(o=Math.asin(r/n)/Math.PI*180),o},t.getScrollTop=function(){return t.scrollTop||0},t.getBodyHeight=function(){return t.bodyHeight||0},t.callMethod=function(e,t){e&&e.callMethod("wxsCall",t)},e.exports={propObserver:function(e){e&&(t.optDown=e.optDown,t.scrollTop=e.scrollTop,t.bodyHeight=e.bodyHeight,t.isDownScrolling=e.isDownScrolling,t.isUpScrolling=e.isUpScrolling,t.isUpBoth=e.isUpBoth,t.isScrollBody=e.isScrollBody,t.startTop=e.scrollTop)},callObserver:function(e,i,r){t.disabled()||e.callType&&("showLoading"===e.callType?t.showLoading(r):"endDownScroll"===e.callType?t.endDownScroll(r):"clearTransform"===e.callType&&t.clearTransform(r))},touchstartEvent:function(e,i){t.downHight=0,t.startPoint=t.getPoint(e),t.startTop=t.getScrollTop(),t.startAngle=0,t.lastPoint=t.startPoint,t.maxTouchmoveY=t.getBodyHeight()-t.optDown.bottomOffset,t.inTouchend=!1,t.callMethod(i,{type:"setWxsProp"})},touchmoveEvent:function(e,r){var n=!0;if(t.disabled())return n;var o=t.getScrollTop(),a=t.getPoint(e),s=a.y-t.startPoint.y;if(s>0&&(t.isScrollBody&&o<=0||!t.isScrollBody&&(o<=0||o<=t.optDown.startTop&&o===t.startTop))&&!t.inTouchend&&!t.isDownScrolling&&!t.optDown.isLock&&(!t.isUpScrolling||t.isUpScrolling&&t.isUpBoth)){if(t.startAngle||(t.startAngle=t.getAngle(t.lastPoint,a)),t.startAngle<t.optDown.minAngle)return n;if(t.maxTouchmoveY>0&&a.y>=t.maxTouchmoveY)return t.inTouchend=!0,i(e,r),n;n=!1;var l=a.y-t.lastPoint.y;t.downHight<t.optDown.offset?(1!==t.movetype&&(t.movetype=1,t.callMethod(r,{type:"setLoadType",downLoadType:1}),t.isMoveDown=!0),t.downHight+=l*t.optDown.inOffsetRate):(2!==t.movetype&&(t.movetype=2,t.callMethod(r,{type:"setLoadType",downLoadType:2}),t.isMoveDown=!0),t.downHight+=l>0?l*t.optDown.outOffsetRate:l),t.downHight=Math.round(t.downHight);var u=t.downHight/t.optDown.offset;t.onMoving(r,u,t.downHight)}return t.lastPoint=a,n},touchendEvent:i},e.exports}({exports:{}})}},be98:function(e,t,i){"use strict";i.r(t);var r=i("1663"),n=i("4569");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"2f339f7c",null,!1,r["a"],void 0);t["default"]=s.exports},c135:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},c1c0:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","content"),attrs:{_i:0}})},n=[]},c23d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){var r=i.config.validateStatus,n=i.statusCode;!n||r&&!r(n)?t(i):e(i)}},c240:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},c26d:function(e,t,i){"use strict";i.r(t);var r=i("6f3d"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},c42b:function(e,t,i){"use strict";i.r(t);var r=i("5bc1"),n=i("a43e");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"abf198c4",null,!1,r["a"],void 0);t["default"]=s.exports},c54b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tooltip:{text:"",copyText:"",size:14,color:"#606266",bgColor:"transparent",direction:"top",zIndex:10071,showCopy:!0,buttons:function(){return[]},overlay:!0,showToast:!0}}},c5f7:function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports["default"]=e.exports},c65b:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("fc3f")),o={name:"u-link",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],computed:{linkStyle:function(){var e={color:this.color,fontSize:uni.$u.addUnit(this.fontSize),lineHeight:uni.$u.addUnit(uni.$u.getPx(this.fontSize)+2),textDecoration:this.underLine?"underline":"none"};return e}},methods:{openLink:function(){plus.runtime.openURL(this.href),this.$emit("click")}}};t.default=o},c6a7:function(e,t,i){"use strict";function r(){this.handlers=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){this.handlers.forEach((function(t){null!==t&&e(t)}))};var n=r;t.default=n},c763:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e._$s(0,"i",e.show&&(0!==Number(e.value)||e.showZero||e.isDot))?i("text",{staticClass:e._$s(0,"sc","u-badge"),class:e._$s(0,"c",[e.isDot?"u-badge--dot":"u-badge--not-dot",e.inverted&&"u-badge--inverted","horn"===e.shape&&"u-badge--horn","u-badge--"+e.type+(e.inverted?"--inverted":"")]),style:e._$s(0,"s",[e.$u.addStyle(e.customStyle),e.badgeStyle]),attrs:{_i:0}},[e._v(e._$s(0,"t0-0",e._s(e.isDot?"":e.showValue)))]):e._e()},n=[]},c842:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={fade:{enter:{opacity:0},"enter-to":{opacity:1},leave:{opacity:1},"leave-to":{opacity:0}},"fade-up":{enter:{opacity:0,transform:"translateY(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(100%)"}},"fade-down":{enter:{opacity:0,transform:"translateY(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(-100%)"}},"fade-left":{enter:{opacity:0,transform:"translateX(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(-100%)"}},"fade-right":{enter:{opacity:0,transform:"translateX(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(100%)"}},"slide-up":{enter:{transform:"translateY(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(100%)"}},"slide-down":{enter:{transform:"translateY(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(-100%)"}},"slide-left":{enter:{transform:"translateX(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(-100%)"}},"slide-right":{enter:{transform:"translateX(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(100%)"}},zoom:{enter:{transform:"scale(0.95)"},"enter-to":{transform:"scale(1)"},leave:{transform:"scale(1)"},"leave-to":{transform:"scale(0.95)"}},"fade-zoom":{enter:{opacity:0,transform:"scale(0.95)"},"enter-to":{opacity:1,transform:"scale(1)"},leave:{opacity:1,transform:"scale(1)"},"leave-to":{opacity:0,transform:"scale(0.95)"}}}},c892:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9523")),o=r(i("11f2")),a=r(i("c988")),s=r(i("b599")),l=r(i("3d87")),u=r(i("a6f1")),c=r(i("ca90")),d=r(i("0878")),f=r(i("0f62")),h=r(i("e7b6")),p=r(i("8368")),v=r(i("e363")),g=r(i("06c8")),y=r(i("a7dc")),m=r(i("9e40")),_=r(i("dad1")),b=r(i("bc46")),S=r(i("d4fb")),T=r(i("d331")),E=r(i("d196")),w=r(i("1520")),k=r(i("4563")),x=r(i("be19")),A=r(i("022a")),C=r(i("615d")),L=r(i("f228")),I=r(i("ebaa")),P=r(i("9ccb")),D=r(i("1484")),R=r(i("9083")),O=r(i("4d44")),M=r(i("fa9e")),N=r(i("3391")),F=r(i("1bbc")),B=r(i("4d68")),U=r(i("a2ea")),j=r(i("b566")),H=r(i("df19")),$=r(i("2d3d")),V=r(i("243f")),G=r(i("abf6")),K=r(i("9e22")),q=r(i("aa43")),W=r(i("7584")),z=r(i("567a")),Y=r(i("5f99")),Q=r(i("8075")),X=r(i("133a")),J=r(i("1673")),Z=r(i("236d")),ee=r(i("b08c")),te=r(i("5d17")),ie=r(i("5e6e")),re=r(i("35ca")),ne=r(i("6b0f")),oe=r(i("3de7")),ae=r(i("1b67")),se=r(i("999d")),le=r(i("d30e")),ue=r(i("281d")),ce=r(i("275b")),de=r(i("ce04")),fe=r(i("97c0")),he=r(i("73e5")),pe=r(i("f68f")),ve=r(i("3aa9")),ge=r(i("3a8f")),ye=r(i("1803")),me=r(i("b138")),_e=r(i("4df7")),be=r(i("143c")),Se=r(i("a404")),Te=r(i("635a")),Ee=r(i("1407")),we=r(i("4c77")),ke=r(i("75e4")),xe=r(i("2540")),Ae=r(i("6feb")),Ce=r(i("bdc1")),Le=r(i("980b")),Ie=r(i("1f49")),Pe=r(i("cc19")),De=r(i("ddec")),Re=r(i("35ff")),Oe=r(i("62c7")),Me=r(i("124a")),Ne=r(i("9f79")),Fe=r(i("c54b")),Be=r(i("a7e6")),Ue=r(i("1fc8"));function je(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function He(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?je(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):je(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}o.default.color;var $e=He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He(He({},a.default),s.default),l.default),u.default),c.default),d.default),f.default),h.default),p.default),v.default),g.default),y.default),m.default),_.default),b.default),S.default),T.default),E.default),w.default),k.default),x.default),A.default),C.default),L.default),I.default),P.default),D.default),R.default),O.default),M.default),N.default),F.default),B.default),U.default),j.default),H.default),$.default),V.default),G.default),K.default),q.default),W.default),z.default),Y.default),Q.default),X.default),J.default),Z.default),ee.default),te.default),ie.default),re.default),ne.default),oe.default),ae.default),se.default),le.default),ue.default),ce.default),de.default),fe.default),he.default),pe.default),ve.default),ge.default),ye.default),me.default),_e.default),be.default),Se.default),Te.default),Ee.default),we.default),ke.default),xe.default),Ae.default),Ce.default),Le.default),Ie.default),Pe.default),De.default),Re.default),Oe.default),Me.default),Ne.default),Fe.default),Be.default),Ue.default);t.default=$e},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}e.exports=i},c935:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{title:{type:String,default:uni.$u.props.collapseItem.title},value:{type:String,default:uni.$u.props.collapseItem.value},label:{type:String,default:uni.$u.props.collapseItem.label},disabled:{type:Boolean,default:uni.$u.props.collapseItem.disabled},isLink:{type:Boolean,default:uni.$u.props.collapseItem.isLink},clickable:{type:Boolean,default:uni.$u.props.collapseItem.clickable},border:{type:Boolean,default:uni.$u.props.collapseItem.border},align:{type:String,default:uni.$u.props.collapseItem.align},name:{type:[String,Number],default:uni.$u.props.collapseItem.name},icon:{type:String,default:uni.$u.props.collapseItem.icon},duration:{type:Number,default:uni.$u.props.collapseItem.duration}}};t.default=r},c973:function(e,t){function i(e,t,i,r,n,o,a){try{var s=e[o](a),l=s.value}catch(u){return void i(u)}s.done?t(l):Promise.resolve(l).then(r,n)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,l,"next",e)}function l(e){i(a,n,o,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports["default"]=e.exports},c988:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={actionSheet:{show:!1,title:"",description:"",actions:function(){return[]},index:"",cancelText:"",closeOnClickAction:!0,safeAreaInsetBottom:!0,openType:"",closeOnClickOverlay:!0,round:0}}},ca90:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={avatarGroup:{urls:function(){return[]},maxCount:5,shape:"circle",mode:"scaleToFill",showMore:!0,size:40,keyName:"",gap:.5,extraValue:0}}},cbfa:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","u-sticky"),style:e._$s(0,"s",[e.style]),attrs:{id:e._$s(0,"a-id",e.elId),_i:0}},[i("view",{staticClass:e._$s(1,"sc","u-sticky__content"),style:e._$s(1,"s",[e.stickyContent]),attrs:{_i:1}},[e._t("default",null,{_i:2})],2)])},n=[]},cbff:function(e,t,i){"use strict";i.r(t);var r=i("36d5"),n=i("3c80");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"1831a5db",null,!1,r["a"],void 0);t["default"]=s.exports},cc19:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tabs:{duration:300,list:function(){return[]},lineColor:"#3c9cff",activeStyle:function(){return{color:"#303133"}},inactiveStyle:function(){return{color:"#606266"}},lineWidth:20,lineHeight:3,lineBgSize:"cover",itemStyle:function(){return{height:"44px"}},scrollable:!0,current:0,keyName:"name"}}},ccca:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","u-line"),style:this._$s(0,"s",[this.lineStyle]),attrs:{_i:0}})},n=[]},cd6e:function(e,t,i){"use strict";i.r(t);var r=i("45eb"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},cda9:function(e,t,i){"use strict";i.r(t);var r=i("9a42"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},ce04:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={readMore:{showHeight:400,toggle:!1,closeText:"\u5c55\u5f00\u9605\u8bfb\u5168\u6587",openText:"\u6536\u8d77",color:"#2979ff",fontSize:14,textIndent:"2em",name:""}}},cfb8:function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9523")),o=(i("bac8"),i("61f5"),i("a97a"),r(i("4c18"))),a=i("26cb"),s=r(i("ddb6"));function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c={data:function(){return{focus:!1,list1:[{name:"\u63a8\u8350"},{name:"\u5c0f\u8bf4"},{name:"\u52a8\u6f2b"},{name:"\u7535\u5f71"}],loading:!0,baseList:[{name:"home",title:"\u4e13\u533a"},{name:"bookmark",title:"\u7cbe\u54c1"},{name:"search",title:"\u641c\u7d22"},{name:"car-fill",title:"\u89e3\u6790"}],booksearchOption:{option:"fictionType",key:"\u7384\u5e7b\u5947\u5e7b",from:1,size:10},comicsearchOption:{option:"comicType",key:"\u641e\u7b11",from:1,size:10},videosearchOption:{option:"videoType",key:"\u52a8\u6f2b\u7535\u5f71",from:1,size:10}}},components:{homeItem:o.default,downScroll:s.default},onLoad:function(){},methods:u(u({},(0,a.mapActions)({bookgetlistvuex:"book/homebookgetlist",comicgetlistvuex:"comic/homecomicgetlist",videogetlistvuex:"video/homevideogetlist"})),{},{clickTabs:function(t){e("log",t," at pages/tabbar/tabbar-1/tabbar-1.vue:136")},searchfocus:function(e){uni.switchTab({url:"/pages/tabbar/tabbar-4/tabbar-4"})},loadXHRFun:function(e){var t=this;Promise.all([this.bookgetlistvuex(this.booksearchOption),this.comicgetlistvuex(this.comicsearchOption),this.videogetlistvuex(this.videosearchOption)]).then((function(i){t.$refs["downscroll"].panDuanFun(i,e)})).catch((function(i){t.$refs["downscroll"].panDuanFun(i,e)}))},gridClick:function(t){e("log","\u529f\u80fd\u6682\u4e0d\u53ef\u7528"," at pages/tabbar/tabbar-1/tabbar-1.vue:158")}}),computed:u({},(0,a.mapGetters)({searchBookList:"book/booklist",searchComicList:"comic/comiclist",searchVideoList:"video/videolist"})),mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),200)}};t.default=c}).call(this,i("0de9")["default"])},d0d3:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("a34a")),o=r(i("c973")),a=(r(i("c842")),function(e){return{enter:"u-".concat(e,"-enter u-").concat(e,"-enter-active"),"enter-to":"u-".concat(e,"-enter-to u-").concat(e,"-enter-active"),leave:"u-".concat(e,"-leave u-").concat(e,"-leave-active"),"leave-to":"u-".concat(e,"-leave-to u-").concat(e,"-leave-active")}}),s={methods:{clickHandler:function(){this.$emit("click")},vueEnter:function(){var e=this,t=a(this.mode);this.status="enter",this.$emit("beforeEnter"),this.inited=!0,this.display=!0,this.classes=t.enter,this.$nextTick((0,o.default)(n.default.mark((function i(){return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.$emit("enter"),e.transitionEnded=!1,e.$emit("afterEnter"),e.classes=t["enter-to"];case 4:case"end":return i.stop()}}),i)}))))},vueLeave:function(){var e=this;if(this.display){var t=a(this.mode);this.status="leave",this.$emit("beforeLeave"),this.classes=t.leave,this.$nextTick((function(){e.transitionEnded=!1,e.$emit("leave"),setTimeout(e.onTransitionEnd,e.duration),e.classes=t["leave-to"]}))}},onTransitionEnd:function(){this.transitionEnded||(this.transitionEnded=!0,this.$emit("leave"===this.status?"afterLeave":"afterEnter"),!this.show&&this.display&&(this.display=!1,this.inited=!1))}}};t.default=s},d196:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={col:{span:12,offset:0,justify:"start",align:"stretch",textAlign:"left"}}},d200:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=null;var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!==r&&clearTimeout(r),i){var n=!r;r=setTimeout((function(){r=null}),t),n&&"function"===typeof e&&e()}else r=setTimeout((function(){"function"===typeof e&&e()}),t)};t.default=n},d30e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={radio:{name:"",shape:"",disabled:"",labelDisabled:"",activeColor:"",inactiveColor:"",iconSize:"",labelSize:"",label:"",labelColor:"",size:"",iconColor:"",placement:""}}},d331:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={codeInput:{adjustPosition:!0,maxlength:6,dot:!1,mode:"box",hairline:!1,space:10,value:"",focus:!1,bold:!1,color:"#606266",fontSize:18,size:35,disabledKeyboard:!1,borderColor:"#c9cacc",disabledDot:!0}}},d38a:function(e,t,i){"use strict";i.r(t);var r=i("0cfb"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},d430:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uLoadingIcon:i("0320").default,uIcon:i("14ff").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:e._$s(0,"sc","u-button u-reset-button"),class:e._$s(0,"c",e.bemClass),style:e._$s(0,"s",[e.baseColor,e.$u.addStyle(e.customStyle)]),attrs:{"hover-start-time":e._$s(0,"a-hover-start-time",Number(e.hoverStartTime)),"hover-stay-time":e._$s(0,"a-hover-stay-time",Number(e.hoverStayTime)),"form-type":e._$s(0,"a-form-type",e.formType),"open-type":e._$s(0,"a-open-type",e.openType),"app-parameter":e._$s(0,"a-app-parameter",e.appParameter),"hover-stop-propagation":e._$s(0,"a-hover-stop-propagation",e.hoverStopPropagation),"send-message-title":e._$s(0,"a-send-message-title",e.sendMessageTitle),"send-message-path":e._$s(0,"a-send-message-path",e.sendMessagePath),lang:e._$s(0,"a-lang",e.lang),"data-name":e._$s(0,"a-data-name",e.dataName),"session-from":e._$s(0,"a-session-from",e.sessionFrom),"send-message-img":e._$s(0,"a-send-message-img",e.sendMessageImg),"show-message-card":e._$s(0,"a-show-message-card",e.showMessageCard),"hover-class":e._$s(0,"a-hover-class",e.disabled||e.loading?"":"u-button--active"),_i:0},on:{getphonenumber:e.getphonenumber,getuserinfo:e.getuserinfo,error:e.error,opensetting:e.opensetting,launchapp:e.launchapp,click:e.clickHandler}},[e._$s(1,"i",e.loading)?[i("u-loading-icon",{attrs:{mode:e.loadingMode,size:1.15*e.loadingSize,color:e.loadingColor,_i:2}}),i("text",{staticClass:e._$s(3,"sc","u-button__loading-text"),style:e._$s(3,"s",[{fontSize:e.textSize+"px"}]),attrs:{_i:3}},[e._v(e._$s(3,"t0-0",e._s(e.loadingText||e.text)))])]:[e._$s(5,"i",e.icon)?i("u-icon",{attrs:{name:e.icon,color:e.iconColorCom,size:1.35*e.textSize,customStyle:{marginRight:"2px"},_i:5}}):e._e(),e._t("default",[i("text",{staticClass:e._$s(7,"sc","u-button__text"),style:e._$s(7,"s",[{fontSize:e.textSize+"px"}]),attrs:{_i:7}},[e._v(e._$s(7,"t0-0",e._s(e.text)))])],{_i:6})]],2)},o=[]},d484:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(i("7037"));function o(e,t){var i=this;i.version="1.3.7",i.options=e||{},i.isScrollBody=t||!1,i.isDownScrolling=!1,i.isUpScrolling=!1;var r=i.options.down&&i.options.down.callback;i.initDownScroll(),i.initUpScroll(),setTimeout((function(){(i.optDown.use||i.optDown.native)&&i.optDown.auto&&r&&(i.optDown.autoShowLoading?i.triggerDownScroll():i.optDown.callback&&i.optDown.callback(i)),i.isUpAutoLoad||setTimeout((function(){i.optUp.use&&i.optUp.auto&&!i.isUpAutoLoad&&i.triggerUpScroll()}),100)}),30)}o.prototype.extendDownScroll=function(e){o.extend(e,{use:!0,auto:!0,native:!1,autoShowLoading:!1,isLock:!1,offset:80,startTop:100,inOffsetRate:1,outOffsetRate:.2,bottomOffset:20,minAngle:45,textInOffset:"\u4e0b\u62c9\u5237\u65b0",textOutOffset:"\u91ca\u653e\u66f4\u65b0",textLoading:"\u52a0\u8f7d\u4e2d ...",textSuccess:"\u52a0\u8f7d\u6210\u529f",textErr:"\u52a0\u8f7d\u5931\u8d25",beforeEndDelay:0,bgColor:"transparent",textColor:"gray",inited:null,inOffset:null,outOffset:null,onMoving:null,beforeLoading:null,showLoading:null,afterLoading:null,beforeEndDownScroll:null,endDownScroll:null,afterEndDownScroll:null,callback:function(e){e.resetUpScroll()}})},o.prototype.extendUpScroll=function(e){o.extend(e,{use:!0,auto:!0,isLock:!1,isBoth:!0,callback:null,page:{num:0,size:10,time:null},noMoreSize:5,offset:150,textLoading:"\u52a0\u8f7d\u4e2d ...",textNoMore:"-- END --",bgColor:"transparent",textColor:"gray",inited:null,showLoading:null,showNoMore:null,hideUpScroll:null,errDistance:60,toTop:{src:null,offset:1e3,duration:300,btnClick:null,onShow:null,zIndex:9990,left:null,right:20,bottom:120,safearea:!1,width:72,radius:"50%"},empty:{use:!0,icon:null,tip:"~ \u6682\u65e0\u76f8\u5173\u6570\u636e ~",btnText:"",btnClick:null,onShow:null,fixed:!1,top:"100rpx",zIndex:99},onScroll:!1})},o.extend=function(e,t){if(!e)return t;for(var i in t)if(null==e[i]){var r=t[i];null!=r&&"object"===(0,n.default)(r)?e[i]=o.extend({},r):e[i]=r}else"object"===(0,n.default)(e[i])&&o.extend(e[i],t[i]);return e},o.prototype.hasColor=function(e){if(!e)return!1;var t=e.toLowerCase();return"#fff"!=t&&"#ffffff"!=t&&"transparent"!=t&&"white"!=t},o.prototype.initDownScroll=function(){var e=this;e.optDown=e.options.down||{},!e.optDown.textColor&&e.hasColor(e.optDown.bgColor)&&(e.optDown.textColor="#fff"),e.extendDownScroll(e.optDown),e.isScrollBody&&e.optDown.native?e.optDown.use=!1:e.optDown.native=!1,e.downHight=0,e.optDown.use&&e.optDown.inited&&setTimeout((function(){e.optDown.inited(e)}),0)},o.prototype.touchstartEvent=function(e){this.optDown.use&&(this.startPoint=this.getPoint(e),this.startTop=this.getScrollTop(),this.startAngle=0,this.lastPoint=this.startPoint,this.maxTouchmoveY=this.getBodyHeight()-this.optDown.bottomOffset,this.inTouchend=!1)},o.prototype.touchmoveEvent=function(e){if(this.optDown.use){var t=this,i=t.getScrollTop(),r=t.getPoint(e),n=r.y-t.startPoint.y;if(n>0&&(t.isScrollBody&&i<=0||!t.isScrollBody&&(i<=0||i<=t.optDown.startTop&&i===t.startTop))&&!t.inTouchend&&!t.isDownScrolling&&!t.optDown.isLock&&(!t.isUpScrolling||t.isUpScrolling&&t.optUp.isBoth)){if(t.startAngle||(t.startAngle=t.getAngle(t.lastPoint,r)),t.startAngle<t.optDown.minAngle)return;if(t.maxTouchmoveY>0&&r.y>=t.maxTouchmoveY)return t.inTouchend=!0,void t.touchendEvent();t.preventDefault(e);var o=r.y-t.lastPoint.y;t.downHight<t.optDown.offset?(1!==t.movetype&&(t.movetype=1,t.isDownEndSuccess=null,t.optDown.inOffset&&t.optDown.inOffset(t),t.isMoveDown=!0),t.downHight+=o*t.optDown.inOffsetRate):(2!==t.movetype&&(t.movetype=2,t.optDown.outOffset&&t.optDown.outOffset(t),t.isMoveDown=!0),t.downHight+=o>0?o*t.optDown.outOffsetRate:o),t.downHight=Math.round(t.downHight);var a=t.downHight/t.optDown.offset;t.optDown.onMoving&&t.optDown.onMoving(t,a,t.downHight)}t.lastPoint=r}},o.prototype.touchendEvent=function(e){if(this.optDown.use)if(this.isMoveDown)this.downHight>=this.optDown.offset?this.triggerDownScroll():(this.downHight=0,this.endDownScrollCall(this)),this.movetype=0,this.isMoveDown=!1;else if(!this.isScrollBody&&this.getScrollTop()===this.startTop){var t=this.getPoint(e).y-this.startPoint.y<0;if(t){var i=this.getAngle(this.getPoint(e),this.startPoint);i>80&&this.triggerUpScroll(!0)}}},o.prototype.getPoint=function(e){return e?e.touches&&e.touches[0]?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches[0]?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.clientX,y:e.clientY}:{x:0,y:0}},o.prototype.getAngle=function(e,t){var i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y),n=Math.sqrt(i*i+r*r),o=0;return 0!==n&&(o=Math.asin(r/n)/Math.PI*180),o},o.prototype.triggerDownScroll=function(){this.optDown.beforeLoading&&this.optDown.beforeLoading(this)||(this.showDownScroll(),!this.optDown.native&&this.optDown.callback&&this.optDown.callback(this))},o.prototype.showDownScroll=function(){this.isDownScrolling=!0,this.optDown.native?(uni.startPullDownRefresh(),this.showDownLoadingCall(0)):(this.downHight=this.optDown.offset,this.showDownLoadingCall(this.downHight))},o.prototype.showDownLoadingCall=function(e){this.optDown.showLoading&&this.optDown.showLoading(this,e),this.optDown.afterLoading&&this.optDown.afterLoading(this,e)},o.prototype.onPullDownRefresh=function(){this.isDownScrolling=!0,this.showDownLoadingCall(0),this.optDown.callback&&this.optDown.callback(this)},o.prototype.endDownScroll=function(){if(this.optDown.native)return this.isDownScrolling=!1,this.endDownScrollCall(this),void uni.stopPullDownRefresh();var e=this,t=function(){e.downHight=0,e.isDownScrolling=!1,e.endDownScrollCall(e),e.isScrollBody||(e.setScrollHeight(0),e.scrollTo(0,0))},i=0;e.optDown.beforeEndDownScroll&&(i=e.optDown.beforeEndDownScroll(e),null==e.isDownEndSuccess&&(i=0)),"number"===typeof i&&i>0?setTimeout(t,i):t()},o.prototype.endDownScrollCall=function(){this.optDown.endDownScroll&&this.optDown.endDownScroll(this),this.optDown.afterEndDownScroll&&this.optDown.afterEndDownScroll(this)},o.prototype.lockDownScroll=function(e){null==e&&(e=!0),this.optDown.isLock=e},o.prototype.lockUpScroll=function(e){null==e&&(e=!0),this.optUp.isLock=e},o.prototype.initUpScroll=function(){var e=this;e.optUp=e.options.up||{use:!1},!e.optUp.textColor&&e.hasColor(e.optUp.bgColor)&&(e.optUp.textColor="#fff"),e.extendUpScroll(e.optUp),!1!==e.optUp.use&&(e.optUp.hasNext=!0,e.startNum=e.optUp.page.num+1,e.optUp.inited&&setTimeout((function(){e.optUp.inited(e)}),0))},o.prototype.onReachBottom=function(){this.isScrollBody&&!this.isUpScrolling&&!this.optUp.isLock&&this.optUp.hasNext&&this.triggerUpScroll()},o.prototype.onPageScroll=function(e){this.isScrollBody&&(this.setScrollTop(e.scrollTop),e.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn())},o.prototype.scroll=function(e,t){this.setScrollTop(e.scrollTop),this.setScrollHeight(e.scrollHeight),null==this.preScrollY&&(this.preScrollY=0),this.isScrollUp=e.scrollTop-this.preScrollY>0,this.preScrollY=e.scrollTop,this.isScrollUp&&this.triggerUpScroll(!0),e.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn(),this.optUp.onScroll&&t&&t()},o.prototype.triggerUpScroll=function(e){if(!this.isUpScrolling&&this.optUp.use&&this.optUp.callback){if(!0===e){var t=!1;if(!this.optUp.hasNext||this.optUp.isLock||this.isDownScrolling||this.getScrollBottom()<=this.optUp.offset&&(t=!0),!1===t)return}this.showUpScroll(),this.optUp.page.num++,this.isUpAutoLoad=!0,this.num=this.optUp.page.num,this.size=this.optUp.page.size,this.time=this.optUp.page.time,this.optUp.callback(this)}},o.prototype.showUpScroll=function(){this.isUpScrolling=!0,this.optUp.showLoading&&this.optUp.showLoading(this)},o.prototype.showNoMore=function(){this.optUp.hasNext=!1,this.optUp.showNoMore&&this.optUp.showNoMore(this)},o.prototype.hideUpScroll=function(){this.optUp.hideUpScroll&&this.optUp.hideUpScroll(this)},o.prototype.endUpScroll=function(e){null!=e&&(e?this.showNoMore():this.hideUpScroll()),this.isUpScrolling=!1},o.prototype.resetUpScroll=function(e){if(this.optUp&&this.optUp.use){var t=this.optUp.page;this.prePageNum=t.num,this.prePageTime=t.time,t.num=this.startNum,t.time=null,this.isDownScrolling||!1===e||(null==e?(this.removeEmpty(),this.showUpScroll()):this.showDownScroll()),this.isUpAutoLoad=!0,this.num=t.num,this.size=t.size,this.time=t.time,this.optUp.callback&&this.optUp.callback(this)}},o.prototype.setPageNum=function(e){this.optUp.page.num=e-1},o.prototype.setPageSize=function(e){this.optUp.page.size=e},o.prototype.endByPage=function(e,t,i){var r;this.optUp.use&&null!=t&&(r=this.optUp.page.num<t),this.endSuccess(e,r,i)},o.prototype.endBySize=function(e,t,i){var r;if(this.optUp.use&&null!=t){var n=(this.optUp.page.num-1)*this.optUp.page.size+e;r=n<t}this.endSuccess(e,r,i)},o.prototype.endSuccess=function(e,t,i){var r=this;if(r.isDownScrolling&&(r.isDownEndSuccess=!0,r.endDownScroll()),r.optUp.use){var n;if(null!=e){var o=r.optUp.page.num,a=r.optUp.page.size;if(1===o&&i&&(r.optUp.page.time=i),e<a||!1===t)if(r.optUp.hasNext=!1,0===e&&1===o)n=!1,r.showEmpty();else{var s=(o-1)*a+e;n=!(s<r.optUp.noMoreSize),r.removeEmpty()}else n=!1,r.optUp.hasNext=!0,r.removeEmpty()}r.endUpScroll(n)}},o.prototype.endErr=function(e){if(this.isDownScrolling){this.isDownEndSuccess=!1;var t=this.optUp.page;t&&this.prePageNum&&(t.num=this.prePageNum,t.time=this.prePageTime),this.endDownScroll()}this.isUpScrolling&&(this.optUp.page.num--,this.endUpScroll(!1),this.isScrollBody&&0!==e&&(e||(e=this.optUp.errDistance),this.scrollTo(this.getScrollTop()-e,0)))},o.prototype.showEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!0)},o.prototype.removeEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!1)},o.prototype.showTopBtn=function(){this.topBtnShow||(this.topBtnShow=!0,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!0))},o.prototype.hideTopBtn=function(){this.topBtnShow&&(this.topBtnShow=!1,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!1))},o.prototype.getScrollTop=function(){return this.scrollTop||0},o.prototype.setScrollTop=function(e){this.scrollTop=e},o.prototype.scrollTo=function(e,t){this.myScrollTo&&this.myScrollTo(e,t)},o.prototype.resetScrollTo=function(e){this.myScrollTo=e},o.prototype.getScrollBottom=function(){return this.getScrollHeight()-this.getClientHeight()-this.getScrollTop()},o.prototype.getStep=function(e,t,i,r,n){var o=t-e;if(0!==r&&0!==o){r=r||300,n=n||30;var a=r/n,s=o/a,l=0,u=setInterval((function(){l<a-1?(e+=s,i&&i(e,u),l++):(i&&i(t,u),clearInterval(u))}),n)}else i&&i(t)},o.prototype.getClientHeight=function(e){var t=this.clientHeight||0;return 0===t&&!0!==e&&(t=this.getBodyHeight()),t},o.prototype.setClientHeight=function(e){this.clientHeight=e},o.prototype.getScrollHeight=function(){return this.scrollHeight||0},o.prototype.setScrollHeight=function(e){this.scrollHeight=e},o.prototype.getBodyHeight=function(){return this.bodyHeight||0},o.prototype.setBodyHeight=function(e){this.bodyHeight=e},o.prototype.preventDefault=function(e){e&&e.cancelable&&!e.defaultPrevented&&e.preventDefault()}},d4fb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={code:{seconds:60,startText:"\u83b7\u53d6\u9a8c\u8bc1\u7801",changeText:"X\u79d2\u91cd\u65b0\u83b7\u53d6",endText:"\u91cd\u65b0\u83b7\u53d6",keepRunning:!1,uniqueKey:""}}},d549:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uIcon:i("14ff").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e._$s(0,"i",e.show)?i("view",{staticClass:e._$s(0,"sc","u-empty"),style:e._$s(0,"s",[e.emptyStyle]),attrs:{_i:0}},[e._$s(1,"i",!e.isSrc)?i("u-icon",{attrs:{name:"message"===e.mode?"chat":"empty-"+e.mode,size:e.iconSize,color:e.iconColor,"margin-top":"14",_i:1}}):i("image",{style:e._$s(2,"s",{width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}),attrs:{src:e._$s(2,"a-src",e.icon),_i:2}}),i("text",{staticClass:e._$s(3,"sc","u-empty__text"),style:e._$s(3,"s",[e.textStyle]),attrs:{_i:3}},[e._v(e._$s(3,"t0-0",e._s(e.text?e.text:e.icons[e.mode])))]),e._$s(4,"i",e.$slots.default||e.$slots.$default)?i("view",{staticClass:e._$s(4,"sc","u-empty__wrap"),attrs:{_i:4}},[e._t("default",null,{_i:5})],2):e._e()],1):e._e()},o=[]},d5ec:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:{}}},dad1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={checkboxGroup:{name:"",value:function(){return[]},shape:"square",disabled:!1,activeColor:"#2979ff",inactiveColor:"#c8c9cc",size:18,placement:"row",labelSize:14,labelColor:"#303133",labelDisabled:!1,iconColor:"#ffffff",iconSize:12,iconPlacement:"left",borderBottom:!1}}},dae9:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("uvImage",{attrs:{src:e.src,mode:e.mode,width:e.width,height:e.height,shape:e.shape,radius:e.radius,lazyLoad:e.lazyLoad,showMenuByLongpress:e.showMenuByLongpress,loadingIcon:e.loadingIcon,errorIcon:e.errorIcon,showLoading:e.showLoading,showError:e.showError,fade:e.fade,webp:e.webp,duration:e.duration,bgColor:e.bgColor,customStyle:e.customStyle,_i:0},on:{click:function(t){return e.$emit("click")},error:function(t){return e.$emit("error")},load:function(t){return e.$emit("load")}},scopedSlots:e._u([{key:"loading",fn:function(t,i,r){return[e._t("loading",null,{_i:"2-"+r})]}},{key:"error",fn:function(t,i,r){return[e._t("error",null,{_i:"4-"+r})]}}],null,!0)})},n=[]},dc66:function(e,t,i){"use strict";i.r(t);var r=i("dae9"),n=i("6cfd");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},dc93:function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9523")),o=r(i("a8a0")),a=i("26cb");function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u={props:["type","name","title"],components:{Wnavbar:o.default},data:function(){return{searchData:{option:"",key:"",from:1,size:10},listType:null,status:"loading"}},onLoad:function(t){e("log",t," at pages/components/dataList/dataList.vue:61"),this.listType=t.type,"book"==t.type&&(this.searchData.option="fictionType",this.searchData.key=t.name,t.title-0&&(this.searchData.option="title"),this.bookgetlistvuex(this.searchData)),"comic"==t.type&&(this.searchData.option="comicType",this.searchData.key=t.name,t.title-0&&(this.searchData.option="title"),this.comicgetlistvuex(this.searchData)),"video"==t.type&&(this.searchData.option="videoType",this.searchData.key=t.name,t.title-0&&(this.searchData.option="title"),this.videogetlistvuex(this.searchData))},methods:l(l(l({},(0,a.mapActions)({bookgetlistvuex:"book/bookgetlist",comicgetlistvuex:"comic/comicgetlist",videogetlistvuex:"video/videogetlist"})),(0,a.mapMutations)({bookresetsearchList:"book/resetsearchList",comicresetsearchList:"comic/resetsearchList",videoresetsearchList:"video/resetsearchList"})),{},{scrolltolower:function(){var t=null;if("book"==this.listType){if(t=this.bookcount,t<=10&&(this.status="nomore"),this.bookList.length+10<=t)this.searchData.from++;else{if(e("log",this.bookList.length+10,t," at pages/components/dataList/dataList.vue:112"),!(t-this.bookList.length<=9))return void(this.status="nomore");this.searchData.from++}this.bookgetlistvuex(this.searchData)}if("comic"==this.listType){if(t=this.comiccount,t<=10&&(this.status="nomore"),this.comicList.length+10<=t)this.searchData.from++;else{if(e("log",t," at pages/components/dataList/dataList.vue:130"),!(t-this.comicList.length<=9))return void(this.status="nomore");this.searchData.from++}this.comicgetlistvuex(this.searchData),e("log",this.comicList," at pages/components/dataList/dataList.vue:139")}if("video"==this.listType){if(t=this.videocount,t<=10&&(this.status="nomore"),this.videoList.length+10<=t)this.searchData.from++;else{if(!(t-this.videoList.length<=9))return void(this.status="nomore");this.searchData.from++}this.videogetlistvuex(this.searchData)}},clickHomeItem:function(e){var t;"book"==this.listType&&(t="/pages/Chaptercomponents/chapter/indexChapter?id=".concat(e.fictionId,"&name=").concat(e.title,"&type=").concat(e.type)),"comic"==this.listType&&(t="/pages/Chaptercomponents/chapter/indexChapter?id=".concat(e.comicId,"&name=").concat(e.title,"&type=").concat(e.type)),"video"==this.listType&&(t="/pages/Chaptercomponents/chapter/indexChapter?id=".concat(e.videoId,"&name=").concat(e.title,"&type=").concat(e.type)),uni.navigateTo({url:t})}}),mounted:function(){},computed:l({},(0,a.mapState)({bookList:function(e){return e.book.searchList},comicList:function(e){return e.comic.searchList},videoList:function(e){return e.video.searchList},bookcount:function(e){return e.book.listcount},comiccount:function(e){return e.comic.listcount},videocount:function(e){return e.video.listcount}})),watch:{bookcount:function(e,t){e<10&&(this.status="nomore")},comiccount:function(e,t){e<10&&(this.status="nomore")},videocount:function(e,t){e<10&&(this.status="nomore")}},destroyed:function(){this.bookresetsearchList(null),this.comicresetsearchList(null),this.videoresetsearchList(null)}};t.default=u}).call(this,i("0de9")["default"])},dcf5:function(e,t,i){"use strict";i.r(t);var r=i("478b"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},dd94:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("text",{staticClass:e._$s(0,"sc","u-link"),style:e._$s(0,"s",[e.linkStyle,e.$u.addStyle(e.customStyle)]),attrs:{_i:0},on:{click:function(t){return t.stopPropagation(),e.openLink(t)}}},[e._v(e._$s(0,"t0-0",e._s(e.text)))])},n=[]},ddb6:function(e,t,i){"use strict";i.r(t);var r=i("0ca5"),n=i("a4fc");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"d1986a1e",null,!1,r["a"],void 0);t["default"]=s.exports},ddec:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tag:{type:"primary",disabled:!1,size:"medium",shape:"square",text:"",bgColor:"",color:"",borderColor:"",closeColor:"#C6C7CB",name:"",plainFill:!1,plain:!1,closable:!1,show:!0,icon:""}}},df0e:function(e,t,i){"use strict";i.r(t);var r=i("4f11"),n=i("223b");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"33765157",null,!1,r["a"],void 0);t["default"]=s.exports},df19:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={input:{value:"",type:"text",fixed:!1,disabled:!1,disabledColor:"#f5f7fa",clearable:!1,password:!1,maxlength:-1,placeholder:null,placeholderClass:"input-placeholder",placeholderStyle:"color: #c0c4cc",showWordLimit:!1,confirmType:"done",confirmHold:!1,holdKeyboard:!1,focus:!1,autoBlur:!1,disableDefaultPadding:!1,cursor:-1,cursorSpacing:30,selectionStart:-1,selectionEnd:-1,adjustPosition:!0,inputAlign:"left",fontSize:"15px",color:"#303133",prefixIcon:"",prefixIconStyle:"",suffixIcon:"",suffixIconStyle:"",border:"surround",readonly:!1,shape:"square",formatter:null}}},df32:function(e,t,i){"use strict";i.r(t);var r=i("2274"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},df34:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","u-grid-item"),class:this._$s(0,"c",this.classes),style:this._$s(0,"s",[this.itemStyle]),attrs:{_i:0},on:{click:this.clickHandler}},[this._t("default",null,{_i:1})],2)},n=[]},dfa4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={computed:{value:function(){var e=this.text,t=this.mode,i=this.format,r=this.href;return"price"===t?(/^\d+(\.\d+)?$/.test(e)||uni.$u.error("\u91d1\u989d\u6a21\u5f0f\u4e0b\uff0ctext\u53c2\u6570\u9700\u8981\u4e3a\u91d1\u989d\u683c\u5f0f"),uni.$u.test.func(i)?i(e):uni.$u.priceFormat(e,2)):"date"===t?(!uni.$u.test.date(e)&&uni.$u.error("\u65e5\u671f\u6a21\u5f0f\u4e0b\uff0ctext\u53c2\u6570\u9700\u8981\u4e3a\u65e5\u671f\u6216\u65f6\u95f4\u6233\u683c\u5f0f"),uni.$u.test.func(i)?i(e):i?uni.$u.timeFormat(e,i):uni.$u.timeFormat(e,"yyyy-mm-dd")):"phone"===t?uni.$u.test.func(i)?i(e):"encrypt"===i?"".concat(e.substr(0,3),"****").concat(e.substr(7)):e:"name"===t?("string"!==typeof e&&uni.$u.error("\u59d3\u540d\u6a21\u5f0f\u4e0b\uff0ctext\u53c2\u6570\u9700\u8981\u4e3a\u5b57\u7b26\u4e32\u683c\u5f0f"),uni.$u.test.func(i)?i(e):"encrypt"===i?this.formatName(e):e):"link"===t?(!uni.$u.test.url(r)&&uni.$u.error("\u8d85\u94fe\u63a5\u6a21\u5f0f\u4e0b\uff0chref\u53c2\u6570\u9700\u8981\u4e3aURL\u683c\u5f0f"),e):e}},methods:{formatName:function(e){var t="";if(2===e.length)t=e.substr(0,1)+"*";else if(e.length>2){for(var i="",r=0,n=e.length-2;r<n;r++)i+="*";t=e.substr(0,1)+i+e.substr(-1,1)}else t=e;return t}}};t.default=r},dfc6:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uLine:i("8638").default,uLoadingIcon:i("0320").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","u-loadmore"),style:e._$s(0,"s",[e.$u.addStyle(e.customStyle),{backgroundColor:e.bgColor,marginBottom:e.$u.addUnit(e.marginBottom),marginTop:e.$u.addUnit(e.marginTop),height:e.$u.addUnit(e.height)}]),attrs:{_i:0}},[e._$s(1,"i",e.line)?i("u-line",{attrs:{length:"140rpx",color:e.lineColor,hairline:!1,dashed:e.dashed,_i:1}}):e._e(),i("view",{staticClass:e._$s(2,"sc","u-loadmore__content"),class:e._$s(2,"c","loadmore"==e.status||"nomore"==e.status?"u-more":""),attrs:{_i:2}},[e._$s(3,"i","loading"===e.status&&e.icon)?i("view",{staticClass:e._$s(3,"sc","u-loadmore__content__icon-wrap"),attrs:{_i:3}},[i("u-loading-icon",{attrs:{color:e.iconColor,size:e.iconSize,mode:e.loadingIcon,_i:4}})],1):e._e(),i("text",{staticClass:e._$s(5,"sc","u-line-1"),class:e._$s(5,"c",["nomore"==e.status&&1==e.isDot?"u-loadmore__content__dot-text":"u-loadmore__content__text"]),style:e._$s(5,"s",[e.loadTextStyle]),attrs:{_i:5},on:{click:e.loadMore}},[e._v(e._$s(5,"t0-0",e._s(e.showText)))])]),e._$s(6,"i",e.line)?i("u-line",{attrs:{length:"140rpx",color:e.lineColor,hairline:!1,dashed:e.dashed,_i:6}}):e._e()],1)},o=[]},e018:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","content"),attrs:{_i:0}})},n=[]},e0f9:function(e,t,i){"use strict";i.r(t);var r=i("e52f"),n=i("2208");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"06ef4c74",null,!1,r["a"],void 0);t["default"]=s.exports},e131:function(e,t,i){"use strict";i.r(t);var r=i("92cd"),n=i("9943");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},e14a:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=r(i("9523")),a=r(i("9cda")),s=(n={name:"u-collapse",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],watch:{needInit:function(){this.init()}},created:function(){this.children=[]},computed:{needInit:function(){return[this.accordion,this.value]}}},(0,o.default)(n,"watch",{parentData:function(){this.children.length&&this.children.map((function(e){"function"===typeof e.updateParentData&&e.updateParentData()}))}}),(0,o.default)(n,"methods",{init:function(){this.children.map((function(e){e.init()}))},onChange:function(e){var t=this,i=[];this.children.map((function(r,n){t.accordion?(r.expanded=r===e&&!e.expanded,r.setContentAnimate()):r===e&&(r.expanded=!r.expanded,r.setContentAnimate()),i.push({name:r.name||n,status:r.expanded?"open":"close"})})),this.$emit("change",i),this.$emit(e.expanded?"open":"close",e.name)}}),n);t.default=s},e19c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"uicon-level":"\ue693","uicon-column-line":"\ue68e","uicon-checkbox-mark":"\ue807","uicon-folder":"\ue7f5","uicon-movie":"\ue7f6","uicon-star-fill":"\ue669","uicon-star":"\ue65f","uicon-phone-fill":"\ue64f","uicon-phone":"\ue622","uicon-apple-fill":"\ue881","uicon-chrome-circle-fill":"\ue885","uicon-backspace":"\ue67b","uicon-attach":"\ue632","uicon-cut":"\ue948","uicon-empty-car":"\ue602","uicon-empty-coupon":"\ue682","uicon-empty-address":"\ue646","uicon-empty-favor":"\ue67c","uicon-empty-permission":"\ue686","uicon-empty-news":"\ue687","uicon-empty-search":"\ue664","uicon-github-circle-fill":"\ue887","uicon-rmb":"\ue608","uicon-person-delete-fill":"\ue66a","uicon-reload":"\ue788","uicon-order":"\ue68f","uicon-server-man":"\ue6bc","uicon-search":"\ue62a","uicon-fingerprint":"\ue955","uicon-more-dot-fill":"\ue630","uicon-scan":"\ue662","uicon-share-square":"\ue60b","uicon-map":"\ue61d","uicon-map-fill":"\ue64e","uicon-tags":"\ue629","uicon-tags-fill":"\ue651","uicon-bookmark-fill":"\ue63b","uicon-bookmark":"\ue60a","uicon-eye":"\ue613","uicon-eye-fill":"\ue641","uicon-mic":"\ue64a","uicon-mic-off":"\ue649","uicon-calendar":"\ue66e","uicon-calendar-fill":"\ue634","uicon-trash":"\ue623","uicon-trash-fill":"\ue658","uicon-play-left":"\ue66d","uicon-play-right":"\ue610","uicon-minus":"\ue618","uicon-plus":"\ue62d","uicon-info":"\ue653","uicon-info-circle":"\ue7d2","uicon-info-circle-fill":"\ue64b","uicon-question":"\ue715","uicon-error":"\ue6d3","uicon-close":"\ue685","uicon-checkmark":"\ue6a8","uicon-android-circle-fill":"\ue67e","uicon-android-fill":"\ue67d","uicon-ie":"\ue87b","uicon-IE-circle-fill":"\ue889","uicon-google":"\ue87a","uicon-google-circle-fill":"\ue88a","uicon-setting-fill":"\ue872","uicon-setting":"\ue61f","uicon-minus-square-fill":"\ue855","uicon-plus-square-fill":"\ue856","uicon-heart":"\ue7df","uicon-heart-fill":"\ue851","uicon-camera":"\ue7d7","uicon-camera-fill":"\ue870","uicon-more-circle":"\ue63e","uicon-more-circle-fill":"\ue645","uicon-chat":"\ue620","uicon-chat-fill":"\ue61e","uicon-bag-fill":"\ue617","uicon-bag":"\ue619","uicon-error-circle-fill":"\ue62c","uicon-error-circle":"\ue624","uicon-close-circle":"\ue63f","uicon-close-circle-fill":"\ue637","uicon-checkmark-circle":"\ue63d","uicon-checkmark-circle-fill":"\ue635","uicon-question-circle-fill":"\ue666","uicon-question-circle":"\ue625","uicon-share":"\ue631","uicon-share-fill":"\ue65e","uicon-shopping-cart":"\ue621","uicon-shopping-cart-fill":"\ue65d","uicon-bell":"\ue609","uicon-bell-fill":"\ue640","uicon-list":"\ue650","uicon-list-dot":"\ue616","uicon-zhihu":"\ue6ba","uicon-zhihu-circle-fill":"\ue709","uicon-zhifubao":"\ue6b9","uicon-zhifubao-circle-fill":"\ue6b8","uicon-weixin-circle-fill":"\ue6b1","uicon-weixin-fill":"\ue6b2","uicon-twitter-circle-fill":"\ue6ab","uicon-twitter":"\ue6aa","uicon-taobao-circle-fill":"\ue6a7","uicon-taobao":"\ue6a6","uicon-weibo-circle-fill":"\ue6a5","uicon-weibo":"\ue6a4","uicon-qq-fill":"\ue6a1","uicon-qq-circle-fill":"\ue6a0","uicon-moments-circel-fill":"\ue69a","uicon-moments":"\ue69b","uicon-qzone":"\ue695","uicon-qzone-circle-fill":"\ue696","uicon-baidu-circle-fill":"\ue680","uicon-baidu":"\ue681","uicon-facebook-circle-fill":"\ue68a","uicon-facebook":"\ue689","uicon-car":"\ue60c","uicon-car-fill":"\ue636","uicon-warning-fill":"\ue64d","uicon-warning":"\ue694","uicon-clock-fill":"\ue638","uicon-clock":"\ue60f","uicon-edit-pen":"\ue612","uicon-edit-pen-fill":"\ue66b","uicon-email":"\ue611","uicon-email-fill":"\ue642","uicon-minus-circle":"\ue61b","uicon-minus-circle-fill":"\ue652","uicon-plus-circle":"\ue62e","uicon-plus-circle-fill":"\ue661","uicon-file-text":"\ue663","uicon-file-text-fill":"\ue665","uicon-pushpin":"\ue7e3","uicon-pushpin-fill":"\ue86e","uicon-grid":"\ue673","uicon-grid-fill":"\ue678","uicon-play-circle":"\ue647","uicon-play-circle-fill":"\ue655","uicon-pause-circle-fill":"\ue654","uicon-pause":"\ue8fa","uicon-pause-circle":"\ue643","uicon-eye-off":"\ue648","uicon-eye-off-outline":"\ue62b","uicon-gift-fill":"\ue65c","uicon-gift":"\ue65b","uicon-rmb-circle-fill":"\ue657","uicon-rmb-circle":"\ue677","uicon-kefu-ermai":"\ue656","uicon-server-fill":"\ue751","uicon-coupon-fill":"\ue8c4","uicon-coupon":"\ue8ae","uicon-integral":"\ue704","uicon-integral-fill":"\ue703","uicon-home-fill":"\ue964","uicon-home":"\ue965","uicon-hourglass-half-fill":"\ue966","uicon-hourglass":"\ue967","uicon-account":"\ue628","uicon-plus-people-fill":"\ue626","uicon-minus-people-fill":"\ue615","uicon-account-fill":"\ue614","uicon-thumb-down-fill":"\ue726","uicon-thumb-down":"\ue727","uicon-thumb-up":"\ue733","uicon-thumb-up-fill":"\ue72f","uicon-lock-fill":"\ue979","uicon-lock-open":"\ue973","uicon-lock-opened-fill":"\ue974","uicon-lock":"\ue97a","uicon-red-packet-fill":"\ue690","uicon-photo-fill":"\ue98b","uicon-photo":"\ue98d","uicon-volume-off-fill":"\ue659","uicon-volume-off":"\ue644","uicon-volume-fill":"\ue670","uicon-volume":"\ue633","uicon-red-packet":"\ue691","uicon-download":"\ue63c","uicon-arrow-up-fill":"\ue6b0","uicon-arrow-down-fill":"\ue600","uicon-play-left-fill":"\ue675","uicon-play-right-fill":"\ue676","uicon-rewind-left-fill":"\ue679","uicon-rewind-right-fill":"\ue67a","uicon-arrow-downward":"\ue604","uicon-arrow-leftward":"\ue601","uicon-arrow-rightward":"\ue603","uicon-arrow-upward":"\ue607","uicon-arrow-down":"\ue60d","uicon-arrow-right":"\ue605","uicon-arrow-left":"\ue60e","uicon-arrow-up":"\ue606","uicon-skip-back-left":"\ue674","uicon-skip-forward-right":"\ue672","uicon-rewind-right":"\ue66f","uicon-rewind-left":"\ue671","uicon-arrow-right-double":"\ue68d","uicon-arrow-left-double":"\ue68c","uicon-wifi-off":"\ue668","uicon-wifi":"\ue667","uicon-empty-data":"\ue62f","uicon-empty-history":"\ue684","uicon-empty-list":"\ue68b","uicon-empty-page":"\ue627","uicon-empty-order":"\ue639","uicon-man":"\ue697","uicon-woman":"\ue69c","uicon-man-add":"\ue61c","uicon-man-add-fill":"\ue64c","uicon-man-delete":"\ue61a","uicon-man-delete-fill":"\ue66a","uicon-zh":"\ue70a","uicon-en":"\ue692"}},e1fc:function(e,t,i){"use strict";i.r(t);var r=i("9ae1"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},e230:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uTransition:i("e0f9").default,uLoadingIcon:i("0320").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("u-transition",{attrs:{show:e.loading,"custom-style":{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:e.bgColor,display:"flex"},_i:0}},[i("view",{staticClass:e._$s(1,"sc","u-loading-page"),attrs:{_i:1}},[i("view",{staticClass:e._$s(2,"sc","u-loading-page__warpper"),attrs:{_i:2}},[i("view",{staticClass:e._$s(3,"sc","u-loading-page__warpper__loading-icon"),attrs:{_i:3}},[e._$s(4,"i",e.image)?i("image",{staticClass:e._$s(4,"sc","u-loading-page__warpper__loading-icon__img"),style:e._$s(4,"s",{width:e.$u.addUnit(e.iconSize),height:e.$u.addUnit(e.iconSize)}),attrs:{src:e._$s(4,"a-src",e.image),_i:4}}):i("u-loading-icon",{attrs:{mode:e.loadingMode,size:e.$u.addUnit(e.iconSize),color:e.loadingColor,_i:5}})],1),e._t("default",[i("text",{staticClass:e._$s(7,"sc","u-loading-page__warpper__text"),style:e._$s(7,"s",{fontSize:e.$u.addUnit(e.fontSize),color:e.color}),attrs:{_i:7}},[e._v(e._$s(7,"t0-0",e._s(e.loadingText)))])],{_i:6})],2)])])},o=[]},e253:function(e,t,i){"use strict";i.r(t);var r=i("39c2"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},e363:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={carKeyboard:{random:!1}}},e375:function(e,t,i){"use strict";i.r(t);var r=i("68ce"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},e3db:function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},e43a:function(e,t,i){"use strict";i.r(t);var r=i("33b3"),n=i("0948");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"5bc46477",null,!1,r["a"],void 0);t["default"]=s.exports},e4a9:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("680b")),o={name:"u-loading-page",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{}},methods:{}};t.default=o},e50d:function(e,t,i){var r=i("7037")["default"];e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},e52f:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e._$s(0,"i",e.inited)?i("view",{ref:"u-transition",staticClass:e._$s(0,"sc","u-transition"),class:e._$s(0,"c",e.classes),style:e._$s(0,"s",[e.mergeStyle]),attrs:{_i:0},on:{touchmove:e.noop,click:e.clickHandler}},[e._t("default",null,{_i:1})],2):e._e()},n=[]},e5dc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={down:{offset:80,native:!1},up:{offset:150,toTop:{src:"https://www.mescroll.com/img/mescroll-totop.png",offset:1e3,right:20,bottom:120,width:72},empty:{use:!0,icon:"https://www.mescroll.com/img/mescroll-empty.png"}},i18n:{zh:{down:{textInOffset:"\u4e0b\u62c9\u5237\u65b0",textOutOffset:"\u91ca\u653e\u66f4\u65b0",textLoading:"\u52a0\u8f7d\u4e2d ...",textSuccess:"\u52a0\u8f7d\u6210\u529f",textErr:"\u52a0\u8f7d\u5931\u8d25"},up:{textLoading:"\u52a0\u8f7d\u4e2d ...",textNoMore:"-- END --",empty:{tip:"~ \u7a7a\u7a7a\u5982\u4e5f ~"}}},en:{down:{textInOffset:"drop down refresh",textOutOffset:"release updates",textLoading:"loading ...",textSuccess:"loaded successfully",textErr:"loading failed"},up:{textLoading:"loading ...",textNoMore:"-- END --",empty:{tip:"~ absolutely empty ~"}}}}};t.default=r},e676:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{title:{type:[String,Number],default:uni.$u.props.cell.title},label:{type:[String,Number],default:uni.$u.props.cell.label},value:{type:[String,Number],default:uni.$u.props.cell.value},icon:{type:String,default:uni.$u.props.cell.icon},disabled:{type:Boolean,default:uni.$u.props.cell.disabled},border:{type:Boolean,default:uni.$u.props.cell.border},center:{type:Boolean,default:uni.$u.props.cell.center},url:{type:String,default:uni.$u.props.cell.url},linkType:{type:String,default:uni.$u.props.cell.linkType},clickable:{type:Boolean,default:uni.$u.props.cell.clickable},isLink:{type:Boolean,default:uni.$u.props.cell.isLink},required:{type:Boolean,default:uni.$u.props.cell.required},rightIcon:{type:String,default:uni.$u.props.cell.rightIcon},arrowDirection:{type:String,default:uni.$u.props.cell.arrowDirection},iconStyle:{type:[Object,String],default:function(){return uni.$u.props.cell.iconStyle}},rightIconStyle:{type:[Object,String],default:function(){return uni.$u.props.cell.rightIconStyle}},titleStyle:{type:[Object,String],default:function(){return uni.$u.props.cell.titleStyle}},size:{type:String,default:uni.$u.props.cell.size},stop:{type:Boolean,default:uni.$u.props.cell.stop},name:{type:[Number,String],default:uni.$u.props.cell.name}}};t.default=r},e67a:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","u-safe-bottom"),class:this._$s(0,"c",[!this.isNvue&&"u-safe-area-inset-bottom"]),style:this._$s(0,"s",[this.style]),attrs:{_i:0}})},n=[]},e687:function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("8ef4")),o=r(i("b2fb")),a=r(i("43e4")),s={name:"nwpopup",props:["type","listData","id","name"],data:function(){return{show:!1,list:{}}},components:{wlist:n.default,uniList:o.default,uniListItem:a.default},watch:{listData:{handler:function(e,t){var i=JSON.parse(JSON.stringify(e));"book"==this.type||"comic"==this.type||"video"==this.type?this.list=this.reloadbooklistData(i,100):this.list=i},deep:!0}},onLoad:function(e){},methods:{open:function(){this.show=!0},close:function(){this.show=!1},reloadbooklistData:function(t,i){var r={},n=1;while(t.length>i){var o=t.splice(0,i);r["".concat(n,"-").concat(n+99)]={},r["".concat(n,"-").concat(n+99)].val=o,r["".concat(n,"-").concat(n+99)].state="close",n+=100}var a=n+t.length-1;if(t.length<100&&t.length>0){var s=t.splice(0,t.length);r["".concat(n,"-").concat(a)]={},r["".concat(n,"-").concat(a)].val=s,r["".concat(n,"-").concat(a)].state="close"}return e("log",r," at pages/components/Wpopup/nwpopup.nvue:96"),r},selectClickChapter:function(e){var t;"video"==this.type&&(t="/pages/VideoContent/content?chapterPath=".concat(e.chapterPath,"&title=").concat(this.name)),"book"==this.type&&(t="/pages/BookContent/content?chapterId=".concat(e.chapterId,"&title=").concat(e.title,"&id=").concat(this.id.fictionId)),"comic"==this.type&&(t="/pages/comicContent/content?chapterId=".concat(e.chapterId,"&title=").concat(e.title,"&id=").concat(this.id.cartoonId)),uni.navigateTo({url:t})},opencollapse:function(t){e("log","open",t," at pages/components/Wpopup/nwpopup.nvue:117")},closecollapse:function(e){},changecollapse:function(t){var i=this;e("log","change",t," at pages/components/Wpopup/nwpopup.nvue:123"),t.forEach((function(e){Object.values(i.list)[e.name].state=e.status,"open"==e.status&&i.$nextTick((function(){i.$refs.collapseHeight[e.name].setContentAnimate()}))}))}},mounted:function(){}};t.default=s}).call(this,i("0de9")["default"])},e6d5:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("11358")),o=n.default;t.default=o},e71a:function(e,t,i){"use strict";i.r(t);var r=i("cfb8"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},e723:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("e19c")),o=r(i("2749")),a={name:"u-icon",data:function(){return{}},mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],computed:{uClasses:function(){var e=[];return e.push(this.customPrefix+"-"+this.name),this.color&&uni.$u.config.type.includes(this.color)&&e.push("u-icon__icon--"+this.color),e},iconStyle:function(){var e={};return e={fontSize:uni.$u.addUnit(this.size),lineHeight:uni.$u.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:uni.$u.addUnit(this.top)},this.color&&!uni.$u.config.type.includes(this.color)&&(e.color=this.color),e},isImg:function(){return-1!==this.name.indexOf("/")},imgStyle:function(){var e={};return e.width=this.width?uni.$u.addUnit(this.width):uni.$u.addUnit(this.size),e.height=this.height?uni.$u.addUnit(this.height):uni.$u.addUnit(this.size),e},icon:function(){return n.default["uicon-"+this.name]||this.name}},methods:{clickHandler:function(e){this.$emit("click",this.index),this.stop&&this.preventEvent(e)}}};t.default=a},e7b6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={button:{hairline:!1,type:"info",size:"normal",shape:"square",plain:!1,disabled:!1,loading:!1,loadingText:"",loadingMode:"spinner",loadingSize:15,openType:"",formType:"",appParameter:"",hoverStopPropagation:!0,lang:"en",sessionFrom:"",sendMessageTitle:"",sendMessagePath:"",sendMessageImg:"",showMessageCard:!1,dataName:"",throttleTime:0,hoverStartTime:0,hoverStayTime:200,text:"",icon:"",iconColor:"",color:""}}},e99f:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("9523")),o=r(i("7522")),a=r(i("10b6")),s=r(i("e6d5")),l=r(i("982c")),u=r(i("8a05")),c=r(i("0e3a")),d=r(i("d200")),f=r(i("4315")),h=r(i("6da0")),p=r(i("11f2")),v=r(i("c892")),g=r(i("8577")),y=r(i("73f6")),m=r(i("1772"));function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var S=b(b({route:l.default,date:h.default.timeFormat,colorGradient:u.default.colorGradient,hexToRgb:u.default.hexToRgb,rgbToHex:u.default.rgbToHex,colorToRgba:u.default.colorToRgba,test:c.default,type:["primary","success","error","warning","info"],http:new s.default,config:p.default,zIndex:g.default,debounce:d.default,throttle:f.default,mixin:o.default,mpMixin:a.default,props:v.default},h.default),{},{color:y.default,platform:m.default});uni.$u=S;var T={install:function(e){e.filter("timeFormat",(function(e,t){return uni.$u.timeFormat(e,t)})),e.filter("date",(function(e,t){return uni.$u.timeFormat(e,t)})),e.filter("timeFrom",(function(e,t){return uni.$u.timeFrom(e,t)})),e.prototype.$u=S,e.mixin(o.default)}};t.default=T},ea4e:function(e,t,i){"use strict";i.r(t);var r=i("ba17"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},ea7b:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uTransition:i("e0f9").default,uIcon:i("14ff").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("u-transition",{attrs:{mode:"fade",show:e.show,_i:0}},[i("view",{staticClass:e._$s(1,"sc","u-tag-wrapper"),attrs:{_i:1}},[i("view",{staticClass:e._$s(2,"sc","u-tag"),class:e._$s(2,"c",["u-tag--"+e.shape,!e.plain&&"u-tag--"+e.type,e.plain&&"u-tag--"+e.type+"--plain","u-tag--"+e.size,e.plain&&e.plainFill&&"u-tag--"+e.type+"--plain--fill"]),style:e._$s(2,"s",[{marginRight:e.closable?"10px":0,marginTop:e.closable?"10px":0},e.style]),attrs:{_i:2},on:{click:function(t){return t.stopPropagation(),e.clickHandler(t)}}},[e._t("icon",[e._$s(4,"i",e.icon)?i("view",{staticClass:e._$s(4,"sc","u-tag__icon"),attrs:{_i:4}},[e._$s(5,"i",e.$u.test.image(e.icon))?i("image",{style:e._$s(5,"s",[e.imgStyle]),attrs:{src:e._$s(5,"a-src",e.icon),_i:5}}):i("u-icon",{attrs:{color:e.elIconColor,name:e.icon,size:e.iconSize,_i:6}})],1):e._e()],{_i:3}),i("text",{staticClass:e._$s(7,"sc","u-tag__text"),class:e._$s(7,"c",["u-tag__text--"+e.type,e.plain&&"u-tag__text--"+e.type+"--plain","u-tag__text--"+e.size]),style:e._$s(7,"s",[e.textColor]),attrs:{_i:7}},[e._v(e._$s(7,"t0-0",e._s(e.text)))])],2),e._$s(8,"i",e.closable)?i("view",{staticClass:e._$s(8,"sc","u-tag__close"),class:e._$s(8,"c",["u-tag__close--"+e.size]),style:e._$s(8,"s",{backgroundColor:e.closeColor}),attrs:{_i:8},on:{click:function(t){return t.stopPropagation(),e.closeHandler(t)}}},[i("u-icon",{attrs:{name:"close",size:e.closeSize,color:"#ffffff",_i:9}})],1):e._e()])])},o=[]},ea86:function(e,t,i){"use strict";(function(e){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.divide=p,t.enableBoundaryChecking=g,t.minus=h,t.plus=f,t.round=v,t.times=d;var n=r(i("480f")),o=!0;function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return+parseFloat(Number(e).toPrecision(t))}function s(e){var t=e.toString().split(/[eE]/),i=(t[0].split(".")[1]||"").length-+(t[1]||0);return i>0?i:0}function l(e){if(-1===e.toString().indexOf("e"))return Number(e.toString().replace(".",""));var t=s(e);return t>0?a(Number(e)*Math.pow(10,t)):Number(e)}function u(t){o&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&e("warn","".concat(t," \u8d85\u51fa\u4e86\u7cbe\u5ea6\u9650\u5236\uff0c\u7ed3\u679c\u53ef\u80fd\u4e0d\u6b63\u786e")," at uni_modules/uview-ui/libs/function/digit.js:45")}function c(e,t){var i=(0,n.default)(e),r=i[0],o=i[1],a=i.slice(2),s=t(r,o);return a.forEach((function(e){s=t(s,e)})),s}function d(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length>2)return c(t,d);var r=t[0],n=t[1],o=l(r),a=l(n),f=s(r)+s(n),h=o*a;return u(h),h/Math.pow(10,f)}function f(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length>2)return c(t,f);var r=t[0],n=t[1],o=Math.pow(10,Math.max(s(r),s(n)));return(d(r,o)+d(n,o))/o}function h(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length>2)return c(t,h);var r=t[0],n=t[1],o=Math.pow(10,Math.max(s(r),s(n)));return(d(r,o)-d(n,o))/o}function p(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length>2)return c(t,p);var r=t[0],n=t[1],o=l(r),f=l(n);return u(o),u(f),d(o/f,a(Math.pow(10,s(n)-s(r))))}function v(e,t){var i=Math.pow(10,t),r=p(Math.round(Math.abs(d(e,i))),i);return e<0&&0!==r&&(r=d(r,-1)),r}function g(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o=e}var y={times:d,plus:f,minus:h,divide:p,round:v,enableBoundaryChecking:g};t.default=y}).call(this,i("0de9")["default"])},ea8b:function(e,t,i){"use strict";i.r(t);var r=i("b2df"),n=i("886f");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"72cb839f",null,!1,r["a"],void 0);t["default"]=s.exports},ebaa:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={divider:{dashed:!1,hairline:!0,dot:!1,textPosition:"center",text:"",textSize:14,textColor:"#909399",lineColor:"#dcdfe6"}}},ebcd:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uTransition:i("e0f9").default,uIcon:i("14ff").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("u-transition",{attrs:{mode:"fade",show:e.show,duration:e.fade?1e3:0,_i:0}},[i("view",{staticClass:e._$s(1,"sc","u-image"),style:e._$s(1,"s",[e.wrapStyle,e.backgroundStyle]),attrs:{_i:1},on:{click:e.onClick}},[e._$s(2,"i",!e.isError)?i("image",{staticClass:e._$s(2,"sc","u-image__image"),style:e._$s(2,"s",{borderRadius:"circle"==e.shape?"10000px":e.$u.addUnit(e.radius),width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}),attrs:{src:e._$s(2,"a-src",e.src),mode:e._$s(2,"a-mode",e.mode),"show-menu-by-longpress":e._$s(2,"a-show-menu-by-longpress",e.showMenuByLongpress),"lazy-load":e._$s(2,"a-lazy-load",e.lazyLoad),_i:2},on:{error:e.onErrorHandler,load:e.onLoadHandler}}):e._e(),e._$s(3,"i",e.showLoading&&e.loading)?i("view",{staticClass:e._$s(3,"sc","u-image__loading"),style:e._$s(3,"s",{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.radius),backgroundColor:this.bgColor,width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}),attrs:{_i:3}},[e._t("loading",[i("u-icon",{attrs:{name:e.loadingIcon,width:e.width,height:e.height,_i:5}})],{_i:4})],2):e._e(),e._$s(6,"i",e.showError&&e.isError&&!e.loading)?i("view",{staticClass:e._$s(6,"sc","u-image__error"),style:e._$s(6,"s",{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.radius),width:e.$u.addUnit(e.width),height:e.$u.addUnit(e.height)}),attrs:{_i:6}},[e._t("error",[i("u-icon",{attrs:{name:e.errorIcon,width:e.width,height:e.height,_i:8}})],{_i:7})],2):e._e()])])},o=[]},ed6d:function(e,t,i){var r=i("4a4b");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},ed7f:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("scroll-view",{staticClass:e._$s(1,"sc","list-box"),attrs:{_i:1}},e._l(e._$s(2,"f",{forItems:e.data.val}),(function(t,r,n,o){return i("div",{key:e._$s(2,"f",{forIndex:n,key:t.title}),attrs:{_i:"2-"+o},on:{click:function(i){return e.selectClickChapter(t)}}},[i("div",{staticClass:e._$s("3-"+o,"sc","item-list"),attrs:{_i:"3-"+o}},[e._v(e._$s("3-"+o,"t0-0",e._s(t.title)))])])})),0)])},n=[]},eed6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{}},onLoad:function(){},methods:{}}},ef29:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("093f")),o=r(i("b761")),a={name:"u--text",mixins:[uni.$u.mpMixin,o.default,uni.$u.mixin],components:{uvText:n.default}};t.default=a},efb7:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","uni-badge--x"),attrs:{_i:0}},[e._t("default",null,{_i:1}),e._$s(2,"i",e.text)?i("text",{staticClass:e._$s(2,"sc","uni-badge"),class:e._$s(2,"c",e.classNames),style:e._$s(2,"s",[e.positionStyle,e.customStyle,e.dotStyle]),attrs:{_i:2},on:{click:function(t){return e.onClick()}}},[e._v(e._$s(2,"t0-0",e._s(e.displayValue)))]):e._e()],2)},n=[]},f03a:function(e,t,i){"use strict";i.r(t);var r=i("3f17"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},f09b:function(e,t,i){"use strict";i.r(t);var r=i("df34"),n=i("f6f5");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"b1f995c2",null,!1,r["a"],void 0);t["default"]=s.exports},f0c5:function(e,t,i){"use strict";function r(e,t,i,r,n,o,a,s,l,u){var c,d="function"===typeof e?e.options:e;if(l){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var h in l)f.call(l,h)&&!f.call(d.components,h)&&(d.components[h]=l[h])}if(u&&("function"===typeof u.beforeCreate&&(u.beforeCreate=[u.beforeCreate]),(u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(d.mixins||(d.mixins=[])).push(u)),t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),r&&(d.functional=!0),o&&(d._scopeId="data-v-"+o),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=c):n&&(c=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(d.functional){d._injectStyles=c;var p=d.render;d.render=function(e,t){return c.call(t),p(e,t)}}else{var v=d.beforeCreate;d.beforeCreate=v?[].concat(v,c):[c]}return{exports:e,options:d}}i.d(t,"a",(function(){return r}))},f102:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{type:{type:String,default:uni.$u.props.tag.type},disabled:{type:[Boolean,String],default:uni.$u.props.tag.disabled},size:{type:String,default:uni.$u.props.tag.size},shape:{type:String,default:uni.$u.props.tag.shape},text:{type:[String,Number],default:uni.$u.props.tag.text},bgColor:{type:String,default:uni.$u.props.tag.bgColor},color:{type:String,default:uni.$u.props.tag.color},borderColor:{type:String,default:uni.$u.props.tag.borderColor},closeColor:{type:String,default:uni.$u.props.tag.closeColor},name:{type:[String,Number],default:uni.$u.props.tag.name},plainFill:{type:Boolean,default:uni.$u.props.tag.plainFill},plain:{type:Boolean,default:uni.$u.props.tag.plain},closable:{type:Boolean,default:uni.$u.props.tag.closable},show:{type:Boolean,default:uni.$u.props.tag.show},icon:{type:String,default:uni.$u.props.tag.icon}}};t.default=r},f196:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("1bd7")),o={name:"u-line",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],computed:{lineStyle:function(){var e={};return e.margin=this.margin,"row"===this.direction?(e.borderBottomWidth="1px",e.borderBottomStyle=this.dashed?"dashed":"solid",e.width=uni.$u.addUnit(this.length),this.hairline&&(e.transform="scaleY(0.5)")):(e.borderLeftWidth="1px",e.borderLeftStyle=this.dashed?"dashed":"solid",e.height=uni.$u.addUnit(this.length),this.hairline&&(e.transform="scaleX(0.5)")),e.borderColor=this.color,uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}}};t.default=o},f228:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={datetimePicker:{show:!1,showToolbar:!0,value:"",title:"",mode:"datetime",maxDate:new Date((new Date).getFullYear()+10,0,1).getTime(),minDate:new Date((new Date).getFullYear()-10,0,1).getTime(),minHour:0,maxHour:23,minMinute:0,maxMinute:59,filter:null,formatter:null,loading:!1,itemHeight:44,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u8ba4",cancelColor:"#909193",confirmColor:"#3c9cff",visibleItemCount:5,closeOnClickOverlay:!1,defaultIndex:function(){return[]}}};t.default=r},f3b3:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uniCard:i("61f5").default,"u-Image":i("dc66").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("uni-card",{attrs:{title:e.title,extra:"\u67e5\u770b\u66f4\u591a",_i:0}},[i("div",e._l(e._$s(2,"f",{forItems:e.data}),(function(t,r,n,o){return i("view",{key:e._$s(2,"f",{forIndex:n,key:t.fictionId}),staticClass:e._$s("2-"+o,"sc","itemBook"),attrs:{_i:"2-"+o},on:{click:function(i){return e.clickHomeItem(t)}}},[i("u--image",{attrs:{src:t.cover,radius:"10rpx",fade:!0,duration:"450",width:"110rpx",height:"170rpx",_i:"3-"+o}},[i("view",{slot:"error"})]),i("text",{staticClass:e._$s("5-"+o,"sc","uni-body"),attrs:{_i:"5-"+o}},[e._v(e._$s("5-"+o,"t0-0",e._s(t.title)))])],1)})),0)])},o=[]},f457:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{safeAreaInsetTop:{type:Boolean,default:uni.$u.props.navbar.safeAreaInsetTop},placeholder:{type:Boolean,default:uni.$u.props.navbar.placeholder},fixed:{type:Boolean,default:uni.$u.props.navbar.fixed},border:{type:Boolean,default:uni.$u.props.navbar.border},leftIcon:{type:String,default:uni.$u.props.navbar.leftIcon},leftText:{type:String,default:uni.$u.props.navbar.leftText},rightText:{type:String,default:uni.$u.props.navbar.rightText},rightIcon:{type:String,default:uni.$u.props.navbar.rightIcon},title:{type:[String,Number],default:uni.$u.props.navbar.title},bgColor:{type:String,default:uni.$u.props.navbar.bgColor},titleWidth:{type:[String,Number],default:uni.$u.props.navbar.titleWidth},height:{type:[String,Number],default:uni.$u.props.navbar.height},leftIconSize:{type:[String,Number],default:uni.$u.props.navbar.leftIconSize},leftIconColor:{type:String,default:uni.$u.props.navbar.leftIconColor},autoBack:{type:Boolean,default:uni.$u.props.navbar.autoBack},titleStyle:{type:[String,Object],default:uni.$u.props.navbar.titleStyle}}};t.default=r},f525:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));var r={uSticky:i("1c39").default,uList:i("0fc2").default,uListItem:i("cbff").default,"u-Image":i("dc66").default,"u-Text":i("6b95").default,uLoadmore:i("7f08").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",{staticClass:e._$s(0,"sc","content"),attrs:{_i:0}},[i("u-sticky",{attrs:{customNavHeight:0,_i:1}},[i("Wnavbar",{attrs:{title:e.searchData.key,_i:2}})],1),i("view",{staticClass:e._$s(3,"sc","listdata-class-content"),attrs:{_i:3}},[i("u-list",{attrs:{_i:4},on:{scrolltolower:e.scrolltolower}},[e._l(e._$s(5,"f",{forItems:"book"==e.listType?e.bookList:"comic"==e.listType?e.comicList:e.videoList}),(function(t,r,n,o){return i("u-list-item",{key:e._$s(5,"f",{forIndex:n,key:r}),attrs:{_i:"5-"+o}},[i("view",{staticClass:e._$s("6-"+o,"sc","itemlist-css"),attrs:{_i:"6-"+o},on:{click:function(i){return e.clickHomeItem(t)}}},[i("u--image",{attrs:{showLoading:!0,src:t.cover,width:"130px",height:"180px",_i:"7-"+o}}),i("view",{staticClass:e._$s("8-"+o,"sc","itemlist-css-right"),attrs:{_i:"8-"+o}},[i("h2",[e._v(e._$s("9-"+o,"t0-0",e._s(t.title)))]),i("view",[i("u--text",{attrs:{text:"\u4f5c\u8005\uff1a",size:"20",_i:"11-"+o}}),i("u--text",{attrs:{text:t.author,size:"20",_i:"12-"+o}})],1),i("view",[i("u--text",{attrs:{text:t.descs,size:"20",lines:3,_i:"14-"+o}})],1)])],1)])})),i("u-list-item",{attrs:{_i:15}},[i("u-loadmore",{attrs:{status:e.status,_i:16}})],1)],2)],1)],1)},o=[]},f5dc:function(e,t,i){"use strict";i.r(t);var r=i("667a"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},f667:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{duration:{type:Number,default:uni.$u.props.tabs.duration},list:{type:Array,default:uni.$u.props.tabs.list},lineColor:{type:String,default:uni.$u.props.tabs.lineColor},activeStyle:{type:[String,Object],default:uni.$u.props.tabs.activeStyle},inactiveStyle:{type:[String,Object],default:uni.$u.props.tabs.inactiveStyle},lineWidth:{type:[String,Number],default:uni.$u.props.tabs.lineWidth},lineHeight:{type:[String,Number],default:uni.$u.props.tabs.lineHeight},lineBgSize:{type:String,default:uni.$u.props.tabs.lineBgSize},itemStyle:{type:[String,Object],default:uni.$u.props.tabs.itemStyle},scrollable:{type:Boolean,default:uni.$u.props.tabs.scrollable},current:{type:[Number,String],default:uni.$u.props.tabs.current},keyName:{type:String,default:uni.$u.props.tabs.keyName}}};t.default=r},f68f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={scrollList:{indicatorWidth:50,indicatorBarWidth:20,indicator:!0,indicatorColor:"#f2f2f2",indicatorActiveColor:"#3c9cff",indicatorStyle:""}}},f6a6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{src:{type:String,default:uni.$u.props.image.src},mode:{type:String,default:uni.$u.props.image.mode},width:{type:[String,Number],default:uni.$u.props.image.width},height:{type:[String,Number],default:uni.$u.props.image.height},shape:{type:String,default:uni.$u.props.image.shape},radius:{type:[String,Number],default:uni.$u.props.image.radius},lazyLoad:{type:Boolean,default:uni.$u.props.image.lazyLoad},showMenuByLongpress:{type:Boolean,default:uni.$u.props.image.showMenuByLongpress},loadingIcon:{type:String,default:uni.$u.props.image.loadingIcon},errorIcon:{type:String,default:uni.$u.props.image.errorIcon},showLoading:{type:Boolean,default:uni.$u.props.image.showLoading},showError:{type:Boolean,default:uni.$u.props.image.showError},fade:{type:Boolean,default:uni.$u.props.image.fade},webp:{type:Boolean,default:uni.$u.props.image.webp},duration:{type:[String,Number],default:uni.$u.props.image.duration},bgColor:{type:String,default:uni.$u.props.image.bgColor}}};t.default=r},f6b2:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("6f0f")),o={name:"u-list",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],watch:{scrollIntoView:function(e){this.scrollIntoViewById(e)}},data:function(){return{innerScrollTop:0,offset:0,sys:uni.$u.sys()}},computed:{listStyle:function(){var e={},t=uni.$u.addUnit;return 0!=this.width&&(e.width=t(this.width)),0!=this.height&&(e.height=t(this.height)),e.height||(e.height=t(this.sys.windowHeight,"px")),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},provide:function(){return{uList:this}},created:function(){this.refs=[],this.children=[],this.anchors=[]},mounted:function(){},methods:{updateOffsetFromChild:function(e){this.offset=e},onScroll:function(e){var t;t=e.detail.scrollTop,this.innerScrollTop=t,this.$emit("scroll",Math.abs(t))},scrollIntoViewById:function(e){},scrolltolower:function(e){var t=this;uni.$u.sleep(30).then((function(){t.$emit("scrolltolower")}))},scrolltoupper:function(e){var t=this;uni.$u.sleep(30).then((function(){t.$emit("scrolltoupper"),t.offset=0}))}}};t.default=o},f6f5:function(e,t,i){"use strict";i.r(t);var r=i("ae8d"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},f714:function(e,t,i){"use strict";i.r(t);var r=i("6ba4"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},f795:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{ref:"u-grid",staticClass:this._$s(0,"sc","u-grid"),style:this._$s(0,"s",[this.gridStyle]),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},n=[]},f7b4:function(e,t,i){"use strict";i.r(t);var r=i("b057"),n=i("20e4");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"09d26f3a",null,!1,r["a"],void 0);t["default"]=s.exports},f9e7:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("0b89")),o={name:"u-status-bar",mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],data:function(){return{}},computed:{style:function(){var e={};return e.height=uni.$u.addUnit(uni.$u.sys().statusBarHeight,"px"),e.backgroundColor=this.bgColor,uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}}};t.default=o},fa08:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("e676")),o={name:"u-cell",data:function(){return{}},mixins:[uni.$u.mpMixin,uni.$u.mixin,n.default],computed:{titleTextStyle:function(){return uni.$u.addStyle(this.titleStyle)}},methods:{clickHandler:function(e){this.disabled||(this.$emit("click",{name:this.name}),this.openPage(),this.stop&&this.preventEvent(e))}}};t.default=o},fa9e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={grid:{col:3,border:!1,align:"left"}}},faff:function(e,t,i){"use strict";var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("b8ab")),o={name:"u-badge",mixins:[uni.$u.mpMixin,n.default,uni.$u.mixin],computed:{boxStyle:function(){return{}},badgeStyle:function(){var e={};if(this.color&&(e.color=this.color),this.bgColor&&!this.inverted&&(e.backgroundColor=this.bgColor),this.absolute&&(e.position="absolute",this.offset.length)){var t=this.offset[0],i=this.offset[1]||t;e.top=uni.$u.addUnit(t),e.right=uni.$u.addUnit(i)}return e},showValue:function(){switch(this.numberType){case"overflow":return Number(this.value)>Number(this.max)?this.max+"+":this.value;case"ellipsis":return Number(this.value)>Number(this.max)?"...":this.value;case"limit":return Number(this.value)>999?Number(this.value)>=9999?Math.floor(this.value/1e4*100)/100+"w":Math.floor(this.value/1e3*100)/100+"k":this.value;default:return Number(this.value)}}}};t.default=o},fc3f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{color:{type:String,default:uni.$u.props.link.color},fontSize:{type:[String,Number],default:uni.$u.props.link.fontSize},underLine:{type:Boolean,default:uni.$u.props.link.underLine},href:{type:String,default:uni.$u.props.link.href},mpTips:{type:String,default:uni.$u.props.link.mpTips},lineColor:{type:String,default:uni.$u.props.link.lineColor},text:{type:String,default:uni.$u.props.link.text}}};t.default=r},fc6a:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{anchor:{type:[String,Number],default:uni.$u.props.listItem.anchor}}};t.default=r},fd23:function(e,t,i){"use strict";i.r(t);var r=i("e14a"),n=i.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(o);t["default"]=n.a},fe3a:function(e,t,i){"use strict";i.r(t);var r=i("1d6c"),n=i("42aa");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);var a=i("f0c5"),s=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"25c7d171",null,!1,r["a"],void 0);t["default"]=s.exports},fee2:function(e,t,i){"use strict";i.r(t);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,62,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,63,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];t["default"]={getRandomValues(e){if(!(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8ClampedArray))throw new Error("Expected an integer array");if(e.byteLength>65536)throw new Error("Can only request a maximum of 65536 bytes");var t=uni.requireNativePlugin("DCloud-Crypto");return function(e,t){for(var i,n=e.length,o="="===e[n-2]?2:"="===e[n-1]?1:0,a=0,s=n-o&4294967292,l=0;l<s;l+=4)i=r[e.charCodeAt(l)]<<18|r[e.charCodeAt(l+1)]<<12|r[e.charCodeAt(l+2)]<<6|r[e.charCodeAt(l+3)],t[a++]=i>>16&255,t[a++]=i>>8&255,t[a++]=255&i;1===o&&(i=r[e.charCodeAt(l)]<<10|r[e.charCodeAt(l+1)]<<4|r[e.charCodeAt(l+2)]>>2,t[a++]=i>>8&255,t[a++]=255&i),2===o&&(i=r[e.charCodeAt(l)]<<2|r[e.charCodeAt(l+1)]>>4,t[a++]=255&i)}(t.getRandomValues(e.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e}}},ff0c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:function(){return[0,0]}},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{width:function(){return 8*String(this.text).length+12},classNames:function(){var e=this.inverted,t=this.type,i=this.size,r=this.absolute;return[e?"uni-badge--"+t+"-inverted":"","uni-badge--"+t,"uni-badge--"+i,r?"uni-badge--absolute":""].join(" ")},positionStyle:function(){if(!this.absolute)return{};var e=this.width/2,t=10;this.isDot&&(e=5,t=5);var i="".concat(-e+this.offset[0],"px"),r="".concat(-t+this.offset[1],"px"),n={rightTop:{right:i,top:r},rightBottom:{right:i,bottom:r},leftBottom:{left:i,bottom:r},leftTop:{left:i,top:r}},o=n[this.absolute];return o||n["rightTop"]},dotStyle:function(){return this.isDot?{width:"10px",minWidth:"0",height:"10px",padding:"0",borderRadius:"10px"}:{}},displayValue:function(){var e=this.isDot,t=this.text,i=this.maxNum;return e?"":Number(t)>i?"".concat(i,"+"):t}},methods:{onClick:function(){this.$emit("click")}}};t.default=r}},[["38d3","app-config"]]]);