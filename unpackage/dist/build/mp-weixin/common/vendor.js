(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/vendor"],{"0100":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={id:"2852637",name:"uniui图标库",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]}},"022a":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={countDown:{time:0,format:"HH:mm:ss",autoStart:!0,millisecond:!1}}},"0676":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"06c8":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cell:{customClass:"",title:"",label:"",value:"",icon:"",disabled:!1,border:!0,center:!1,url:"",linkType:"navigateTo",clickable:!1,isLink:!1,required:!1,arrowDirection:"",iconStyle:{},rightIconStyle:{},rightIcon:"arrow-right",titleStyle:{},size:"",stop:!0,name:""}}},"0878":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={backtop:{mode:"circle",icon:"arrow-upward",text:"",duration:100,scrollTop:0,top:400,bottom:100,right:20,zIndex:9,iconStyle:function(){return{color:"#909399",fontSize:"19px"}}}}},"0b89":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{bgColor:{type:String,default:e.$u.props.statusBar.bgColor}}};t.default=r}).call(this,r("543d")["default"])},"0e3a":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("7037"));function a(e){return/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(e)}function o(e){switch((0,i.default)(e)){case"undefined":return!0;case"string":if(0==e.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!e)return!0;break;case"number":if(0===e||isNaN(e))return!0;break;case"object":if(null===e||0===e.length)return!0;for(var t in e)return!1;return!0}return!1}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return"function"===typeof e}var u={email:function(e){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(e)},mobile:function(e){return/^1([3589]\d|4[5-9]|6[1-2,4-7]|7[0-8])\d{8}$/.test(e)},url:function(e){return/^((https|http|ftp|rtsp|mms):\/\/)(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\/?)$/.test(e)},date:function(e){return!!e&&(a(e)&&(e=+e),!/Invalid|NaN/.test(new Date(e).toString()))},dateISO:function(e){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:a,digits:function(e){return/^\d+$/.test(e)},idCard:function(e){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)},carNo:function(e){return 7===e.length?/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/.test(e):8===e.length&&/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/.test(e)},amount:function(e){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(e)},chinese:function(e){return/^[\u4e00-\u9fa5]+$/gi.test(e)},letter:function(e){return/^[a-zA-Z]*$/.test(e)},enOrNum:function(e){return/^[0-9a-zA-Z]*$/g.test(e)},contains:function(e,t){return e.indexOf(t)>=0},range:function(e,t){return e>=t[0]&&e<=t[1]},rangeLength:function(e,t){return e.length>=t[0]&&e.length<=t[1]},empty:o,isEmpty:o,jsonString:function(e){if("string"===typeof e)try{var t=JSON.parse(e);return!("object"!==(0,i.default)(t)||!t)}catch(r){return!1}return!1},landline:function(e){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(e)},object:s,array:function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},code:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return new RegExp("^\\d{".concat(t,"}$")).test(e)},func:l,promise:function(e){return s(e)&&l(e.then)&&l(e.catch)},video:function(e){return/\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv|m3u8)/i.test(e)},image:function(e){var t=e.split("?")[0];return/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i.test(t)},regExp:function(e){return e&&"[object RegExp]"===Object.prototype.toString.call(e)},string:function(e){return"string"===typeof e}};t.default=u},"0f62":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={badge:{isDot:!1,value:"",show:!0,max:999,type:"error",showZero:!1,bgColor:null,color:null,shape:"circle",numberType:"overflow",offset:function(){return[]},inverted:!1,absolute:!1}}},"10b6":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={options:{virtualHost:!0}}},11358:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("9523")),a=n(r("970b")),o=n(r("5bc3")),s=n(r("7cf8")),l=n(r("c6a7")),u=n(r("a872")),c=n(r("6bdb")),d=r("8acd"),f=n(r("4e10"));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e),(0,d.isPlainObject)(t)||(t={},console.warn("设置全局参数必须接收一个Object")),this.config=(0,f.default)(p(p({},c.default),t)),this.interceptors={request:new l.default,response:new l.default}}return(0,o.default)(e,[{key:"setConfig",value:function(e){this.config=e(this.config)}},{key:"middleware",value:function(e){e=(0,u.default)(this.config,e);var t=[s.default,void 0],r=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)r=r.then(t.shift(),t.shift());return r}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.middleware(e)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.middleware(p({url:e,method:"GET"},t))}},{key:"post",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"POST"},r))}},{key:"put",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"PUT"},r))}},{key:"delete",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"DELETE"},r))}},{key:"connect",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"CONNECT"},r))}},{key:"head",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"HEAD"},r))}},{key:"options",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"OPTIONS"},r))}},{key:"trace",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"TRACE"},r))}},{key:"upload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.url=e,t.method="UPLOAD",this.middleware(t)}},{key:"download",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.url=e,t.method="DOWNLOAD",this.middleware(t)}}]),e}();t.default=v},"11b0":function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"11f2":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={v:"2.0.36",version:"2.0.36",type:["primary","success","info","error","warning"],color:{"u-primary":"#2979ff","u-warning":"#ff9900","u-success":"#19be6b","u-error":"#fa3534","u-info":"#909399","u-main-color":"#303133","u-content-color":"#606266","u-tips-color":"#909399","u-light-color":"#c0c4cc"},unit:"px"};t.default=n},"124a":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={toast:{zIndex:10090,loading:!1,text:"",icon:"",type:"",loadingMode:"",show:"",overlay:!1,position:"center",params:function(){},duration:2e3,isTab:!1,url:"",callback:null,back:!1}}},"133a":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={modal:{show:!1,title:"",content:"",confirmText:"确认",cancelText:"取消",showConfirmButton:!0,showCancelButton:!1,confirmColor:"#2979ff",cancelColor:"#606266",buttonReverse:!1,zoom:!0,asyncClose:!1,closeOnClickOverlay:!1,negativeTop:0,width:"650rpx",confirmButtonShape:""}}},1407:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={subsection:{list:[],current:0,activeColor:"#3c9cff",inactiveColor:"#303133",mode:"button",fontSize:12,bold:!0,bgColor:"#eeeeef",keyName:"name"}}},1421:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{name:{type:[String,Number,null],default:e.$u.props.gridItem.name},bgColor:{type:String,default:e.$u.props.gridItem.bgColor}}};t.default=r}).call(this,r("543d")["default"])},"143c":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={steps:{direction:"row",current:0,activeColor:"#3c9cff",inactiveColor:"#969799",activeIcon:"",inactiveIcon:"",dot:!1}}},1484:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={form:{model:function(){return{}},rules:function(){return{}},errorType:"message",borderBottom:!0,labelPosition:"left",labelWidth:45,labelAlign:"left",labelStyle:function(){return{}}}}},1520:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={collapse:{value:null,accordion:!1,border:!0}}},1673:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("73f6")),a={navbar:{safeAreaInsetTop:!0,placeholder:!1,fixed:!0,border:!1,leftIcon:"arrow-left",leftText:"",rightText:"",rightIcon:"",title:"",bgColor:"#ffffff",titleWidth:"400rpx",height:"44px",leftIconSize:20,leftIconColor:i.default.mainColor,autoBack:!1,titleStyle:""}};t.default=a},"16f0":function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"}')},1772:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="mp"},1803:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={skeleton:{loading:!0,animate:!0,rows:0,rowsWidth:"100%",rowsHeight:18,title:!0,titleWidth:"50%",titleHeight:18,avatar:!1,avatarSize:32,avatarShape:"circle"}}},"19f9":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{icon:{type:String,default:e.$u.props.empty.icon},text:{type:String,default:e.$u.props.empty.text},textColor:{type:String,default:e.$u.props.empty.textColor},textSize:{type:[String,Number],default:e.$u.props.empty.textSize},iconColor:{type:String,default:e.$u.props.empty.iconColor},iconSize:{type:[String,Number],default:e.$u.props.empty.iconSize},mode:{type:String,default:e.$u.props.empty.mode},width:{type:[String,Number],default:e.$u.props.empty.width},height:{type:[String,Number],default:e.$u.props.empty.height},show:{type:Boolean,default:e.$u.props.empty.show},marginTop:{type:[String,Number],default:e.$u.props.empty.marginTop}}};t.default=r}).call(this,r("543d")["default"])},"1a69":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("2eee")),a=n(r("c973")),o=n(r("448a")),s=r("a97a"),l={namespaced:!0,state:{searchList:null,searchHomeList:null,listcount:0},mutations:{addType:function(e,t){var r;t.data.forEach((function(e){e.type=t.type})),e.searchList||(e.searchList=[]),(r=e.searchList).push.apply(r,(0,o.default)(t.data)),e.listcount=t.count},addHomeType:function(e,t){var r;t.data.forEach((function(e){e.type=t.type})),e.searchHomeList=[],(r=e.searchHomeList).push.apply(r,(0,o.default)(t.data))},resetsearchList:function(e,t){e.searchList=t}},actions:{videogetlist:function(e,t){return(0,a.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,s.getsearchVideo)(t);case 2:return n=r.sent,n.data&&e.commit("addType",{data:n.data,type:"video",count:n.count}),r.abrupt("return",n.code);case 5:case"end":return r.stop()}}),r)})))()},homevideogetlist:function(e,t){return(0,a.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,s.getsearchVideo)(t);case 2:return n=r.sent,n.data&&e.commit("addHomeType",{data:n.data,type:"video",count:n.count}),r.abrupt("return",n.code);case 5:case"end":return r.stop()}}),r)})))()}},getters:{videolist:function(e){return e.searchHomeList?e.searchHomeList:[]}}},u=l;t.default=u},"1afc":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("2eee")),a=n(r("c973")),o=r("a97a"),s={namespaced:!0,state:{chapterInfo:null},mutations:{setBookChapter:function(e,t){e.chapterInfo=t.data,e.chapterInfo.typeList=t.data.fictionType,console.log(e.chapterInfo)},setComicChapter:function(e,t){e.chapterInfo=t.data,e.chapterInfo.typeList=t.data.comicType,console.log(e.chapterInfo)},setVideoChapter:function(e,t){e.chapterInfo=t.data,e.chapterInfo.typeList=t.data.videoType,console.log(e.chapterInfo)}},actions:{getsearchBookChapterfun:function(e,t){return(0,a.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,o.getsearchBookChapter)(t);case 2:return n=r.sent,n.data&&e.commit("setBookChapter",{data:n.data}),r.abrupt("return",n.code);case 5:case"end":return r.stop()}}),r)})))()},getsearchComicChapterfun:function(e,t){return(0,a.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,o.getsearchComicChapter)(t);case 2:return n=r.sent,n.data&&e.commit("setComicChapter",{data:n.data}),r.abrupt("return",n.code);case 5:case"end":return r.stop()}}),r)})))()},getsearchVideoChapterfun:function(e,t){return(0,a.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,o.getsearchVideoChapter)(t);case 2:return n=r.sent,n.data&&e.commit("setVideoChapter",{data:n.data}),r.abrupt("return",n.code);case 5:case"end":return r.stop()}}),r)})))()}},getters:{bookchapter:function(e){return e.chapterInfo?e.chapterInfo:null}}},l=s;t.default=l},"1b67":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={picker:{show:!1,showToolbar:!0,title:"",columns:function(){return[]},loading:!1,itemHeight:44,cancelText:"取消",confirmText:"确定",cancelColor:"#909193",confirmColor:"#3c9cff",visibleItemCount:5,keyName:"text",closeOnClickOverlay:!1,defaultIndex:function(){return[]},immediateChange:!1}}},"1bbc":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("11f2")),a=i.default.color,o={icon:{name:"",color:a["u-content-color"],size:"16px",bold:!1,index:"",hoverClass:"",customPrefix:"uicon",label:"",labelPos:"right",labelSize:"15px",labelColor:a["u-content-color"],space:"3px",imgMode:"",width:"",height:"",top:0,stop:!1}};t.default=o},"1bd7":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{color:{type:String,default:e.$u.props.line.color},length:{type:[String,Number],default:e.$u.props.line.length},direction:{type:String,default:e.$u.props.line.direction},hairline:{type:Boolean,default:e.$u.props.line.hairline},margin:{type:[String,Number],default:e.$u.props.line.margin},dashed:{type:Boolean,default:e.$u.props.line.dashed}}};t.default=r}).call(this,r("543d")["default"])},"1eff":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={def:"zh",getType:function(){return e.getStorageSync("mescroll-i18n")||this.def},setType:function(t){e.setStorageSync("mescroll-i18n",t)}},n=r;t.default=n}).call(this,r("543d")["default"])},"1f49":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tabbarItem:{name:null,icon:"",badge:null,dot:!1,text:"",badgeStyle:"top: 6px;right:2px;"}}},"1fb5":function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=u(e),o=n[0],s=n[1],l=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),c=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[c++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(d(e,o,o+16383>s?s:o+16383));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function c(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function d(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(c(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"1fc8":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={upload:{accept:"image",capture:function(){return["album","camera"]},compressed:!0,camera:"back",maxDuration:60,uploadIcon:"camera-fill",uploadIconColor:"#D3D4D6",useBeforeRead:!1,previewFullImage:!0,maxCount:52,disabled:!1,imageMode:"aspectFill",name:"",sizeType:function(){return["original","compressed"]},multiple:!1,deletable:!0,maxSize:Number.MAX_VALUE,fileList:function(){return[]},uploadText:"",width:80,height:80,previewImage:!0}};t.default=n},2236:function(e,t,r){var n=r("5a43");e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"22a9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t?"".concat(e.replace(/\/+$/,""),"/").concat(t.replace(/^\/+/,"")):e}},"236d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={noNetwork:{tips:"哎呀，网络信号丢失",zIndex:"",image:"data:image/png;base64,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"}}},"243f":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={line:{color:"#d6d7d9",length:"100%",direction:"row",hairline:!0,margin:0,dashed:!1}}},2540:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swiper:{list:function(){return[]},indicator:!1,indicatorActiveColor:"#FFFFFF",indicatorInactiveColor:"rgba(255, 255, 255, 0.35)",indicatorStyle:"",indicatorMode:"line",autoplay:!0,current:0,currentItemId:"",interval:3e3,duration:300,circular:!1,previousMargin:0,nextMargin:0,acceleration:!1,displayMultipleItems:1,easingFunction:"default",keyName:"url",imgMode:"aspectFill",height:130,bgColor:"#f3f4f6",radius:4,loading:!1,showTitle:!1}}},"26cb":function(e,t,r){"use strict";(function(t){var r="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},n=r.__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(e,t){if(void 0===t&&(t=[]),null===e||"object"!==typeof e)return e;var r=function(e,t){return e.filter(t)[0]}(t,(function(t){return t.original===e}));if(r)return r.copy;var n=Array.isArray(e)?[]:{};return t.push({original:e,copy:n}),Object.keys(e).forEach((function(r){n[r]=i(e[r],t)})),n}function a(e,t){Object.keys(e).forEach((function(r){return t(e[r],r)}))}function o(e){return null!==e&&"object"===typeof e}var s=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=("function"===typeof r?r():r)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(e,t){this._children[e]=t},s.prototype.removeChild=function(e){delete this._children[e]},s.prototype.getChild=function(e){return this._children[e]},s.prototype.hasChild=function(e){return e in this._children},s.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},s.prototype.forEachChild=function(e){a(this._children,e)},s.prototype.forEachGetter=function(e){this._rawModule.getters&&a(this._rawModule.getters,e)},s.prototype.forEachAction=function(e){this._rawModule.actions&&a(this._rawModule.actions,e)},s.prototype.forEachMutation=function(e){this._rawModule.mutations&&a(this._rawModule.mutations,e)},Object.defineProperties(s.prototype,l);var u=function(e){this.register([],e,!1)};u.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},u.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,r){return t=t.getChild(r),e+(t.namespaced?r+"/":"")}),"")},u.prototype.update=function(e){(function e(t,r,n){0;if(r.update(n),n.modules)for(var i in n.modules){if(!r.getChild(i))return void 0;e(t.concat(i),r.getChild(i),n.modules[i])}})([],this.root,e)},u.prototype.register=function(e,t,r){var n=this;void 0===r&&(r=!0);var i=new s(t,r);if(0===e.length)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}t.modules&&a(t.modules,(function(t,i){n.register(e.concat(i),t,r)}))},u.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1],n=t.getChild(r);n&&n.runtime&&t.removeChild(r)},u.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1];return!!t&&t.hasChild(r)};var c;var d=function(e){var t=this;void 0===e&&(e={}),!c&&"undefined"!==typeof window&&window.Vue&&b(window.Vue);var r=e.plugins;void 0===r&&(r=[]);var i=e.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new u(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new c,this._makeLocalGettersCache=Object.create(null);var a=this,o=this.dispatch,s=this.commit;this.dispatch=function(e,t){return o.call(a,e,t)},this.commit=function(e,t,r){return s.call(a,e,t,r)},this.strict=i;var l=this._modules.root.state;g(this,l,[],this._modules.root),v(this,l),r.forEach((function(e){return e(t)}));var d=void 0!==e.devtools?e.devtools:c.config.devtools;d&&function(e){n&&(e._devtoolHook=n,n.emit("vuex:init",e),n.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){n.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){n.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},f={state:{configurable:!0}};function h(e,t,r){return t.indexOf(e)<0&&(r&&r.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function p(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var r=e.state;g(e,r,[],e._modules.root,!0),v(e,r,t)}function v(e,t,r){var n=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};a(i,(function(t,r){o[r]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,r,{get:function(){return e._vm[r]},enumerable:!0})}));var s=c.config.silent;c.config.silent=!0,e._vm=new c({data:{$$state:t},computed:o}),c.config.silent=s,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(e),n&&(r&&e._withCommit((function(){n._data.$$state=null})),c.nextTick((function(){return n.$destroy()})))}function g(e,t,r,n,i){var a=!r.length,o=e._modules.getNamespace(r);if(n.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=n),!a&&!i){var s=m(t,r.slice(0,-1)),l=r[r.length-1];e._withCommit((function(){c.set(s,l,n.state)}))}var u=n.context=function(e,t,r){var n=""===t,i={dispatch:n?e.dispatch:function(r,n,i){var a=y(r,n,i),o=a.payload,s=a.options,l=a.type;return s&&s.root||(l=t+l),e.dispatch(l,o)},commit:n?e.commit:function(r,n,i){var a=y(r,n,i),o=a.payload,s=a.options,l=a.type;s&&s.root||(l=t+l),e.commit(l,o,s)}};return Object.defineProperties(i,{getters:{get:n?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var r={},n=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,n)===t){var a=i.slice(n);Object.defineProperty(r,a,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=r}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return m(e.state,r)}}}),i}(e,o,r);n.forEachMutation((function(t,r){var n=o+r;(function(e,t,r,n){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){r.call(e,n.state,t)}))})(e,n,t,u)})),n.forEachAction((function(t,r){var n=t.root?r:o+r,i=t.handler||t;(function(e,t,r,n){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=r.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},t);return function(e){return e&&"function"===typeof e.then}(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))})(e,n,i,u)})),n.forEachGetter((function(t,r){var n=o+r;(function(e,t,r,n){if(e._wrappedGetters[t])return void 0;e._wrappedGetters[t]=function(e){return r(n.state,n.getters,e.state,e.getters)}})(e,n,t,u)})),n.forEachChild((function(n,a){g(e,t,r.concat(a),n,i)}))}function m(e,t){return t.reduce((function(e,t){return e[t]}),e)}function y(e,t,r){return o(e)&&e.type&&(r=t,t=e,e=e.type),{type:e,payload:t,options:r}}function b(e){c&&e===c||(c=e,
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:n});else{var r=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[n].concat(e.init):n,r.call(this,e)}}function n(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(c))}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(e){0},d.prototype.commit=function(e,t,r){var n=this,i=y(e,t,r),a=i.type,o=i.payload,s=(i.options,{type:a,payload:o}),l=this._mutations[a];l&&(this._withCommit((function(){l.forEach((function(e){e(o)}))})),this._subscribers.slice().forEach((function(e){return e(s,n.state)})))},d.prototype.dispatch=function(e,t){var r=this,n=y(e,t),i=n.type,a=n.payload,o={type:i,payload:a},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(o,r.state)}))}catch(u){0}var l=s.length>1?Promise.all(s.map((function(e){return e(a)}))):s[0](a);return new Promise((function(e,t){l.then((function(t){try{r._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(o,r.state)}))}catch(u){0}e(t)}),(function(e){try{r._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(o,r.state,e)}))}catch(u){0}t(e)}))}))}},d.prototype.subscribe=function(e,t){return h(e,this._subscribers,t)},d.prototype.subscribeAction=function(e,t){var r="function"===typeof e?{before:e}:e;return h(r,this._actionSubscribers,t)},d.prototype.watch=function(e,t,r){var n=this;return this._watcherVM.$watch((function(){return e(n.state,n.getters)}),t,r)},d.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},d.prototype.registerModule=function(e,t,r){void 0===r&&(r={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),g(this,this.state,e,this._modules.get(e),r.preserveState),v(this,this.state)},d.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var r=m(t.state,e.slice(0,-1));c.delete(r,e[e.length-1])})),p(this)},d.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},d.prototype[[104,111,116,85,112,100,97,116,101].map((function(e){return String.fromCharCode(e)})).join("")]=function(e){this._modules.update(e),p(this,!0)},d.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(d.prototype,f);var E=_((function(e,t){var r={};return A(t).forEach((function(t){var n=t.key,i=t.val;r[n]=function(){var t=this.$store.state,r=this.$store.getters;if(e){var n=w(this.$store,"mapState",e);if(!n)return;t=n.context.state,r=n.context.getters}return"function"===typeof i?i.call(this,t,r):t[i]},r[n].vuex=!0})),r})),T=_((function(e,t){var r={};return A(t).forEach((function(t){var n=t.key,i=t.val;r[n]=function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];var n=this.$store.commit;if(e){var a=w(this.$store,"mapMutations",e);if(!a)return;n=a.context.commit}return"function"===typeof i?i.apply(this,[n].concat(t)):n.apply(this.$store,[i].concat(t))}})),r})),k=_((function(e,t){var r={};return A(t).forEach((function(t){var n=t.key,i=t.val;i=e+i,r[n]=function(){if(!e||w(this.$store,"mapGetters",e))return this.$store.getters[i]},r[n].vuex=!0})),r})),S=_((function(e,t){var r={};return A(t).forEach((function(t){var n=t.key,i=t.val;r[n]=function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];var n=this.$store.dispatch;if(e){var a=w(this.$store,"mapActions",e);if(!a)return;n=a.context.dispatch}return"function"===typeof i?i.apply(this,[n].concat(t)):n.apply(this.$store,[i].concat(t))}})),r}));function A(e){return function(e){return Array.isArray(e)||o(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function _(e){return function(t,r){return"string"!==typeof t?(r=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,r)}}function w(e,t,r){var n=e._modulesNamespaceMap[r];return n}function L(e,t,r){var n=r?e.groupCollapsed:e.group;try{n.call(e,t)}catch(i){e.log(t)}}function I(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function D(){var e=new Date;return" @ "+R(e.getHours(),2)+":"+R(e.getMinutes(),2)+":"+R(e.getSeconds(),2)+"."+R(e.getMilliseconds(),3)}function R(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e}var x={Store:d,install:b,version:"3.6.2",mapState:E,mapMutations:T,mapGetters:k,mapActions:S,createNamespacedHelpers:function(e){return{mapState:E.bind(null,e),mapGetters:k.bind(null,e),mapMutations:T.bind(null,e),mapActions:S.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var r=e.filter;void 0===r&&(r=function(e,t,r){return!0});var n=e.transformer;void 0===n&&(n=function(e){return e});var a=e.mutationTransformer;void 0===a&&(a=function(e){return e});var o=e.actionFilter;void 0===o&&(o=function(e,t){return!0});var s=e.actionTransformer;void 0===s&&(s=function(e){return e});var l=e.logMutations;void 0===l&&(l=!0);var u=e.logActions;void 0===u&&(u=!0);var c=e.logger;return void 0===c&&(c=console),function(e){var d=i(e.state);"undefined"!==typeof c&&(l&&e.subscribe((function(e,o){var s=i(o);if(r(e,d,s)){var l=D(),u=a(e),f="mutation "+e.type+l;L(c,f,t),c.log("%c prev state","color: #9E9E9E; font-weight: bold",n(d)),c.log("%c mutation","color: #03A9F4; font-weight: bold",u),c.log("%c next state","color: #4CAF50; font-weight: bold",n(s)),I(c)}d=s})),u&&e.subscribeAction((function(e,r){if(o(e,r)){var n=D(),i=s(e),a="action "+e.type+n;L(c,a,t),c.log("%c action","color: #03A9F4; font-weight: bold",i),I(c)}})))}}};e.exports=x}).call(this,r("c8ba"))},2749:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{name:{type:String,default:e.$u.props.icon.name},color:{type:String,default:e.$u.props.icon.color},size:{type:[String,Number],default:e.$u.props.icon.size},bold:{type:Boolean,default:e.$u.props.icon.bold},index:{type:[String,Number],default:e.$u.props.icon.index},hoverClass:{type:String,default:e.$u.props.icon.hoverClass},customPrefix:{type:String,default:e.$u.props.icon.customPrefix},label:{type:[String,Number],default:e.$u.props.icon.label},labelPos:{type:String,default:e.$u.props.icon.labelPos},labelSize:{type:[String,Number],default:e.$u.props.icon.labelSize},labelColor:{type:String,default:e.$u.props.icon.labelColor},space:{type:[String,Number],default:e.$u.props.icon.space},imgMode:{type:String,default:e.$u.props.icon.imgMode},width:{type:[String,Number],default:e.$u.props.icon.width},height:{type:[String,Number],default:e.$u.props.icon.height},top:{type:[String,Number],default:e.$u.props.icon.top},stop:{type:Boolean,default:e.$u.props.icon.stop}}};t.default=r}).call(this,r("543d")["default"])},"275b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={rate:{value:1,count:5,disabled:!1,size:18,inactiveColor:"#b2b2b2",activeColor:"#FA3534",gutter:4,minCount:1,allowHalf:!1,activeIcon:"star-fill",inactiveIcon:"star",touchable:!0}}},"278c":function(e,t,r){var n=r("c135"),i=r("9b42"),a=r("6613"),o=r("c240");e.exports=function(e,t){return n(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"27fa":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{offsetTop:{type:[String,Number],default:e.$u.props.sticky.offsetTop},customNavHeight:{type:[String,Number],default:e.$u.props.sticky.customNavHeight},disabled:{type:Boolean,default:e.$u.props.sticky.disabled},bgColor:{type:String,default:e.$u.props.sticky.bgColor},zIndex:{type:[String,Number],default:e.$u.props.sticky.zIndex},index:{type:[String,Number],default:e.$u.props.sticky.index}}};t.default=r}).call(this,r("543d")["default"])},"281d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={radioGroup:{value:"",disabled:!1,shape:"circle",activeColor:"#2979ff",inactiveColor:"#c8c9cc",name:"",size:18,placement:"row",label:"",labelColor:"#303133",labelSize:14,labelDisabled:!1,iconColor:"#ffffff",iconSize:12,borderBottom:!1,iconPlacement:"left"}}},"2d3d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={keyboard:{mode:"number",dotDisabled:!1,tooltip:!0,showTips:!0,tips:"",showCancel:!0,showConfirm:!0,random:!1,safeAreaInsetBottom:!0,closeOnClickOverlay:!0,show:!1,overlay:!0,zIndex:10075,cancelText:"取消",confirmText:"确定",autoChange:!1}}},"2eee":function(e,t,r){var n=r("7ec2")();e.exports=n},3391:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={gridItem:{name:null,bgColor:"transparent"}}},"35ca":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={numberKeyboard:{mode:"number",dotDisabled:!1,random:!1}}},"35ff":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={text:{type:"",show:!0,text:"",prefixIcon:"",suffixIcon:"",mode:"",href:"",format:"",call:!1,openType:"",bold:!1,block:!1,lines:"",color:"#303133",size:15,iconStyle:function(){return{fontSize:"15px"}},decoration:"none",margin:0,lineHeight:"",align:"left",wordWrap:"normal"}}},"36c6":function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"37dc":function(e,t,r){"use strict";(function(e,n){var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.LOCALE_ZH_HANT=t.LOCALE_ZH_HANS=t.LOCALE_FR=t.LOCALE_ES=t.LOCALE_EN=t.I18n=t.Formatter=void 0,t.compileI18nJsonStr=function(e,t){var r=t.locale,n=t.locales,i=t.delimiters;if(!_(e,i))return e;S||(S=new d);var a=[];Object.keys(n).forEach((function(e){e!==r&&a.push({locale:e,values:n[e]})})),a.unshift({locale:r,values:n[r]});try{return JSON.stringify(L(JSON.parse(e),a,i),null,2)}catch(o){}return e},t.hasI18nJson=function e(t,r){S||(S=new d);return I(t,(function(t,n){var i=t[n];return A(i)?!!_(i,r)||void 0:e(i,r)}))},t.initVueI18n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if("string"!==typeof e){var i=[t,e];e=i[0],t=i[1]}"string"!==typeof e&&(e=k());"string"!==typeof r&&(r="undefined"!==typeof __uniConfig&&__uniConfig.fallbackLocale||"en");var a=new E({locale:e,fallbackLocale:r,messages:t,watcher:n}),o=function(e,t){if("function"!==typeof getApp)o=function(e,t){return a.t(e,t)};else{var r=!1;o=function(e,t){var n=getApp().$vm;return n&&(n.$locale,r||(r=!0,T(n,a))),a.t(e,t)}}return o(e,t)};return{i18n:a,f:function(e,t,r){return a.f(e,t,r)},t:function(e,t){return o(e,t)},add:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a.add(e,t,r)},watch:function(e){return a.watchLocale(e)},getLocale:function(){return a.getLocale()},setLocale:function(e){return a.setLocale(e)}}},t.isI18nStr=_,t.isString=void 0,t.normalizeLocale=b,t.parseI18nJson=function e(t,r,n){S||(S=new d);return I(t,(function(t,i){var a=t[i];A(a)?_(a,n)&&(t[i]=w(a,r,n)):e(a,r,n)})),t},t.resolveLocale=function(e){return function(t){return t?(t=b(t)||t,function(e){var t=[],r=e.split("-");while(r.length)t.push(r.join("-")),r.pop();return t}(t).find((function(t){return e.indexOf(t)>-1}))):t}};var a=i(r("278c")),o=i(r("970b")),s=i(r("5bc3")),l=i(r("7037")),u=function(e){return null!==e&&"object"===(0,l.default)(e)},c=["{","}"],d=function(){function e(){(0,o.default)(this,e),this._caches=Object.create(null)}return(0,s.default)(e,[{key:"interpolate",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;if(!t)return[e];var n=this._caches[e];return n||(n=p(e,r),this._caches[e]=n),v(n,t)}}]),e}();t.Formatter=d;var f=/^(?:\d)+/,h=/^(?:\w)+/;function p(e,t){var r=(0,a.default)(t,2),n=r[0],i=r[1],o=[],s=0,l="";while(s<e.length){var u=e[s++];if(u===n){l&&o.push({type:"text",value:l}),l="";var c="";u=e[s++];while(void 0!==u&&u!==i)c+=u,u=e[s++];var d=u===i,p=f.test(c)?"list":d&&h.test(c)?"named":"unknown";o.push({value:c,type:p})}else l+=u}return l&&o.push({type:"text",value:l}),o}function v(e,t){var r=[],n=0,i=Array.isArray(t)?"list":u(t)?"named":"unknown";if("unknown"===i)return r;while(n<e.length){var a=e[n];switch(a.type){case"text":r.push(a.value);break;case"list":r.push(t[parseInt(a.value,10)]);break;case"named":"named"===i&&r.push(t[a.value]);break;case"unknown":0;break}n++}return r}t.LOCALE_ZH_HANS="zh-Hans";t.LOCALE_ZH_HANT="zh-Hant";t.LOCALE_EN="en";t.LOCALE_FR="fr";t.LOCALE_ES="es";var g=Object.prototype.hasOwnProperty,m=function(e,t){return g.call(e,t)},y=new d;function b(e,t){if(e){if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),"chinese"===e)return"zh-Hans";if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?"zh-Hans":e.indexOf("-hant")>-1||function(e,t){return!!t.find((function(t){return-1!==e.indexOf(t)}))}(e,["-tw","-hk","-mo","-cht"])?"zh-Hant":"zh-Hans";var r=["en","fr","es"];t&&Object.keys(t).length>0&&(r=Object.keys(t));var n=function(e,t){return t.find((function(t){return 0===e.indexOf(t)}))}(e,r);return n||void 0}}var E=function(){function e(t){var r=t.locale,n=t.fallbackLocale,i=t.messages,a=t.watcher,s=t.formater;(0,o.default)(this,e),this.locale="en",this.fallbackLocale="en",this.message={},this.messages={},this.watchers=[],n&&(this.fallbackLocale=n),this.formater=s||y,this.messages=i||{},this.setLocale(r||"en"),a&&this.watchLocale(a)}return(0,s.default)(e,[{key:"setLocale",value:function(e){var t=this,r=this.locale;this.locale=b(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],r!==this.locale&&this.watchers.forEach((function(e){e(t.locale,r)}))}},{key:"getLocale",value:function(){return this.locale}},{key:"watchLocale",value:function(e){var t=this,r=this.watchers.push(e)-1;return function(){t.watchers.splice(r,1)}}},{key:"add",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.messages[e];n?r?Object.assign(n,t):Object.keys(t).forEach((function(e){m(n,e)||(n[e]=t[e])})):this.messages[e]=t}},{key:"f",value:function(e,t,r){return this.formater.interpolate(e,t,r).join("")}},{key:"t",value:function(e,t,r){var n=this.message;return"string"===typeof t?(t=b(t,this.messages),t&&(n=this.messages[t])):r=t,m(n,e)?this.formater.interpolate(n[e],r).join(""):(console.warn("Cannot translate the value of keypath ".concat(e,". Use the value of keypath as default.")),e)}}]),e}();function T(e,t){e.$watchLocale?e.$watchLocale((function(e){t.setLocale(e)})):e.$watch((function(){return e.$locale}),(function(e){t.setLocale(e)}))}function k(){return"undefined"!==typeof e&&e.getLocale?e.getLocale():"undefined"!==typeof n&&n.getLocale?n.getLocale():"en"}t.I18n=E;var S,A=function(e){return"string"===typeof e};function _(e,t){return e.indexOf(t[0])>-1}function w(e,t,r){return S.interpolate(e,t,r).join("")}function L(e,t,r){return I(e,(function(e,n){(function(e,t,r,n){var i=e[t];if(A(i)){if(_(i,n)&&(e[t]=w(i,r[0].values,n),r.length>1)){var a=e[t+"Locales"]={};r.forEach((function(e){a[e.locale]=w(i,e.values,n)}))}}else L(i,r,n)})(e,n,t,r)})),e}function I(e,t){if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t(e,r))return!0}else if(u(e))for(var n in e)if(t(e,n))return!0;return!1}t.isString=A}).call(this,r("543d")["default"],r("c8ba"))},"38db":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{show:{type:Boolean,default:e.$u.props.loadingIcon.show},color:{type:String,default:e.$u.props.loadingIcon.color},textColor:{type:String,default:e.$u.props.loadingIcon.textColor},vertical:{type:Boolean,default:e.$u.props.loadingIcon.vertical},mode:{type:String,default:e.$u.props.loadingIcon.mode},size:{type:[String,Number],default:e.$u.props.loadingIcon.size},textSize:{type:[String,Number],default:e.$u.props.loadingIcon.textSize},text:{type:[String,Number],default:e.$u.props.loadingIcon.text},timingFunction:{type:String,default:e.$u.props.loadingIcon.timingFunction},duration:{type:[String,Number],default:e.$u.props.loadingIcon.duration},inactiveColor:{type:String,default:e.$u.props.loadingIcon.inactiveColor}}};t.default=r}).call(this,r("543d")["default"])},"3a8f":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={section:{title:"",subTitle:"更多",right:!0,fontSize:15,bold:!0,color:"#303133",subColor:"#909399",showLine:!0,lineColor:"",arrow:!0}}},"3aa9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={search:{shape:"round",bgColor:"#f2f2f2",placeholder:"请输入关键字",clearabled:!0,focus:!1,showAction:!0,actionStyle:function(){return{}},actionText:"搜索",inputAlign:"left",inputStyle:function(){return{}},disabled:!1,borderColor:"transparent",searchIconColor:"#909399",searchIconSize:22,color:"#606266",placeholderColor:"#909399",searchIcon:"search",margin:"0",animation:!1,value:"",maxlength:"-1",height:32,label:null}}},"3c96":function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"3cdc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},"3d87":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={alert:{title:"",type:"warning",description:"",closable:!1,showIcon:!1,effect:"light",center:!1,fontSize:14}}},"3de7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={parse:{copyLink:!0,errorImg:"",lazyLoad:!1,loadingImg:"",pauseVideo:!0,previewImg:!0,setTitle:!0,showImgMenu:!0}}},"3e44":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("448a")),a=n(r("278c")),o=n(r("3c96")),s=n(r("a128")),l=n(r("8962")),u=n(r("ed6d")),c=n(r("6b58")),d=n(r("36c6")),f=n(r("9523")),h=n(r("970b")),p=n(r("5bc3")),v=n(r("7037"));function g(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var i=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function b(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}var E={exports:{}};(function(e,t){(function(t){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),t=t.trim(),!t){if(!r.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=o.normalizePath(d)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){e=e.split("").reverse().join("").replace(i,"");while(e.length!==(e=e.replace(a,"")).length);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o})()})(E);var T=E.exports;function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t=function(e){var t=function(e,t){if("object"!==(0,v.default)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==(0,v.default)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,v.default)(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}var w=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)},L=function(e){return e["MEDIA_ATTACHING"]="hlsMediaAttaching",e["MEDIA_ATTACHED"]="hlsMediaAttached",e["MEDIA_DETACHING"]="hlsMediaDetaching",e["MEDIA_DETACHED"]="hlsMediaDetached",e["BUFFER_RESET"]="hlsBufferReset",e["BUFFER_CODECS"]="hlsBufferCodecs",e["BUFFER_CREATED"]="hlsBufferCreated",e["BUFFER_APPENDING"]="hlsBufferAppending",e["BUFFER_APPENDED"]="hlsBufferAppended",e["BUFFER_EOS"]="hlsBufferEos",e["BUFFER_FLUSHING"]="hlsBufferFlushing",e["BUFFER_FLUSHED"]="hlsBufferFlushed",e["MANIFEST_LOADING"]="hlsManifestLoading",e["MANIFEST_LOADED"]="hlsManifestLoaded",e["MANIFEST_PARSED"]="hlsManifestParsed",e["LEVEL_SWITCHING"]="hlsLevelSwitching",e["LEVEL_SWITCHED"]="hlsLevelSwitched",e["LEVEL_LOADING"]="hlsLevelLoading",e["LEVEL_LOADED"]="hlsLevelLoaded",e["LEVEL_UPDATED"]="hlsLevelUpdated",e["LEVEL_PTS_UPDATED"]="hlsLevelPtsUpdated",e["LEVELS_UPDATED"]="hlsLevelsUpdated",e["AUDIO_TRACKS_UPDATED"]="hlsAudioTracksUpdated",e["AUDIO_TRACK_SWITCHING"]="hlsAudioTrackSwitching",e["AUDIO_TRACK_SWITCHED"]="hlsAudioTrackSwitched",e["AUDIO_TRACK_LOADING"]="hlsAudioTrackLoading",e["AUDIO_TRACK_LOADED"]="hlsAudioTrackLoaded",e["SUBTITLE_TRACKS_UPDATED"]="hlsSubtitleTracksUpdated",e["SUBTITLE_TRACKS_CLEARED"]="hlsSubtitleTracksCleared",e["SUBTITLE_TRACK_SWITCH"]="hlsSubtitleTrackSwitch",e["SUBTITLE_TRACK_LOADING"]="hlsSubtitleTrackLoading",e["SUBTITLE_TRACK_LOADED"]="hlsSubtitleTrackLoaded",e["SUBTITLE_FRAG_PROCESSED"]="hlsSubtitleFragProcessed",e["CUES_PARSED"]="hlsCuesParsed",e["NON_NATIVE_TEXT_TRACKS_FOUND"]="hlsNonNativeTextTracksFound",e["INIT_PTS_FOUND"]="hlsInitPtsFound",e["FRAG_LOADING"]="hlsFragLoading",e["FRAG_LOAD_EMERGENCY_ABORTED"]="hlsFragLoadEmergencyAborted",e["FRAG_LOADED"]="hlsFragLoaded",e["FRAG_DECRYPTED"]="hlsFragDecrypted",e["FRAG_PARSING_INIT_SEGMENT"]="hlsFragParsingInitSegment",e["FRAG_PARSING_USERDATA"]="hlsFragParsingUserdata",e["FRAG_PARSING_METADATA"]="hlsFragParsingMetadata",e["FRAG_PARSED"]="hlsFragParsed",e["FRAG_BUFFERED"]="hlsFragBuffered",e["FRAG_CHANGED"]="hlsFragChanged",e["FPS_DROP"]="hlsFpsDrop",e["FPS_DROP_LEVEL_CAPPING"]="hlsFpsDropLevelCapping",e["ERROR"]="hlsError",e["DESTROYING"]="hlsDestroying",e["KEY_LOADING"]="hlsKeyLoading",e["KEY_LOADED"]="hlsKeyLoaded",e["LIVE_BACK_BUFFER_REACHED"]="hlsLiveBackBufferReached",e["BACK_BUFFER_REACHED"]="hlsBackBufferReached",e}({}),I=function(e){return e["NETWORK_ERROR"]="networkError",e["MEDIA_ERROR"]="mediaError",e["KEY_SYSTEM_ERROR"]="keySystemError",e["MUX_ERROR"]="muxError",e["OTHER_ERROR"]="otherError",e}({}),D=function(e){return e["KEY_SYSTEM_NO_KEYS"]="keySystemNoKeys",e["KEY_SYSTEM_NO_ACCESS"]="keySystemNoAccess",e["KEY_SYSTEM_NO_SESSION"]="keySystemNoSession",e["KEY_SYSTEM_NO_CONFIGURED_LICENSE"]="keySystemNoConfiguredLicense",e["KEY_SYSTEM_LICENSE_REQUEST_FAILED"]="keySystemLicenseRequestFailed",e["KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED"]="keySystemServerCertificateRequestFailed",e["KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED"]="keySystemServerCertificateUpdateFailed",e["KEY_SYSTEM_SESSION_UPDATE_FAILED"]="keySystemSessionUpdateFailed",e["KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED"]="keySystemStatusOutputRestricted",e["KEY_SYSTEM_STATUS_INTERNAL_ERROR"]="keySystemStatusInternalError",e["MANIFEST_LOAD_ERROR"]="manifestLoadError",e["MANIFEST_LOAD_TIMEOUT"]="manifestLoadTimeOut",e["MANIFEST_PARSING_ERROR"]="manifestParsingError",e["MANIFEST_INCOMPATIBLE_CODECS_ERROR"]="manifestIncompatibleCodecsError",e["LEVEL_EMPTY_ERROR"]="levelEmptyError",e["LEVEL_LOAD_ERROR"]="levelLoadError",e["LEVEL_LOAD_TIMEOUT"]="levelLoadTimeOut",e["LEVEL_PARSING_ERROR"]="levelParsingError",e["LEVEL_SWITCH_ERROR"]="levelSwitchError",e["AUDIO_TRACK_LOAD_ERROR"]="audioTrackLoadError",e["AUDIO_TRACK_LOAD_TIMEOUT"]="audioTrackLoadTimeOut",e["SUBTITLE_LOAD_ERROR"]="subtitleTrackLoadError",e["SUBTITLE_TRACK_LOAD_TIMEOUT"]="subtitleTrackLoadTimeOut",e["FRAG_LOAD_ERROR"]="fragLoadError",e["FRAG_LOAD_TIMEOUT"]="fragLoadTimeOut",e["FRAG_DECRYPT_ERROR"]="fragDecryptError",e["FRAG_PARSING_ERROR"]="fragParsingError",e["FRAG_GAP"]="fragGap",e["REMUX_ALLOC_ERROR"]="remuxAllocError",e["KEY_LOAD_ERROR"]="keyLoadError",e["KEY_LOAD_TIMEOUT"]="keyLoadTimeOut",e["BUFFER_ADD_CODEC_ERROR"]="bufferAddCodecError",e["BUFFER_INCOMPATIBLE_CODECS_ERROR"]="bufferIncompatibleCodecsError",e["BUFFER_APPEND_ERROR"]="bufferAppendError",e["BUFFER_APPENDING_ERROR"]="bufferAppendingError",e["BUFFER_STALLED_ERROR"]="bufferStalledError",e["BUFFER_FULL_ERROR"]="bufferFullError",e["BUFFER_SEEK_OVER_HOLE"]="bufferSeekOverHole",e["BUFFER_NUDGE_ON_STALL"]="bufferNudgeOnStall",e["INTERNAL_EXCEPTION"]="internalException",e["INTERNAL_ABORTED"]="aborted",e["UNKNOWN"]="unknown",e}({}),R=function(){},x={trace:R,debug:R,log:R,warn:R,info:R,error:R},P=x;function O(e){var t=self.console[e];return t?t.bind(self.console,"[".concat(e,"] >")):R}function C(e,t){if(self.console&&!0===e||"object"===(0,v.default)(e)){(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(t){P[t]=e[t]?e[t].bind(e):O(t)}))})(e,"debug","log","info","warn","error");try{P.log('Debug logs enabled for "'.concat(t,'" in hls.js version ',"1.4.3"))}catch(r){P=x}}else P=x}var M=P,F=/^(\d+)x(\d+)$/,N=/(.+?)=(".*?"|.*?)(?:,|$)/g,B=function(){function e(t){for(var r in(0,h.default)(this,e),"string"===typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(r)&&("X-"===r.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(r)),this[r]=t[r])}return(0,p.default)(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"optionalFloat",value:function(e,t){var r=this[e];return r?parseFloat(r):t}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"bool",value:function(e){return"YES"===this[e]}},{key:"decimalResolution",value:function(e){var t=F.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,r={};N.lastIndex=0;while(null!==(t=N.exec(e))){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1));var i=t[1].trim();r[i]=n}return r}}]),e}();function U(e){return"ID"!==e&&"CLASS"!==e&&"START-DATE"!==e&&"DURATION"!==e&&"END-DATE"!==e&&"END-ON-NEXT"!==e}function j(e){return"SCTE35-OUT"===e||"SCTE35-IN"===e}var G=function(){function e(t,r){if((0,h.default)(this,e),this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,r){var n=r.attr;for(var i in n)if(Object.prototype.hasOwnProperty.call(t,i)&&t[i]!==n[i]){M.warn('DATERANGE tag attribute: "'.concat(i,'" does not match for tags with ID: "').concat(t.ID,'"')),this._badValueForSameId=i;break}t=_(new B({}),n,t)}if(this.attr=t,this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){var a=new Date(this.attr["END-DATE"]);w(a.getTime())&&(this._endDate=a)}}return(0,p.default)(e,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var e=this.attr.decimalFloatingPoint("DURATION");if(w(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&w(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),e}(),H=(0,p.default)((function e(){(0,h.default)(this,e),this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}})),V={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"},K=function(){function e(t){var r;(0,h.default)(this,e),this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(r={},(0,f.default)(r,V.AUDIO,null),(0,f.default)(r,V.VIDEO,null),(0,f.default)(r,V.AUDIOVIDEO,null),r),this.baseurl=t}return(0,p.default)(e,[{key:"setByteRange",value:function(e,t){var r=e.split("@",2),n=[];1===r.length?n[0]=t?t.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=T.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),$=function(e){(0,u.default)(r,e);var t=y(r);function r(e,n){var i;return(0,h.default)(this,r),i=t.call(this,n),i._decryptdata=null,i.rawProgramDateTime=null,i.programDateTime=null,i.tagList=[],i.duration=0,i.sn=0,i.levelkeys=void 0,i.type=void 0,i.loader=null,i.keyLoader=null,i.level=-1,i.cc=0,i.startPTS=void 0,i.endPTS=void 0,i.startDTS=void 0,i.endDTS=void 0,i.start=0,i.deltaPTS=void 0,i.maxStartPTS=void 0,i.minEndPTS=void 0,i.stats=new H,i.urlId=0,i.data=void 0,i.bitrateTest=!1,i.title=null,i.initSegment=null,i.endList=void 0,i.gap=void 0,i.type=e,i}return(0,p.default)(r,[{key:"decryptdata",get:function(){var e=this.levelkeys;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{var r=Object.keys(this.levelkeys);if(1===r.length)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!w(this.programDateTime))return null;var e=w(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;if(null!=(e=this._decryptdata)&&e.encrypted)return!0;if(this.levelkeys){var t=Object.keys(this.levelkeys),r=t.length;if(r>1||1===r&&this.levelkeys[t[0]].encrypted)return!0}return!1}},{key:"setKeyFormat",value:function(e){if(this.levelkeys){var t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}},{key:"abortRequests",value:function(){var e,t;null==(e=this.loader)||e.abort(),null==(t=this.keyLoader)||t.abort()}},{key:"setElementaryStreamInfo",value:function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=this.elementaryStreams,s=o[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,r),s.startDTS=Math.min(s.startDTS,n),s.endDTS=Math.max(s.endDTS,i)):o[e]={startPTS:t,endPTS:r,startDTS:n,endDTS:i,partial:a}}},{key:"clearElementaryStreamInfo",value:function(){var e=this.elementaryStreams;e[V.AUDIO]=null,e[V.VIDEO]=null,e[V.AUDIOVIDEO]=null}}]),r}(K),Y=function(e){(0,u.default)(r,e);var t=y(r);function r(e,n,i,a,o){var s;(0,h.default)(this,r),s=t.call(this,i),s.fragOffset=0,s.duration=0,s.gap=!1,s.independent=!1,s.relurl=void 0,s.fragment=void 0,s.index=void 0,s.stats=new H,s.duration=e.decimalFloatingPoint("DURATION"),s.gap=e.bool("GAP"),s.independent=e.bool("INDEPENDENT"),s.relurl=e.enumeratedString("URI"),s.fragment=n,s.index=a;var l=e.enumeratedString("BYTERANGE");return l&&s.setByteRange(l,o),o&&(s.fragOffset=o.fragOffset+o.duration),s}return(0,p.default)(r,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),r}(K),z=function(){function e(t){(0,h.default)(this,e),this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}return(0,p.default)(e,[{key:"reloaded",value:function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&r>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}},{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&w(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;if(e>0){var t=this.driftEnd-this.driftStart;return 1e3*t/e}return 1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),e}();function W(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}function Q(e){var t=e.split(":"),r=null;if("data"===t[0]&&2===t.length){var n=t[1].split(";"),i=n[n.length-1].split(",");if(2===i.length){var a="base64"===i[0],o=i[1];a?(n.splice(-1,1),r=W(o)):r=function(e){var t=q(e).subarray(0,16),r=new Uint8Array(16);return r.set(t,16-t.length),r}(o)}}return r}function q(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(function(e){return e.charCodeAt(0)}))}var X={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},J={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Z(e){switch(e){case J.FAIRPLAY:return X.FAIRPLAY;case J.PLAYREADY:return X.PLAYREADY;case J.WIDEVINE:return X.WIDEVINE;case J.CLEARKEY:return X.CLEARKEY}}var ee={WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function te(e){switch(e){case X.FAIRPLAY:return J.FAIRPLAY;case X.PLAYREADY:return J.PLAYREADY;case X.WIDEVINE:return J.WIDEVINE;case X.CLEARKEY:return J.CLEARKEY}}function re(e){var t=e.drmSystems,r=e.widevineLicenseUrl,n=t?[X.FAIRPLAY,X.WIDEVINE,X.PLAYREADY,X.CLEARKEY].filter((function(e){return!!t[e]})):[];return!n[X.WIDEVINE]&&r&&n.push(X.WIDEVINE),n}var ne=function(){return"undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function ie(e,t,r){return Uint8Array.prototype.slice?e.slice(t,r):new Uint8Array(Array.prototype.slice.call(e,t,r))}var ae,oe=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},se=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},le=function(e,t){var r=t,n=0;while(oe(e,t)){n+=10;var i=ue(e,t+6);n+=i,se(e,t+10)&&(n+=10),t+=n}if(n>0)return e.subarray(r,r+n)},ue=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3],r},ce=function(e,t){return oe(e,t)&&ue(e,t+6)+10<=e.length-t},de=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},fe=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),r=ue(e,4);return{type:t,size:r,data:e.subarray(10,10+r)}},he=function(e){var t=0,r=[];while(oe(e,t)){var n=ue(e,t+6);t+=10;var i=t+n;while(t+8<i){var a=fe(e.subarray(t)),o=pe(a);o&&r.push(o),t+=a.size+10}se(e,t)&&(t+=10)}return r},pe=function(e){return"PRIV"===e.type?ve(e):"W"===e.type[0]?me(e):ge(e)},ve=function(e){if(!(e.size<2)){var t=be(e.data,!0),r=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:r.buffer}}},ge=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,r=be(e.data.subarray(t),!0);t+=r.length+1;var n=be(e.data.subarray(t));return{key:e.type,info:r,data:n}}var i=be(e.data.subarray(1));return{key:e.type,data:i}}},me=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,r=be(e.data.subarray(t),!0);t+=r.length+1;var n=be(e.data.subarray(t));return{key:e.type,info:r,data:n}}var i=be(e.data);return{key:e.type,data:i}},ye=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Ee();if(r){var n=r.decode(e);if(t){var i=n.indexOf("\0");return-1!==i?n.substring(0,i):n}return n.replace(/\0/g,"")}var a,o,s,l=e.length,u="",c=0;while(c<l){if(a=e[c++],0===a&&t)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:o=e[c++],u+=String.fromCharCode((31&a)<<6|63&o);break;case 14:o=e[c++],s=e[c++],u+=String.fromCharCode((15&a)<<12|(63&o)<<6|(63&s)<<0);break}}return u};function Ee(){return ae||"undefined"===typeof self.TextDecoder||(ae=new self.TextDecoder("utf-8")),ae}var Te={hexDump:function(e){for(var t="",r=0;r<e.length;r++){var n=e[r].toString(16);n.length<2&&(n="0"+n),t+=n}return t}},ke=Math.pow(2,32)-1,Se=[].push,Ae={video:1,audio:2,id3:3,text:4};function _e(e){return String.fromCharCode.apply(null,e)}function we(e,t){var r=e[t]<<8|e[t+1];return r<0?65536+r:r}function Le(e,t){var r=Ie(e,t);return r<0?4294967296+r:r}function Ie(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function De(e,t,r){e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function Re(e,t){var r=[];if(!t.length)return r;for(var n=e.byteLength,i=0;i<n;){var a=Le(e,i),o=_e(e.subarray(i+4,i+8)),s=a>1?i+a:n;if(o===t[0])if(1===t.length)r.push(e.subarray(i+8,s));else{var l=Re(e.subarray(i+8,s),t.slice(1));l.length&&Se.apply(r,l)}i=s}return r}function xe(e){var t=[],r=e[0],n=8,i=Le(e,n);n+=4;n+=0===r?8:16,n+=2;var a=e.length+0,o=we(e,n);n+=2;for(var s=0;s<o;s++){var l=n,u=Le(e,l);l+=4;var c=2147483647&u,d=(2147483648&u)>>>31;if(1===d)return M.warn("SIDX has hierarchical references (not supported)"),null;var f=Le(e,l);l+=4,t.push({referenceSize:c,subsegmentDuration:f,info:{duration:f/i,start:a,end:a+c-1}}),a+=c,l+=4,n=l}return{earliestPresentationTime:0,timescale:i,version:r,referencesCount:o,references:t}}function Pe(e){for(var t=[],r=Re(e,["moov","trak"]),n=0;n<r.length;n++){var i=r[n],a=Re(i,["tkhd"])[0];if(a){var o=a[0],s=0===o?12:20,l=Le(a,s),u=Re(i,["mdia","mdhd"])[0];if(u){o=u[0],s=0===o?12:20;var c=Le(u,s),d=Re(i,["mdia","hdlr"])[0];if(d){var f=_e(d.subarray(8,12)),h={soun:V.AUDIO,vide:V.VIDEO}[f];if(h){var p=Re(i,["mdia","minf","stbl","stsd"])[0],v=void 0;p&&(v=_e(p.subarray(12,16))),t[l]={timescale:c,type:h},t[h]={timescale:c,id:l,codec:v}}}}}}var g=Re(e,["moov","mvex","trex"]);return g.forEach((function(e){var r=Le(e,4),n=t[r];n&&(n.default={duration:Le(e,12),flags:Le(e,20)})})),t}function Oe(e){var t=Re(e,["schm"])[0];if(t){var r=_e(t.subarray(4,8));if("cbcs"===r||"cenc"===r)return Re(e,["schi","tenc"])[0]}return M.error("[eme] missing 'schm' box"),null}function Ce(e){var t=Le(e,0),r=8;1&t&&(r+=4),4&t&&(r+=4);for(var n=0,i=Le(e,4),a=0;a<i;a++){if(256&t){var o=Le(e,r);n+=o,r+=4}512&t&&(r+=4),1024&t&&(r+=4),2048&t&&(r+=4)}return n}function Me(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function Fe(e,t){var r=[],n=t.samples,i=t.timescale,a=t.id,o=!1,s=Re(n,["moof"]);return s.map((function(s){var l=s.byteOffset-8,u=Re(s,["traf"]);u.map((function(s){var u=Re(s,["tfdt"]).map((function(e){var t=e[0],r=Le(e,4);return 1===t&&(r*=Math.pow(2,32),r+=Le(e,8)),r/i}))[0];return void 0!==u&&(e=u),Re(s,["tfhd"]).map((function(u){var c=Le(u,4),d=16777215&Le(u,0),f=0!==(1&d),h=0!==(2&d),p=0!==(8&d),v=0,g=0!==(16&d),m=0,y=0!==(32&d),b=8;c===a&&(f&&(b+=8),h&&(b+=4),p&&(v=Le(u,b),b+=4),g&&(m=Le(u,b),b+=4),y&&(b+=4),"video"===t.type&&(o=function(e){if(!e)return!1;var t=e.indexOf("."),r=t<0?e:e.substring(0,t);return"hvc1"===r||"hev1"===r||"dvh1"===r||"dvhe"===r}(t.codec)),Re(s,["trun"]).map((function(a){var s=a[0],u=16777215&Le(a,0),c=0!==(1&u),d=0,f=0!==(4&u),h=0!==(256&u),p=0,g=0!==(512&u),y=0,b=0!==(1024&u),E=0!==(2048&u),T=0,k=Le(a,4),S=8;c&&(d=Le(a,S),S+=4),f&&(S+=4);for(var A=d+l,_=0;_<k;_++){if(h?(p=Le(a,S),S+=4):p=v,g?(y=Le(a,S),S+=4):y=m,b&&(S+=4),E&&(T=0===s?Le(a,S):Ie(a,S),S+=4),t.type===V.VIDEO){var w=0;while(w<y){var L=Le(n,A);if(A+=4,Ne(o,n[A])){var I=n.subarray(A,A+L);Be(I,o?2:1,e+T/i,r)}A+=L,w+=L+4}}e+=p/i}})))}))}))})),r}function Ne(e,t){if(e){var r=t>>1&63;return 39===r||40===r}var n=31&t;return 6===n}function Be(e,t,r,n){var i=Ue(e),a=0;a+=t;var o=0,s=0,l=!1,u=0;while(a<i.length){o=0;do{if(a>=i.length)break;u=i[a++],o+=u}while(255===u);s=0;do{if(a>=i.length)break;u=i[a++],s+=u}while(255===u);var c=i.length-a;if(!l&&4===o&&a<i.length){l=!0;var d=i[a++];if(181===d){var f=we(i,a);if(a+=2,49===f){var h=Le(i,a);if(a+=4,1195456820===h){var p=i[a++];if(3===p){var v=i[a++],g=31&v,m=64&v,y=m?2+3*g:0,b=new Uint8Array(y);if(m){b[0]=v;for(var E=1;E<y;E++)b[E]=i[a++]}n.push({type:p,payloadType:o,pts:r,bytes:b})}}}}}else if(5===o&&s<c){if(l=!0,s>16){for(var T=[],k=0;k<16;k++){var S=i[a++].toString(16);T.push(1==S.length?"0"+S:S),3!==k&&5!==k&&7!==k&&9!==k||T.push("-")}for(var A=s-16,_=new Uint8Array(A),w=0;w<A;w++)_[w]=i[a++];n.push({payloadType:o,pts:r,uuid:T.join(""),userData:be(_),userDataBytes:_})}}else if(s<c)a+=s;else if(s>c)break}}function Ue(e){var t=e.byteLength,r=[],n=1;while(n<t-2)0===e[n]&&0===e[n+1]&&3===e[n+2]?(r.push(n+2),n+=2):n++;if(0===r.length)return e;var i=t-r.length,a=new Uint8Array(i),o=0;for(n=0;n<i;o++,n++)o===r[0]&&(o++,r.shift()),a[n]=e[o];return a}function je(e,t,r){if(16!==e.byteLength)throw new RangeError("Invalid system id");var n,i,a;if(t){n=1,i=new Uint8Array(16*t.length);for(var o=0;o<t.length;o++){var s=t[o];if(16!==s.byteLength)throw new RangeError("Invalid key");i.set(s,16*o)}}else n=0,i=new Uint8Array;n>0?(a=new Uint8Array(4),t.length>0&&new DataView(a.buffer).setUint32(0,t.length,!1)):a=new Uint8Array;var l=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(l.buffer).setUint32(0,r.byteLength,!1),function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=r.length,a=8,o=i;while(o--)a+=r[o].byteLength;var s=new Uint8Array(a);for(s[0]=a>>24&255,s[1]=a>>16&255,s[2]=a>>8&255,s[3]=255&a,s.set(e,4),o=0,a=8;o<i;o++)s.set(r[o],a),a+=r[o].byteLength;return s}([112,115,115,104],new Uint8Array([n,0,0,0]),e,a,i,l,r||new Uint8Array)}var Ge={},He=function(){function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,h.default)(this,e),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=r,this.keyFormat=n,this.keyFormatVersions=i,this.iv=a,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&"AES-128"!==t}return(0,p.default)(e,[{key:"isSupported",value:function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case J.FAIRPLAY:case J.WIDEVINE:case J.PLAYREADY:case J.CLEARKEY:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}},{key:"getDecryptData",value:function(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!==typeof t&&("AES-128"!==this.method||this.iv||M.warn('missing IV for initialization segment with method="'.concat(this.method,'" - compliance issue')),t=0);var r=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}(t),n=new e(this.method,this.uri,"identity",this.keyFormatVersions,r);return n}var i=Q(this.uri);if(i)switch(this.keyFormat){case J.WIDEVINE:this.pssh=i,i.length>=22&&(this.keyId=i.subarray(i.length-22,i.length-6));break;case J.PLAYREADY:var a=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=je(a,null,i);var o=new Uint16Array(i.buffer,i.byteOffset,i.byteLength/2),s=String.fromCharCode.apply(null,Array.from(o)),l=s.substring(s.indexOf("<"),s.length),u=new DOMParser,c=u.parseFromString(l,"text/xml"),d=c.getElementsByTagName("KID")[0];if(d){var f=d.childNodes[0]?d.childNodes[0].nodeValue:d.getAttribute("VALUE");if(f){var h=W(f).subarray(0,16);(function(e){var t=function(e,t,r){var n=e[t];e[t]=e[r],e[r]=n};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)})(h),this.keyId=h}}break;default:var p=i.subarray(0,16);if(16!==p.length){var v=new Uint8Array(16);v.set(p,16-p.length),p=v}this.keyId=p;break}if(!this.keyId||16!==this.keyId.byteLength){var g=Ge[this.uri];if(!g){var m=Object.keys(Ge).length%Number.MAX_SAFE_INTEGER;g=new Uint8Array(16);var y=new DataView(g.buffer,12,4);y.setUint32(0,m),Ge[this.uri]=g}this.keyId=g}return this}}],[{key:"clearKeyUriToKeyIdMap",value:function(){Ge={}}}]),e}();var Ve=/\{\$([a-zA-Z0-9-_]+)\}/g;function Ke(e){return Ve.test(e)}function $e(e,t,r){if(null!==e.variableList||e.hasVariableRefs)for(var n=r.length;n--;){var i=r[n],a=t[i];a&&(t[i]=Ye(e,a))}}function Ye(e,t){if(null!==e.variableList||e.hasVariableRefs){var r=e.variableList;return t.replace(Ve,(function(t){var n=t.substring(2,t.length-1),i=null==r?void 0:r[n];return void 0===i?(e.playlistParsingError||(e.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'.concat(n,'"'))),t):i}))}return t}function ze(e,t,r){var n,i,a=e.variableList;if(a||(e.variableList=a={}),"QUERYPARAM"in t){n=t.QUERYPARAM;try{var o=new self.URL(r).searchParams;if(!o.has(n))throw new Error('"'.concat(n,'" does not match any query parameter in URI: "').concat(r,'"'));i=o.get(n)}catch(s){e.playlistParsingError||(e.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: ".concat(s.message)))}}else n=t.NAME,i=t.VALUE;n in a?e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'.concat(n,'"'))):a[n]=i||""}function We(e,t,r){var n=t.IMPORT;if(r&&n in r){var i=e.variableList;i||(e.variableList=i={}),i[n]=r[n]}else e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'.concat(n,'"')))}function Qe(){if("undefined"!==typeof self)return self.MediaSource||self.WebKitMediaSource}var qe={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Xe=Qe();function Je(e,t){var r;return null!=(r=null==Xe?void 0:Xe.isTypeSupported("".concat(t||"video",'/mp4;codecs="').concat(e,'"')))&&r}var Ze=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,et=/#EXT-X-MEDIA:(.*)/g,tt=/^#EXT(?:INF|-X-TARGETDURATION):/m,rt=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),nt=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),it=function(){function e(){(0,h.default)(this,e)}return(0,p.default)(e,null,[{key:"findGroup",value:function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.id===t)return n}}},{key:"convertAVC1ToAVCOTI",value:function(e){var t=e.split(".");if(t.length>2){var r=t.shift()+".";return r+=parseInt(t.shift()).toString(16),r+=("000"+parseInt(t.shift()).toString(16)).slice(-4),r}return e}},{key:"resolve",value:function(e,t){return T.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}},{key:"isMediaPlaylist",value:function(e){return tt.test(e)}},{key:"parseMasterPlaylist",value:function(t,r){var n,i=Ke(t),a={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:i},o=[];Ze.lastIndex=0;while(null!=(n=Ze.exec(t)))if(n[1]){var s,l=new B(n[1]);$e(a,l,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);var u=Ye(a,n[2]),c={attrs:l,bitrate:l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),name:l.NAME,url:e.resolve(u,r)},d=l.decimalResolution("RESOLUTION");d&&(c.width=d.width,c.height=d.height),st((l.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),c),c.videoCodec&&-1!==c.videoCodec.indexOf("avc1")&&(c.videoCodec=e.convertAVC1ToAVCOTI(c.videoCodec)),null!=(s=c.unknownCodecs)&&s.length||o.push(c),a.levels.push(c)}else if(n[3]){var f=n[3],h=n[4];switch(f){case"SESSION-DATA":var p=new B(h);$e(a,p,["DATA-ID","LANGUAGE","VALUE","URI"]);var v=p["DATA-ID"];v&&(null===a.sessionData&&(a.sessionData={}),a.sessionData[v]=p);break;case"SESSION-KEY":var g=at(h,r,a);g.encrypted&&g.isSupported()?(null===a.sessionKeys&&(a.sessionKeys=[]),a.sessionKeys.push(g)):M.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'.concat(h,'"'));break;case"DEFINE":var m=new B(h);$e(a,m,["NAME","VALUE","QUERYPARAM"]),ze(a,m,r);break;case"CONTENT-STEERING":var y=new B(h);$e(a,y,["SERVER-URI","PATHWAY-ID"]),a.contentSteering={uri:e.resolve(y["SERVER-URI"],r),pathwayId:y["PATHWAY-ID"]||"."};break;case"START":a.startTimeOffset=ot(h);break}}var b=o.length>0&&o.length<a.levels.length;return a.levels=b?o:a.levels,0===a.levels.length&&(a.playlistParsingError=new Error("no levels found in manifest")),a}},{key:"parseMasterPlaylistMedia",value:function(t,r,n){var i,a={},o=n.levels,s={AUDIO:o.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),SUBTITLES:o.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),"CLOSED-CAPTIONS":[]},l=0;et.lastIndex=0;while(null!==(i=et.exec(t))){var u=new B(i[1]),c=u.TYPE;if(c){var d=s[c],f=a[c]||[];a[c]=f,$e(n,u,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);var h={attrs:u,bitrate:0,id:l++,groupId:u["GROUP-ID"]||"",instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:c,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?e.resolve(u.URI,r):""};if(null!=d&&d.length){var p=e.findGroup(d,h.groupId)||d[0];lt(h,p,"audioCodec"),lt(h,p,"textCodec")}f.push(h)}}return a}},{key:"parseLevelPlaylist",value:function(e,t,r,n,i,a){var o,s,l,u=new z(t),c=u.fragments,d=null,f=0,h=0,p=0,v=0,g=null,m=new $(n,t),y=-1,b=!1;rt.lastIndex=0,u.m3u8=e,u.hasVariableRefs=Ke(e);while(null!==(o=rt.exec(e))){b&&(b=!1,m=new $(n,t),m.start=p,m.sn=f,m.cc=v,m.level=r,d&&(m.initSegment=d,m.rawProgramDateTime=d.rawProgramDateTime,d.rawProgramDateTime=null));var E=o[1];if(E){m.duration=parseFloat(E);var T=(" "+o[2]).slice(1);m.title=T||null,m.tagList.push(T?["INF",E,T]:["INF",E])}else if(o[3]){if(w(m.duration)){m.start=p,l&&dt(m,l,u),m.sn=f,m.level=r,m.cc=v,m.urlId=i,c.push(m);var k=(" "+o[3]).slice(1);m.relurl=Ye(u,k),ut(m,g),g=m,p+=m.duration,f++,h=0,b=!0}}else if(o[4]){var S=(" "+o[4]).slice(1);g?m.setByteRange(S,g):m.setByteRange(S)}else if(o[5])m.rawProgramDateTime=(" "+o[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),-1===y&&(y=c.length);else{if(o=o[0].match(nt),!o){M.warn("No matches on slow regex match for level playlist!");continue}for(s=1;s<o.length;s++)if("undefined"!==typeof o[s])break;var A=(" "+o[s]).slice(1),L=(" "+o[s+1]).slice(1),I=o[s+2]?(" "+o[s+2]).slice(1):"";switch(A){case"PLAYLIST-TYPE":u.type=L.toUpperCase();break;case"MEDIA-SEQUENCE":f=u.startSN=parseInt(L);break;case"SKIP":var D=new B(L);$e(u,D,["RECENTLY-REMOVED-DATERANGES"]);var R=D.decimalInteger("SKIPPED-SEGMENTS");if(w(R)){u.skippedSegments=R;for(var x=R;x--;)c.unshift(null);f+=R}var P=D.enumeratedString("RECENTLY-REMOVED-DATERANGES");P&&(u.recentlyRemovedDateranges=P.split("\t"));break;case"TARGETDURATION":u.targetduration=Math.max(parseInt(L),1);break;case"VERSION":u.version=parseInt(L);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"#":(L||I)&&m.tagList.push(I?[L,I]:[L]);break;case"DISCONTINUITY":v++,m.tagList.push(["DIS"]);break;case"GAP":m.gap=!0,m.tagList.push([A]);break;case"BITRATE":m.tagList.push([A,L]);break;case"DATERANGE":var O=new B(L);$e(u,O,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),$e(u,O,O.clientAttrs);var C=new G(O,u.dateRanges[O.ID]);C.isValid||u.skippedSegments?u.dateRanges[C.id]=C:M.warn('Ignoring invalid DATERANGE tag: "'.concat(L,'"')),m.tagList.push(["EXT-X-DATERANGE",L]);break;case"DEFINE":var F=new B(L);$e(u,F,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in F?We(u,F,a):ze(u,F,t);break;case"DISCONTINUITY-SEQUENCE":v=parseInt(L);break;case"KEY":var N=at(L,t,u);if(N.isSupported()){if("NONE"===N.method){l=void 0;break}l||(l={}),l[N.keyFormat]&&(l=_({},l)),l[N.keyFormat]=N}else M.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'.concat(L,'"'));break;case"START":u.startTimeOffset=ot(L);break;case"MAP":var U=new B(L);if($e(u,U,["BYTERANGE","URI"]),m.duration){var j=new $(n,t);ct(j,U,r,l),d=j,m.initSegment=d,d.rawProgramDateTime&&!m.rawProgramDateTime&&(m.rawProgramDateTime=d.rawProgramDateTime)}else ct(m,U,r,l),d=m,b=!0;break;case"SERVER-CONTROL":var H=new B(L);u.canBlockReload=H.bool("CAN-BLOCK-RELOAD"),u.canSkipUntil=H.optionalFloat("CAN-SKIP-UNTIL",0),u.canSkipDateRanges=u.canSkipUntil>0&&H.bool("CAN-SKIP-DATERANGES"),u.partHoldBack=H.optionalFloat("PART-HOLD-BACK",0),u.holdBack=H.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var V=new B(L);u.partTarget=V.decimalFloatingPoint("PART-TARGET");break;case"PART":var K=u.partList;K||(K=u.partList=[]);var W=h>0?K[K.length-1]:void 0,Q=h++,q=new B(L);$e(u,q,["BYTERANGE","URI"]);var X=new Y(q,m,t,Q,W);K.push(X),m.duration+=X.duration;break;case"PRELOAD-HINT":var J=new B(L);$e(u,J,["URI"]),u.preloadHint=J;break;case"RENDITION-REPORT":var Z=new B(L);$e(u,Z,["URI"]),u.renditionReports=u.renditionReports||[],u.renditionReports.push(Z);break;default:M.warn("line parsed but not handled: ".concat(o));break}}}g&&!g.relurl?(c.pop(),p-=g.duration,u.partList&&(u.fragmentHint=g)):u.partList&&(ut(m,g),m.cc=v,u.fragmentHint=m,l&&dt(m,l,u));var ee=c.length,te=c[0],re=c[ee-1];if(p+=u.skippedSegments*u.targetduration,p>0&&ee&&re){u.averagetargetduration=p/ee;var ne=re.sn;u.endSN="initSegment"!==ne?ne:0,u.live||(re.endList=!0),te&&(u.startCC=te.cc)}else u.endSN=0,u.startCC=0;return u.fragmentHint&&(p+=u.fragmentHint.duration),u.totalduration=p,u.endCC=v,y>0&&function(e,t){for(var r=e[t],n=t;n--;){var i=e[n];if(!i)return;i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}(c,y),u}}]),e}();function at(e,t,r){var n,i,a=new B(e);$e(r,a,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);var o=null!=(n=a.METHOD)?n:"",s=a.URI,l=a.hexadecimalInteger("IV"),u=a.KEYFORMATVERSIONS,c=null!=(i=a.KEYFORMAT)?i:"identity";s&&a.IV&&!l&&M.error("Invalid IV: ".concat(a.IV));var d=s?it.resolve(s,t):"",f=(u||"1").split("/").map(Number).filter(Number.isFinite);return new He(o,d,c,f,l)}function ot(e){var t=new B(e),r=t.decimalFloatingPoint("TIME-OFFSET");return w(r)?r:null}function st(e,t){["video","audio","text"].forEach((function(r){var n=e.filter((function(e){return function(e,t){var r=qe[t];return!!r&&!0===r[e.slice(0,4)]}(e,r)}));if(n.length){var i=n.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t["".concat(r,"Codec")]=i.length>0?i[0]:n[0],e=e.filter((function(e){return-1===n.indexOf(e)}))}})),t.unknownCodecs=e}function lt(e,t,r){var n=t[r];n&&(e[r]=n)}function ut(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),w(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function ct(e,t,r,n){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=r,e.sn="initSegment",n&&(e.levelkeys=n),e.initSegment=null}function dt(e,t,r){e.levelkeys=t;var n=r.encryptedFragments;n.length&&n[n.length-1].levelkeys===t||!Object.keys(t).some((function(e){return t[e].isCommonEncryption}))||n.push(e)}var ft={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},ht={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function pt(e){var t=e.type;switch(t){case ft.AUDIO_TRACK:return ht.AUDIO;case ft.SUBTITLE_TRACK:return ht.SUBTITLE;default:return ht.MAIN}}function vt(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r}var gt=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=t,this.registerListeners()}return(0,p.default)(e,[{key:"startLoad",value:function(e){}},{key:"stopLoad",value:function(){this.destroyInternalLoaders()}},{key:"registerListeners",value:function(){var e=this.hls;e.on(L.MANIFEST_LOADING,this.onManifestLoading,this),e.on(L.LEVEL_LOADING,this.onLevelLoading,this),e.on(L.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(L.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(L.MANIFEST_LOADING,this.onManifestLoading,this),e.off(L.LEVEL_LOADING,this.onLevelLoading,this),e.off(L.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(L.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"createInternalLoader",value:function(e){var t=this.hls.config,r=t.pLoader,n=t.loader,i=r||n,a=new i(t);return this.loaders[e.type]=a,a}},{key:"getInternalLoader",value:function(e){return this.loaders[e.type]}},{key:"resetInternalLoader",value:function(e){this.loaders[e]&&delete this.loaders[e]}},{key:"destroyInternalLoaders",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}},{key:"destroy",value:function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}},{key:"onManifestLoading",value:function(e,t){var r=t.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:ft.MANIFEST,url:r,deliveryDirectives:null})}},{key:"onLevelLoading",value:function(e,t){var r=t.id,n=t.level,i=t.url,a=t.deliveryDirectives;this.load({id:r,level:n,responseType:"text",type:ft.LEVEL,url:i,deliveryDirectives:a})}},{key:"onAudioTrackLoading",value:function(e,t){var r=t.id,n=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:ft.AUDIO_TRACK,url:i,deliveryDirectives:a})}},{key:"onSubtitleTrackLoading",value:function(e,t){var r=t.id,n=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:ft.SUBTITLE_TRACK,url:i,deliveryDirectives:a})}},{key:"load",value:function(e){var t,r,n,i=this,a=this.hls.config,o=this.getInternalLoader(e);if(o){var s=o.context;if(s&&s.url===e.url)return void M.trace("[playlist-loader]: playlist request ongoing");M.log("[playlist-loader]: aborting previous loader for type: ".concat(e.type)),o.abort()}if((r=e.type===ft.MANIFEST?a.manifestLoadPolicy.default:_({},a.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(e),null!=(t=e.deliveryDirectives)&&t.part)&&(e.type===ft.LEVEL&&null!==e.level?n=this.hls.levels[e.level].details:e.type===ft.AUDIO_TRACK&&null!==e.id?n=this.hls.audioTracks[e.id].details:e.type===ft.SUBTITLE_TRACK&&null!==e.id&&(n=this.hls.subtitleTracks[e.id].details),n)){var l=n.partTarget,u=n.targetduration;if(l&&u){var c=1e3*Math.max(3*l,.8*u);r=_({},r,{maxTimeToFirstByteMs:Math.min(c,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(c,r.maxTimeToFirstByteMs)})}}var d=r.errorRetry||r.timeoutRetry||{},f={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:d.maxNumRetry||0,retryDelay:d.retryDelayMs||0,maxRetryDelay:d.maxRetryDelayMs||0},h={onSuccess:function(e,t,r,n){var a=i.getInternalLoader(r);i.resetInternalLoader(r.type);var o=e.data;0===o.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),it.isMediaPlaylist(o)?i.handleTrackOrLevelPlaylist(e,t,r,n||null,a):i.handleMasterPlaylist(e,t,r,n)):i.handleManifestParsingError(e,r,new Error("no EXTM3U delimiter"),n||null,t)},onError:function(e,t,r,n){i.handleNetworkError(t,r,!1,e,n)},onTimeout:function(e,t,r){i.handleNetworkError(t,r,!0,void 0,e)}};o.load(e,f,h)}},{key:"handleMasterPlaylist",value:function(e,t,r,n){var i=this.hls,a=e.data,o=vt(e,r),s=it.parseMasterPlaylist(a,o);if(s.playlistParsingError)this.handleManifestParsingError(e,r,s.playlistParsingError,n,t);else{var l=s.contentSteering,u=s.levels,c=s.sessionData,d=s.sessionKeys,f=s.startTimeOffset,h=s.variableList;this.variableList=h;var p=it.parseMasterPlaylistMedia(a,o,s),v=p.AUDIO,g=void 0===v?[]:v,m=p.SUBTITLES,y=p["CLOSED-CAPTIONS"];if(g.length){var b=g.some((function(e){return!e.url}));b||!u[0].audioCodec||u[0].attrs.AUDIO||(M.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new B({}),bitrate:0,url:""}))}i.trigger(L.MANIFEST_LOADED,{levels:u,audioTracks:g,subtitles:m,captions:y,contentSteering:l,url:o,stats:t,networkDetails:n,sessionData:c,sessionKeys:d,startTimeOffset:f,variableList:h})}}},{key:"handleTrackOrLevelPlaylist",value:function(e,t,r,n,i){var a=this.hls,o=r.id,s=r.level,l=r.type,u=vt(e,r),c=w(o)?o:0,d=w(s)?s:c,f=pt(r),h=it.parseLevelPlaylist(e.data,u,d,f,c,this.variableList);if(l===ft.MANIFEST){var p={attrs:new B({}),bitrate:0,details:h,name:"",url:u};a.trigger(L.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:u,stats:t,networkDetails:n,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),r.levelDetails=h,this.handlePlaylistLoaded(h,e,t,r,n,i)}},{key:"handleManifestParsingError",value:function(e,t,r,n,i){this.hls.trigger(L.ERROR,{type:I.NETWORK_ERROR,details:D.MANIFEST_PARSING_ERROR,fatal:t.type===ft.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:t,networkDetails:n,stats:i})}},{key:"handleNetworkError",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a="A network ".concat(r?"timeout":"error"+(n?" (status "+n.code+")":"")," occurred while loading ").concat(e.type);e.type===ft.LEVEL?a+=": ".concat(e.level," id: ").concat(e.id):e.type!==ft.AUDIO_TRACK&&e.type!==ft.SUBTITLE_TRACK||(a+=" id: ".concat(e.id,' group-id: "').concat(e.groupId,'"'));var o=new Error(a);M.warn("[playlist-loader]: ".concat(a));var s=D.UNKNOWN,l=!1,u=this.getInternalLoader(e);switch(e.type){case ft.MANIFEST:s=r?D.MANIFEST_LOAD_TIMEOUT:D.MANIFEST_LOAD_ERROR,l=!0;break;case ft.LEVEL:s=r?D.LEVEL_LOAD_TIMEOUT:D.LEVEL_LOAD_ERROR,l=!1;break;case ft.AUDIO_TRACK:s=r?D.AUDIO_TRACK_LOAD_TIMEOUT:D.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case ft.SUBTITLE_TRACK:s=r?D.SUBTITLE_TRACK_LOAD_TIMEOUT:D.SUBTITLE_LOAD_ERROR,l=!1;break}u&&this.resetInternalLoader(e.type);var c={type:I.NETWORK_ERROR,details:s,fatal:l,url:e.url,loader:u,context:e,error:o,networkDetails:t,stats:i};if(n){var d=(null==t?void 0:t.url)||e.url;c.response=S({url:d,data:void 0},n)}this.hls.trigger(L.ERROR,c)}},{key:"handlePlaylistLoaded",value:function(e,t,r,n,i,a){var o=this.hls,s=n.type,l=n.level,u=n.id,c=n.groupId,d=n.deliveryDirectives,f=vt(t,n),h=pt(n),p="number"===typeof n.level&&h===ht.MAIN?l:void 0;if(e.fragments.length){e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));var v=e.playlistParsingError;if(v)o.trigger(L.ERROR,{type:I.NETWORK_ERROR,details:D.LEVEL_PARSING_ERROR,fatal:!1,url:f,error:v,reason:v.message,response:t,context:n,level:p,parent:h,networkDetails:i,stats:r});else switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),a.getCacheAge&&!isNaN(e.ageHeader)||(e.ageHeader=0)),s){case ft.MANIFEST:case ft.LEVEL:o.trigger(L.LEVEL_LOADED,{details:e,level:p||0,id:u||0,stats:r,networkDetails:i,deliveryDirectives:d});break;case ft.AUDIO_TRACK:o.trigger(L.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:c||"",stats:r,networkDetails:i,deliveryDirectives:d});break;case ft.SUBTITLE_TRACK:o.trigger(L.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:c||"",stats:r,networkDetails:i,deliveryDirectives:d});break}}else{var g=new Error("No Segments found in Playlist");o.trigger(L.ERROR,{type:I.NETWORK_ERROR,details:D.LEVEL_EMPTY_ERROR,fatal:!1,url:f,error:g,reason:g.message,response:t,context:n,level:p,parent:h,networkDetails:i,stats:r})}}}]),e}();function mt(e,t){var r;try{r=new Event("addtrack")}catch(n){r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)}function yt(e,t){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: ".concat(t))}catch(i){M.debug("[texttrack-utils]: ".concat(i));var n=new self.TextTrackCue(t.startTime,t.endTime,t.text);n.id=t.id,e.addCue(n)}"disabled"===r&&(e.mode=r)}function bt(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var r=e.cues.length;r--;)e.removeCue(e.cues[r]);"disabled"===t&&(e.mode=t)}function Et(e,t,r,n){var i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var a=function(e,t,r){var n=[],i=function(e,t){if(t<e[0].startTime)return 0;var r=e.length-1;if(t>e[r].endTime)return-1;var n=0,i=r;while(n<=i){var a=Math.floor((i+n)/2);if(t<e[a].startTime)i=a-1;else{if(!(t>e[a].startTime&&n<r))return a;n=a+1}}return e[n].startTime-t<t-e[i].startTime?n:i}(e,t);if(i>-1)for(var a=i,o=e.length;a<o;a++){var s=e[a];if(s.startTime>=t&&s.endTime<=r)n.push(s);else if(s.startTime>r)return n}return n}(e.cues,t,r),o=0;o<a.length;o++)n&&!n(a[o])||e.removeCue(a[o]);"disabled"===i&&(e.mode=i)}var Tt={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};function kt(){if("undefined"!==typeof self)return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var St=function(){var e=kt();try{new e(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function At(e,t){return e.getTime()/1e3-t}function _t(e){return Uint8Array.from(e.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}var wt=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}return(0,p.default)(e,[{key:"destroy",value:function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(L.MANIFEST_LOADING,this.onManifestLoading,this),e.on(L.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(L.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(L.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(L.MANIFEST_LOADING,this.onManifestLoading,this),e.off(L.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(L.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(L.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media}},{key:"onMediaDetaching",value:function(){this.id3Track&&(bt(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}},{key:"onManifestLoading",value:function(){this.dateRangeCuesAppended={}}},{key:"createTrack",value:function(e){var t=this.getID3Track(e.textTracks);return t.mode="hidden",t}},{key:"getID3Track",value:function(e){if(this.media){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return mt(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}},{key:"onFragParsingMetadata",value:function(e,t){if(this.media){var r=this.hls.config,n=r.enableEmsgMetadataCues,i=r.enableID3MetadataCues;if(n||i){var a=t.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var o=kt(),s=0;s<a.length;s++){var l=a[s].type;if((l!==Tt.emsg||n)&&i){var u=he(a[s].data);if(u){var c=a[s].pts,d=c+a[s].duration;d>St&&(d=St);var f=d-c;f<=0&&(d=c+.25);for(var h=0;h<u.length;h++){var p=u[h];if(!de(p)){this.updateId3CueEnds(c);var v=new o(c,d,"");v.value=p,l&&(v.type=l),this.id3Track.addCue(v)}}}}}}}}},{key:"updateId3CueEnds",value:function(e){var t,r=null==(t=this.id3Track)?void 0:t.cues;if(r)for(var n=r.length;n--;){var i=r[n];i.startTime<e&&i.endTime===St&&(i.endTime=e)}}},{key:"onBufferFlushing",value:function(e,t){var r=t.startOffset,n=t.endOffset,i=t.type,a=this.id3Track,o=this.hls;if(o){var s,l=o.config,u=l.enableEmsgMetadataCues,c=l.enableID3MetadataCues;if(a&&(u||c))s="audio"===i?function(e){return e.type===Tt.audioId3&&c}:"video"===i?function(e){return e.type===Tt.emsg&&u}:function(e){return e.type===Tt.audioId3&&c||e.type===Tt.emsg&&u},Et(a,r,n,s)}}},{key:"onLevelUpdated",value:function(e,t){var r=this,n=t.details;if(this.media&&n.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var i=this.dateRangeCuesAppended,a=this.id3Track,o=n.dateRanges,s=Object.keys(o);if(a)for(var l=Object.keys(i).filter((function(e){return!s.includes(e)})),u=function(e){var t=l[e];Object.keys(i[t].cues).forEach((function(e){a.removeCue(i[t].cues[e])})),delete i[t]},c=l.length;c--;)u(c);var d=n.fragments[n.fragments.length-1];if(0!==s.length&&w(null==d?void 0:d.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var f=d.programDateTime/1e3-d.start,h=kt(),p=function(e){var t=s[e],n=o[t],a=i[t],l=(null==a?void 0:a.cues)||{},u=(null==a?void 0:a.durationKnown)||!1,c=At(n.startDate,f),d=St,p=n.endDate;if(p)d=At(p,f),u=!0;else if(n.endOnNext&&!u){var v=s.reduce((function(e,t){var r=o[t];return r.class===n.class&&r.id!==t&&r.startDate>n.startDate&&e.push(r),e}),[]).sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()}))[0];v&&(d=At(v.startDate,f),u=!0)}for(var g=Object.keys(n.attr),m=0;m<g.length;m++){var y=g[m];if(U(y)){var b=l[y];if(b)u&&!a.durationKnown&&(b.endTime=d);else{var E=n.attr[y];b=new h(c,d,""),j(y)&&(E=_t(E)),b.value={key:y,data:E},b.type=Tt.dateRange,b.id=t,r.id3Track.addCue(b),l[y]=b}}}i[t]={cues:l,dateRange:n,durationKnown:u}},v=0;v<s.length;v++)p(v)}}}}]),e}(),Lt=function(){function e(t){var r=this;(0,h.default)(this,e),this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return r.timeupdate()},this.hls=t,this.config=t.config,this.registerListeners()}return(0,p.default)(e,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,r=e.partHoldBack,n=e.targetduration,i=this.config,a=i.liveSyncDuration,o=i.liveSyncDurationCount,s=i.lowLatencyMode,l=this.hls.userConfig,u=s&&r||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==a?a:o*n);var c=n;return u+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,r=this.levelDetails;if(null===e||null===t||null===r)return null;var n=r.edge,i=e-t-this.edgeStalled,a=n-r.totalduration,o=n-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(a,i),o)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var r=e.buffered.length;return(r?e.buffered.end(r-1):t.edge)-this.currentTime}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}},{key:"registerListeners",value:function(){this.hls.on(L.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(L.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(L.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(L.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(L.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){this.hls.off(L.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(L.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(L.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(L.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(L.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}},{key:"onMediaDetaching",value:function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}},{key:"onManifestLoading",value:function(){this.levelDetails=null,this._latency=null,this.stallCount=0}},{key:"onLevelUpdated",value:function(e,t){var r=t.details;this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}},{key:"onError",value:function(e,t){var r;t.details===D.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(r=this.levelDetails)&&r.live&&M.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}},{key:"timeupdate",value:function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var r=this.computeLatency();if(null!==r){this._latency=r;var n=this.config,i=n.lowLatencyMode,a=n.maxLiveSyncPlaybackRate;if(i&&1!==a){var o=this.targetLatency;if(null!==o){var s=r-o,l=Math.min(this.maxLatency,o+t.targetduration),u=s<l;if(t.live&&u&&s>.05&&this.forwardBufferLength>1){var c=Math.min(2,Math.max(1,a)),d=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(c,Math.max(1,d))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}}},{key:"estimateLiveEdge",value:function(){var e=this.levelDetails;return null===e?null:e.edge+e.age}},{key:"computeLatency",value:function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime}}]),e}(),It=["NONE","TYPE-0","TYPE-1",null],Dt={No:"",Yes:"YES",v2:"v2"};var Rt=function(){function e(t,r,n){(0,h.default)(this,e),this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=r,this.skip=n}return(0,p.default)(e,[{key:"addDirectives",value:function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}]),e}(),xt=function(){function e(t){(0,h.default)(this,e),this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.unknownCodecs=t.unknownCodecs,this.codecSet=[t.videoCodec,t.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}return(0,p.default)(e,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=t)}},{key:"audioGroupId",get:function(){var e;return null==(e=this.audioGroupIds)?void 0:e[this.urlId]}},{key:"textGroupId",get:function(){var e;return null==(e=this.textGroupIds)?void 0:e[this.urlId]}},{key:"addFallback",value:function(e){this.url.push(e.url),this._attrs.push(e.attrs)}}]),e}();function Pt(e,t){var r=t.startPTS;if(w(r)){var n,i=0;t.sn>e.sn?(i=r-e.start,n=e):(i=e.start-r,n=t),n.duration!==i&&(n.duration=i)}else if(t.sn>e.sn){var a=e.cc===t.cc;a&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration}else t.start=Math.max(e.start-t.duration,0)}function Ot(e,t,r,n,i,a){var o=n-r;o<=0&&(M.warn("Fragment should have a positive duration",t),n=r+t.duration,a=i+t.duration);var s=r,l=n,u=t.startPTS,c=t.endPTS;if(w(u)){var d=Math.abs(u-r);w(t.deltaPTS)?t.deltaPTS=Math.max(d,t.deltaPTS):t.deltaPTS=d,s=Math.max(r,u),r=Math.min(r,u),i=Math.min(i,t.startDTS),l=Math.min(n,c),n=Math.max(n,c),a=Math.max(a,t.endDTS)}var f=r-t.start;0!==t.start&&(t.start=r),t.duration=n-t.start,t.startPTS=r,t.maxStartPTS=s,t.startDTS=i,t.endPTS=n,t.minEndPTS=l,t.endDTS=a;var h,p=t.sn;if(!e||p<e.startSN||p>e.endSN)return 0;var v=p-e.startSN,g=e.fragments;for(g[v]=t,h=v;h>0;h--)Pt(g[h],g[h-1]);for(h=v;h<g.length-1;h++)Pt(g[h],g[h+1]);return e.fragmentHint&&Pt(g[g.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,f}function Ct(e,t){for(var r=null,n=e.fragments,i=n.length-1;i>=0;i--){var a=n[i].initSegment;if(a){r=a;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var o,s=0;if(function(e,t,r){for(var n=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,a=(e.fragmentHint?1:0)+(n?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,o=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=i;u<=a;u++){var c=l[o+u],d=s[u];n&&!d&&u<n&&(d=t.fragments[u]=c),c&&d&&r(c,d)}}(e,t,(function(e,n){e.relurl&&(s=e.cc-n.cc),w(e.startPTS)&&w(e.endPTS)&&(n.start=n.startPTS=e.startPTS,n.startDTS=e.startDTS,n.maxStartPTS=e.maxStartPTS,n.endPTS=e.endPTS,n.endDTS=e.endDTS,n.minEndPTS=e.minEndPTS,n.duration=e.endPTS-e.startPTS,n.duration&&(o=n),t.PTSKnown=t.alignedSliding=!0),n.elementaryStreams=e.elementaryStreams,n.loader=e.loader,n.stats=e.stats,n.urlId=e.urlId,e.initSegment&&(n.initSegment=e.initSegment,r=e.initSegment)})),r){var l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;l.forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null==(t=r)?void 0:t.relurl)||(e.initSegment=r)}))}if(t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed){M.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var u=t.skippedSegments;u--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=function(e,t,r){var n=_({},e);r&&r.forEach((function(e){delete n[e]}));return Object.keys(t).forEach((function(e){var r=new G(t[e].attr,n[e]);r.isValid?n[e]=r:M.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'.concat(JSON.stringify(t[e].attr),'"'))})),n}(e.dateRanges,t.dateRanges,t.recentlyRemovedDateranges));var c=t.fragments;if(s){M.warn("discontinuity sliding from playlist, take drift into account");for(var d=0;d<c.length;d++)c[d].cc+=s}t.skippedSegments&&(t.startCC=t.fragments[0].cc),function(e,t,r){if(e&&t)for(var n=0,i=0,a=e.length;i<=a;i++){var o=e[i],s=t[i+n];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?r(o,s):n--}}(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),o?Ot(t,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):Mt(e,t),c.length&&(t.totalduration=t.edge-c[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var f=t.advancedDateTime;if(t.advanced&&f){var h=t.edge;t.driftStart||(t.driftStartTime=f,t.driftStart=h),t.driftEndTime=f,t.driftEnd=h}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function Mt(e,t){var r=t.startSN+t.skippedSegments-e.startSN,n=e.fragments;r<0||r>=n.length||Ft(t,n[r].start)}function Ft(e,t){if(t){for(var r=e.fragments,n=e.skippedSegments;n<r.length;n++)r[n].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function Nt(e,t,r){var n;return null!=e&&e.details?Bt(null==(n=e.details)?void 0:n.partList,t,r):null}function Bt(e,t,r){if(e)for(var n=e.length;n--;){var i=e[n];if(i.index===r&&i.fragment.sn===t)return i}return null}function Ut(e){switch(e.details){case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_TIMEOUT:case D.LEVEL_LOAD_TIMEOUT:case D.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function jt(e,t){var r=Ut(t);return e.default["".concat(r?"timeout":"error","Retry")]}function Gt(e,t){var r="linear"===e.backoff?1:Math.pow(2,t);return Math.min(r*e.retryDelayMs,e.maxRetryDelayMs)}function Ht(e){return S(S({},e),{errorRetry:null,timeoutRetry:null})}function Vt(e,t,r,n){return!!e&&t<e.maxNumRetry&&(function(e){return 0===e&&!1===navigator.onLine||!!e&&(e<400||e>499)}(n)||!!r)}var Kt={search:function(e,t){var r=0,n=e.length-1,i=null,a=null;while(r<=n){i=(r+n)/2|0,a=e[i];var o=t(a);if(o>0)r=i+1;else{if(!(o<0))return a;n=i-1}}return null}};function $t(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=null;if(e?i=t[e.sn-t[0].sn+1]||null:0===r&&0===t[0].start&&(i=t[0]),i&&0===Yt(r,n,i))return i;var a=Kt.search(t,Yt.bind(null,r,n));return!a||a===e&&i?i:a}function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;if(r.start<=e&&r.start+r.duration>e)return 0;var n=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=e?1:r.start-n>e&&r.start?-1:0}function zt(e,t,r){var n=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0)),i=r.endProgramDateTime||0;return i-n>e}var Wt={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},Qt={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4},qt=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=t,this.log=M.log.bind(M,"[info]:"),this.warn=M.warn.bind(M,"[warning]:"),this.error=M.error.bind(M,"[error]:"),this.registerListeners()}return(0,p.default)(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(L.ERROR,this.onError,this),e.on(L.MANIFEST_LOADING,this.onManifestLoading,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e&&(e.off(L.ERROR,this.onError,this),e.off(L.ERROR,this.onErrorOut,this),e.off(L.MANIFEST_LOADING,this.onManifestLoading,this))}},{key:"destroy",value:function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}},{key:"startLoad",value:function(e){this.playlistError=0}},{key:"stopLoad",value:function(){}},{key:"getVariantLevelIndex",value:function(e){return(null==e?void 0:e.type)===ht.MAIN?e.level:this.hls.loadLevel}},{key:"onManifestLoading",value:function(){this.playlistError=0,this.penalizedRenditions={}}},{key:"onError",value:function(e,t){var r;if(!t.fatal){var n=this.hls,i=t.context;switch(t.details){case D.FRAG_LOAD_ERROR:case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_ERROR:case D.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case D.FRAG_GAP:case D.FRAG_PARSING_ERROR:case D.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=Wt.SendAlternateToPenaltyBox);case D.LEVEL_EMPTY_ERROR:case D.LEVEL_PARSING_ERROR:var a,o,s=t.parent===ht.MAIN?t.level:n.loadLevel;return void(t.details===D.LEVEL_EMPTY_ERROR&&null!=(a=t.context)&&null!=(o=a.levelDetails)&&o.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,s):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,s)));case D.LEVEL_LOAD_ERROR:case D.LEVEL_LOAD_TIMEOUT:return void("number"===typeof(null==i?void 0:i.level)&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.level)));case D.AUDIO_TRACK_LOAD_ERROR:case D.AUDIO_TRACK_LOAD_TIMEOUT:case D.SUBTITLE_LOAD_ERROR:case D.SUBTITLE_TRACK_LOAD_TIMEOUT:if(i){var l=n.levels[n.loadLevel];if(l&&(i.type===ft.AUDIO_TRACK&&i.groupId===l.audioGroupId||i.type===ft.SUBTITLE_TRACK&&i.groupId===l.textGroupId))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,n.loadLevel),t.errorAction.action=Wt.SendAlternateToPenaltyBox,void(t.errorAction.flags=Qt.MoveAllAlternatesMatchingHost)}return;case D.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var u=n.levels[n.loadLevel],c=null==u?void 0:u.attrs["HDCP-LEVEL"];return void(c&&(t.errorAction={action:Wt.SendAlternateToPenaltyBox,flags:Qt.MoveAllAlternatesMatchingHDCP,hdcpLevel:c}));case D.BUFFER_ADD_CODEC_ERROR:case D.REMUX_ALLOC_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(r=t.level)?r:n.loadLevel));case D.INTERNAL_EXCEPTION:case D.BUFFER_APPENDING_ERROR:case D.BUFFER_APPEND_ERROR:case D.BUFFER_FULL_ERROR:case D.LEVEL_SWITCH_ERROR:case D.BUFFER_STALLED_ERROR:case D.BUFFER_SEEK_OVER_HOLE:case D.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:Wt.DoNothing,flags:Qt.None})}if(t.type===I.KEY_SYSTEM_ERROR){var d=this.getVariantLevelIndex(t.frag);return t.levelRetry=!1,void(t.errorAction=this.getLevelSwitchAction(t,d))}}}},{key:"getPlaylistRetryOrSwitchAction",value:function(e,t){var r,n=this.hls,i=jt(n.config.playlistLoadPolicy,e),a=this.playlistError++,o=null==(r=e.response)?void 0:r.code,s=Vt(i,a,Ut(e),o);if(s)return{action:Wt.RetryRequest,flags:Qt.None,retryConfig:i,retryCount:a};var l=this.getLevelSwitchAction(e,t);return i&&(l.retryConfig=i,l.retryCount=a),l}},{key:"getFragRetryOrSwitchAction",value:function(e){var t=this.hls,r=this.getVariantLevelIndex(e.frag),n=t.levels[r],i=t.config,a=i.fragLoadPolicy,o=i.keyLoadPolicy,s=jt(e.details.startsWith("key")?o:a,e),l=t.levels.reduce((function(e,t){return e+t.fragmentError}),0);if(n){var u;e.details!==D.FRAG_GAP&&n.fragmentError++;var c=null==(u=e.response)?void 0:u.code,d=Vt(s,l,Ut(e),c);if(d)return{action:Wt.RetryRequest,flags:Qt.None,retryConfig:s,retryCount:l}}var f=this.getLevelSwitchAction(e,r);return s&&(f.retryConfig=s,f.retryCount=l),f}},{key:"getLevelSwitchAction",value:function(e,t){var r=this.hls;null!==t&&void 0!==t||(t=r.loadLevel);var n=this.hls.levels[t];if(n&&(n.loadError++,r.autoLevelEnabled)){for(var i,a,o=-1,s=r.levels,l=null==(i=e.frag)?void 0:i.type,u=null!=(a=e.context)?a:{},c=u.type,d=u.groupId,f=s.length;f--;){var h=(f+r.loadLevel)%s.length;if(h!==r.loadLevel&&0===s[h].loadError){var p=s[h];if(e.details===D.FRAG_GAP&&e.frag){var v=s[h].details;if(v){var g=$t(e.frag,v.fragments,e.frag.start);if(null!=g&&g.gap)continue}}else{if(c===ft.AUDIO_TRACK&&d===p.audioGroupId||c===ft.SUBTITLE_TRACK&&d===p.textGroupId)continue;if(l===ht.AUDIO&&n.audioGroupId===p.audioGroupId||l===ht.SUBTITLE&&n.textGroupId===p.textGroupId)continue}o=h;break}}if(o>-1&&r.loadLevel!==o)return e.levelRetry=!0,{action:Wt.SendAlternateToPenaltyBox,flags:Qt.None,nextAutoLevel:o}}return{action:Wt.SendAlternateToPenaltyBox,flags:Qt.MoveAllAlternatesMatchingHost}}},{key:"onErrorOut",value:function(e,t){var r;switch(null==(r=t.errorAction)?void 0:r.action){case Wt.DoNothing:break;case Wt.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),t.errorAction.resolved||t.details===D.FRAG_GAP||(t.fatal=!0);break}t.fatal&&this.hls.stopLoad()}},{key:"sendAlternateToPenaltyBox",value:function(e){var t=this.hls,r=e.errorAction;if(r){var n=r.flags,i=r.hdcpLevel,a=r.nextAutoLevel;switch(n){case Qt.None:this.switchLevel(e,a);break;case Qt.MoveAllAlternatesMatchingHost:r.resolved||(r.resolved=this.redundantFailover(e));break;case Qt.MoveAllAlternatesMatchingHDCP:i&&(t.maxHdcpLevel=It[It.indexOf(i)-1],r.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'.concat(t.maxHdcpLevel,'" or lower'));break}r.resolved||this.switchLevel(e,a)}}},{key:"switchLevel",value:function(e,t){void 0!==t&&e.errorAction&&(this.warn("switching to level ".concat(t," after ").concat(e.details)),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},{key:"redundantFailover",value:function(e){var t=this,r=this.hls,n=this.penalizedRenditions,i=e.parent===ht.MAIN?e.level:r.loadLevel,a=r.levels[i],o=a.url.length,s=e.frag?e.frag.urlId:a.urlId;a.urlId!==s||e.frag&&!a.details||this.penalizeRendition(a,e);for(var l=function(l){var u=(s+l)%o,c=n[u];if(!c||function(e,t,r){if(performance.now()-e.lastErrorPerfMs>3e5)return!0;var n=e.details;if(t.details===D.FRAG_GAP&&n&&t.frag){var i=t.frag.start,a=$t(null,n.fragments,i);if(a&&!a.gap)return!0}if(r&&e.errors.length<r.errors.length){var o=e.errors[e.errors.length-1];if(n&&o.frag&&t.frag&&Math.abs(o.frag.start-t.frag.start)>3*n.targetduration)return!0}return!1}(c,e,n[s]))return t.warn("Switching to Redundant Stream ".concat(u+1,"/").concat(o,': "').concat(a.url[u],'" after ').concat(e.details)),t.playlistError=0,r.levels.forEach((function(e){e.urlId=u})),r.nextLoadLevel=i,{v:!0}},u=1;u<o;u++){var c=l(u);if("object"===(0,v.default)(c))return c.v}return!1}},{key:"penalizeRendition",value:function(e,t){var r=this.penalizedRenditions,n=r[e.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};n.lastErrorPerfMs=performance.now(),n.errors.push(t),n.details=e.details,r[e.urlId]=n}}]),e}();var Xt,Jt=function(){function e(t,r){(0,h.default)(this,e),this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=M.log.bind(M,"".concat(r,":")),this.warn=M.warn.bind(M,"".concat(r,":")),this.hls=t}return(0,p.default)(e,[{key:"destroy",value:function(){this.clearTimer(),this.hls=this.log=this.warn=null}},{key:"clearTimer",value:function(){clearTimeout(this.timer),this.timer=-1}},{key:"startLoad",value:function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}},{key:"stopLoad",value:function(){this.canLoad=!1,this.clearTimer()}},{key:"switchParams",value:function(e,t){var r=null==t?void 0:t.renditionReports;if(r){for(var n=-1,i=0;i<r.length;i++){var a=r[i],o=void 0;try{o=new self.URL(a.URI,t.url).href}catch(d){M.warn("Could not construct new URL for Rendition Report: ".concat(d)),o=a.URI||""}if(o===e){n=i;break}o===e.substring(0,o.length)&&(n=i)}if(-1!==n){var s=r[n],l=parseInt(s["LAST-MSN"])||(null==t?void 0:t.lastPartSn),u=parseInt(s["LAST-PART"])||(null==t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);u>=0&&c>t.partTarget&&(u+=1)}return new Rt(l,u>=0?u:void 0,Dt.No)}}}},{key:"loadPlaylist",value:function(e){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}},{key:"shouldLoadPlaylist",value:function(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}},{key:"shouldReloadPlaylist",value:function(e){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(e)}},{key:"playlistLoaded",value:function(e,t,r){var n=this,i=t.details,a=t.stats,o=self.performance.now(),s=a.loading.first?Math.max(0,o-a.loading.first):0;if(i.advancedDateTime=Date.now()-s,i.live||null!=r&&r.live){if(i.reloaded(r),r&&this.log("live playlist ".concat(e," ").concat(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),r&&i.fragments.length>0&&Ct(r,i),!this.canLoad||!i.live)return;var l,u=void 0,c=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var d=this.hls.config.lowLatencyMode,f=i.lastPartSn,h=i.endSN,p=i.lastPartIndex,v=-1!==p,g=f===h,m=d?0:p;v?(u=g?h+1:f,c=g?m:p+1):u=h+1;var y=i.age,b=y+i.ageHeader,E=Math.min(b-i.partTarget,1.5*i.targetduration);if(E>0){if(r&&E>r.tuneInGoal)this.warn("CDN Tune-in goal increased from: ".concat(r.tuneInGoal," to: ").concat(E," with playlist age: ").concat(i.age)),E=0;else{var T=Math.floor(E/i.targetduration);if(u+=T,void 0!==c){var k=Math.round(E%i.targetduration/i.partTarget);c+=k}this.log("CDN Tune-in age: ".concat(i.ageHeader,"s last advanced ").concat(y.toFixed(2),"s goal: ").concat(E," skip sn ").concat(T," to part ").concat(c))}i.tuneInGoal=E}if(l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c),d||!g)return void this.loadPlaylist(l)}else i.canBlockReload&&(l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c));var S=this.hls.mainForwardBufferInfo,A=S?S.end-S.len:0,_=1e3*(i.edge-A),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=1e3*e.targetduration;if(e.updated){var n=e.fragments,i=4;if(n.length&&r*i>t){var a=1e3*n[n.length-1].duration;a<r&&(r=a)}}else r/=2;return Math.round(r)}(i,_);i.updated&&o>this.requestScheduled+w&&(this.requestScheduled=a.loading.start),void 0!==u&&i.canBlockReload?this.requestScheduled=a.loading.first+w-(1e3*i.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+w<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=w);var L=this.requestScheduled-o;L=Math.max(0,L),this.log("reload live playlist ".concat(e," in ").concat(Math.round(L)," ms")),this.timer=self.setTimeout((function(){return n.loadPlaylist(l)}),L)}else this.clearTimer()}},{key:"getDeliveryDirectives",value:function(e,t,r,n){var i=function(e,t){var r=e.canSkipUntil,n=e.canSkipDateRanges,i=e.endSN,a=void 0!==t?t-i:0;return r&&a<r?n?Dt.v2:Dt.Yes:Dt.No}(e,r);return null!=t&&t.skip&&e.deltaUpdateFailed&&(r=t.msn,n=t.part,i=Dt.No),new Rt(r,n,i)}},{key:"checkRetry",value:function(e){var t=this,r=e.details,n=Ut(e),i=e.errorAction,a=i||{},o=a.action,s=a.retryCount,l=void 0===s?0:s,u=a.retryConfig,c=!!i&&!!u&&(o===Wt.RetryRequest||!i.resolved&&o===Wt.SendAlternateToPenaltyBox);if(c){var d;if(this.requestScheduled=-1,n&&null!=(d=e.context)&&d.deliveryDirectives)this.warn("Retrying playlist loading ".concat(l+1,"/").concat(u.maxNumRetry,' after "').concat(r,'" without delivery-directives')),this.loadPlaylist();else{var f=Gt(u,l);this.timer=self.setTimeout((function(){return t.loadPlaylist()}),f),this.warn("Retrying playlist loading ".concat(l+1,"/").concat(u.maxNumRetry,' after "').concat(r,'" in ').concat(f,"ms"))}e.levelRetry=!0,i.resolved=!0}return c}}]),e}(),Zt=function(e){(0,u.default)(r,e);var t=y(r);function r(e,n){var i;return(0,h.default)(this,r),i=t.call(this,e,"[level-controller]"),i._levels=[],i._firstLevel=-1,i._startLevel=void 0,i.currentLevel=null,i.currentLevelIndex=-1,i.manualLevelIndex=-1,i.steering=void 0,i.onParsedComplete=void 0,i.steering=n,i._registerListeners(),i}return(0,p.default)(r,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(L.MANIFEST_LOADING,this.onManifestLoading,this),e.on(L.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(L.LEVEL_LOADED,this.onLevelLoaded,this),e.on(L.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(L.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(L.FRAG_LOADED,this.onFragLoaded,this),e.on(L.ERROR,this.onError,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(L.MANIFEST_LOADING,this.onManifestLoading,this),e.off(L.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(L.LEVEL_LOADED,this.onLevelLoaded,this),e.off(L.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(L.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(L.FRAG_LOADED,this.onFragLoaded,this),e.off(L.ERROR,this.onError,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),(0,l.default)((0,d.default)(r.prototype),"destroy",this).call(this)}},{key:"startLoad",value:function(){var e=this._levels;e.forEach((function(e){e.loadError=0,e.fragmentError=0})),(0,l.default)((0,d.default)(r.prototype),"startLoad",this).call(this)}},{key:"resetLevels",value:function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}},{key:"onManifestLoading",value:function(e,t){this.resetLevels()}},{key:"onManifestLoaded",value:function(e,t){var r,n=[],i={};t.levels.forEach((function(e){var t,a=e.attrs;-1!==(null==(t=e.audioCodec)?void 0:t.indexOf("mp4a.40.34"))&&(Xt||(Xt=/chrome|firefox/i.test(navigator.userAgent)),Xt&&(e.audioCodec=void 0));var o=a.AUDIO,s=a.CODECS,l=a["FRAME-RATE"],u=a["PATHWAY-ID"],c=a.RESOLUTION,d=a.SUBTITLES,f="".concat(u||".","-"),h="".concat(f).concat(e.bitrate,"-").concat(c,"-").concat(l,"-").concat(s);r=i[h],r?r.addFallback(e):(r=new xt(e),i[h]=r,n.push(r)),er(r,"audio",o),er(r,"text",d)})),this.filterAndSortMediaOptions(n,t)}},{key:"filterAndSortMediaOptions",value:function(e,t){var r=this,n=[],i=[],a=!1,o=!1,s=!1,l=e.filter((function(e){var t=e.audioCodec,r=e.videoCodec,n=e.width,i=e.height,l=e.unknownCodecs;return a||(a=!(!n||!i)),o||(o=!!r),s||(s=!!t),!(null!=l&&l.length)&&(!t||Je(t,"audio"))&&(!r||Je(r,"video"))}));if((a||o)&&s&&(l=l.filter((function(e){var t=e.videoCodec,r=e.width,n=e.height;return!!t||!(!r||!n)}))),0!==l.length){t.audioTracks&&(n=t.audioTracks.filter((function(e){return!e.audioCodec||Je(e.audioCodec,"audio")})),tr(n)),t.subtitles&&(i=t.subtitles,tr(i));var u=l.slice(0);l.sort((function(e,t){return e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"]?(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1:e.bitrate!==t.bitrate?e.bitrate-t.bitrate:e.attrs["FRAME-RATE"]!==t.attrs["FRAME-RATE"]?e.attrs.decimalFloatingPoint("FRAME-RATE")-t.attrs.decimalFloatingPoint("FRAME-RATE"):e.attrs.SCORE!==t.attrs.SCORE?e.attrs.decimalFloatingPoint("SCORE")-t.attrs.decimalFloatingPoint("SCORE"):a&&e.height!==t.height?e.height-t.height:0}));var c=u[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==u.length))for(var d=0;d<u.length;d++)if(u[d].pathwayId===l[0].pathwayId){c=u[d];break}this._levels=l;for(var f=0;f<l.length;f++)if(l[f]===c){this._firstLevel=f,this.log("manifest loaded, ".concat(l.length," level(s) found, first bitrate: ").concat(c.bitrate));break}var h=s&&!o,p={levels:l,audioTracks:n,subtitleTracks:i,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:o,altAudio:!h&&n.some((function(e){return!!e.url}))};this.hls.trigger(L.MANIFEST_PARSED,p),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then((function(){if(r.hls){var e=new Error("no level with compatible codecs found in manifest");r.hls.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:e,reason:e.message})}}))}},{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;if(0!==t.length){if(e<0||e>=t.length){var r=new Error("invalid level idx"),n=e<0;if(this.hls.trigger(L.ERROR,{type:I.OTHER_ERROR,details:D.LEVEL_SWITCH_ERROR,level:e,fatal:n,error:r,reason:r.message}),n)return;e=Math.min(e,t.length-1)}var i=this.currentLevelIndex,a=this.currentLevel,o=a?a.attrs["PATHWAY-ID"]:void 0,s=t[e],l=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=s,i!==e||!s.details||!a||o!==l){this.log("Switching to level ".concat(e).concat(l?" with Pathway "+l:""," from level ").concat(i).concat(o?" with Pathway "+o:""));var u=_({},s,{level:e,maxBitrate:s.maxBitrate,attrs:s.attrs,uri:s.uri,urlId:s.urlId});delete u._attrs,delete u._urlId,this.hls.trigger(L.LEVEL_SWITCHING,u);var c=s.details;if(!c||c.live){var d=this.switchParams(s.uri,null==a?void 0:a.details);this.loadPlaylist(d)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&t.context.type===ft.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}},{key:"onFragLoaded",value:function(e,t){var r=t.frag;if(void 0!==r&&r.type===ht.MAIN){var n=this._levels[r.level];void 0!==n&&(n.loadError=0)}}},{key:"onLevelLoaded",value:function(e,t){var r,n,i=t.level,a=t.details,o=this._levels[i];if(!o)return this.warn("Invalid level index ".concat(i)),void(null!=(n=t.deliveryDirectives)&&n.skip&&(a.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0),this.playlistLoaded(i,t,o.details)):null!=(r=t.deliveryDirectives)&&r.skip&&(a.deltaUpdateFailed=!0)}},{key:"onAudioTrackSwitched",value:function(e,t){var r=this.currentLevel;if(r){var n=this.hls.audioTracks[t.id].groupId;if(r.audioGroupIds&&r.audioGroupId!==n){for(var i=-1,a=0;a<r.audioGroupIds.length;a++)if(r.audioGroupIds[a]===n){i=a;break}-1!==i&&i!==r.urlId&&(r.urlId=i,this.canLoad&&this.startLoad())}}}},{key:"loadPlaylist",value:function(e){(0,l.default)((0,d.default)(r.prototype),"loadPlaylist",this).call(this);var t=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){var i=n.urlId,a=n.uri;if(e)try{a=e.addDirectives(a)}catch(s){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(s))}var o=n.attrs["PATHWAY-ID"];this.log("Loading level index ".concat(t).concat(void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""," with").concat(o?" Pathway "+o:""," URI ").concat(i+1,"/").concat(n.url.length," ").concat(a)),this.clearTimer(),this.hls.trigger(L.LEVEL_LOADING,{url:a,level:t,id:i,deliveryDirectives:e||null})}}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}},{key:"removeLevel",value:function(e,t){var r=this,n=function(e,r){return r!==t},i=this._levels.filter((function(i,a){return a!==e||(i.url.length>1&&void 0!==t?(i.url=i.url.filter(n),i.audioGroupIds&&(i.audioGroupIds=i.audioGroupIds.filter(n)),i.textGroupIds&&(i.textGroupIds=i.textGroupIds.filter(n)),i.urlId=0,!0):(r.steering&&r.steering.removeLevel(i),!1))}));this.hls.trigger(L.LEVELS_UPDATED,{levels:i})}},{key:"onLevelsUpdated",value:function(e,t){var r=t.levels;r.forEach((function(e,t){var r=e.details;null!=r&&r.fragments&&r.fragments.forEach((function(e){e.level=t}))})),this._levels=r}}]),r}(Jt);function er(e,t,r){r&&("audio"===t?(e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds[e.url.length-1]=r):"text"===t&&(e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds[e.url.length-1]=r))}function tr(e){var t={};e.forEach((function(e){var r=e.groupId||"";e.id=t[r]=t[r]||0,t[r]++}))}var rr={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},nr=function(){function e(t){(0,h.default)(this,e),this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}return(0,p.default)(e,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(L.BUFFER_APPENDED,this.onBufferAppended,this),e.on(L.FRAG_BUFFERED,this.onFragBuffered,this),e.on(L.FRAG_LOADED,this.onFragLoaded,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(L.BUFFER_APPENDED,this.onBufferAppended,this),e.off(L.FRAG_BUFFERED,this.onFragBuffered,this),e.off(L.FRAG_LOADED,this.onFragLoaded,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}},{key:"getAppendedFrag",value:function(e,t){var r=this.activePartLists[t];if(r)for(var n=r.length;n--;){var i=r[n];if(!i)break;var a=i.end;if(i.start<=e&&null!==a&&e<=a)return i}return this.getBufferedFrag(e,t)}},{key:"getBufferedFrag",value:function(e,t){for(var r=this.fragments,n=Object.keys(r),i=n.length;i--;){var a=r[n[i]];if((null==a?void 0:a.body.type)===t&&a.buffered){var o=a.body;if(o.start<=e&&e<=o.end)return o}}return null}},{key:"detectEvictedFragments",value:function(e,t,r,n){var i=this;this.timeRanges&&(this.timeRanges[e]=t);var a=(null==n?void 0:n.fragment.sn)||-1;Object.keys(this.fragments).forEach((function(n){var o=i.fragments[n];if(o&&!(a>=o.body.sn))if(o.buffered||o.loaded){var s=o.range[e];s&&s.time.some((function(e){var r=!i.isTimeBuffered(e.startPTS,e.endPTS,t);return r&&i.removeFragment(o.body),r}))}else o.body.type===r&&i.removeFragment(o.body)}))}},{key:"detectPartialFragments",value:function(e){var t=this,r=this.timeRanges,n=e.frag,i=e.part;if(r&&"initSegment"!==n.sn){var a=ar(n),o=this.fragments[a];if(o){var s=!n.relurl;Object.keys(r).forEach((function(e){var a=n.elementaryStreams[e];if(a){var l=r[e],u=s||!0===a.partial;o.range[e]=t.getBufferedTimes(n,i,u,l)}})),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,o.body.endList&&(this.endListFragments[o.body.type]=o),ir(o)||this.removeParts(n.sn-1,n.type)):this.removeFragment(o.body)}}}},{key:"removeParts",value:function(e,t){var r=this.activePartLists[t];r&&(this.activePartLists[t]=r.filter((function(t){return t.fragment.sn>=e})))}},{key:"fragBuffered",value:function(e,t){var r=ar(e),n=this.fragments[r];!n&&t&&(n=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),n&&(n.loaded=null,n.buffered=!0)}},{key:"getBufferedTimes",value:function(e,t,r,n){for(var i={time:[],partial:r},a=e.start,o=e.end,s=e.minEndPTS||o,l=e.maxStartPTS||a,u=0;u<n.length;u++){var c=n.start(u)-this.bufferPadding,d=n.end(u)+this.bufferPadding;if(l>=c&&s<=d){i.time.push({startPTS:Math.max(a,n.start(u)),endPTS:Math.min(o,n.end(u))});break}if(a<d&&o>c)i.partial=!0,i.time.push({startPTS:Math.max(a,n.start(u)),endPTS:Math.min(o,n.end(u))});else if(o<=c)break}return i}},{key:"getPartialFragment",value:function(e){var t,r,n,i=null,a=0,o=this.bufferPadding,s=this.fragments;return Object.keys(s).forEach((function(l){var u=s[l];u&&ir(u)&&(r=u.body.start-o,n=u.body.end+o,e>=r&&e<=n&&(t=Math.min(e-r,n-e),a<=t&&(i=u.body,a=t)))})),i}},{key:"isEndListAppended",value:function(e){var t=this.endListFragments[e];return void 0!==t&&(t.buffered||ir(t))}},{key:"getState",value:function(e){var t=ar(e),r=this.fragments[t];return r?r.buffered?ir(r)?rr.PARTIAL:rr.OK:rr.APPENDING:rr.NOT_LOADED}},{key:"isTimeBuffered",value:function(e,t,r){for(var n,i,a=0;a<r.length;a++){if(n=r.start(a)-this.bufferPadding,i=r.end(a)+this.bufferPadding,e>=n&&t<=i)return!0;if(t<=n)return!1}return!1}},{key:"onFragLoaded",value:function(e,t){var r=t.frag,n=t.part;if("initSegment"!==r.sn&&!r.bitrateTest){var i=n?null:t,a=ar(r);this.fragments[a]={body:r,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}}},{key:"onBufferAppended",value:function(e,t){var r=this,n=t.frag,i=t.part,a=t.timeRanges;if("initSegment"!==n.sn){var o=n.type;if(i){var s=this.activePartLists[o];s||(this.activePartLists[o]=s=[]),s.push(i)}this.timeRanges=a,Object.keys(a).forEach((function(e){var t=a[e];r.detectEvictedFragments(e,t,o,i)}))}}},{key:"onFragBuffered",value:function(e,t){this.detectPartialFragments(t)}},{key:"hasFragment",value:function(e){var t=ar(e);return!!this.fragments[t]}},{key:"hasParts",value:function(e){var t;return!(null==(t=this.activePartLists[e])||!t.length)}},{key:"removeFragmentsInRange",value:function(e,t,r,n,i){var a=this;n&&!this.hasGaps||Object.keys(this.fragments).forEach((function(o){var s=a.fragments[o];if(s){var l=s.body;l.type!==r||n&&!l.gap||l.start<t&&l.end>e&&(s.buffered||i)&&a.removeFragment(l)}}))}},{key:"removeFragment",value:function(e){var t=ar(e);e.stats.loaded=0,e.clearElementaryStreamInfo();var r=this.activePartLists[e.type];if(r){var n=e.sn;this.activePartLists[e.type]=r.filter((function(e){return e.fragment.sn!==n}))}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}},{key:"removeAllFragments",value:function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}]),e}();function ir(e){var t,r,n;return e.buffered&&(e.body.gap||(null==(t=e.range.video)?void 0:t.partial)||(null==(r=e.range.audio)?void 0:r.partial)||(null==(n=e.range.audiovideo)?void 0:n.partial))}function ar(e){return"".concat(e.type,"_").concat(e.level,"_").concat(e.urlId,"_").concat(e.sn)}var or=Math.pow(2,17),sr=function(){function e(t){(0,h.default)(this,e),this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}return(0,p.default)(e,[{key:"destroy",value:function(){this.loader&&(this.loader.destroy(),this.loader=null)}},{key:"abort",value:function(){this.loader&&this.loader.abort()}},{key:"load",value:function(e,t){var r=this,n=e.url;if(!n)return Promise.reject(new cr({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error("Fragment does not have a ".concat(n?"part list":"url")),networkDetails:null}));this.abort();var i=this.config,a=i.fLoader,o=i.loader;return new Promise((function(s,l){if(r.loader&&r.loader.destroy(),e.gap)l(ur(e));else{var u=r.loader=e.loader=a?new a(i):new o(i),c=lr(e),d=Ht(i.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===e.sn?1/0:or};e.stats=u.stats,u.load(c,f,{onSuccess:function(t,n,i,a){r.resetLoader(e,u);var o=t.data;i.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(o.slice(0,16)),o=o.slice(16)),s({frag:e,part:null,payload:o,networkDetails:a})},onError:function(t,i,a,o){r.resetLoader(e,u),l(new cr({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:S({url:n,data:void 0},t),error:new Error("HTTP Error ".concat(t.code," ").concat(t.text)),networkDetails:a,stats:o}))},onAbort:function(t,n,i){r.resetLoader(e,u),l(new cr({type:I.NETWORK_ERROR,details:D.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:i,stats:t}))},onTimeout:function(t,n,i){r.resetLoader(e,u),l(new cr({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error("Timeout after ".concat(f.timeout,"ms")),networkDetails:i,stats:t}))},onProgress:function(r,n,i,a){t&&t({frag:e,part:null,payload:i,networkDetails:a})}})}}))}},{key:"loadPart",value:function(e,t,r){var n=this;this.abort();var i=this.config,a=i.fLoader,o=i.loader;return new Promise((function(s,l){if(n.loader&&n.loader.destroy(),e.gap||t.gap)l(ur(e,t));else{var u=n.loader=e.loader=a?new a(i):new o(i),c=lr(e,t),d=Ht(i.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:or};t.stats=u.stats,u.load(c,f,{onSuccess:function(i,a,o,l){n.resetLoader(e,u),n.updateStatsFromPart(e,t);var c={frag:e,part:t,payload:i.data,networkDetails:l};r(c),s(c)},onError:function(r,i,a,o){n.resetLoader(e,u),l(new cr({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:S({url:c.url,data:void 0},r),error:new Error("HTTP Error ".concat(r.code," ").concat(r.text)),networkDetails:a,stats:o}))},onAbort:function(r,i,a){e.stats.aborted=t.stats.aborted,n.resetLoader(e,u),l(new cr({type:I.NETWORK_ERROR,details:D.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:a,stats:r}))},onTimeout:function(r,i,a){n.resetLoader(e,u),l(new cr({type:I.NETWORK_ERROR,details:D.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error("Timeout after ".concat(f.timeout,"ms")),networkDetails:a,stats:r}))}})}}))}},{key:"updateStatsFromPart",value:function(e,t){var r=e.stats,n=t.stats,i=n.total;if(r.loaded+=n.loaded,i){var a=Math.round(e.duration/t.duration),o=Math.min(Math.round(r.loaded/i),a),s=a-o,l=s*Math.round(r.loaded/o);r.total=r.loaded+l}else r.total=Math.max(r.loaded,r.total);var u=r.loading,c=n.loading;u.start?u.first+=c.first-c.start:(u.start=c.start,u.first=c.first),u.end=c.end}},{key:"resetLoader",value:function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}]),e}();function lr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t||e,n={frag:e,part:t,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,a=r.byteRangeEndOffset;if(w(i)&&w(a)){var o,s=i,l=a;if("initSegment"===e.sn&&"AES-128"===(null==(o=e.decryptdata)?void 0:o.method)){var u=a-i;u%16&&(l=a+(16-u%16)),0!==i&&(n.resetIV=!0,s=i-16)}n.rangeStart=s,n.rangeEnd=l}return n}function ur(e,t){var r=new Error("GAP ".concat(e.gap?"tag":"attribute"," found")),n={type:I.MEDIA_ERROR,details:D.FRAG_GAP,fatal:!1,frag:e,error:r,networkDetails:null};return t&&(n.part=t),(t||e).stats.aborted=!0,new cr(n)}var cr=function(e){(0,u.default)(r,e);var t=y(r);function r(e){var n;return(0,h.default)(this,r),n=t.call(this,e.error.message),n.data=void 0,n.data=e,n}return(0,p.default)(r)}((0,s.default)(Error)),dr=function(){function e(t){(0,h.default)(this,e),this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}return(0,p.default)(e,[{key:"abort",value:function(e){for(var t in this.keyUriToKeyInfo){var r=this.keyUriToKeyInfo[t].loader;if(r){if(e&&e!==r.context.frag.type)return;r.abort()}}}},{key:"detach",value:function(){for(var e in this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}},{key:"destroy",value:function(){for(var e in this.detach(),this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}},{key:"createKeyLoadError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D.KEY_LOAD_ERROR,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return new cr({type:I.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:i,error:r,networkDetails:n})}},{key:"loadClear",value:function(e,t){var r=this;if(this.emeController&&this.config.emeEnabled)for(var n=e.sn,i=e.cc,a=function(e){var a=t[e];if(i<=a.cc&&("initSegment"===n||"initSegment"===a.sn||n<a.sn))return r.emeController.selectKeySystemFormat(a).then((function(e){a.setKeyFormat(e)})),"break"},o=0;o<t.length;o++){var s=a(o);if("break"===s)break}}},{key:"load",value:function(e){var t=this;return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then((function(r){return t.loadInternal(e,r)})):this.loadInternal(e)}},{key:"loadInternal",value:function(e,t){var r,n;t&&e.setKeyFormat(t);var i=e.decryptdata;if(!i){var a=new Error(t?"Expected frag.decryptdata to be defined after setting format ".concat(t):"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,D.KEY_LOAD_ERROR,a))}var o=i.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,D.KEY_LOAD_ERROR,new Error('Invalid key URI: "'.concat(o,'"'))));var s,l=this.keyUriToKeyInfo[o];if(null!=(r=l)&&r.decryptdata.key)return i.key=l.decryptdata.key,Promise.resolve({frag:e,keyInfo:l});if(null!=(n=l)&&n.keyLoadPromise)switch(null==(s=l.mediaKeySessionContext)?void 0:s.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return l.keyLoadPromise.then((function(t){return i.key=t.keyInfo.decryptdata.key,{frag:e,keyInfo:l}}))}switch(l=this.keyUriToKeyInfo[o]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(l,e):this.loadKeyEME(l,e);case"AES-128":return this.loadKeyHTTP(l,e);default:return Promise.reject(this.createKeyLoadError(e,D.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'.concat(i.method,'"'))))}}},{key:"loadKeyEME",value:function(e,t){var r={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var n=this.emeController.loadKey(r);if(n)return(e.keyLoadPromise=n.then((function(t){return e.mediaKeySessionContext=t,r}))).catch((function(t){throw e.keyLoadPromise=null,t}))}return Promise.resolve(r)}},{key:"loadKeyHTTP",value:function(e,t){var r=this,n=this.config,i=n.loader,a=new i(n);return t.keyLoader=e.loader=a,e.keyLoadPromise=new Promise((function(i,o){var s={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},l=n.keyLoadPolicy.default,u={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:function(e,t,n,a){var s=n.frag,l=n.keyInfo,u=n.url;if(!s.decryptdata||l!==r.keyUriToKeyInfo[u])return o(r.createKeyLoadError(s,D.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),a));l.decryptdata.key=s.decryptdata.key=new Uint8Array(e.data),s.keyLoader=null,l.loader=null,i({frag:s,keyInfo:l})},onError:function(e,n,i,a){r.resetLoader(n),o(r.createKeyLoadError(t,D.KEY_LOAD_ERROR,new Error("HTTP Error ".concat(e.code," loading key ").concat(e.text)),i,S({url:s.url,data:void 0},e)))},onTimeout:function(e,n,i){r.resetLoader(n),o(r.createKeyLoadError(t,D.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),i))},onAbort:function(e,n,i){r.resetLoader(n),o(r.createKeyLoadError(t,D.INTERNAL_ABORTED,new Error("key loading aborted"),i))}};a.load(s,u,c)}))}},{key:"resetLoader",value:function(e){var t=e.frag,r=e.keyInfo,n=e.url,i=r.loader;t.keyLoader===i&&(t.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[n],i&&i.destroy()}}]),e}(),fr=function(){function e(){(0,h.default)(this,e),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}return(0,p.default)(e,[{key:"destroy",value:function(){this.onHandlerDestroying(),this.onHandlerDestroyed()}},{key:"onHandlerDestroying",value:function(){this.clearNextTick(),this.clearInterval()}},{key:"onHandlerDestroyed",value:function(){}},{key:"hasInterval",value:function(){return!!this._tickInterval}},{key:"hasNextTick",value:function(){return!!this._tickTimer}},{key:"setInterval",value:function(e){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}},{key:"clearInterval",value:function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}},{key:"clearNextTick",value:function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}},{key:"tick",value:function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}},{key:"tickImmediate",value:function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}},{key:"doTick",value:function(){}}]),e}(),hr={length:0,start:function(){return 0},end:function(){return 0}},pr=function(){function e(){(0,h.default)(this,e)}return(0,p.default)(e,null,[{key:"isBuffered",value:function(t,r){try{if(t)for(var n=e.getBuffered(t),i=0;i<n.length;i++)if(r>=n.start(i)&&r<=n.end(i))return!0}catch(a){}return!1}},{key:"bufferInfo",value:function(t,r,n){try{if(t){var i,a=e.getBuffered(t),o=[];for(i=0;i<a.length;i++)o.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(o,r,n)}}catch(s){}return{len:0,start:r,end:r,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,r){t=Math.max(0,t),e.sort((function(e,t){var r=e.start-t.start;return r||t.end-e.end}));var n=[];if(r)for(var i=0;i<e.length;i++){var a=n.length;if(a){var o=n[a-1].end;e[i].start-o<r?e[i].end>o&&(n[a-1].end=e[i].end):n.push(e[i])}else n.push(e[i])}else n=e;for(var s,l=0,u=t,c=t,d=0;d<n.length;d++){var f=n[d].start,h=n[d].end;if(t+r>=f&&t<h)u=f,c=h,l=c-t;else if(t+r<f){s=f;break}}return{len:l,start:u||0,end:c||0,nextStart:s}}},{key:"getBuffered",value:function(e){try{return e.buffered}catch(t){return M.log("failed to get media.buffered",t),hr}}}]),e}(),vr=(0,p.default)((function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];(0,h.default)(this,e),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=gr(),this.buffering={audio:gr(),video:gr(),audiovideo:gr()},this.level=t,this.sn=r,this.id=n,this.size=i,this.part=a,this.partial=o}));function gr(){return{start:0,executeStart:0,executeEnd:0,end:0}}function mr(e,t){for(var r=null,n=0,i=e.length;n<i;n++){var a=e[n];if(a&&a.cc===t){r=a;break}}return r}function yr(e,t){if(e){var r=e.start+t;e.start=e.startPTS=r,e.endPTS=r+e.duration}}function br(e,t){for(var r=t.fragments,n=0,i=r.length;n<i;n++)yr(r[n],e);t.fragmentHint&&yr(t.fragmentHint,e),t.alignedSliding=!0}function Er(e,t,r){t&&(function(e,t,r){if(function(e,t,r){return!(!t.details||!(r.endCC>r.startCC||e&&e.cc<r.startCC))}(e,r,t)){var n=function(e,t){var r=e.fragments,n=t.fragments;if(n.length&&r.length){var i=mr(r,n[0].cc);if(i&&(!i||i.startPTS))return i;M.log("No frag in previous level to align on")}else M.log("No fragments to align")}(r.details,t);n&&w(n.start)&&(M.log("Adjusting PTS using last level due to CC increase within current level ".concat(t.url)),br(n.start,t))}}(e,r,t),!r.alignedSliding&&t.details&&function(e,t){if(!t.fragments.length||!e.hasProgramDateTime||!t.hasProgramDateTime)return;var r=t.fragments[0].programDateTime,n=e.fragments[0].programDateTime,i=(n-r)/1e3+t.fragments[0].start;i&&w(i)&&(M.log("Adjusting PTS using programDateTime delta ".concat(n-r,"ms, sliding:").concat(i.toFixed(3)," ").concat(e.url," ")),br(i,e))}(r,t.details),r.alignedSliding||!t.details||r.skippedSegments||Mt(t.details,r))}function Tr(e,t){if(e.hasProgramDateTime&&t.hasProgramDateTime){var r=e.fragments,n=t.fragments;if(r.length&&n.length){var i=Math.round(n.length/2)-1,a=n[i],o=mr(r,a.cc)||r[Math.round(r.length/2)-1],s=a.programDateTime,l=o.programDateTime;if(null!==s&&null!==l){var u=(l-s)/1e3-(o.start-a.start);br(u,e)}}}}var kr=function(){function e(t,r){(0,h.default)(this,e),this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=r}return(0,p.default)(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}(),Sr=function(){function e(t,r){(0,h.default)(this,e),this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=r}return(0,p.default)(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();var Ar=function(){function e(){(0,h.default)(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}return(0,p.default)(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],a=r[2],o=r[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)f[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[h]=g,t[g]=h;var m=f[h],y=f[m],b=f[y],E=257*f[g]^16843008*g;n[h]=E<<24|E>>>8,i[h]=E<<16|E>>>16,a[h]=E<<8|E>>>24,o[h]=E,E=16843009*b^65537*y^257*m^16843008*h,l[g]=E<<24|E>>>8,u[g]=E<<16|E>>>16,c[g]=E<<8|E>>>24,d[g]=E,h?(h=m^f[f[f[b^m]]],p^=f[f[p]]):h=p=1}}},{key:"expandKey",value:function(e){var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;while(n<t.length&&r)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,s,l,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),f=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],g=p[1],m=p[2],y=p[3];for(a=0;a<u;a++)a<i?s=c[a]=t[a]:(l=s,a%i===0?(l=l<<8|l>>>24,l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=h[a/i|0]<<24):i>6&&a%i===4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),c[a]=s=(c[a-i]^l)>>>0);for(o=0;o<u;o++)a=u-o,l=3&o?c[a]:c[a-4],d[o]=o<4||a<=4?l:v[f[l>>>24]]^g[f[l>>>16&255]]^m[f[l>>>8&255]]^y[f[255&l]],d[o]=d[o]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,r){var n,i,a,o,s,l,u,c,d,f,h,p,v,g,m=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,E=this.invSubMix,T=E[0],k=E[1],S=E[2],A=E[3],_=this.uint8ArrayToUint32Array_(r),w=_[0],L=_[1],I=_[2],D=_[3],R=new Int32Array(e),x=new Int32Array(R.length),P=this.networkToHostOrderSwap;while(t<R.length){for(d=P(R[t]),f=P(R[t+1]),h=P(R[t+2]),p=P(R[t+3]),s=d^y[0],l=p^y[1],u=h^y[2],c=f^y[3],v=4,g=1;g<m;g++)n=T[s>>>24]^k[l>>16&255]^S[u>>8&255]^A[255&c]^y[v],i=T[l>>>24]^k[u>>16&255]^S[c>>8&255]^A[255&s]^y[v+1],a=T[u>>>24]^k[c>>16&255]^S[s>>8&255]^A[255&l]^y[v+2],o=T[c>>>24]^k[s>>16&255]^S[l>>8&255]^A[255&u]^y[v+3],s=n,l=i,u=a,c=o,v+=4;n=b[s>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^y[v],i=b[l>>>24]<<24^b[u>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[v+1],a=b[u>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&l]^y[v+2],o=b[c>>>24]<<24^b[s>>16&255]<<16^b[l>>8&255]<<8^b[255&u]^y[v+3],x[t]=P(n^w),x[t+1]=P(o^L),x[t+2]=P(a^I),x[t+3]=P(i^D),w=d,L=f,I=h,D=p,t+=4}return x.buffer}}]),e}(),_r=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.removePKCS7Padding,i=void 0===n||n;if((0,h.default)(this,e),this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=t.enableSoftwareAES,this.removePKCS7Padding=i,i)try{var a=self.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(o){}null===this.subtle&&(this.useSoftware=!0)}return(0,p.default)(e,[{key:"destroy",value:function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}},{key:"isSync",value:function(){return this.useSoftware}},{key:"flush",value:function(){var e=this.currentResult,t=this.remainderData;if(!e||t)return this.reset(),null;var r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?function(e){var t=e.byteLength,r=t&&new DataView(e.buffer).getUint8(t-1);return r?ie(e,0,t-r):e}(r):r}},{key:"reset",value:function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}},{key:"decrypt",value:function(e,t,r){var n=this;return this.useSoftware?new Promise((function(i,a){n.softwareDecrypt(new Uint8Array(e),t,r);var o=n.flush();o?i(o.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,r)}},{key:"softwareDecrypt",value:function(e,t,r){var n=this.currentIV,i=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(e=Me(a,e),this.remainderData=null);var o=this.getValidChunk(e);if(!o.length)return null;n&&(r=n);var s=this.softwareDecrypter;s||(s=this.softwareDecrypter=new Ar),s.expandKey(t);var l=i;return this.currentResult=s.decrypt(o.buffer,0,r),this.currentIV=ie(o,-16).buffer,l||null}},{key:"webCryptoDecrypt",value:function(e,t,r){var n=this,i=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new Sr(i,t)),this.fastAesKey.expandKey().then((function(t){if(!i)return Promise.reject(new Error("web crypto not initialized"));n.logOnce("WebCrypto AES decrypt");var a=new kr(i,new Uint8Array(r));return a.decrypt(e.buffer,t)})).catch((function(i){return M.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, ".concat(i.name,": ").concat(i.message)),n.onWebCryptoError(e,t,r)}))}},{key:"onWebCryptoError",value:function(e,t,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,r);var n=this.flush();if(n)return n.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}},{key:"getValidChunk",value:function(e){var t=e,r=e.length-e.length%16;return r!==e.length&&(t=ie(e,0,r),this.remainderData=ie(e,r)),t}},{key:"logOnce",value:function(e){this.logEnabled&&(M.log("[decrypter]: ".concat(e)),this.logEnabled=!1)}}]),e}(),wr={toString:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="[".concat(e.start(n).toFixed(3),"-").concat(e.end(n).toFixed(3),"]");return t}},Lr={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},Ir=function(e){(0,u.default)(r,e);var t=y(r);function r(e,n,i,a,s){var l;return(0,h.default)(this,r),l=t.call(this),l.hls=void 0,l.fragPrevious=null,l.fragCurrent=null,l.fragmentTracker=void 0,l.transmuxer=null,l._state=Lr.STOPPED,l.playlistType=void 0,l.media=null,l.mediaBuffer=null,l.config=void 0,l.bitrateTest=!1,l.lastCurrentTime=0,l.nextLoadPosition=0,l.startPosition=0,l.startTimeOffset=null,l.loadedmetadata=!1,l.retryDate=0,l.levels=null,l.fragmentLoader=void 0,l.keyLoader=void 0,l.levelLastLoaded=null,l.startFragRequested=!1,l.decrypter=void 0,l.initPTS=[],l.onvseeking=null,l.onvended=null,l.logPrefix="",l.log=void 0,l.warn=void 0,l.playlistType=s,l.logPrefix=a,l.log=M.log.bind(M,"".concat(a,":")),l.warn=M.warn.bind(M,"".concat(a,":")),l.hls=e,l.fragmentLoader=new sr(e.config),l.keyLoader=i,l.fragmentTracker=n,l.config=e.config,l.decrypter=new _r(e.config),e.on(L.MANIFEST_LOADED,l.onManifestLoaded,(0,o.default)(l)),l}return(0,p.default)(r,[{key:"doTick",value:function(){this.onTickEnd()}},{key:"onTickEnd",value:function(){}},{key:"startLoad",value:function(e){}},{key:"stopLoad",value:function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var e=this.fragCurrent;null!=e&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Lr.STOPPED}},{key:"_streamEnded",value:function(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;var r=t.partList;if(null!=r&&r.length){var n=r[r.length-1],i=pr.isBuffered(this.media,n.start+n.duration/2);return i}var a=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(a)}},{key:"getLevelDetails",value:function(){var e;if(this.levels&&null!==this.levelLastLoaded)return null==(e=this.levels[this.levelLastLoaded])?void 0:e.details}},{key:"onMediaAttached",value:function(e,t){var r=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.state===Lr.STOPPED&&this.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.config,t=this.fragCurrent,r=this.media,n=this.mediaBuffer,i=this.state,a=r?r.currentTime:0,o=pr.bufferInfo(n||r,a,e.maxBufferHole);if(this.log("media seeking to ".concat(w(a)?a.toFixed(3):a,", state: ").concat(i)),this.state===Lr.ENDED)this.resetLoadingState();else if(t){var s=e.maxFragLookUpTolerance,l=t.start-s,u=t.start+t.duration+s;if(!o.len||u<o.start||l>o.end){var c=a>u;(a<l||c)&&(c&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),this.loadedmetadata||o.len||(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoaded",value:function(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}},{key:"onHandlerDestroying",value:function(){this.stopLoad(),(0,l.default)((0,d.default)(r.prototype),"onHandlerDestroying",this).call(this)}},{key:"onHandlerDestroyed",value:function(){this.state=Lr.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,(0,l.default)((0,d.default)(r.prototype),"onHandlerDestroyed",this).call(this)}},{key:"loadFragment",value:function(e,t,r){this._loadFragForPlayback(e,t,r)}},{key:"_loadFragForPlayback",value:function(e,t,r){var n=this;this._doFragLoad(e,t,r,(function(t){if(n.fragContextChanged(e))return n.warn("Fragment ".concat(e.sn).concat(t.part?" p: "+t.part.index:""," of level ").concat(e.level," was dropped during download.")),void n.fragmentTracker.removeFragment(e);e.stats.chunkCount++,n._handleFragmentLoadProgress(t)})).then((function(t){if(t){var r=n.state;n.fragContextChanged(e)?(r===Lr.FRAG_LOADING||!n.fragCurrent&&r===Lr.PARSING)&&(n.fragmentTracker.removeFragment(e),n.state=Lr.IDLE):("payload"in t&&(n.log("Loaded fragment ".concat(e.sn," of level ").concat(e.level)),n.hls.trigger(L.FRAG_LOADED,t)),n._handleFragmentLoadComplete(t))}})).catch((function(t){n.state!==Lr.STOPPED&&n.state!==Lr.ERROR&&(n.warn(t),n.resetFragmentLoading(e))}))}},{key:"clearTrackerIfNeeded",value:function(e){var t,r=this.fragmentTracker,n=r.getState(e);if(n===rr.APPENDING){var i=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,i),o=Math.max(e.duration,a?a.len:this.config.maxBufferLength);this.reduceMaxBufferLength(o)&&r.removeFragment(e)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===rr.PARTIAL&&r.removeFragment(e))}},{key:"flushMainBuffer",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e-t){var n={startOffset:e,endOffset:t,type:r};this.hls.trigger(L.BUFFER_FLUSHING,n)}}},{key:"_loadInitSegment",value:function(e,t){var r=this;this._doFragLoad(e,t).then((function(t){if(!t||r.fragContextChanged(e)||!r.levels)throw new Error("init load aborted");return t})).then((function(t){var n=r.hls,i=t.payload,a=e.decryptdata;if(i&&i.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var o=self.performance.now();return r.decrypter.decrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).catch((function(t){throw n.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((function(r){var i=self.performance.now();return n.trigger(L.FRAG_DECRYPTED,{frag:e,payload:r,stats:{tstart:o,tdecrypt:i}}),t.payload=r,t}))}return t})).then((function(n){var i=r.fragCurrent,a=r.hls,o=r.levels;if(!o)throw new Error("init load aborted, missing levels");var s=e.stats;r.state=Lr.IDLE,t.fragmentError=0,e.data=new Uint8Array(n.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),n.frag===i&&a.trigger(L.FRAG_BUFFERED,{stats:s,frag:i,part:null,id:e.type}),r.tick()})).catch((function(t){r.state!==Lr.STOPPED&&r.state!==Lr.ERROR&&(r.warn(t),r.resetFragmentLoading(e))}))}},{key:"fragContextChanged",value:function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId}},{key:"fragBufferedComplete",value:function(e,t){var r,n,i,a,o=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered ".concat(e.type," sn: ").concat(e.sn).concat(t?" part: "+t.index:""," of ").concat(this.playlistType===ht.MAIN?"level":"track"," ").concat(e.level," (frag:[").concat((null!=(r=e.startPTS)?r:NaN).toFixed(3),"-").concat((null!=(n=e.endPTS)?n:NaN).toFixed(3),"] > buffer:").concat(o?wr.toString(pr.getBuffered(o)):"(detached)",")")),this.state=Lr.IDLE,o&&(!this.loadedmetadata&&e.type==ht.MAIN&&o.buffered.length&&(null==(i=this.fragCurrent)?void 0:i.sn)===(null==(a=this.fragPrevious)?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}},{key:"seekToStartPos",value:function(){}},{key:"_handleFragmentLoadComplete",value:function(e){var t=this.transmuxer;if(t){var r=e.frag,n=e.part,i=e.partsLoaded,a=!i||0===i.length||i.some((function(e){return!e})),o=new vr(r.level,r.sn,r.stats.chunkCount+1,0,n?n.index:-1,!a);t.flush(o)}}},{key:"_handleFragmentLoadProgress",value:function(e){}},{key:"_doFragLoad",value:function(e,t){var r,n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0,s=null==t?void 0:t.details;if(!this.levels||!s)throw new Error("frag load aborted, missing level".concat(s?"":" detail","s"));var l=null;if(!e.encrypted||null!=(r=e.decryptdata)&&r.key?!e.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(e,s.encryptedFragments):(this.log("Loading key for ".concat(e.sn," of [").concat(s.startSN,"-").concat(s.endSN,"], ").concat("[stream-controller]"===this.logPrefix?"level":"track"," ").concat(e.level)),this.state=Lr.KEY_LOADING,this.fragCurrent=e,l=this.keyLoader.load(e).then((function(e){if(!n.fragContextChanged(e.frag))return n.hls.trigger(L.KEY_LOADED,e),n.state===Lr.KEY_LOADING&&(n.state=Lr.IDLE),e})),this.hls.trigger(L.KEY_LOADING,{frag:e}),null===this.fragCurrent&&(l=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),i=Math.max(e.start,i||0),this.config.lowLatencyMode&&"initSegment"!==e.sn){var u=s.partList;if(u&&o){i>e.end&&s.fragmentHint&&(e=s.fragmentHint);var c=this.getNextPart(u,e,i);if(c>-1){var d,f=u[c];return this.log("Loading part sn: ".concat(e.sn," p: ").concat(f.index," cc: ").concat(e.cc," of playlist [").concat(s.startSN,"-").concat(s.endSN,"] parts [0-").concat(c,"-").concat(u.length-1,"] ").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(e.level,", target: ").concat(parseFloat(i.toFixed(3)))),this.nextLoadPosition=f.start+f.duration,this.state=Lr.FRAG_LOADING,d=l?l.then((function(r){return!r||n.fragContextChanged(r.frag)?null:n.doFragPartsLoad(e,f,t,o)})).catch((function(e){return n.handleFragLoadError(e)})):this.doFragPartsLoad(e,f,t,o).catch((function(e){return n.handleFragLoadError(e)})),this.hls.trigger(L.FRAG_LOADING,{frag:e,part:f,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):d}if(!e.url||this.loadedEndOfParts(u,i))return Promise.resolve(null)}}this.log("Loading fragment ".concat(e.sn," cc: ").concat(e.cc," ").concat(s?"of ["+s.startSN+"-"+s.endSN+"] ":"").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(e.level,", target: ").concat(parseFloat(i.toFixed(3)))),w(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Lr.FRAG_LOADING;var h,p=this.config.progressive;return h=p&&l?l.then((function(t){return!t||n.fragContextChanged(null==t?void 0:t.frag)?null:n.fragmentLoader.load(e,o)})).catch((function(e){return n.handleFragLoadError(e)})):Promise.all([this.fragmentLoader.load(e,p?o:void 0),l]).then((function(e){var t=(0,a.default)(e,1),r=t[0];return!p&&r&&o&&o(r),r})).catch((function(e){return n.handleFragLoadError(e)})),this.hls.trigger(L.FRAG_LOADING,{frag:e,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):h}},{key:"doFragPartsLoad",value:function(e,t,r,n){var i=this;return new Promise((function(a,o){var s,l=[],u=null==(s=r.details)?void 0:s.partList;(function t(s){i.fragmentLoader.loadPart(e,s,n).then((function(n){l[s.index]=n;var o=n.part;i.hls.trigger(L.FRAG_LOADED,n);var c=Nt(r,e.sn,s.index+1)||Bt(u,e.sn,s.index+1);if(!c)return a({frag:e,part:o,partsLoaded:l});t(c)})).catch(o)})(t)}))}},{key:"handleFragLoadError",value:function(e){if("data"in e){var t=e.data;e.data&&t.details===D.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(L.ERROR,t)}else this.hls.trigger(L.ERROR,{type:I.OTHER_ERROR,details:D.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}},{key:"_handleTransmuxerFlush",value:function(e){var t=this.getCurrentContext(e);if(t&&this.state===Lr.PARSING){var r=t.frag,n=t.part,i=t.level,a=self.performance.now();r.stats.parsing.end=a,n&&(n.stats.parsing.end=a),this.updateLevelTiming(r,n,i,e.partial)}else this.fragCurrent||this.state===Lr.STOPPED||this.state===Lr.ERROR||(this.state=Lr.IDLE)}},{key:"getCurrentContext",value:function(e){var t=this.levels,r=this.fragCurrent,n=e.level,i=e.sn,a=e.part;if(null==t||!t[n])return this.warn("Levels object was unset while buffering fragment ".concat(i," of level ").concat(n,". The current chunk will not be buffered.")),null;var o=t[n],s=a>-1?Nt(o,i,a):null,l=s?s.fragment:function(e,t,r){if(null==e||!e.details)return null;var n=e.details,i=n.fragments[t-n.startSN];return i||(i=n.fragmentHint,i&&i.sn===t?i:t<n.startSN&&r&&r.sn===t?r:null)}(o,i,r);return l?(r&&r!==l&&(l.stats=r.stats),{frag:l,part:s,level:o}):null}},{key:"bufferFragmentData",value:function(e,t,r,n){var i;if(e&&this.state===Lr.PARSING){var a=e.data1,o=e.data2,s=a;if(a&&o&&(s=Me(a,o)),null!=(i=s)&&i.length){var l={type:e.type,frag:t,part:r,chunkMeta:n,parent:t.type,data:s};this.hls.trigger(L.BUFFER_APPENDING,l),e.dropped&&e.independent&&!r&&this.flushBufferGap(t)}}}},{key:"flushBufferGap",value:function(e){var t=this.media;if(t)if(pr.isBuffered(t,t.currentTime)){var r=t.currentTime,n=pr.bufferInfo(t,r,0),i=e.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),o=Math.max(Math.min(e.start-a,n.end-a),r+a);e.start-o>a&&this.flushMainBuffer(o,e.start)}else this.flushMainBuffer(0,e.start)}},{key:"getFwdBufferInfo",value:function(e,t){var r=this.getLoadPosition();return w(r)?this.getFwdBufferInfoAtPos(e,r,t):null}},{key:"getFwdBufferInfoAtPos",value:function(e,t,r){var n=this.config.maxBufferHole,i=pr.bufferInfo(e,t,n);if(0===i.len&&void 0!==i.nextStart){var a=this.fragmentTracker.getBufferedFrag(t,r);if(a&&i.nextStart<a.end)return pr.bufferInfo(e,t,Math.max(i.nextStart,n))}return i}},{key:"getMaxBufferLength",value:function(e){var t,r=this.config;return t=e?Math.max(8*r.maxBufferSize/e,r.maxBufferLength):r.maxBufferLength,Math.min(t,r.maxMaxBufferLength)}},{key:"reduceMaxBufferLength",value:function(e){var t=this.config,r=e||t.maxBufferLength;return t.maxMaxBufferLength>=r&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to ".concat(t.maxMaxBufferLength,"s")),!0)}},{key:"getAppendedFrag",value:function(e){var t=this.fragmentTracker.getAppendedFrag(e,ht.MAIN);return t&&"fragment"in t?t.fragment:t}},{key:"getNextFragment",value:function(e,t){var r=t.fragments,n=r.length;if(!n)return null;var i,a=this.config,o=r[0].start;if(t.live){var s=a.initialLiveManifestSize;if(n<s)return this.warn("Not enough fragments to start playback (have: ".concat(n,", need: ").concat(s,")")),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(i=this.getInitialLiveFragment(t,r),this.startPosition=i?this.hls.liveSyncPosition||i.start:e)}else e<=o&&(i=r[0]);if(!i){var l=a.lowLatencyMode?t.partEnd:t.fragmentEnd;i=this.getFragmentAtPosition(e,l,t)}return this.mapToInitFragWhenRequired(i)}},{key:"isLoopLoading",value:function(e,t){var r=this.fragmentTracker.getState(e);return(r===rr.OK||r===rr.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}},{key:"getNextFragmentLoopLoading",value:function(e,t,r,n,i){var a=e.gap,o=this.getNextFragment(this.nextLoadPosition,t);if(null===o)return o;if(e=o,a&&e&&!e.gap&&r.nextStart){var s=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,n);if(null!==s&&r.len+s.len>=i)return this.log('buffer full after gaps in "'.concat(n,'" playlist starting at sn: ').concat(e.sn)),null}return e}},{key:"mapToInitFragWhenRequired",value:function(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment}},{key:"getNextPart",value:function(e,t,r){for(var n=-1,i=!1,a=!0,o=0,s=e.length;o<s;o++){var l=e[o];if(a=a&&!l.independent,n>-1&&r<l.start)break;var u=l.loaded;u?n=-1:(i||l.independent||a)&&l.fragment===t&&(n=o),i=u}return n}},{key:"loadedEndOfParts",value:function(e,t){var r=e[e.length-1];return r&&t>r.start&&r.loaded}},{key:"getInitialLiveFragment",value:function(e,t){var r=this.fragPrevious,n=null;if(r){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: ".concat(r.programDateTime)),n=function(e,t,r){if(null===t||!Array.isArray(e)||!e.length||!w(t))return null;var n=e[0].programDateTime;if(t<(n||0))return null;var i=e[e.length-1].endProgramDateTime;if(t>=(i||0))return null;r=r||0;for(var a=0;a<e.length;++a){var o=e[a];if(zt(t,r,o))return o}return null}(t,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){var i=r.sn+1;if(i>=e.startSN&&i<=e.endSN){var a=t[i-e.startSN];r.cc===a.cc&&(n=a,this.log("Live playlist, switching playlist, load frag with next SN: ".concat(n.sn)))}n||(n=function(e,t){return Kt.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}(t,r.cc),n&&this.log("Live playlist, switching playlist, load frag with same CC: ".concat(n.sn)))}}else{var o=this.hls.liveSyncPosition;null!==o&&(n=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return n}},{key:"getFragmentAtPosition",value:function(e,t,r){var n,i=this.config,a=this.fragPrevious,o=r.fragments,s=r.endSN,l=r.fragmentHint,u=i.maxFragLookUpTolerance,c=r.partList,d=!!(i.lowLatencyMode&&null!=c&&c.length&&l);if(d&&l&&!this.bitrateTest&&(o=o.concat(l),s=l.sn),e<t){var f=e>t-u?0:u;n=$t(a,o,e,f)}else n=o[o.length-1];if(n){var h=n.sn-r.startSN,p=this.fragmentTracker.getState(n);if((p===rr.OK||p===rr.PARTIAL&&n.gap)&&(a=n),a&&n.sn===a.sn&&(!d||c[0].fragment.sn>n.sn)){var v=a&&n.level===a.level;if(v){var g=o[h+1];n=n.sn<s&&this.fragmentTracker.getState(g)!==rr.OK?g:null}}}return n}},{key:"synchronizeToLiveEdge",value:function(e){var t=this.config,r=this.media;if(r){var n=this.hls.liveSyncPosition,i=r.currentTime,a=e.fragments[0].start,o=e.edge,s=i>=a-t.maxFragLookUpTolerance&&i<=o;if(null!==n&&r.duration>n&&(i<n||!s)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&r.readyState<4||i<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=n),r.readyState&&(this.warn("Playback: ".concat(i.toFixed(3)," is located too far from the end of live sliding playlist: ").concat(o,", reset currentTime to : ").concat(n.toFixed(3))),r.currentTime=n))}}}},{key:"alignPlaylists",value:function(e,t){var r=this.levels,n=this.levelLastLoaded,i=this.fragPrevious,a=null!==n?r[n]:null,o=e.fragments.length;if(!o)return this.warn("No fragments in live playlist"),0;var s=e.fragments[0].start,l=!t,u=e.alignedSliding&&w(s);if(l||!u&&!s){Er(i,a,e);var c=e.fragments[0].start;return this.log("Live playlist sliding: ".concat(c.toFixed(2)," start-sn: ").concat(t?t.startSN:"na","->").concat(e.startSN," prev-sn: ").concat(i?i.sn:"na"," fragments: ").concat(o)),c}return s}},{key:"waitForCdnTuneIn",value:function(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)}},{key:"setStartPosition",value:function(e,t){var r=this.startPosition;if(r<t&&(r=-1),-1===r||-1===this.lastCurrentTime){var n=null!==this.startTimeOffset,i=n?this.startTimeOffset:e.startTimeOffset;null!==i&&w(i)?(r=t+i,i<0&&(r+=e.totalduration),r=Math.min(Math.max(t,r),t+e.totalduration),this.log("Start time offset ".concat(i," found in ").concat(n?"multivariant":"media"," playlist, adjust startPosition to ").concat(r)),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||t:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r}},{key:"getLoadPosition",value:function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}},{key:"handleFragLoadAborted",value:function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment ".concat(e.sn).concat(t?" part "+t.index:""," of level ").concat(e.level," was aborted")),this.resetFragmentLoading(e))}},{key:"resetFragmentLoading",value:function(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===Lr.FRAG_LOADING_WAITING_RETRY)||(this.state=Lr.IDLE)}},{key:"onFragmentOrKeyLoadError",value:function(e,t){if(t.chunkMeta&&!t.frag){var r=this.getCurrentContext(t.chunkMeta);r&&(t.frag=r.frag)}var n=t.frag;if(n&&n.type===e&&this.levels)if(this.fragContextChanged(n)){var i;this.warn("Frag load error must match current frag to retry ".concat(n.url," > ").concat(null==(i=this.fragCurrent)?void 0:i.url))}else{var a=t.details===D.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(n,!0);var o=t.errorAction,s=o||{},l=s.action,u=s.retryCount,c=void 0===u?0:u,d=s.retryConfig;if(o&&l===Wt.RetryRequest&&d){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var f=Gt(d,c);this.warn("Fragment ".concat(n.sn," of ").concat(e," ").concat(n.level," errored with ").concat(t.details,", retrying loading ").concat(c+1,"/").concat(d.maxNumRetry," in ").concat(f,"ms")),o.resolved=!0,this.retryDate=self.performance.now()+f,this.state=Lr.FRAG_LOADING_WAITING_RETRY}else d&&o?(this.resetFragmentErrors(e),c<d.maxNumRetry?a||(o.resolved=!0):M.warn("".concat(t.details," reached or exceeded max retry (").concat(c,")"))):this.state=Lr.ERROR;this.tickImmediate()}}},{key:"reduceLengthAndFlushBuffer",value:function(e){if(this.state===Lr.PARSING||this.state===Lr.PARSED){var t=e.parent,r=this.getFwdBufferInfo(this.mediaBuffer,t),n=r&&r.len>.5;n&&this.reduceMaxBufferLength(r.len);var i=!n;return i&&this.warn("Buffer full error while media.currentTime is not buffered, flush ".concat(t," buffer")),e.frag&&(this.fragmentTracker.removeFragment(e.frag),this.nextLoadPosition=e.frag.start),this.resetLoadingState(),i}return!1}},{key:"resetFragmentErrors",value:function(e){e===ht.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Lr.STOPPED&&(this.state=Lr.IDLE)}},{key:"afterBufferFlushed",value:function(e,t,r){if(e){var n=pr.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,n,r),this.state===Lr.ENDED&&this.resetLoadingState()}}},{key:"resetLoadingState",value:function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Lr.IDLE}},{key:"resetStartWhenNotLoaded",value:function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}},{key:"resetWhenMissingContext",value:function(e){this.warn("The loading context changed while buffering fragment ".concat(e.sn," of level ").concat(e.level,". This chunk will not be buffered.")),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(e.level),this.resetLoadingState()}},{key:"removeUnbufferedFrags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}},{key:"updateLevelTiming",value:function(e,t,r,n){var i,a=this,o=r.details;if(o){var s=Object.keys(e.elementaryStreams).reduce((function(t,i){var s=e.elementaryStreams[i];if(s){var l=s.endPTS-s.startPTS;if(l<=0)return a.warn("Could not parse fragment ".concat(e.sn," ").concat(i," duration reliably (").concat(l,")")),t||!1;var u=n?0:Ot(o,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return a.hls.trigger(L.LEVEL_PTS_UPDATED,{details:o,level:r,drift:u,type:i,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1);if(s)r.fragmentError=0;else if(null===(null==(i=this.transmuxer)?void 0:i.error)){var l=new Error("Found no media in fragment ".concat(e.sn," of level ").concat(r.id," resetting transmuxer to fallback to playlist timing"));if(this.warn(l.message),this.hls.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:"Found no media in msn ".concat(e.sn,' of level "').concat(r.url,'"')}),!this.hls)return;this.resetTransmuxer()}this.state=Lr.PARSED,this.hls.trigger(L.FRAG_PARSED,{frag:e,part:t})}else this.warn("level.details undefined")}},{key:"resetTransmuxer",value:function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}},{key:"recoverWorkerError",value:function(e){"demuxerWorker"===e.event&&(this.resetTransmuxer(),this.resetLoadingState())}},{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log("".concat(t,"->").concat(e)))}}]),r}(fr);function Dr(){return self.SourceBuffer||self.WebKitSourceBuffer}function Rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}var xr=function(){function e(){(0,h.default)(this,e),this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}return(0,p.default)(e,[{key:"resetInitSegment",value:function(e,t,r,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}},{key:"resetTimeStamp",value:function(e){this.initPTS=e,this.resetContiguity()}},{key:"resetContiguity",value:function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}},{key:"canParse",value:function(e,t){return!1}},{key:"appendFrame",value:function(e,t,r){}},{key:"demux",value:function(e,t){this.cachedData&&(e=Me(this.cachedData,e),this.cachedData=null);var r,n=le(e,0),i=n?n.length:0,a=this._audioTrack,o=this._id3Track,s=n?function(e){for(var t=he(e),r=0;r<t.length;r++){var n=t[r];if(de(n))return ye(n)}}(n):void 0,l=e.length;(null===this.basePTS||0===this.frameIndex&&w(s))&&(this.basePTS=Pr(s,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),n&&n.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Tt.audioId3,duration:Number.POSITIVE_INFINITY});while(i<l){if(this.canParse(e,i)){var u=this.appendFrame(a,e,i);u?(this.frameIndex++,this.lastPTS=u.sample.pts,i+=u.length,r=i):i=l}else ce(e,i)?(n=le(e,i),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:Tt.audioId3,duration:Number.POSITIVE_INFINITY}),i+=n.length,r=i):i++;if(i===l&&r!==l){var c=ie(e,r);this.cachedData?this.cachedData=Me(this.cachedData,c):this.cachedData=c}}return{audioTrack:a,videoTrack:Rr(),id3Track:o,textTrack:Rr()}}},{key:"demuxSampleAes",value:function(e,t,r){return Promise.reject(new Error("[".concat(this,"] This demuxer does not support Sample-AES decryption")))}},{key:"flush",value:function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Rr(),id3Track:this._id3Track,textTrack:Rr()}}},{key:"destroy",value:function(){}}]),e}(),Pr=function(e,t,r){if(w(e))return 90*e;var n=r?9e4*r.baseTime/r.timescale:0;return 9e4*t+n};function Or(e,t){return 255===e[t]&&240===(246&e[t+1])}function Cr(e,t){return 1&e[t+1]?7:9}function Mr(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function Fr(e,t){return t+1<e.length&&Or(e,t)}function Nr(e,t){if(Fr(e,t)){var r=Cr(e,t);if(t+r>=e.length)return!1;var n=Mr(e,t);if(n<=r)return!1;var i=t+n;return i===e.length||Fr(e,i)}return!1}function Br(e,t,r,n,i){if(!e.samplerate){var a=function(e,t,r,n){var i,a,o,s,l=navigator.userAgent.toLowerCase(),u=n,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=1+((192&t[r+2])>>>6);var d=(60&t[r+2])>>>2;if(!(d>c.length-1))return o=(1&t[r+2])<<2,o|=(192&t[r+3])>>>6,M.log("manifest codec:".concat(n,", ADTS type:").concat(i,", samplingIndex:").concat(d)),/firefox/i.test(l)?d>=6?(i=5,s=new Array(4),a=d-3):(i=2,s=new Array(2),a=d):-1!==l.indexOf("android")?(i=2,s=new Array(2),a=d):(i=5,s=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&d>=6?a=d-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(d>=6&&1===o||/vivaldi/i.test(l))||!n&&1===o)&&(i=2,s=new Array(2)),a=d)),s[0]=i<<3,s[0]|=(14&d)>>1,s[1]|=(1&d)<<7,s[1]|=o<<3,5===i&&(s[1]|=(14&a)>>1,s[2]=(1&a)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:c[d],channelCount:o,codec:"mp4a.40."+i,manifestCodec:u};e.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:".concat(d)})}(t,r,n,i);if(!a)return;e.config=a.config,e.samplerate=a.samplerate,e.channelCount=a.channelCount,e.codec=a.codec,e.manifestCodec=a.manifestCodec,M.log("parsed codec:".concat(e.codec,", rate:").concat(a.samplerate,", channels:").concat(a.channelCount))}}function Ur(e){return 9216e4/e}function jr(e,t,r,n,i){var a,o=Ur(e.samplerate),s=n+i*o,l=function(e,t){var r=Cr(e,t);if(t+r<=e.length){var n=Mr(e,t)-r;if(n>0)return{headerLength:r,frameLength:n}}}(t,r);if(l){var u=l.frameLength,c=l.headerLength,d=c+u,f=Math.max(0,r+d-t.length);f?(a=new Uint8Array(d-c),a.set(t.subarray(r+c,t.length),0)):a=t.subarray(r+c,r+d);var h={unit:a,pts:s};return f||e.samples.push(h),{sample:h,length:d,missing:f}}var p=t.length-r;a=new Uint8Array(p),a.set(t.subarray(r,t.length),0);var v={unit:a,pts:s};return{sample:v,length:p,missing:-1}}var Gr=function(e){(0,u.default)(r,e);var t=y(r);function r(e,n){var i;return(0,h.default)(this,r),i=t.call(this),i.observer=void 0,i.config=void 0,i.observer=e,i.config=n,i}return(0,p.default)(r,[{key:"resetInitSegment",value:function(e,t,n,i){(0,l.default)((0,d.default)(r.prototype),"resetInitSegment",this).call(this,e,t,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&Or(e,t)&&Mr(e,t)<=e.length-t}(e,t)}},{key:"appendFrame",value:function(e,t,r){Br(e,this.observer,t,r,e.manifestCodec);var n=jr(e,t,r,this.basePTS,this.frameIndex);if(n&&0===n.missing)return n}}],[{key:"probe",value:function(e){if(!e)return!1;for(var t=le(e,0)||[],r=t.length,n=e.length;r<n;r++)if(Nr(e,r))return M.log("ADTS sync word found !"),!0;return!1}}]),r}(xr),Hr=/\/emsg[-/]ID3/i,Vr=function(){function e(t,r){(0,h.default)(this,e),this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=r}return(0,p.default)(e,[{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(e,t,r,n){var i=this.videoTrack=Rr("video",1),a=this.audioTrack=Rr("audio",1),o=this.txtTrack=Rr("text",1);if(this.id3Track=Rr("id3",1),this.timeOffset=0,null!=e&&e.byteLength){var s=Pe(e);if(s.video){var l=s.video,u=l.id,c=l.timescale,d=l.codec;i.id=u,i.timescale=o.timescale=c,i.codec=d}if(s.audio){var f=s.audio,h=f.id,p=f.timescale,v=f.codec;a.id=h,a.timescale=p,a.codec=v}o.id=Ae.text,i.sampleDuration=0,i.duration=a.duration=n}}},{key:"resetContiguity",value:function(){this.remainderData=null}},{key:"demux",value:function(e,t){this.timeOffset=t;var r=e,n=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Me(this.remainderData,e));var a=function(e){var t={valid:null,remainder:null},r=Re(e,["moof"]);if(!r)return t;if(r.length<2)return t.remainder=e,t;var n=r[r.length-1];return t.valid=ie(e,0,n.byteOffset-8),t.remainder=ie(e,n.byteOffset-8),t}(r);this.remainderData=a.remainder,n.samples=a.valid||new Uint8Array}else n.samples=r;var o=this.extractID3Track(n,t);return i.samples=Fe(t,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}},{key:"flush",value:function(){var e=this.timeOffset,t=this.videoTrack,r=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var n=this.extractID3Track(t,this.timeOffset);return r.samples=Fe(e,t),{videoTrack:t,audioTrack:Rr(),id3Track:n,textTrack:Rr()}}},{key:"extractID3Track",value:function(e,t){var r=this.id3Track;if(e.samples.length){var n=Re(e.samples,["emsg"]);n&&n.forEach((function(e){var n=function(e){var t=e[0],r="",n="",i=0,a=0,o=0,s=0,l=0,u=0;if(0===t){while("\0"!==_e(e.subarray(u,u+1)))r+=_e(e.subarray(u,u+1)),u+=1;r+=_e(e.subarray(u,u+1)),u+=1;while("\0"!==_e(e.subarray(u,u+1)))n+=_e(e.subarray(u,u+1)),u+=1;n+=_e(e.subarray(u,u+1)),u+=1,i=Le(e,12),a=Le(e,16),s=Le(e,20),l=Le(e,24),u=28}else if(1===t){u+=4,i=Le(e,u),u+=4;var c=Le(e,u);u+=4;var d=Le(e,u);u+=4,o=Math.pow(2,32)*c+d,Number.isSafeInteger(o)||(o=Number.MAX_SAFE_INTEGER,M.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=Le(e,u),u+=4,l=Le(e,u),u+=4;while("\0"!==_e(e.subarray(u,u+1)))r+=_e(e.subarray(u,u+1)),u+=1;r+=_e(e.subarray(u,u+1)),u+=1;while("\0"!==_e(e.subarray(u,u+1)))n+=_e(e.subarray(u,u+1)),u+=1;n+=_e(e.subarray(u,u+1)),u+=1}var f=e.subarray(u,e.byteLength);return{schemeIdUri:r,value:n,timeScale:i,presentationTime:o,presentationTimeDelta:a,eventDuration:s,id:l,payload:f}}(e);if(Hr.test(n.schemeIdUri)){var i=w(n.presentationTime)?n.presentationTime/n.timeScale:t+n.presentationTimeDelta/n.timeScale,a=4294967295===n.eventDuration?Number.POSITIVE_INFINITY:n.eventDuration/n.timeScale;a<=.001&&(a=Number.POSITIVE_INFINITY);var o=n.payload;r.samples.push({data:o,len:o.byteLength,dts:i,pts:i,type:Tt.emsg,duration:a})}}))}return r}},{key:"demuxSampleAes",value:function(e,t,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){return e=e.length>16384?e.subarray(0,16384):e,Re(e,["moof"]).length>0}}]),e}(),Kr=null,$r=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Yr=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],zr=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Wr=[0,1,1,4];function Qr(e,t,r,n,i){if(!(r+24>t.length)){var a=qr(t,r);if(a&&r+a.frameLength<=t.length){var o=9e4*a.samplesPerFrame/a.sampleRate,s=n+i*o,l={unit:t.subarray(r,r+a.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(l),{sample:l,length:a.frameLength,missing:0}}}}function qr(e,t){var r=e[t+1]>>3&3,n=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==r&&0!==i&&15!==i&&3!==a){var o=e[t+2]>>1&1,s=e[t+3]>>6,l=3===r?3-n:3===n?3:4,u=1e3*$r[14*l+i-1],c=3===r?0:2===r?1:2,d=Yr[3*c+a],f=3===s?1:2,h=zr[r][n],p=Wr[n],v=8*h*p,g=Math.floor(h*u/d+o)*p;if(null===Kr){var m=navigator.userAgent||"",y=m.match(/Chrome\/(\d+)/i);Kr=y?parseInt(y[1]):0}var b=!!Kr&&Kr<=87;return b&&2===n&&u>=224e3&&0===s&&(e[t+3]=128|e[t+3]),{sampleRate:d,channelCount:f,frameLength:g,samplesPerFrame:v}}}function Xr(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])}function Jr(e,t){return t+1<e.length&&Xr(e,t)}function Zr(e,t){if(t+1<e.length&&Xr(e,t)){var r=qr(e,t),n=4;null!=r&&r.frameLength&&(n=r.frameLength);var i=t+n;return i===e.length||Jr(e,i)}return!1}var en=function(){function e(t){(0,h.default)(this,e),this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return(0,p.default)(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(e){var t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;if(e>32&&M.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return t=e-t,t>0&&this.bitsAvailable?r<<t|this.readBits(t):r}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){for(var t,r=8,n=8,i=0;i<e;i++)0!==n&&(t=this.readEG(),n=(r+t+256)%256),r=0===n?r:n}},{key:"readSPS",value:function(){var e,t,r,n=0,i=0,a=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var v=s();if(l(5),d(3),s(),h(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var g=u();if(3===g&&d(1),h(),h(),d(1),c())for(t=3!==g?8:12,r=0;r<t;r++)c()&&p(r<6?16:64)}h();var m=u();if(0===m)u();else if(1===m)for(d(1),f(),f(),e=u(),r=0;r<e;r++)f();h(),d(1);var y=u(),b=u(),E=l(1);0===E&&d(1),d(1),c()&&(n=u(),i=u(),a=u(),o=u());var T=[1,1];if(c()&&c()){var k=s();switch(k){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[s()<<8|s(),s()<<8|s()];break}}return{width:Math.ceil(16*(y+1)-2*n-2*i),height:(2-E)*(b+1)*16-(E?2:4)*(a+o),pixelRatio:T}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}(),tn=function(){function e(t,r,n){(0,h.default)(this,e),this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new _r(r,{removePKCS7Padding:!1})}return(0,p.default)(e,[{key:"decryptBuffer",value:function(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}},{key:"decryptAacSample",value:function(e,t,r){var n=this,i=e[t].unit;if(!(i.length<=16)){var a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(o).then((function(a){var o=new Uint8Array(a);i.set(o,16),n.decrypter.isSync()||n.decryptAacSamples(e,t+1,r)}))}}},{key:"decryptAacSamples",value:function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,r),!this.decrypter.isSync()))return}}},{key:"getAvcEncryptedData",value:function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),n=0,i=32;i<e.length-16;i+=160,n+=16)r.set(e.subarray(i,i+16),n);return r}},{key:"getAvcDecryptedUnit",value:function(e,t){for(var r=new Uint8Array(t),n=0,i=32;i<e.length-16;i+=160,n+=16)e.set(r.subarray(n,n+16),i);return e}},{key:"decryptAvcSample",value:function(e,t,r,n,i){var a=this,o=Ue(i.data),s=this.getAvcEncryptedData(o);this.decryptBuffer(s.buffer).then((function(s){i.data=a.getAvcDecryptedUnit(o,s),a.decrypter.isSync()||a.decryptAvcSamples(e,t,r+1,n)}))}},{key:"decryptAvcSamples",value:function(e,t,r,n){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,r=0){if(t>=e.length)return void n();for(var i=e[t].units;;r++){if(r>=i.length)break;var a=i[r];if(!(a.data.length<=48||1!==a.type&&5!==a.type)&&(this.decryptAvcSample(e,t,r,n,a),!this.decrypter.isSync()))return}}}}]),e}(),rn=function(){function e(t,r,n){(0,h.default)(this,e),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=t,this.config=r,this.typeSupported=n}return(0,p.default)(e,[{key:"resetInitSegment",value:function(t,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=n,this._duration=i}},{key:"resetTimeStamp",value:function(){}},{key:"resetContiguity",value:function(){var e=this._audioTrack,t=this._avcTrack,r=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}},{key:"demux",value:function(t,r){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i||(this.sampleAes=null);var o=this._avcTrack,s=this._audioTrack,l=this._id3Track,u=this._txtTrack,c=o.pid,d=o.pesData,f=s.pid,h=l.pid,p=s.pesData,v=l.pesData,g=null,m=this.pmtParsed,y=this._pmtId,b=t.length;if(this.remainderData&&(t=Me(this.remainderData,t),b=t.length,this.remainderData=null),b<188&&!a)return this.remainderData=t,{audioTrack:s,videoTrack:o,id3Track:l,textTrack:u};var E=Math.max(0,e.syncOffset(t));b-=(b-E)%188,b<t.byteLength&&!a&&(this.remainderData=new Uint8Array(t.buffer,b,t.buffer.byteLength-b));for(var T=0,k=E;k<b;k+=188)if(71===t[k]){var S=!!(64&t[k+1]),A=an(t,k),_=(48&t[k+3])>>4,w=void 0;if(_>1){if(w=k+5+t[k+4],w===k+188)continue}else w=k+4;switch(A){case c:S&&(d&&(n=ln(d))&&this.parseAVCPES(o,u,n,!1),d={data:[],size:0}),d&&(d.data.push(t.subarray(w,k+188)),d.size+=k+188-w);break;case f:if(S){if(p&&(n=ln(p)))switch(s.segmentCodec){case"aac":this.parseAACPES(s,n);break;case"mp3":this.parseMPEGPES(s,n);break}p={data:[],size:0}}p&&(p.data.push(t.subarray(w,k+188)),p.size+=k+188-w);break;case h:S&&(v&&(n=ln(v))&&this.parseID3PES(l,n),v={data:[],size:0}),v&&(v.data.push(t.subarray(w,k+188)),v.size+=k+188-w);break;case 0:S&&(w+=t[w]+1),y=this._pmtId=on(t,w);break;case y:S&&(w+=t[w]+1);var R=sn(t,w,this.typeSupported,i);c=R.avc,c>0&&(o.pid=c),f=R.audio,f>0&&(s.pid=f,s.segmentCodec=R.segmentCodec),h=R.id3,h>0&&(l.pid=h),null===g||m||(M.warn("MPEG-TS PMT found at ".concat(k," after unknown PID '").concat(g,"'. Backtracking to sync byte @").concat(E," to parse all TS packets.")),g=null,k=E-188),m=this.pmtParsed=!0;break;case 17:case 8191:break;default:g=A;break}}else T++;if(T>0){var x=new Error("Found ".concat(T," TS packet/s that do not start with 0x47"));this.observer.emit(L.ERROR,L.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,error:x,reason:x.message})}o.pesData=d,s.pesData=p,l.pesData=v;var P={audioTrack:s,videoTrack:o,id3Track:l,textTrack:u};return a&&this.extractRemainingSamples(P),P}},{key:"flush",value:function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}},{key:"extractRemainingSamples",value:function(e){var t,r=e.audioTrack,n=e.videoTrack,i=e.id3Track,a=e.textTrack,o=n.pesData,s=r.pesData,l=i.pesData;if(o&&(t=ln(o))?(this.parseAVCPES(n,a,t,!0),n.pesData=null):n.pesData=o,s&&(t=ln(s))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,t);break;case"mp3":this.parseMPEGPES(r,t);break}r.pesData=null}else null!=s&&s.size&&M.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=s;l&&(t=ln(l))?(this.parseID3PES(i,t),i.pesData=null):i.pesData=l}},{key:"demuxSampleAes",value:function(e,t,r){var n=this.demux(e,r,!0,!this.config.progressive),i=this.sampleAes=new tn(this.observer,this.config,t);return this.decrypt(n,i)}},{key:"decrypt",value:function(e,t){return new Promise((function(r){var n=e.audioTrack,i=e.videoTrack;n.samples&&"aac"===n.segmentCodec?t.decryptAacSamples(n.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){r(e)})):r(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){r(e)}))}))}},{key:"destroy",value:function(){this._duration=0}},{key:"parseAVCPES",value:function(e,t,r,n){var i,a=this,o=this.parseAVCNALu(e,r.data),s=this.avcSample,l=!1;r.data=null,s&&o.length&&!e.audFound&&(un(s,e),s=this.avcSample=nn(!1,r.pts,r.dts,"")),o.forEach((function(n){switch(n.type){case 1:i=!0,s||(s=a.avcSample=nn(!0,r.pts,r.dts,"")),s.frame=!0;var o=n.data;if(l&&o.length>4){var u=new en(o).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(s.key=!0)}break;case 5:i=!0,s||(s=a.avcSample=nn(!0,r.pts,r.dts,"")),s.key=!0,s.frame=!0;break;case 6:i=!0,Be(n.data,1,r.pts,t.samples);break;case 7:if(i=!0,l=!0,!e.sps){var c=n.data,d=new en(c),f=d.readSPS();e.width=f.width,e.height=f.height,e.pixelRatio=f.pixelRatio,e.sps=[c],e.duration=a._duration;for(var h=c.subarray(1,4),p="avc1.",v=0;v<3;v++){var g=h[v].toString(16);g.length<2&&(g="0"+g),p+=g}e.codec=p}break;case 8:i=!0,e.pps||(e.pps=[n.data]);break;case 9:i=!1,e.audFound=!0,s&&un(s,e),s=a.avcSample=nn(!1,r.pts,r.dts,"");break;case 12:i=!0;break;default:i=!1,s&&(s.debug+="unknown NAL "+n.type+" ");break}if(s&&i){var m=s.units;m.push(n)}})),n&&s&&(un(s,e),this.avcSample=null)}},{key:"getLastNalUnit",value:function(e){var t,r,n=this.avcSample;if(n&&0!==n.units.length||(n=e[e.length-1]),null!=(t=n)&&t.units){var i=n.units;r=i[i.length-1]}return r}},{key:"parseAVCNALu",value:function(e,t){var r,n,i,a=t.byteLength,o=e.naluState||0,s=o,l=[],u=0,c=-1,d=0;-1===o&&(c=0,d=31&t[0],o=0,u=1);while(u<a)if(r=t[u++],o)if(1!==o)if(r)if(1===r){if(c>=0){var f={data:t.subarray(c,u-o-1),type:d};l.push(f)}else{var h=this.getLastNalUnit(e.samples);if(h&&(s&&u<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),n=u-o-1,n>0)){var p=new Uint8Array(h.data.byteLength+n);p.set(h.data,0),p.set(t.subarray(0,n),h.data.byteLength),h.data=p,h.state=0}}u<a?(i=31&t[u],c=u,d=i,o=0):o=-1}else o=0;else o=3;else o=r?0:2;else o=r?0:1;if(c>=0&&o>=0){var v={data:t.subarray(c,a),type:d,state:o};l.push(v)}if(0===l.length){var g=this.getLastNalUnit(e.samples);if(g){var m=new Uint8Array(g.data.byteLength+t.byteLength);m.set(g.data,0),m.set(t,g.data.byteLength),g.data=m}}return e.naluState=o,l}},{key:"parseAACPES",value:function(e,t){var r,n,i,a=0,o=this.aacOverFlow,s=t.data;if(o){this.aacOverFlow=null;var l=o.missing,u=o.sample.unit.byteLength;if(-1===l){var c=new Uint8Array(u+s.byteLength);c.set(o.sample.unit,0),c.set(s,u),s=c}else{var d=u-l;o.sample.unit.set(s.subarray(0,l),d),e.samples.push(o.sample),a=o.missing}}for(r=a,n=s.length;r<n-1;r++)if(Fr(s,r))break;if(r!==a){var f,h=r<n-1;f=h?"AAC PES did not start with ADTS header,offset:".concat(r):"No ADTS header found in AAC PES";var p=new Error(f);if(M.warn("parsing error: ".concat(f)),this.observer.emit(L.ERROR,L.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,levelRetry:h,error:p,reason:f}),!h)return}if(Br(e,this.observer,s,r,this.audioCodec),void 0!==t.pts)i=t.pts;else{if(!o)return void M.warn("[tsdemuxer]: AAC PES unknown PTS");var v=Ur(e.samplerate);i=o.sample.pts+v}var g,m=0;while(r<n){if(g=jr(e,s,r,i,m),r+=g.length,g.missing){this.aacOverFlow=g;break}for(m++;r<n-1;r++)if(Fr(s,r))break}}},{key:"parseMPEGPES",value:function(e,t){var r=t.data,n=r.length,i=0,a=0,o=t.pts;if(void 0!==o)while(a<n)if(Jr(r,a)){var s=Qr(e,r,a,o,i);if(!s)break;a+=s.length,i++}else a++;else M.warn("[tsdemuxer]: MPEG PES unknown PTS")}},{key:"parseID3PES",value:function(e,t){if(void 0!==t.pts){var r=_({},t,{type:this._avcTrack?Tt.emsg:Tt.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}else M.warn("[tsdemuxer]: ID3 PES unknown PTS")}}],[{key:"probe",value:function(t){var r=e.syncOffset(t);return r>0&&M.warn("MPEG2-TS detected but first sync word found @ offset ".concat(r)),-1!==r}},{key:"syncOffset",value:function(e){var t=e.length,r=Math.min(940,e.length-188)+1,n=0;while(n<r){for(var i=!1,a=n;a<t;a+=188){if(71!==e[a])break;if(i||0!==an(e,a)||(i=!0),i&&a+188>r)return n}n++}return-1}},{key:"createTrack",value:function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:Ae[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}}}]),e}();function nn(e,t,r,n){return{key:e,frame:!1,pts:t,dts:r,units:[],debug:n,length:0}}function an(e,t){return((31&e[t+1])<<8)+e[t+2]}function on(e,t){return(31&e[t+10])<<8|e[t+11]}function sn(e,t,r,n){var i={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},a=(15&e[t+1])<<8|e[t+2],o=t+3+a-4,s=(15&e[t+10])<<8|e[t+11];t+=12+s;while(t<o){var l=an(e,t);switch(e[t]){case 207:if(!n){M.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=l);break;case 21:-1===i.id3&&(i.id3=l);break;case 219:if(!n){M.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=l);break;case 3:case 4:!0!==r.mpeg&&!0!==r.mp3?M.log("MPEG audio found, not supported in this browser"):-1===i.audio&&(i.audio=l,i.segmentCodec="mp3");break;case 36:M.warn("Unsupported HEVC stream type found");break}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function ln(e){var t,r,n,i,a,o=0,s=e.data;if(!e||0===e.size)return null;while(s[0].length<19&&s.length>1){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}t=s[0];var u=(t[0]<<16)+(t[1]<<8)+t[2];if(1===u){if(r=(t[4]<<8)+t[5],r&&r>e.size-6)return null;var c=t[7];192&c&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&c?(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,i-a>54e5&&(M.warn("".concat(Math.round((i-a)/9e4),"s delta between PTS and DTS, align them")),i=a)):a=i),n=t[8];var d=n+9;if(e.size<=d)return null;e.size-=d;for(var f=new Uint8Array(e.size),h=0,p=s.length;h<p;h++){t=s[h];var v=t.byteLength;if(d){if(d>v){d-=v;continue}t=t.subarray(d),v-=d,d=0}f.set(t,o),o+=v}return r&&(r-=n+3),{data:f,pts:i,dts:a,len:r}}return null}function un(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var r=t.samples,n=r.length;if(!n)return void t.dropped++;var i=r[n-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&M.log(e.pts+"/"+e.dts+":"+e.debug)}var cn=function(e){(0,u.default)(r,e);var t=y(r);function r(){return(0,h.default)(this,r),t.apply(this,arguments)}return(0,p.default)(r,[{key:"resetInitSegment",value:function(e,t,n,i){(0,l.default)((0,d.default)(r.prototype),"resetInitSegment",this).call(this,e,t,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(e,t){return function(e,t){return Xr(e,t)&&4<=e.length-t}(e,t)}},{key:"appendFrame",value:function(e,t,r){if(null!==this.basePTS)return Qr(e,t,r,this.basePTS,this.frameIndex)}}],[{key:"probe",value:function(e){if(!e)return!1;for(var t=le(e,0)||[],r=t.length,n=e.length;r<n;r++)if(Zr(e,r))return M.log("MPEG Audio sync word found !"),!0;return!1}}]),r}(xr),dn=function(){function e(){(0,h.default)(this,e)}return(0,p.default)(e,null,[{key:"getSilentFrame",value:function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}]),e}(),fn=Math.pow(2,32)-1,hn=function(){function e(){(0,h.default)(this,e)}return(0,p.default)(e,null,[{key:"init",value:function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))}},{key:"box",value:function(e){for(var t=8,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=n.length,o=a;while(a--)t+=n[a].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),a=0,t=8;a<o;a++)s.set(n[a],t),t+=n[a].byteLength;return s}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,r){r*=t;var n=Math.floor(r/(fn+1)),i=Math.floor(r%(fn+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))}},{key:"moov",value:function(t){var r=t.length,n=[];while(r--)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))}},{key:"mvex",value:function(t){var r=t.length,n=[];while(r--)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))}},{key:"mvhd",value:function(t,r){r*=t;var n=Math.floor(r/(fn+1)),i=Math.floor(r%(fn+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)}},{key:"sdtp",value:function(t){var r,n,i=t.samples||[],a=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,a[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,a)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var r,n,i,a=[],o=[];for(r=0;r<t.sps.length;r++)n=t.sps[r],i=n.byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)n=t.pps[r],i=n.byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var r=t.id,n=t.duration*t.timescale,i=t.width,a=t.height,o=Math.floor(n/(fn+1)),s=Math.floor(n%(fn+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))}},{key:"traf",value:function(t,r){var n=e.sdtp(t),i=t.id,a=Math.floor(r/(fn+1)),o=Math.floor(r%(fn+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),e.trun(t,n.length+16+20+8+16+8+8),n)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,r){var n,i,a,o,s,l,u=t.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(r+=8+d,f.set(["video"===t.type?1:0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<c;n++)i=u[n],a=i.duration,o=i.size,s=i.flags,l=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,f)}},{key:"initSegment",value:function(t){e.types||e.init();var r=e.moov(t),n=new Uint8Array(e.FTYP.byteLength+r.byteLength);return n.set(e.FTYP),n.set(r,e.FTYP.byteLength),n}}]),e}();hn.types=void 0,hn.HDLR_TYPES=void 0,hn.STTS=void 0,hn.STSC=void 0,hn.STCO=void 0,hn.STSZ=void 0,hn.VMHD=void 0,hn.SMHD=void 0,hn.STSD=void 0,hn.FTYP=void 0,hn.DINF=void 0;function pn(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e*t*r;return n?Math.round(i):i}function vn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return pn(e,1e3,1/9e4,t)}var gn=null,mn=null,yn=function(){function e(t,r,n){if((0,h.default)(this,e),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=t,this.config=r,this.typeSupported=n,this.ISGenerated=!1,null===gn){var i=navigator.userAgent||"",a=i.match(/Chrome\/(\d+)/i);gn=a?parseInt(a[1]):0}if(null===mn){var o=navigator.userAgent.match(/Safari\/(\d+)/i);mn=o?parseInt(o[1]):0}}return(0,p.default)(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){M.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}},{key:"resetNextTimestamp",value:function(){M.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}},{key:"resetInitSegment",value:function(){M.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}},{key:"getVideoStartPts",value:function(e){var t=!1,r=e.reduce((function(e,r){var n=r.pts-e;return n<-4294967296?(t=!0,bn(e,r.pts)):n>0?e:r.pts}),e[0].pts);return t&&M.debug("PTS rollover detected"),r}},{key:"remux",value:function(e,t,r,n,i,a,o,s){var l,u,c,d,f,h,p=i,v=i,g=e.pid>-1,m=t.pid>-1,y=t.samples.length,b=e.samples.length>0,E=o&&y>0||y>1,T=(!g||b)&&(!m||E)||this.ISGenerated||o;if(T){this.ISGenerated||(c=this.generateIS(e,t,i,a));var k,S=this.isVideoContiguous,A=-1;if(E&&(A=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!S&&this.config.forceKeyFrameOnDiscontinuity))if(h=!0,A>0){M.warn("[mp4-remuxer]: Dropped ".concat(A," out of ").concat(y," video samples due to a missing keyframe"));var _=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(A),t.dropped+=A,v+=(t.samples[0].pts-_)/t.inputTimeScale,k=v}else-1===A&&(M.warn("[mp4-remuxer]: No keyframe found out of ".concat(y," video samples")),h=!1);if(this.ISGenerated){if(b&&E){var w=this.getVideoStartPts(t.samples),L=bn(e.samples[0].pts,w)-w,I=L/t.inputTimeScale;p+=Math.max(0,I),v+=Math.max(0,-I)}if(b){if(e.samplerate||(M.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),c=this.generateIS(e,t,i,a)),u=this.remuxAudio(e,p,this.isAudioContiguous,a,m||E||s===ht.AUDIO?v:void 0),E){var D=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(M.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),c=this.generateIS(e,t,i,a)),l=this.remuxVideo(t,v,S,D)}}else E&&(l=this.remuxVideo(t,v,S,0));l&&(l.firstKeyFrame=A,l.independent=-1!==A,l.firstKeyFramePTS=k)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(f=En(r,i,this._initPTS,this._initDTS)),n.samples.length&&(d=Tn(n,i,this._initPTS))),{audio:u,video:l,initSegment:c,independent:h,text:d,id3:f}}},{key:"generateIS",value:function(e,t,r,n){var i,a,o,s=e.samples,l=t.samples,u=this.typeSupported,c={},d=this._initPTS,f=!d||n,h="audio/mp4";if(f&&(i=a=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":u.mpeg?(h="audio/mpeg",e.codec=""):u.mp3&&(e.codec="mp3");break}c.audio={id:"audio",container:h,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&u.mpeg?new Uint8Array(0):hn.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(o=e.inputTimeScale,d&&o===d.timescale?f=!1:i=a=s[0].pts-Math.round(o*r))}if(t.sps&&t.pps&&l.length&&(t.timescale=t.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:hn.initSegment([t]),metadata:{width:t.width,height:t.height}},f))if(o=t.inputTimeScale,d&&o===d.timescale)f=!1;else{var p=this.getVideoStartPts(l),v=Math.round(o*r);a=Math.min(a,bn(l[0].dts,p)-v),i=Math.min(i,p-v)}if(Object.keys(c).length)return this.ISGenerated=!0,f?(this._initPTS={baseTime:i,timescale:o},this._initDTS={baseTime:a,timescale:o}):i=o=void 0,{tracks:c,initPTS:i,timescale:o}}},{key:"remuxVideo",value:function(e,t,r,n){var i,a,o=e.inputTimeScale,s=e.samples,l=[],u=s.length,c=this._initPTS,d=this.nextAvcDts,f=8,h=this.videoSampleDuration,p=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,g=!1;if(!r||null===d){var m=t*o,y=s[0].pts-bn(s[0].dts,s[0].pts);d=m-y}for(var b=c.baseTime*o/c.timescale,E=0;E<u;E++){var T=s[E];T.pts=bn(T.pts-b,d),T.dts=bn(T.dts-b,d),T.dts<s[E>0?E-1:E].dts&&(g=!0)}g&&s.sort((function(e,t){var r=e.dts-t.dts,n=e.pts-t.pts;return r||n})),i=s[0].dts,a=s[s.length-1].dts;var k=a-i,S=k?Math.round(k/(u-1)):h||e.inputTimeScale/30;if(r){var A=i-d,w=A>S,R=A<-1;if((w||R)&&(w?M.warn("AVC: ".concat(vn(A,!0)," ms (").concat(A,"dts) hole between fragments detected, filling it")):M.warn("AVC: ".concat(vn(-A,!0)," ms (").concat(A,"dts) overlapping between fragments detected")),!R||d>s[0].pts)){i=d;var x=s[0].pts-A;s[0].dts=i,s[0].pts=x,M.log("Video: First PTS/DTS adjusted: ".concat(vn(x,!0),"/").concat(vn(i,!0),", delta: ").concat(vn(A,!0)," ms"))}}i=Math.max(0,i);for(var P=0,O=0,C=0;C<u;C++){for(var F=s[C],N=F.units,B=N.length,U=0,j=0;j<B;j++)U+=N[j].data.length;O+=U,P+=B,F.length=U,F.dts=Math.max(F.dts,i),p=Math.min(F.pts,p),v=Math.max(F.pts,v)}a=s[u-1].dts;var G,H=O+4*P+8;try{G=new Uint8Array(H)}catch(be){return void this.observer.emit(L.ERROR,L.ERROR,{type:I.MUX_ERROR,details:D.REMUX_ALLOC_ERROR,fatal:!1,error:be,bytes:H,reason:"fail allocating video mdat ".concat(H)})}var V=new DataView(G.buffer);V.setUint32(0,H),G.set(hn.types.mdat,4);for(var K=!1,$=Number.POSITIVE_INFINITY,Y=Number.POSITIVE_INFINITY,z=Number.NEGATIVE_INFINITY,W=Number.NEGATIVE_INFINITY,Q=0;Q<u;Q++){for(var q=s[Q],X=q.units,J=0,Z=0,ee=X.length;Z<ee;Z++){var te=X[Z],re=te.data,ne=te.data.byteLength;V.setUint32(f,ne),f+=4,G.set(re,f),f+=ne,J+=4+ne}var ie=void 0;if(Q<u-1)h=s[Q+1].dts-q.dts,ie=s[Q+1].pts-q.pts;else{var ae=this.config,oe=Q>0?q.dts-s[Q-1].dts:S;if(ie=Q>0?q.pts-s[Q-1].pts:S,ae.stretchShortVideoTrack&&null!==this.nextAudioPts){var se=Math.floor(ae.maxBufferHole*o),le=(n?p+n*o:this.nextAudioPts)-q.pts;le>se?(h=le-oe,h<0?h=oe:K=!0,M.log("[mp4-remuxer]: It is approximately ".concat(le/90," ms to the next segment; using duration ").concat(h/90," ms for the last video frame."))):h=oe}else h=oe}var ue=Math.round(q.pts-q.dts);$=Math.min($,h),z=Math.max(z,h),Y=Math.min(Y,ie),W=Math.max(W,ie),l.push(new Sn(q.key,h,J,ue))}if(l.length)if(gn){if(gn<70){var ce=l[0].flags;ce.dependsOn=2,ce.isNonSync=0}}else if(mn&&W-Y<z-$&&S/z<.025&&0===l[0].cts){M.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var de=i,fe=0,he=l.length;fe<he;fe++){var pe=de+l[fe].duration,ve=de+l[fe].cts;if(fe<he-1){var ge=pe+l[fe+1].cts;l[fe].duration=ge-ve}else l[fe].duration=fe?l[fe-1].duration:S;l[fe].cts=0,de=pe}}h=K||!h?S:h,this.nextAvcDts=d=a+h,this.videoSampleDuration=h,this.isVideoContiguous=!0;var me=hn.moof(e.sequenceNumber++,i,_({},e,{samples:l})),ye={data1:me,data2:G,startPTS:p/o,endPTS:(v+h)/o,startDTS:i/o,endDTS:d/o,type:"video",hasAudio:!1,hasVideo:!0,nb:l.length,dropped:e.dropped};return e.samples=[],e.dropped=0,ye}},{key:"remuxAudio",value:function(e,t,r,n,i){var a=e.inputTimeScale,o=e.samplerate?e.samplerate:a,s=a/o,l="aac"===e.segmentCodec?1024:1152,u=l*s,c=this._initPTS,d="mp3"===e.segmentCodec&&this.typeSupported.mpeg,f=[],h=void 0!==i,p=e.samples,v=d?0:8,g=this.nextAudioPts||-1,m=t*a,y=c.baseTime*a/c.timescale;if(this.isAudioContiguous=r=r||p.length&&g>0&&(n&&Math.abs(m-g)<9e3||Math.abs(bn(p[0].pts-y,m)-g)<20*u),p.forEach((function(e){e.pts=bn(e.pts-y,m)})),!r||g<0){if(p=p.filter((function(e){return e.pts>=0})),!p.length)return;g=0===i?0:n&&!h?Math.max(0,m):p[0].pts}if("aac"===e.segmentCodec)for(var b=this.config.maxAudioFramesDrift,E=0,T=g;E<p.length;E++){var k=p[E],S=k.pts,A=S-T,w=Math.abs(1e3*A/a);if(A<=-b*u&&h)0===E&&(M.warn("Audio frame @ ".concat((S/a).toFixed(3),"s overlaps nextAudioPts by ").concat(Math.round(1e3*A/a)," ms.")),this.nextAudioPts=g=T=S);else if(A>=b*u&&w<1e4&&h){var R=Math.round(A/u);T=S-R*u,T<0&&(R--,T+=u),0===E&&(this.nextAudioPts=g=T),M.warn("[mp4-remuxer]: Injecting ".concat(R," audio frame @ ").concat((T/a).toFixed(3),"s due to ").concat(Math.round(1e3*A/a)," ms gap."));for(var x=0;x<R;x++){var P=Math.max(T,0),O=dn.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);O||(M.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),O=k.unit.subarray()),p.splice(E,0,{unit:O,pts:P}),T+=u,E++}}k.pts=T,T+=u}var C,F=null,N=null,B=0,U=p.length;while(U--)B+=p[U].unit.byteLength;for(var j=0,G=p.length;j<G;j++){var H=p[j],V=H.unit,K=H.pts;if(null!==N){var $=f[j-1];$.duration=Math.round((K-N)/s)}else{if(r&&"aac"===e.segmentCodec&&(K=g),F=K,!(B>0))return;B+=v;try{C=new Uint8Array(B)}catch(ee){return void this.observer.emit(L.ERROR,L.ERROR,{type:I.MUX_ERROR,details:D.REMUX_ALLOC_ERROR,fatal:!1,error:ee,bytes:B,reason:"fail allocating audio mdat ".concat(B)})}if(!d){var Y=new DataView(C.buffer);Y.setUint32(0,B),C.set(hn.types.mdat,4)}}C.set(V,v);var z=V.byteLength;v+=z,f.push(new Sn(!0,l,z,0)),N=K}var W=f.length;if(W){var Q=f[f.length-1];this.nextAudioPts=g=N+s*Q.duration;var q=d?new Uint8Array(0):hn.moof(e.sequenceNumber++,F/s,_({},e,{samples:f}));e.samples=[];var X=F/a,J=g/a,Z={data1:q,data2:C,startPTS:X,endPTS:J,startDTS:X,endDTS:J,type:"audio",hasAudio:!0,hasVideo:!1,nb:W};return this.isAudioContiguous=!0,Z}}},{key:"remuxEmptyAudio",value:function(e,t,r,n){var i=e.inputTimeScale,a=e.samplerate?e.samplerate:i,o=i/a,s=this.nextAudioPts,l=this._initDTS,u=9e4*l.baseTime/l.timescale,c=(null!==s?s:n.startDTS*i)+u,d=n.endDTS*i+u,f=1024*o,h=Math.ceil((d-c)/f),p=dn.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(M.warn("[mp4-remuxer]: remux empty Audio"),p){for(var v=[],g=0;g<h;g++){var m=c+g*f;v.push({unit:p,pts:m,dts:m})}return e.samples=v,this.remuxAudio(e,t,r,!1)}M.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")}}]),e}();function bn(e,t){var r;if(null===t)return e;r=t<e?-8589934592:8589934592;while(Math.abs(e-t)>4294967296)e+=r;return e}function En(e,t,r,n){var i=e.samples.length;if(i){for(var a=e.inputTimeScale,o=0;o<i;o++){var s=e.samples[o];s.pts=bn(s.pts-9e4*r.baseTime/r.timescale,t*a)/a,s.dts=bn(s.dts-9e4*n.baseTime/n.timescale,t*a)/a}var l=e.samples;return e.samples=[],{samples:l}}}function Tn(e,t,r){var n=e.samples.length;if(n){for(var i=e.inputTimeScale,a=0;a<n;a++){var o=e.samples[a];o.pts=bn(o.pts-9e4*r.baseTime/r.timescale,t*i)/i}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}}var kn,Sn=(0,p.default)((function e(t,r,n,i){(0,h.default)(this,e),this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=r,this.size=n,this.cts=i,this.flags=new An(t)})),An=(0,p.default)((function e(t){(0,h.default)(this,e),this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=t?2:1,this.isNonSync=t?0:1})),_n=function(){function e(){(0,h.default)(this,e),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}return(0,p.default)(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){this.initPTS=e,this.lastEndTime=null}},{key:"resetNextTimestamp",value:function(){this.lastEndTime=null}},{key:"resetInitSegment",value:function(e,t,r,n){this.audioCodec=t,this.videoCodec=r,this.generateInitSegment(function(e,t){if(!e||!t)return e;var r=t.keyId;if(r&&t.isCommonEncryption){var n=Re(e,["moov","trak"]);n.forEach((function(e){var t=Re(e,["mdia","minf","stbl","stsd"])[0],n=t.subarray(8),i=Re(n,["enca"]),a=i.length>0;a||(i=Re(n,["encv"])),i.forEach((function(e){var t=a?e.subarray(28):e.subarray(78),n=Re(t,["sinf"]);n.forEach((function(e){var t=Oe(e);if(t){var n=t.subarray(8,24);n.some((function(e){return 0!==e}))||(M.log("[eme] Patching keyId in 'enc".concat(a?"a":"v",">sinf>>tenc' box: ").concat(Te.hexDump(n)," -> ").concat(Te.hexDump(r))),t.set(r,8))}}))}))}))}return e}(e,n)),this.emitInitSegment=!0}},{key:"generateInitSegment",value:function(e){var t=this.audioCodec,r=this.videoCodec;if(null==e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var n=this.initData=Pe(e);t||(t=wn(n.audio,V.AUDIO)),r||(r=wn(n.video,V.VIDEO));var i={};n.audio&&n.video?i.audiovideo={container:"video/mp4",codec:t+","+r,initSegment:e,id:"main"}:n.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:n.video?i.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:M.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}},{key:"remux",value:function(e,t,r,n,i,a){var o,s,l=this.initPTS,u=this.lastEndTime,c={audio:void 0,video:void 0,text:n,id3:r,initSegment:void 0};w(u)||(u=this.lastEndTime=i||0);var d=t.samples;if(null==d||!d.length)return c;var f={initPTS:void 0,timescale:1},h=this.initData;if(null!=(o=h)&&o.length||(this.generateInitSegment(d),h=this.initData),null==(s=h)||!s.length)return M.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),c;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1);var p=function(e,t){for(var r=0,n=0,i=0,a=Re(e,["moof","traf"]),o=0;o<a.length;o++){var s=a[o],l=Re(s,["tfhd"])[0],u=Le(l,4),c=t[u];if(c){var d=c.default,f=Le(l,0)|(null==d?void 0:d.flags),h=null==d?void 0:d.duration;8&f&&(h=Le(l,2&f?12:8));for(var p=c.timescale||9e4,v=Re(s,["trun"]),g=0;g<v.length;g++){if(r=Ce(v[g]),!r&&h){var m=Le(v[g],4);r=h*m}c.type===V.VIDEO?n+=r/p:c.type===V.AUDIO&&(i+=r/p)}}}if(0===n&&0===i){for(var y=0,b=Re(e,["sidx"]),E=0;E<b.length;E++){var T=xe(b[E]);null!=T&&T.references&&(y+=T.references.reduce((function(e,t){return e+t.info.duration||0}),0))}return y}return n||i}(d,h),v=function(e,t){return Re(t,["moof","traf"]).reduce((function(t,r){var n=Re(r,["tfdt"])[0],i=n[0],a=Re(r,["tfhd"]).reduce((function(t,r){var a=Le(r,4),o=e[a];if(o){var s=Le(n,4);if(1===i){if(s===ke)return M.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),t;s*=ke+1,s+=Le(n,8)}var l=o.timescale||9e4,u=s/l;if(isFinite(u)&&(null===t||u<t))return u}return t}),null);return null!==a&&isFinite(a)&&(null===t||a<t)?a:t}),null)}(h,d),g=null===v?i:v;(function(e,t,r,n){if(null===e)return!0;var i=Math.max(n,1),a=t-e.baseTime/e.timescale;return Math.abs(a-r)>i}(l,g,i,p)||f.timescale!==l.timescale&&a)&&(f.initPTS=g-i,l&&1===l.timescale&&M.warn("Adjusting initPTS by ".concat(f.initPTS-l.baseTime)),this.initPTS=l={baseTime:f.initPTS,timescale:1});var m=e?g-l.baseTime/l.timescale:u,y=m+p;(function(e,t,r){Re(t,["moof","traf"]).forEach((function(t){Re(t,["tfhd"]).forEach((function(n){var i=Le(n,4),a=e[i];if(a){var o=a.timescale||9e4;Re(t,["tfdt"]).forEach((function(e){var t=e[0],n=Le(e,4);if(0===t)n-=r*o,n=Math.max(n,0),De(e,4,n);else{n*=Math.pow(2,32),n+=Le(e,8),n-=r*o,n=Math.max(n,0);var i=Math.floor(n/(ke+1)),a=Math.floor(n%(ke+1));De(e,4,i),De(e,8,a)}}))}}))}))})(h,d,l.baseTime/l.timescale),p>0?this.lastEndTime=y:(M.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var b=!!h.audio,E=!!h.video,T="";b&&(T+="audio"),E&&(T+="video");var k={data1:d,startPTS:m,startDTS:m,endPTS:y,endDTS:y,type:T,hasAudio:b,hasVideo:E,nb:1,dropped:0};return c.audio="audio"===k.type?k:void 0,c.video="audio"!==k.type?k:void 0,c.initSegment=f,c.id3=En(r,i,l,l),n.samples.length&&(c.text=Tn(n,i,l)),c}}]),e}();function wn(e,t){var r=null==e?void 0:e.codec;return r&&r.length>4?r:"hvc1"===r||"hev1"===r?"hvc1.1.6.L120.90":"av01"===r?"av01.0.04M.08":"avc1"===r||t===V.VIDEO?"avc1.42e01e":"mp4a.40.5"}try{kn=self.performance.now.bind(self.performance)}catch(ma){M.debug("Unable to use Performance API on this environment"),kn="undefined"!==typeof self&&self.Date.now}var Ln=[{demux:Vr,remux:_n},{demux:rn,remux:yn},{demux:Gr,remux:yn},{demux:cn,remux:yn}],In=function(){function e(t,r,n,i,a){(0,h.default)(this,e),this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=r,this.config=n,this.vendor=i,this.id=a}return(0,p.default)(e,[{key:"configure",value:function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}},{key:"push",value:function(e,t,r,n){var i=this,a=r.transmuxing;a.executeStart=kn();var o=new Uint8Array(e),s=this.currentTransmuxState,l=this.transmuxConfig;n&&(this.currentTransmuxState=n);var u=n||s,c=u.contiguous,d=u.discontinuity,f=u.trackSwitch,h=u.accurateTimeOffset,p=u.timeOffset,v=u.initSegmentChange,g=l.audioCodec,m=l.videoCodec,y=l.defaultInitPts,b=l.duration,E=l.initSegmentData,T=function(e,t){var r=null;e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(r=t);return r}(o,t);if(T&&"AES-128"===T.method){var k=this.getDecrypter();if(!k.isSync())return this.decryptionPromise=k.webCryptoDecrypt(o,T.key.buffer,T.iv.buffer).then((function(e){var t=i.push(e,null,r);return i.decryptionPromise=null,t})),this.decryptionPromise;var S=k.softwareDecrypt(o,T.key.buffer,T.iv.buffer),A=r.part>-1;if(A&&(S=k.flush()),!S)return a.executeEnd=kn(),Dn(r);o=new Uint8Array(S)}var _=this.needsProbing(d,f);if(_){var w=this.configureTransmuxer(o);if(w)return M.warn("[transmuxer] ".concat(w.message)),this.observer.emit(L.ERROR,L.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,fatal:!1,error:w,reason:w.message}),a.executeEnd=kn(),Dn(r)}(d||f||v||_)&&this.resetInitSegment(E,g,m,b,t),(d||v||_)&&this.resetInitialTimestamp(y),c||this.resetContiguity();var R=this.transmux(o,T,p,h,r),x=this.currentTransmuxState;return x.contiguous=!0,x.discontinuity=!1,x.trackSwitch=!1,a.executeEnd=kn(),R}},{key:"flush",value:function(e){var t=this,r=e.transmuxing;r.executeStart=kn();var n=this.decrypter,i=this.currentTransmuxState,a=this.decryptionPromise;if(a)return a.then((function(){return t.flush(e)}));var o=[],s=i.timeOffset;if(n){var l=n.flush();l&&o.push(this.push(l,null,e))}var u=this.demuxer,c=this.remuxer;if(!u||!c)return r.executeEnd=kn(),[Dn(e)];var d=u.flush(s);return Rn(d)?d.then((function(r){return t.flushRemux(o,r,e),o})):(this.flushRemux(o,d,e),o)}},{key:"flushRemux",value:function(e,t,r){var n=t.audioTrack,i=t.videoTrack,a=t.id3Track,o=t.textTrack,s=this.currentTransmuxState,l=s.accurateTimeOffset,u=s.timeOffset;M.log("[transmuxer.ts]: Flushed fragment ".concat(r.sn).concat(r.part>-1?" p: "+r.part:""," of level ").concat(r.level));var c=this.remuxer.remux(n,i,a,o,u,l,!0,this.id);e.push({remuxResult:c,chunkMeta:r}),r.transmuxing.executeEnd=kn()}},{key:"resetInitialTimestamp",value:function(e){var t=this.demuxer,r=this.remuxer;t&&r&&(t.resetTimeStamp(e),r.resetTimeStamp(e))}},{key:"resetContiguity",value:function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())}},{key:"resetInitSegment",value:function(e,t,r,n,i){var a=this.demuxer,o=this.remuxer;a&&o&&(a.resetInitSegment(e,t,r,n),o.resetInitSegment(e,t,r,i))}},{key:"destroy",value:function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}},{key:"transmux",value:function(e,t,r,n,i){var a;return a=t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,r,n,i):this.transmuxUnencrypted(e,r,n,i),a}},{key:"transmuxUnencrypted",value:function(e,t,r,n){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),a=i.audioTrack,o=i.videoTrack,s=i.id3Track,l=i.textTrack,u=this.remuxer.remux(a,o,s,l,t,r,!1,this.id);return{remuxResult:u,chunkMeta:n}}},{key:"transmuxSampleAes",value:function(e,t,r,n,i){var a=this;return this.demuxer.demuxSampleAes(e,t,r).then((function(e){var t=a.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,r,n,!1,a.id);return{remuxResult:t,chunkMeta:i}}))}},{key:"configureTransmuxer",value:function(e){for(var t,r=this.config,n=this.observer,i=this.typeSupported,a=this.vendor,o=0,s=Ln.length;o<s;o++)if(Ln[o].demux.probe(e)){t=Ln[o];break}if(!t)return new Error("Failed to find demuxer by probing fragment data");var l=this.demuxer,u=this.remuxer,c=t.remux,d=t.demux;u&&u instanceof c||(this.remuxer=new c(n,r,i,a)),l&&l instanceof d||(this.demuxer=new d(n,r,i),this.probe=d.probe)}},{key:"needsProbing",value:function(e,t){return!this.demuxer||!this.remuxer||e||t}},{key:"getDecrypter",value:function(){var e=this.decrypter;return e||(e=this.decrypter=new _r(this.config)),e}}]),e}();var Dn=function(e){return{remuxResult:{},chunkMeta:e}};function Rn(e){return"then"in e&&e.then instanceof Function}var xn=(0,p.default)((function e(t,r,n,i,a){(0,h.default)(this,e),this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=r,this.initSegmentData=n,this.duration=i,this.defaultInitPts=a||null})),Pn=(0,p.default)((function e(t,r,n,i,a,o){(0,h.default)(this,e),this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=r,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=a,this.initSegmentChange=o})),On={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new i(n,a||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=new Array(a);i<a;i++)o[i]=n[i].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,a,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,a),!0;case 6:return c.fn.call(c.context,t,n,i,a,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||o(this,a);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(On);var Cn=On.exports,Mn=b(Cn),Fn=Qe()||{isTypeSupported:function(){return!1}},Nn=function(){function e(t,r,n,i){var a=this;(0,h.default)(this,e),this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var o=t.config;this.hls=t,this.id=r,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;var s=function(e,t){t=t||{},t.frag=a.frag,t.id=a.id,e===L.ERROR&&(a.error=t.error),a.hls.trigger(e,t)};this.observer=new Mn,this.observer.on(L.FRAG_DECRYPTED,s),this.observer.on(L.ERROR,s);var l={mp4:Fn.isTypeSupported("video/mp4"),mpeg:Fn.isTypeSupported("audio/mpeg"),mp3:Fn.isTypeSupported('audio/mp4; codecs="mp3"')},u=navigator.vendor;if(this.useWorker&&"undefined"!==typeof Worker){var c=o.workerPath||function(){return"function"===typeof __HLS_WORKER_BUNDLE__}();if(c){try{o.workerPath?(M.log("loading Web Worker ".concat(o.workerPath,' for "').concat(r,'"')),this.workerContext=function(e){var t=new self.URL(e,self.location.href).href,r=new self.Worker(t);return{worker:r,scriptURL:t}}(o.workerPath)):(M.log('injecting Web Worker for "'.concat(r,'"')),this.workerContext=function(){var e=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(".concat(__HLS_WORKER_BUNDLE__.toString(),")(true);")],{type:"text/javascript"}),t=self.URL.createObjectURL(e),r=new self.Worker(t);return{worker:r,objectURL:t}}()),this.onwmsg=function(e){return a.onWorkerMessage(e)};var d=this.workerContext.worker;d.addEventListener("message",this.onwmsg),d.onerror=function(e){var t=new Error("".concat(e.message,"  (").concat(e.filename,":").concat(e.lineno,")"));o.enableWorker=!1,M.warn('Error in "'.concat(r,'" Web Worker, fallback to inline')),a.hls.trigger(L.ERROR,{type:I.OTHER_ERROR,details:D.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:t})},d.postMessage({cmd:"init",typeSupported:l,vendor:u,id:r,config:JSON.stringify(o)})}catch(ma){M.warn('Error setting up "'.concat(r,'" Web Worker, fallback to inline'),ma),this.resetWorker(),this.error=null,this.transmuxer=new In(this.observer,l,o,u,r)}return}}this.transmuxer=new In(this.observer,l,o,u,r)}return(0,p.default)(e,[{key:"resetWorker",value:function(){if(this.workerContext){var e=this.workerContext,t=e.worker,r=e.objectURL;r&&self.URL.revokeObjectURL(r),t.removeEventListener("message",this.onwmsg),t.onerror=null,t.terminate(),this.workerContext=null}}},{key:"destroy",value:function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}var t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}},{key:"push",value:function(e,t,r,n,i,a,o,s,l,u){var c,d,f=this;l.transmuxing.start=self.performance.now();var h=this.transmuxer,p=a?a.start:i.start,v=i.decryptdata,g=this.frag,m=!(g&&i.cc===g.cc),y=!(g&&l.level===g.level),b=g?l.sn-g.sn:-1,E=this.part?l.part-this.part.index:-1,T=0===b&&l.id>1&&l.id===(null==g?void 0:g.stats.chunkCount),k=!y&&(1===b||0===b&&(1===E||T&&E<=0)),S=self.performance.now();(y||b||0===i.stats.parsing.start)&&(i.stats.parsing.start=S),!a||!E&&k||(a.stats.parsing.start=S);var A=!(g&&(null==(c=i.initSegment)?void 0:c.url)===(null==(d=g.initSegment)?void 0:d.url)),_=new Pn(m,k,s,y,p,A);if(!k||m||A){M.log("[transmuxer-interface, ".concat(i.type,"]: Starting new transmux session for sn: ").concat(l.sn," p: ").concat(l.part," level: ").concat(l.level," id: ").concat(l.id,"\n        discontinuity: ").concat(m,"\n        trackSwitch: ").concat(y,"\n        contiguous: ").concat(k,"\n        accurateTimeOffset: ").concat(s,"\n        timeOffset: ").concat(p,"\n        initSegmentChange: ").concat(A));var w=new xn(r,n,t,o,u);this.configureTransmuxer(w)}if(this.frag=i,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:v,chunkMeta:l,state:_},e instanceof ArrayBuffer?[e]:[]);else if(h){var L=h.push(e,v,l,_);Rn(L)?(h.async=!0,L.then((function(e){f.handleTransmuxComplete(e)})).catch((function(e){f.transmuxerError(e,l,"transmuxer-interface push error")}))):(h.async=!1,this.handleTransmuxComplete(L))}}},{key:"flush",value:function(e){var t=this;e.transmuxing.start=self.performance.now();var r=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(r){var n=r.flush(e),i=Rn(n);i||r.async?(Rn(n)||(n=Promise.resolve(n)),n.then((function(r){t.handleFlushResult(r,e)})).catch((function(r){t.transmuxerError(r,e,"transmuxer-interface flush error")}))):this.handleFlushResult(n,e)}}},{key:"transmuxerError",value:function(e,t,r){this.hls&&(this.error=e,this.hls.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_PARSING_ERROR,chunkMeta:t,fatal:!1,error:e,err:e,reason:r}))}},{key:"handleFlushResult",value:function(e,t){var r=this;e.forEach((function(e){r.handleTransmuxComplete(e)})),this.onFlush(t)}},{key:"onWorkerMessage",value:function(e){var t=e.data,r=this.hls;switch(t.event){case"init":var n,i=null==(n=this.workerContext)?void 0:n.objectURL;i&&self.URL.revokeObjectURL(i);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":M[t.data.logType]&&M[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data);break}}},{key:"configureTransmuxer",value:function(e){var t=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)}},{key:"handleTransmuxComplete",value:function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}]),e}(),Bn=function(){function e(t,r,n,i){(0,h.default)(this,e),this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=r,this.fragmentTracker=n,this.hls=i}return(0,p.default)(e,[{key:"destroy",value:function(){this.media=null,this.hls=this.fragmentTracker=null}},{key:"poll",value:function(e,t){var r=this.config,n=this.media,i=this.stalled;if(null!==n){var a=n.currentTime,o=n.seeking,s=this.seeking&&!o,l=!this.seeking&&o;if(this.seeking=o,a===e){if(l||s)this.stalled=null;else if(!(n.paused&&!o||n.ended||0===n.playbackRate)&&pr.getBuffered(n).length){var u=pr.bufferInfo(n,a,0),c=u.len>0,d=u.nextStart||0;if(c||d){if(o){var f=u.len>2,h=!d||t&&t.start<=a||d-a>2&&!this.fragmentTracker.getPartialFragment(a);if(f||h)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var p,v=Math.max(d,u.start||0)-a,g=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,m=null==g||null==(p=g.details)?void 0:p.live,y=m?2*g.details.targetduration:2,b=this.fragmentTracker.getPartialFragment(a);if(v>0&&(v<=y||b))return void this._trySkipBufferHole(b)}var E=self.performance.now();if(null!==i){var T=E-i;if(o||!(T>=250)||(this._reportStall(u),this.media)){var k=pr.bufferInfo(n,a,r.maxBufferHole);this._tryFixBufferStall(k,T)}}else this.stalled=E}}}else if(this.moved=!0,null!==i){if(this.stallReported){var S=self.performance.now()-i;M.warn("playback not stuck anymore @".concat(a,", after ").concat(Math.round(S),"ms")),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}}},{key:"_tryFixBufferStall",value:function(e,t){var r=this.config,n=this.fragmentTracker,i=this.media;if(null!==i){var a=i.currentTime,o=n.getPartialFragment(a);if(o){var s=this._trySkipBufferHole(o);if(s||!this.media)return}(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-a<r.maxBufferHole)&&t>1e3*r.highBufferWatchdogPeriod&&(M.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}}},{key:"_reportStall",value:function(e){var t=this.hls,r=this.media,n=this.stallReported;if(!n&&r){this.stallReported=!0;var i=new Error("Playback stalling at @".concat(r.currentTime," due to low buffer (").concat(JSON.stringify(e),")"));M.warn(i.message),t.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_STALLED_ERROR,fatal:!1,error:i,buffer:e.len})}}},{key:"_trySkipBufferHole",value:function(e){var t=this.config,r=this.hls,n=this.media;if(null===n)return 0;var i=n.currentTime,a=pr.bufferInfo(n,i,0),o=i<a.start?a.start:a.nextStart;if(o){var s=a.len<=t.maxBufferHole,l=a.len>0&&a.len<1&&n.readyState<3,u=o-i;if(u>0&&(s||l)){if(u>t.maxBufferHole){var c=this.fragmentTracker,d=!1;if(0===i){var f=c.getAppendedFrag(0,ht.MAIN);f&&o<f.end&&(d=!0)}if(!d){var h=e||c.getAppendedFrag(i,ht.MAIN);if(h){var p=!1,v=h.end;while(v<o){var g=c.getPartialFragment(v);if(!g){p=!0;break}v+=g.duration}if(p)return 0}}}var m=Math.max(o+.05,i+.1);if(M.warn("skipping hole, adjusting currentTime from ".concat(i," to ").concat(m)),this.moved=!0,this.stalled=null,n.currentTime=m,e&&!e.gap){var y=new Error("fragment loaded with buffer holes, seeking from ".concat(i," to ").concat(m));r.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:y,reason:y.message,frag:e})}return m}}return 0}},{key:"_tryNudgeBuffer",value:function(){var e=this.config,t=this.hls,r=this.media,n=this.nudgeRetry;if(null!==r){var i=r.currentTime;if(this.nudgeRetry++,n<e.nudgeMaxRetry){var a=i+(n+1)*e.nudgeOffset,o=new Error("Nudging 'currentTime' from ".concat(i," to ").concat(a));M.warn(o.message),r.currentTime=a,t.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{var s=new Error("Playhead still not moving while enough data buffered @".concat(i," after ").concat(e.nudgeMaxRetry," nudges"));M.error(s.message),t.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_STALLED_ERROR,error:s,fatal:!0})}}}}]),e}(),Un=function(e){(0,u.default)(r,e);var t=y(r);function r(e,n,i){var a;return(0,h.default)(this,r),a=t.call(this,e,n,i,"[stream-controller]",ht.MAIN),a.audioCodecSwap=!1,a.gapController=null,a.level=-1,a._forceStartLoad=!1,a.altAudio=!1,a.audioOnly=!1,a.fragPlaying=null,a.onvplaying=null,a.onvseeked=null,a.fragLastKbps=0,a.couldBacktrack=!1,a.backtrackFragment=null,a.audioCodecSwitch=!1,a.videoBuffer=null,a._registerListeners(),a}return(0,p.default)(r,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(L.MANIFEST_LOADING,this.onManifestLoading,this),e.on(L.MANIFEST_PARSED,this.onManifestParsed,this),e.on(L.LEVEL_LOADING,this.onLevelLoading,this),e.on(L.LEVEL_LOADED,this.onLevelLoaded,this),e.on(L.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(L.ERROR,this.onError,this),e.on(L.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(L.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(L.BUFFER_CREATED,this.onBufferCreated,this),e.on(L.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(L.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(L.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(L.MANIFEST_LOADING,this.onManifestLoading,this),e.off(L.MANIFEST_PARSED,this.onManifestParsed,this),e.off(L.LEVEL_LOADED,this.onLevelLoaded,this),e.off(L.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(L.ERROR,this.onError,this),e.off(L.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(L.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(L.BUFFER_CREATED,this.onBufferCreated,this),e.off(L.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(L.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(L.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.onMediaDetaching()}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var n=r.startLevel;-1===n&&(r.config.testBandwidth&&this.levels.length>1?(n=0,this.bitrateTest=!0):n=r.nextAutoLevel),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @".concat(t.toFixed(3))),e=t),this.state=Lr.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=Lr.STOPPED}},{key:"stopLoad",value:function(){this._forceStartLoad=!1,(0,l.default)((0,d.default)(r.prototype),"stopLoad",this).call(this)}},{key:"doTick",value:function(){switch(this.state){case Lr.WAITING_LEVEL:var e,t=this.levels,r=this.level,n=null==t||null==(e=t[r])?void 0:e.details;if(n&&(!n.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(n))break;this.state=Lr.IDLE;break}break;case Lr.FRAG_LOADING_WAITING_RETRY:var i,a=self.performance.now(),o=this.retryDate;(!o||a>=o||null!=(i=this.media)&&i.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=Lr.IDLE);break}this.state===Lr.IDLE&&this.doTickIdle(),this.onTickEnd()}},{key:"onTickEnd",value:function(){(0,l.default)((0,d.default)(r.prototype),"onTickEnd",this).call(this),this.checkBuffer(),this.checkFragmentChanged()}},{key:"doTickIdle",value:function(){var e=this.hls,t=this.levelLastLoaded,r=this.levels,n=this.media,i=e.config,a=e.nextLoadLevel;if(null!==t&&(n||!this.startFragRequested&&i.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&null!=r&&r[a]){var o=r[a],s=this.getMainFwdBufferInfo();if(null!==s){var l=this.getLevelDetails();if(l&&this._streamEnded(s,l)){var u={};return this.altAudio&&(u.type="video"),this.hls.trigger(L.BUFFER_EOS,u),void(this.state=Lr.ENDED)}e.loadLevel!==a&&-1===e.manualLevel&&this.log("Adapting to level ".concat(a," from level ").concat(this.level)),this.level=e.nextLoadLevel=a;var c=o.details;if(!c||this.state===Lr.WAITING_LEVEL||c.live&&this.levelLastLoaded!==a)return this.level=a,void(this.state=Lr.WAITING_LEVEL);var d=s.len,f=this.getMaxBufferLength(o.maxBitrate);if(!(d>=f)){this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);var h=this.backtrackFragment?this.backtrackFragment.start:s.end,p=this.getNextFragment(h,c);if(this.couldBacktrack&&!this.fragPrevious&&p&&"initSegment"!==p.sn&&this.fragmentTracker.getState(p)!==rr.OK){var v,g=(null!=(v=this.backtrackFragment)?v:p).sn,m=g-c.startSN,y=c.fragments[m-1];y&&p.cc===y.cc&&(p=y,this.fragmentTracker.removeFragment(y))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,h)){var b=p.gap;if(!b){var E=this.audioOnly&&!this.altAudio?V.AUDIO:V.VIDEO,T=(E===V.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;T&&this.afterBufferFlushed(T,E,ht.MAIN)}p=this.getNextFragmentLoopLoading(p,c,s,ht.MAIN,f)}p&&(!p.initSegment||p.initSegment.data||this.bitrateTest||(p=p.initSegment),this.loadFragment(p,o,h))}}}}},{key:"loadFragment",value:function(e,t,n){var i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===rr.NOT_LOADED||i===rr.PARTIAL?"initSegment"===e.sn?this._loadInitSegment(e,t):this.bitrateTest?(this.log("Fragment ".concat(e.sn," of level ").concat(e.level," is being downloaded to test bitrate and will not be buffered")),this._loadBitrateTestFrag(e,t)):(this.startFragRequested=!0,(0,l.default)((0,d.default)(r.prototype),"loadFragment",this).call(this,e,t,n)):this.clearTrackerIfNeeded(e)}},{key:"getBufferedFrag",value:function(e){return this.fragmentTracker.getBufferedFrag(e,ht.MAIN)}},{key:"followingBufferedFrag",value:function(e){return e?this.getBufferedFrag(e.end+.5):null}},{key:"immediateLevelSwitch",value:function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"nextLevelSwitch",value:function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var r,n=this.getAppendedFrag(t.currentTime);n&&n.start>1&&this.flushMainBuffer(0,n.start-1);var i=this.getLevelDetails();if(null!=i&&i.live){var a=this.getMainFwdBufferInfo();if(!a||a.len<2*i.targetduration)return}if(!t.paused&&e){var o=this.hls.nextLoadLevel,s=e[o],l=this.fragLastKbps;r=l&&this.fragCurrent?this.fragCurrent.duration*s.maxBitrate/(1e3*l)+1:0}else r=0;var u=this.getBufferedFrag(t.currentTime+r);if(u){var c=this.followingBufferedFrag(u);if(c){this.abortCurrentFrag();var d=c.maxStartPTS?c.maxStartPTS:c.start,f=c.duration,h=Math.max(u.end,d+Math.min(Math.max(f-this.config.maxFragLookUpTolerance,.5*f),.75*f));this.flushMainBuffer(h,Number.POSITIVE_INFINITY)}}}}},{key:"abortCurrentFrag",value:function(){var e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Lr.KEY_LOADING:case Lr.FRAG_LOADING:case Lr.FRAG_LOADING_WAITING_RETRY:case Lr.PARSING:case Lr.PARSED:this.state=Lr.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}},{key:"flushMainBuffer",value:function(e,t){(0,l.default)((0,d.default)(r.prototype),"flushMainBuffer",this).call(this,e,t,this.altAudio?"video":null)}},{key:"onMediaAttached",value:function(e,t){(0,l.default)((0,d.default)(r.prototype),"onMediaAttached",this).call(this,e,t);var n=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new Bn(this.config,n,this.fragmentTracker,this.hls)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),(0,l.default)((0,d.default)(r.prototype),"onMediaDetaching",this).call(this)}},{key:"onMediaPlaying",value:function(){this.tick()}},{key:"onMediaSeeked",value:function(){var e=this.media,t=e?e.currentTime:null;w(t)&&this.log("Media seeked to ".concat(t.toFixed(3)));var r=this.getMainFwdBufferInfo();null!==r&&0!==r.len?this.tick():this.warn('Main forward buffer length on "seeked" event '.concat(r?r.len:"empty",")"))}},{key:"onManifestLoading",value:function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(L.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}},{key:"onManifestParsed",value:function(e,t){var r,n=!1,i=!1;t.levels.forEach((function(e){r=e.audioCodec,r&&(-1!==r.indexOf("mp4a.40.2")&&(n=!0),-1!==r.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=n&&i&&!function(){var e,t=Dr();return"function"===typeof(null==t||null==(e=t.prototype)?void 0:e.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}},{key:"onLevelLoading",value:function(e,t){var r=this.levels;if(r&&this.state===Lr.IDLE){var n=r[t.level];(!n.details||n.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(n.details))&&(this.state=Lr.WAITING_LEVEL)}}},{key:"onLevelLoaded",value:function(e,t){var r,n=this.levels,i=t.level,a=t.details,o=a.totalduration;if(n){this.log("Level ".concat(i," loaded [").concat(a.startSN,",").concat(a.endSN,"]").concat(a.lastPartSn?"[part-".concat(a.lastPartSn,"-").concat(a.lastPartIndex,"]"):"",", cc [").concat(a.startCC,", ").concat(a.endCC,"] duration:").concat(o));var s=n[i],l=this.fragCurrent;!l||this.state!==Lr.FRAG_LOADING&&this.state!==Lr.FRAG_LOADING_WAITING_RETRY||l.level===t.level&&l.urlId===s.urlId||!l.loader||this.abortCurrentFrag();var u=0;if(a.live||null!=(r=s.details)&&r.live){if(a.fragments[0]||(a.deltaUpdateFailed=!0),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,s.details)}if(s.details=a,this.levelLastLoaded=i,this.hls.trigger(L.LEVEL_UPDATED,{details:a,level:i}),this.state===Lr.WAITING_LEVEL){if(this.waitForCdnTuneIn(a))return;this.state=Lr.IDLE}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,u),this.tick()}else this.warn("Levels were reset while loading level ".concat(i))}},{key:"_handleFragmentLoadProgress",value:function(e){var t,r=e.frag,n=e.part,i=e.payload,a=this.levels;if(a){var o=a[r.level],s=o.details;if(!s)return this.warn("Dropping fragment ".concat(r.sn," of level ").concat(r.level," after level details were reset")),void this.fragmentTracker.removeFragment(r);var l=o.videoCodec,u=s.PTSKnown||!s.live,c=null==(t=r.initSegment)?void 0:t.data,d=this._getAudioCodec(o),f=this.transmuxer=this.transmuxer||new Nn(this.hls,ht.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),h=n?n.index:-1,p=-1!==h,v=new vr(r.level,r.sn,r.stats.chunkCount,i.byteLength,h,p),g=this.initPTS[r.cc];f.push(i,c,d,l,r,n,s.totalduration,u,v,g)}else this.warn("Levels were reset while fragment load was in progress. Fragment ".concat(r.sn," of level ").concat(r.level," will not be buffered"))}},{key:"onAudioTrackSwitching",value:function(e,t){var r=this.altAudio,n=!!t.url;if(!n){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i&&(this.log("Switching to main audio track, cancel main fragment load"),i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var a=this.hls;r&&(a.trigger(L.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),a.trigger(L.AUDIO_TRACK_SWITCHED,t)}}},{key:"onAudioTrackSwitched",value:function(e,t){var r=t.id,n=!!this.hls.audioTracks[r].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()}},{key:"onBufferCreated",value:function(e,t){var r,n,i=t.tracks,a=!1;for(var o in i){var s=i[o];if("main"===s.id){if(n=o,r=s,"video"===o){var l=i[o];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&r?(this.log("Alternate track found, use ".concat(n,".buffered to schedule main fragment loading")),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}},{key:"onFragBuffered",value:function(e,t){var r=t.frag,n=t.part;if(!r||r.type===ht.MAIN){if(this.fragContextChanged(r))return this.warn("Fragment ".concat(r.sn).concat(n?" p: "+n.index:""," of level ").concat(r.level," finished buffering, but was aborted. state: ").concat(this.state)),void(this.state===Lr.PARSED&&(this.state=Lr.IDLE));var i=n?n.stats:r.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==r.sn&&(this.fragPrevious=r),this.fragBufferedComplete(r,n)}}},{key:"onError",value:function(e,t){var r;if(t.fatal)this.state=Lr.ERROR;else switch(t.details){case D.FRAG_GAP:case D.FRAG_PARSING_ERROR:case D.FRAG_DECRYPT_ERROR:case D.FRAG_LOAD_ERROR:case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_ERROR:case D.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ht.MAIN,t);break;case D.LEVEL_LOAD_ERROR:case D.LEVEL_LOAD_TIMEOUT:case D.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==Lr.WAITING_LEVEL||(null==(r=t.context)?void 0:r.type)!==ft.LEVEL||(this.state=Lr.IDLE);break;case D.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case D.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}},{key:"checkBuffer",value:function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){if(this.loadedmetadata||!pr.getBuffered(e).length){var r=this.state!==Lr.IDLE?this.fragCurrent:null;t.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=Lr.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}},{key:"onBufferFlushed",value:function(e,t){var r=t.type;if(r!==V.AUDIO||this.audioOnly&&!this.altAudio){var n=(r===V.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,r,ht.MAIN)}}},{key:"onLevelsUpdated",value:function(e,t){this.levels=t.levels}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"seekToStartPos",value:function(){var e=this.media;if(e){var t=e.currentTime,r=this.startPosition;if(r>=0&&t<r){if(e.seeking)return void this.log("could not seek to ".concat(r,", already seeking at ").concat(t));var n=pr.getBuffered(e),i=n.length?n.start(0):0,a=i-r;a>0&&(a<this.config.maxBufferHole||a<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by ".concat(a," to match buffer start")),r+=a,this.startPosition=r),this.log("seek to target start position ".concat(r," from current time ").concat(t)),e.currentTime=r}}}},{key:"_getAudioCodec",value:function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}},{key:"_loadBitrateTestFrag",value:function(e,t){var r=this;e.bitrateTest=!0,this._doFragLoad(e,t).then((function(n){var i=r.hls;if(n&&!r.fragContextChanged(e)){t.fragmentError=0,r.state=Lr.IDLE,r.startFragRequested=!1,r.bitrateTest=!1;var a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(L.FRAG_LOADED,n),e.bitrateTest=!1}}))}},{key:"_handleTransmuxComplete",value:function(e){var t,r="main",n=this.hls,i=e.remuxResult,a=e.chunkMeta,o=this.getCurrentContext(a);if(o){var s=o.frag,l=o.part,u=o.level,c=i.video,d=i.text,f=i.id3,h=i.initSegment,p=u.details,v=this.altAudio?void 0:i.audio;if(this.fragContextChanged(s))this.fragmentTracker.removeFragment(s);else{if(this.state=Lr.PARSING,h){if(null!=h&&h.tracks){var g=s.initSegment||s;this._bufferInitSegment(u,h.tracks,g,a),n.trigger(L.FRAG_PARSING_INIT_SEGMENT,{frag:g,id:r,tracks:h.tracks})}var m=h.initPTS,y=h.timescale;w(m)&&(this.initPTS[s.cc]={baseTime:m,timescale:y},n.trigger(L.INIT_PTS_FOUND,{frag:s,id:r,initPTS:m,timescale:y}))}if(c&&!1!==i.independent){if(p){var b=c.startPTS,E=c.endPTS,T=c.startDTS,k=c.endDTS;if(l)l.elementaryStreams[c.type]={startPTS:b,endPTS:E,startDTS:T,endDTS:k};else if(c.firstKeyFrame&&c.independent&&1===a.id&&(this.couldBacktrack=!0),c.dropped&&c.independent){var S=this.getMainFwdBufferInfo(),A=(S?S.end:this.getLoadPosition())+this.config.maxBufferHole,_=c.firstKeyFramePTS?c.firstKeyFramePTS:b;if(A<_-this.config.maxBufferHole)return void this.backtrack(s);s.setElementaryStreamInfo(c.type,s.start,E,s.start,k,!0)}s.setElementaryStreamInfo(c.type,b,E,T,k),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(c,s,l,a)}}else if(!1===i.independent)return void this.backtrack(s);if(v){var I=v.startPTS,D=v.endPTS,R=v.startDTS,x=v.endDTS;l&&(l.elementaryStreams[V.AUDIO]={startPTS:I,endPTS:D,startDTS:R,endDTS:x}),s.setElementaryStreamInfo(V.AUDIO,I,D,R,x),this.bufferFragmentData(v,s,l,a)}if(p&&null!=f&&null!=(t=f.samples)&&t.length){var P={id:r,frag:s,details:p,samples:f.samples};n.trigger(L.FRAG_PARSING_METADATA,P)}if(p&&d){var O={id:r,frag:s,details:p,samples:d.samples};n.trigger(L.FRAG_PARSING_USERDATA,O)}}}else this.resetWhenMissingContext(a)}},{key:"_bufferInitSegment",value:function(e,t,r,n){var i=this;if(this.state===Lr.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var a=t.audio,o=t.video,s=t.audiovideo;if(a){var l=e.audioCodec,u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==a.metadata.channelCount&&-1===u.indexOf("firefox")&&(l="mp4a.40.5")),-1!==u.indexOf("android")&&"audio/mpeg"!==a.container&&(l="mp4a.40.2",this.log("Android: force audio codec to ".concat(l))),e.audioCodec&&e.audioCodec!==l&&this.log('Swapping manifest audio codec "'.concat(e.audioCodec,'" for "').concat(l,'"')),a.levelCodec=l,a.id="main",this.log("Init audio buffer, container:".concat(a.container,", codecs[selected/level/parsed]=[").concat(l||"","/").concat(e.audioCodec||"","/").concat(a.codec,"]"))}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log("Init video buffer, container:".concat(o.container,", codecs[level/parsed]=[").concat(e.videoCodec||"","/").concat(o.codec,"]"))),s&&this.log("Init audiovideo buffer, container:".concat(s.container,", codecs[level/parsed]=[").concat(e.attrs.CODECS||"","/").concat(s.codec,"]")),this.hls.trigger(L.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var a=t[e],o=a.initSegment;null!=o&&o.byteLength&&i.hls.trigger(L.BUFFER_APPENDING,{type:e,data:o,frag:r,part:null,chunkMeta:n,parent:r.type})})),this.tick()}}},{key:"getMainFwdBufferInfo",value:function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,ht.MAIN)}},{key:"backtrack",value:function(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Lr.IDLE}},{key:"checkFragmentChanged",value:function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var r=e.currentTime;if(pr.isBuffered(e,r)?t=this.getAppendedFrag(r):pr.isBuffered(e,r+.1)&&(t=this.getAppendedFrag(r+.1)),t){this.backtrackFragment=null;var n=this.fragPlaying,i=t.level;n&&t.sn===n.sn&&n.level===i&&t.urlId===n.urlId||(this.fragPlaying=t,this.hls.trigger(L.FRAG_CHANGED,{frag:t}),n&&n.level===i||this.hls.trigger(L.LEVEL_SWITCHED,{level:i}))}}}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentFrag",get:function(){var e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}},{key:"currentProgramDateTime",get:function(){var e=this.media;if(e){var t=e.currentTime,r=this.currentFrag;if(r&&w(t)&&w(r.programDateTime)){var n=r.programDateTime+1e3*(t-r.start);return new Date(n)}}return null}},{key:"currentLevel",get:function(){var e=this.currentFrag;return e?e.level:-1}},{key:"nextBufferedFrag",get:function(){var e=this.currentFrag;return e?this.followingBufferedFrag(e):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),r}(Ir),jn=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,h.default)(this,e),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=r,this.totalWeight_=n}return(0,p.default)(e,[{key:"sample",value:function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}]),e}(),Gn=function(){function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;(0,h.default)(this,e),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new jn(t),this.fast_=new jn(r),this.defaultTTFB_=i,this.ttfb_=new jn(t)}return(0,p.default)(e,[{key:"update",value:function(e,t){var r=this.slow_,n=this.fast_,i=this.ttfb_;r.halfLife!==e&&(this.slow_=new jn(e,r.getEstimate(),r.getTotalWeight())),n.halfLife!==t&&(this.fast_=new jn(t,n.getEstimate(),n.getTotalWeight())),i.halfLife!==e&&(this.ttfb_=new jn(e,i.getEstimate(),i.getTotalWeight()))}},{key:"sample",value:function(e,t){e=Math.max(e,this.minDelayMs_);var r=8*t,n=e/1e3,i=r/n;this.fast_.sample(n,i),this.slow_.sample(n,i)}},{key:"sampleTTFB",value:function(e){var t=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(r,Math.max(e,5))}},{key:"canEstimate",value:function(){return this.fast_.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"getEstimateTTFB",value:function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}},{key:"destroy",value:function(){}}]),e}(),Hn=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=t;var r=t.config;this.bwEstimator=new Gn(r.abrEwmaSlowVoD,r.abrEwmaFastVoD,r.abrEwmaDefaultEstimate),this.registerListeners()}return(0,p.default)(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(L.FRAG_LOADING,this.onFragLoading,this),e.on(L.FRAG_LOADED,this.onFragLoaded,this),e.on(L.FRAG_BUFFERED,this.onFragBuffered,this),e.on(L.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(L.LEVEL_LOADED,this.onLevelLoaded,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(L.FRAG_LOADING,this.onFragLoading,this),e.off(L.FRAG_LOADED,this.onFragLoaded,this),e.off(L.FRAG_BUFFERED,this.onFragBuffered,this),e.off(L.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(L.LEVEL_LOADED,this.onLevelLoaded,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}},{key:"onFragLoading",value:function(e,t){var r,n=t.frag;this.ignoreFragment(n)||(this.fragCurrent=n,this.partCurrent=null!=(r=t.part)?r:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}},{key:"onLevelSwitching",value:function(e,t){this.clearTimer()}},{key:"getTimeToLoadFrag",value:function(e,t,r,n){var i=e+r/t,a=n?this.lastLevelLoadSec:0;return i+a}},{key:"onLevelLoaded",value:function(e,t){var r=this.hls.config,n=t.stats,i=n.total,a=n.bwEstimate;w(i)&&w(a)&&(this.lastLevelLoadSec=8*i/a),t.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)}},{key:"_abandonRulesCheck",value:function(){var e=this.fragCurrent,t=this.partCurrent,r=this.hls,n=r.autoLevelEnabled,i=r.media;if(e&&i){var a=performance.now(),o=t?t.stats:e.stats,s=t?t.duration:e.duration,l=a-o.loading.start;if(o.aborted||o.loaded&&o.loaded===o.total||0===e.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(n&&!i.paused&&i.playbackRate&&i.readyState){var u=r.mainForwardBufferInfo;if(null!==u){var c=this.bwEstimator.getEstimateTTFB(),d=Math.abs(i.playbackRate);if(!(l<=Math.max(c,s/(2*d)*1e3))){var f=u.len/d;if(!(f>=2*s/d)){var h=o.loading.first?o.loading.first-o.loading.start:-1,p=o.loaded&&h>-1,v=this.bwEstimator.getEstimate(),g=r.levels,m=r.minAutoLevel,y=g[e.level],b=o.total||Math.max(o.loaded,Math.round(s*y.maxBitrate/8)),E=l-h;E<1&&p&&(E=Math.min(l,8*o.loaded/v));var T=p?1e3*o.loaded/E:0,k=T?(b-o.loaded)/T:8*b/v+c/1e3;if(!(k<=f)){var S,A=T?8*T:v,_=Number.POSITIVE_INFINITY;for(S=e.level-1;S>m;S--){var I=g[S].maxBitrate;if(_=this.getTimeToLoadFrag(c/1e3,A,s*I,!g[S].details),_<f)break}_>=k||_>10*s||(r.nextLoadLevel=S,p?this.bwEstimator.sample(l-Math.min(c,h),o.loaded):this.bwEstimator.sampleTTFB(l),this.clearTimer(),M.warn("[abr] Fragment ".concat(e.sn).concat(t?" part "+t.index:""," of level ").concat(e.level," is loading too slowly;\n      Time to underbuffer: ").concat(f.toFixed(3)," s\n      Estimated load time for current fragment: ").concat(k.toFixed(3)," s\n      Estimated load time for down switch fragment: ").concat(_.toFixed(3)," s\n      TTFB estimate: ").concat(h,"\n      Current BW estimate: ").concat(w(v)?(v/1024).toFixed(3):"Unknown"," Kb/s\n      New BW estimate: ").concat((this.bwEstimator.getEstimate()/1024).toFixed(3)," Kb/s\n      Aborting and switching to level ").concat(S)),e.loader&&(this.fragCurrent=this.partCurrent=null,e.abortRequests()),r.trigger(L.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:o}))}}}}}}}},{key:"onFragLoaded",value:function(e,t){var r=t.frag,n=t.part,i=n?n.stats:r.stats;if(r.type===ht.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var a=n?n.duration:r.duration,o=this.hls.levels[r.level],s=(o.loaded?o.loaded.bytes:0)+i.loaded,l=(o.loaded?o.loaded.duration:0)+a;o.loaded={bytes:s,duration:l},o.realBitrate=Math.round(8*s/l)}if(r.bitrateTest){var u={stats:i,frag:r,part:n,id:r.type};this.onFragBuffered(L.FRAG_BUFFERED,u),r.bitrateTest=!1}}}},{key:"onFragBuffered",value:function(e,t){var r=t.frag,n=t.part,i=null!=n&&n.stats.loaded?n.stats:r.stats;if(!i.aborted&&!this.ignoreFragment(r)){var a=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}}},{key:"ignoreFragment",value:function(e){return e.type!==ht.MAIN||"initSegment"===e.sn}},{key:"clearTimer",value:function(){self.clearInterval(this.timer)}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(-1!==e&&!t.canEstimate())return e;var r=this.getNextABRAutoLevel();if(-1!==e){var n=this.hls.levels;if(n.length>Math.max(e,r)&&n[e].loadError<=n[r].loadError)return e}return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}},{key:"getNextABRAutoLevel",value:function(){var e=this.fragCurrent,t=this.partCurrent,r=this.hls,n=r.maxAutoLevel,i=r.config,a=r.minAutoLevel,o=r.media,s=t?t.duration:e?e.duration:0,l=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,u=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,c=r.mainForwardBufferInfo,d=(c?c.len:0)/l,f=this.findBestLevel(u,a,n,d,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(f>=0)return f;M.trace("[abr] ".concat(d?"rebuffering expected":"buffer is empty",", finding optimal quality level"));var h=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,p=i.abrBandWidthFactor,v=i.abrBandWidthUpFactor;if(!d){var g=this.bitrateTestDelay;if(g){var m=s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay;h=m-g,M.trace("[abr] bitrate test took ".concat(Math.round(1e3*g),"ms, set first fragment max fetchDuration to ").concat(Math.round(1e3*h)," ms")),p=v=1}}return f=this.findBestLevel(u,a,n,d+h,p,v),Math.max(f,0)}},{key:"findBestLevel",value:function(e,t,r,n,i,a){for(var o,s=this.fragCurrent,l=this.partCurrent,u=this.lastLoadedFragLevel,c=this.hls.levels,d=c[u],f=!(null==d||null==(o=d.details)||!o.live),h=null==d?void 0:d.codecSet,p=l?l.duration:s?s.duration:0,v=this.bwEstimator.getEstimateTTFB()/1e3,g=t,m=-1,y=r;y>=t;y--){var b=c[y];if(!b||h&&b.codecSet!==h)b&&(g=Math.min(y,g),m=Math.max(y,m));else{-1!==m&&M.trace("[abr] Skipped level(s) ".concat(g,"-").concat(m,' with CODECS:"').concat(c[m].attrs.CODECS,'"; not compatible with "').concat(d.attrs.CODECS,'"'));var E=b.details,T=(l?null==E?void 0:E.partTarget:null==E?void 0:E.averagetargetduration)||p,k=void 0;k=y<=u?i*e:a*e;var S=c[y].maxBitrate,A=this.getTimeToLoadFrag(v,k,S*T,void 0===E);if(M.trace("[abr] level:".concat(y," adjustedbw-bitrate:").concat(Math.round(k-S)," avgDuration:").concat(T.toFixed(1)," maxFetchDuration:").concat(n.toFixed(1)," fetchDuration:").concat(A.toFixed(1))),k>S&&(0===A||!w(A)||f&&!this.bitrateTestDelay||A<n))return y}}return-1}}]),e}(),Vn=function(){function e(){(0,h.default)(this,e),this.chunks=[],this.dataLength=0}return(0,p.default)(e,[{key:"push",value:function(e){this.chunks.push(e),this.dataLength+=e.length}},{key:"flush",value:function(){var e,t=this.chunks,r=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var r=new Uint8Array(t),n=0,i=0;i<e.length;i++){var a=e[i];r.set(a,n),n+=a.length}return r}(t,r),this.reset(),e):new Uint8Array(0)}},{key:"reset",value:function(){this.chunks.length=0,this.dataLength=0}}]),e}();var Kn=function(e){(0,u.default)(r,e);var t=y(r);function r(e,n,i){var a;return(0,h.default)(this,r),a=t.call(this,e,n,i,"[audio-stream-controller]",ht.AUDIO),a.videoBuffer=null,a.videoTrackCC=-1,a.waitingVideoCC=-1,a.bufferedTrack=null,a.switchingTrack=null,a.trackId=-1,a.waitingData=null,a.mainDetails=null,a.bufferFlushed=!1,a.cachedTrackLoadedData=null,a._registerListeners(),a}return(0,p.default)(r,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(L.MANIFEST_LOADING,this.onManifestLoading,this),e.on(L.LEVEL_LOADED,this.onLevelLoaded,this),e.on(L.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(L.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(L.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(L.ERROR,this.onError,this),e.on(L.BUFFER_RESET,this.onBufferReset,this),e.on(L.BUFFER_CREATED,this.onBufferCreated,this),e.on(L.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(L.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(L.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(L.MANIFEST_LOADING,this.onManifestLoading,this),e.off(L.LEVEL_LOADED,this.onLevelLoaded,this),e.off(L.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(L.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(L.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(L.ERROR,this.onError,this),e.off(L.BUFFER_RESET,this.onBufferReset,this),e.off(L.BUFFER_CREATED,this.onBufferCreated,this),e.off(L.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(L.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(L.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onInitPtsFound",value:function(e,t){var r=t.frag,n=t.id,i=t.initPTS,a=t.timescale;if("main"===n){var o=r.cc;this.initPTS[r.cc]={baseTime:i,timescale:a},this.log("InitPTS for cc: ".concat(o," found from main: ").concat(i)),this.videoTrackCC=o,this.state===Lr.WAITING_INIT_PTS&&this.tick()}}},{key:"startLoad",value:function(e){if(!this.levels)return this.startPosition=e,void(this.state=Lr.STOPPED);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @".concat(t.toFixed(3))),e=t,this.state=Lr.IDLE):(this.loadedmetadata=!1,this.state=Lr.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}},{key:"doTick",value:function(){switch(this.state){case Lr.IDLE:this.doTickIdle();break;case Lr.WAITING_TRACK:var e,t=this.levels,n=this.trackId,i=null==t||null==(e=t[n])?void 0:e.details;if(i){if(this.waitForCdnTuneIn(i))break;this.state=Lr.WAITING_INIT_PTS}break;case Lr.FRAG_LOADING_WAITING_RETRY:var a,o=performance.now(),s=this.retryDate;(!s||o>=s||null!=(a=this.media)&&a.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=Lr.IDLE);break;case Lr.WAITING_INIT_PTS:var u=this.waitingData;if(u){var c=u.frag,f=u.part,h=u.cache,p=u.complete;if(void 0!==this.initPTS[c.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Lr.FRAG_LOADING;var v=h.flush(),g={frag:c,part:f,payload:v,networkDetails:null};this._handleFragmentLoadProgress(g),p&&(0,l.default)((0,d.default)(r.prototype),"_handleFragmentLoadComplete",this).call(this,g)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc (".concat(c.cc,") cancelled because video is at cc ").concat(this.videoTrackCC)),this.clearWaitingFragment();else{var m=this.getLoadPosition(),y=pr.bufferInfo(this.mediaBuffer,m,this.config.maxBufferHole),b=Yt(y.end,this.config.maxFragLookUpTolerance,c);b<0&&(this.log("Waiting fragment cc (".concat(c.cc,") @ ").concat(c.start," cancelled because another fragment at ").concat(y.end," is needed")),this.clearWaitingFragment())}}else this.state=Lr.IDLE}this.onTickEnd()}},{key:"clearWaitingFragment",value:function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Lr.IDLE)}},{key:"resetLoadingState",value:function(){this.clearWaitingFragment(),(0,l.default)((0,d.default)(r.prototype),"resetLoadingState",this).call(this)}},{key:"onTickEnd",value:function(){var e=this.media;null!=e&&e.readyState&&(this.lastCurrentTime=e.currentTime)}},{key:"doTickIdle",value:function(){var e=this.hls,t=this.levels,r=this.media,n=this.trackId,i=e.config;if(null!=t&&t[n]&&(r||!this.startFragRequested&&i.startFragPrefetch)){var a=t[n],o=a.details;if(!o||o.live&&this.levelLastLoaded!==n||this.waitForCdnTuneIn(o))this.state=Lr.WAITING_TRACK;else{var s=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&s&&(this.bufferFlushed=!1,this.afterBufferFlushed(s,V.AUDIO,ht.AUDIO));var l=this.getFwdBufferInfo(s,ht.AUDIO);if(null!==l){var u=this.bufferedTrack,c=this.switchingTrack;if(!c&&this._streamEnded(l,o))return e.trigger(L.BUFFER_EOS,{type:"audio"}),void(this.state=Lr.ENDED);var d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,ht.MAIN),f=l.len,h=this.getMaxBufferLength(null==d?void 0:d.len);if(!(f>=h)||c){var p=o.fragments,v=p[0].start,g=l.end;if(c&&r){var m=this.getLoadPosition();u&&c.attrs!==u.attrs&&(g=m),o.PTSKnown&&m<v&&(l.end>v||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=v+.05)}var y=this.getNextFragment(g,o),b=!1;if(y&&this.isLoopLoading(y,g)&&(b=!!y.gap,y=this.getNextFragmentLoopLoading(y,o,l,ht.MAIN,h)),y){var E=d&&y.start>d.end+o.targetduration;if(E||(null==d||!d.len)&&l.len){var T=this.getAppendedFrag(y.start,ht.MAIN);if(null===T)return;if(b||(b=!!T.gap||!!E&&0===d.len),E&&!b||b&&l.nextStart&&l.nextStart<T.end)return}this.loadFragment(y,a,g)}else this.bufferFlushed=!0}}}}}},{key:"getMaxBufferLength",value:function(e){var t=(0,l.default)((0,d.default)(r.prototype),"getMaxBufferLength",this).call(this);return e?Math.min(Math.max(t,e),this.config.maxMaxBufferLength):t}},{key:"onMediaDetaching",value:function(){this.videoBuffer=null,(0,l.default)((0,d.default)(r.prototype),"onMediaDetaching",this).call(this)}},{key:"onAudioTracksUpdated",value:function(e,t){var r=t.audioTracks;this.resetTransmuxer(),this.levels=r.map((function(e){return new xt(e)}))}},{key:"onAudioTrackSwitching",value:function(e,t){var r=!!t.url;this.trackId=t.id;var n=this.fragCurrent;n&&(n.abortRequests(),this.removeUnbufferedFrags(n.start)),this.resetLoadingState(),r?this.setInterval(100):this.resetTransmuxer(),r?(this.switchingTrack=t,this.state=Lr.IDLE):(this.switchingTrack=null,this.bufferedTrack=t,this.state=Lr.STOPPED),this.tick()}},{key:"onManifestLoading",value:function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}},{key:"onLevelLoaded",value:function(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(L.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}},{key:"onAudioTrackLoaded",value:function(e,t){var r;if(null!=this.mainDetails){var n=this.levels,i=t.details,a=t.id;if(n){this.log("Track ".concat(a," loaded [").concat(i.startSN,",").concat(i.endSN,"]").concat(i.lastPartSn?"[part-".concat(i.lastPartSn,"-").concat(i.lastPartIndex,"]"):"",",duration:").concat(i.totalduration));var o=n[a],s=0;if(i.live||null!=(r=o.details)&&r.live){var l=this.mainDetails;if(i.fragments[0]||(i.deltaUpdateFailed=!0),i.deltaUpdateFailed||!l)return;!o.details&&i.hasProgramDateTime&&l.hasProgramDateTime?(Tr(i,l),s=i.fragments[0].start):s=this.alignPlaylists(i,o.details)}o.details=i,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(o.details,s),this.state!==Lr.WAITING_TRACK||this.waitForCdnTuneIn(i)||(this.state=Lr.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level ".concat(a))}else this.cachedTrackLoadedData=t}},{key:"_handleFragmentLoadProgress",value:function(e){var t,r=e.frag,n=e.part,i=e.payload,a=this.config,o=this.trackId,s=this.levels;if(s){var l=s[o];if(l){var u=l.details;if(!u)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(r.start);var c=a.defaultAudioCodec||l.audioCodec||"mp4a.40.2",d=this.transmuxer;d||(d=this.transmuxer=new Nn(this.hls,ht.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var f=this.initPTS[r.cc],h=null==(t=r.initSegment)?void 0:t.data;if(void 0!==f){var p=n?n.index:-1,v=-1!==p,g=new vr(r.level,r.sn,r.stats.chunkCount,i.byteLength,p,v);d.push(i,h,c,"",r,n,u.totalduration,!1,g,f)}else{this.log("Unknown video PTS for cc ".concat(r.cc,", waiting for video PTS before demuxing audio frag ").concat(r.sn," of [").concat(u.startSN," ,").concat(u.endSN,"],track ").concat(o));var m=this.waitingData=this.waitingData||{frag:r,part:n,cache:new Vn,complete:!1},y=m.cache;y.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=Lr.WAITING_INIT_PTS}}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment ".concat(r.sn," of level ").concat(r.level," will not be buffered"))}},{key:"_handleFragmentLoadComplete",value:function(e){this.waitingData?this.waitingData.complete=!0:(0,l.default)((0,d.default)(r.prototype),"_handleFragmentLoadComplete",this).call(this,e)}},{key:"onBufferReset",value:function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}},{key:"onBufferCreated",value:function(e,t){var r=t.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}},{key:"onFragBuffered",value:function(e,t){var r,n=t.frag,i=t.part;if(n.type===ht.AUDIO)if(this.fragContextChanged(n))this.warn("Fragment ".concat(n.sn).concat(i?" p: "+i.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state,", audioSwitch: ").concat(this.switchingTrack?this.switchingTrack.name:"false"));else{if("initSegment"!==n.sn){this.fragPrevious=n;var a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(L.AUDIO_TRACK_SWITCHED,S({},a)))}this.fragBufferedComplete(n,i)}else this.loadedmetadata||n.type!==ht.MAIN||null!=(r=this.videoBuffer||this.media)&&r.buffered.length&&(this.loadedmetadata=!0)}},{key:"onError",value:function(e,t){var n;if(t.fatal)this.state=Lr.ERROR;else switch(t.details){case D.FRAG_GAP:case D.FRAG_PARSING_ERROR:case D.FRAG_DECRYPT_ERROR:case D.FRAG_LOAD_ERROR:case D.FRAG_LOAD_TIMEOUT:case D.KEY_LOAD_ERROR:case D.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ht.AUDIO,t);break;case D.AUDIO_TRACK_LOAD_ERROR:case D.AUDIO_TRACK_LOAD_TIMEOUT:case D.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==Lr.WAITING_TRACK||(null==(n=t.context)?void 0:n.type)!==ft.AUDIO_TRACK||(this.state=Lr.IDLE);break;case D.BUFFER_FULL_ERROR:if(!t.parent||"audio"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,(0,l.default)((0,d.default)(r.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case D.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}},{key:"onBufferFlushed",value:function(e,t){var r=t.type;r===V.AUDIO&&(this.bufferFlushed=!0,this.state===Lr.ENDED&&(this.state=Lr.IDLE))}},{key:"_handleTransmuxComplete",value:function(e){var t,r="audio",n=this.hls,i=e.remuxResult,a=e.chunkMeta,o=this.getCurrentContext(a);if(o){var s=o.frag,l=o.part,u=o.level,c=u.details,d=i.audio,f=i.text,h=i.id3,p=i.initSegment;if(!this.fragContextChanged(s)&&c){if(this.state=Lr.PARSING,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=p&&p.tracks){var v=s.initSegment||s;this._bufferInitSegment(p.tracks,v,a),n.trigger(L.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:r,tracks:p.tracks})}if(d){var g=d.startPTS,m=d.endPTS,y=d.startDTS,b=d.endDTS;l&&(l.elementaryStreams[V.AUDIO]={startPTS:g,endPTS:m,startDTS:y,endDTS:b}),s.setElementaryStreamInfo(V.AUDIO,g,m,y,b),this.bufferFragmentData(d,s,l,a)}if(null!=h&&null!=(t=h.samples)&&t.length){var E=_({id:r,frag:s,details:c},h);n.trigger(L.FRAG_PARSING_METADATA,E)}if(f){var T=_({id:r,frag:s,details:c},f);n.trigger(L.FRAG_PARSING_USERDATA,T)}}else this.fragmentTracker.removeFragment(s)}else this.resetWhenMissingContext(a)}},{key:"_bufferInitSegment",value:function(e,t,r){if(this.state===Lr.PARSING){e.video&&delete e.video;var n=e.audio;if(n){n.levelCodec=n.codec,n.id="audio",this.log("Init audio buffer, container:".concat(n.container,", codecs[parsed]=[").concat(n.codec,"]")),this.hls.trigger(L.BUFFER_CODECS,e);var i=n.initSegment;if(null!=i&&i.byteLength){var a={type:"audio",frag:t,part:null,chunkMeta:r,parent:t.type,data:i};this.hls.trigger(L.BUFFER_APPENDING,a)}this.tick()}}}},{key:"loadFragment",value:function(e,t,n){var i,a=this.fragmentTracker.getState(e);(this.fragCurrent=e,this.switchingTrack||a===rr.NOT_LOADED||a===rr.PARTIAL)?"initSegment"===e.sn?this._loadInitSegment(e,t):null!=(i=t.details)&&i.live&&!this.initPTS[e.cc]?(this.log("Waiting for video PTS in continuity counter ".concat(e.cc," of live stream before loading audio fragment ").concat(e.sn," of level ").concat(this.trackId)),this.state=Lr.WAITING_INIT_PTS):(this.startFragRequested=!0,(0,l.default)((0,d.default)(r.prototype),"loadFragment",this).call(this,e,t,n)):this.clearTrackerIfNeeded(e)}},{key:"completeAudioSwitch",value:function(e){var t=this.hls,n=this.media,i=this.bufferedTrack,a=null==i?void 0:i.attrs,o=e.attrs;n&&a&&(a.CHANNELS!==o.CHANNELS||a.NAME!==o.NAME||a.LANGUAGE!==o.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),(0,l.default)((0,d.default)(r.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(L.AUDIO_TRACK_SWITCHED,S({},e))}}]),r}(Ir),$n=function(e){(0,u.default)(r,e);var t=y(r);function r(e){var n;return(0,h.default)(this,r),n=t.call(this,e,"[audio-track-controller]"),n.tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.currentTrack=null,n.selectDefaultTrack=!0,n.registerListeners(),n}return(0,p.default)(r,[{key:"registerListeners",value:function(){var e=this.hls;e.on(L.MANIFEST_LOADING,this.onManifestLoading,this),e.on(L.MANIFEST_PARSED,this.onManifestParsed,this),e.on(L.LEVEL_LOADING,this.onLevelLoading,this),e.on(L.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(L.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(L.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(L.MANIFEST_LOADING,this.onManifestLoading,this),e.off(L.MANIFEST_PARSED,this.onManifestParsed,this),e.off(L.LEVEL_LOADING,this.onLevelLoading,this),e.off(L.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(L.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(L.ERROR,this.onError,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,(0,l.default)((0,d.default)(r.prototype),"destroy",this).call(this)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(e,t){this.tracks=t.audioTracks||[]}},{key:"onAudioTrackLoaded",value:function(e,t){var r=t.id,n=t.groupId,i=t.details,a=this.tracksInGroup[r];if(a&&a.groupId===n){var o=a.details;a.details=t.details,this.log("audio-track ".concat(r,' "').concat(a.name,'" lang:').concat(a.lang," group:").concat(n," loaded [").concat(i.startSN,"-").concat(i.endSN,"]")),r===this.trackId&&this.playlistLoaded(r,t,o)}else this.warn("Track with id:".concat(r," and group:").concat(n," not found in active group ").concat(a.groupId))}},{key:"onLevelLoading",value:function(e,t){this.switchLevel(t.level)}},{key:"onLevelSwitching",value:function(e,t){this.switchLevel(t.level)}},{key:"switchLevel",value:function(e){var t=this.hls.levels[e];if(null!=t&&t.audioGroupIds){var r=t.audioGroupIds[t.urlId];if(this.groupId!==r){this.groupId=r||null;var n=this.tracks.filter((function(e){return!r||e.groupId===r}));this.selectDefaultTrack&&!n.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=n;var i={audioTracks:n};this.log("Updating audio tracks, ".concat(n.length," track(s) found in group:").concat(r)),this.hls.trigger(L.AUDIO_TRACKS_UPDATED,i),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&t.context.type===ft.AUDIO_TRACK&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(t))}},{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}},{key:"setAudioTrack",value:function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var r=this.currentTrack;t[this.trackId];var n=t[e],i=n.groupId,a=n.name;if(this.log("Switching to audio-track ".concat(e,' "').concat(a,'" lang:').concat(n.lang," group:").concat(i)),this.trackId=e,this.currentTrack=n,this.selectDefaultTrack=!1,this.hls.trigger(L.AUDIO_TRACK_SWITCHING,S({},n)),!n.details||n.details.live){var o=this.switchParams(n.url,null==r?void 0:r.details);this.loadPlaylist(o)}}}},{key:"selectInitialTrack",value:function(){var e=this.tracksInGroup,t=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==t)this.setAudioTrack(t);else{var r=new Error("No track found for running audio group-ID: ".concat(this.groupId," track count: ").concat(e.length));this.warn(r.message),this.hls.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:r})}}},{key:"findTrackId",value:function(e){for(var t=this.tracksInGroup,r=0;r<t.length;r++){var n=t[r];if(!this.selectDefaultTrack||n.default){if(!e||void 0!==e.attrs["STABLE-RENDITION-ID"]&&e.attrs["STABLE-RENDITION-ID"]===n.attrs["STABLE-RENDITION-ID"])return n.id;if(e.name===n.name&&e.lang===n.lang)return n.id}}return-1}},{key:"loadPlaylist",value:function(e){(0,l.default)((0,d.default)(r.prototype),"loadPlaylist",this).call(this);var t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){var n=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(o))}this.log("loading audio-track playlist ".concat(n,' "').concat(t.name,'" lang:').concat(t.lang," group:").concat(i)),this.clearTimer(),this.hls.trigger(L.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}}}]),r}(Jt);function Yn(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!zn(e[r].attrs,t[r].attrs))return!1;return!0}function zn(e,t){var r=e["STABLE-RENDITION-ID"];return r?r===t["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some((function(r){return e[r]!==t[r]}))}var Wn=function(e){(0,u.default)(r,e);var t=y(r);function r(e,n,i){var a;return(0,h.default)(this,r),a=t.call(this,e,n,i,"[subtitle-stream-controller]",ht.SUBTITLE),a.levels=[],a.currentTrackId=-1,a.tracksBuffered=[],a.mainDetails=null,a._registerListeners(),a}return(0,p.default)(r,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.mainDetails=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(L.MANIFEST_LOADING,this.onManifestLoading,this),e.on(L.LEVEL_LOADED,this.onLevelLoaded,this),e.on(L.ERROR,this.onError,this),e.on(L.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(L.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(L.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(L.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(L.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(L.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(L.MANIFEST_LOADING,this.onManifestLoading,this),e.off(L.LEVEL_LOADED,this.onLevelLoaded,this),e.off(L.ERROR,this.onError,this),e.off(L.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(L.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(L.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(L.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(L.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(L.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"startLoad",value:function(e){this.stopLoad(),this.state=Lr.IDLE,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}},{key:"onManifestLoading",value:function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}},{key:"onMediaDetaching",value:function(){this.tracksBuffered=[],(0,l.default)((0,d.default)(r.prototype),"onMediaDetaching",this).call(this)}},{key:"onLevelLoaded",value:function(e,t){this.mainDetails=t.details}},{key:"onSubtitleFragProcessed",value:function(e,t){var r=t.frag,n=t.success;if(this.fragPrevious=r,this.state=Lr.IDLE,n){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var a,o=r.start,s=0;s<i.length;s++)if(o>=i[s].start&&o<=i[s].end){a=i[s];break}var l=r.start+r.duration;a?a.end=l:(a={start:o,end:l},i.push(a)),this.fragmentTracker.fragBuffered(r)}}}},{key:"onBufferFlushing",value:function(e,t){var r=t.startOffset,n=t.endOffset;if(0===r&&n!==Number.POSITIVE_INFINITY){var i=this.currentTrackId,a=this.levels;if(!a.length||!a[i]||!a[i].details)return;var o=a[i].details,s=o.targetduration,l=n-s;if(l<=0)return;t.endOffsetSubtitles=Math.max(0,l),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=l)e.shift();else{if(!(e[t].start<l))break;e[t].start=l,t++}})),this.fragmentTracker.removeFragmentsInRange(r,l,ht.SUBTITLE)}}},{key:"onFragBuffered",value:function(e,t){var r;this.loadedmetadata||t.frag.type!==ht.MAIN||null!=(r=this.media)&&r.buffered.length&&(this.loadedmetadata=!0)}},{key:"onError",value:function(e,t){var r=t.frag;(null==r?void 0:r.type)===ht.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Lr.STOPPED&&(this.state=Lr.IDLE))}},{key:"onSubtitleTracksUpdated",value:function(e,t){var r=this,n=t.subtitleTracks;Yn(this.levels,n)?this.levels=n.map((function(e){return new xt(e)})):(this.tracksBuffered=[],this.levels=n.map((function(e){var t=new xt(e);return r.tracksBuffered[t.id]=[],t})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,ht.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null)}},{key:"onSubtitleTrackSwitch",value:function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}else this.clearInterval()}},{key:"onSubtitleTrackLoaded",value:function(e,t){var r,n=t.details,i=t.id,a=this.currentTrackId,o=this.levels;if(o.length){var s=o[a];if(!(i>=o.length||i!==a)&&s){this.mediaBuffer=this.mediaBufferTimeRanges;var l=0;if(n.live||null!=(r=s.details)&&r.live){var u=this.mainDetails;if(n.deltaUpdateFailed||!u)return;var c=u.fragments[0];s.details?(l=this.alignPlaylists(n,s.details),0===l&&c&&(l=c.start,Ft(n,l))):n.hasProgramDateTime&&u.hasProgramDateTime?(Tr(n,u),l=n.fragments[0].start):c&&(l=c.start,Ft(n,l))}if(s.details=n,this.levelLastLoaded=i,this.startFragRequested||!this.mainDetails&&n.live||this.setStartPosition(s.details,l),this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===Lr.IDLE){var d=$t(null,n.fragments,this.media.currentTime,0);d||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0)}}}}},{key:"_handleFragmentLoadComplete",value:function(e){var t=this,r=e.frag,n=e.payload,i=r.decryptdata,a=this.hls;if(!this.fragContextChanged(r)&&n&&n.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var o=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer).catch((function(e){throw a.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:r}),e})).then((function(e){var t=performance.now();a.trigger(L.FRAG_DECRYPTED,{frag:r,payload:e,stats:{tstart:o,tdecrypt:t}})})).catch((function(e){t.warn("".concat(e.name,": ").concat(e.message)),t.state=Lr.IDLE}))}}},{key:"doTick",value:function(){if(this.media){if(this.state===Lr.IDLE){var e=this.currentTrackId,t=this.levels,r=t[e];if(!t.length||!r||!r.details)return;var n=r.details,i=n.targetduration,a=this.config,o=this.getLoadPosition(),s=pr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],o-i,a.maxBufferHole),l=s.end,u=s.len,c=this.getFwdBufferInfo(this.media,ht.MAIN),d=this.getMaxBufferLength(null==c?void 0:c.len)+i;if(u>d)return;var f=n.fragments,h=f.length,p=n.edge,v=null,g=this.fragPrevious;if(l<p){var m=a.maxFragLookUpTolerance;v=$t(g,f,Math.max(f[0].start,l),m),!v&&g&&g.start<f[0].start&&(v=f[0])}else v=f[h-1];if(!v)return;v=this.mapToInitFragWhenRequired(v),this.fragmentTracker.getState(v)===rr.NOT_LOADED&&this.loadFragment(v,r,l)}}else this.state=Lr.IDLE}},{key:"getMaxBufferLength",value:function(e){var t=(0,l.default)((0,d.default)(r.prototype),"getMaxBufferLength",this).call(this);return e?Math.max(t,e):t}},{key:"loadFragment",value:function(e,t,n){this.fragCurrent=e,"initSegment"===e.sn?this._loadInitSegment(e,t):(this.startFragRequested=!0,(0,l.default)((0,d.default)(r.prototype),"loadFragment",this).call(this,e,t,n))}},{key:"mediaBufferTimeRanges",get:function(){return new Qn(this.tracksBuffered[this.currentTrackId]||[])}}]),r}(Ir),Qn=(0,p.default)((function e(t){(0,h.default)(this,e),this.buffered=void 0;var r=function(e,r,n){if(r>>>=0,r>n-1)throw new DOMException("Failed to execute '".concat(e,"' on 'TimeRanges': The index provided (").concat(r,") is greater than the maximum bound (").concat(n,")"));return t[r][e]};this.buffered={get length(){return t.length},end:function(e){return r("end",e,t.length)},start:function(e){return r("start",e,t.length)}}})),qn=function(e){(0,u.default)(r,e);var t=y(r);function r(e){var n;return(0,h.default)(this,r),n=t.call(this,e,"[subtitle-track-controller]"),n.media=null,n.tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.selectDefaultTrack=!0,n.queuedDefaultTrack=-1,n.trackChangeListener=function(){return n.onTextTracksChanged()},n.asyncPollTrackChange=function(){return n.pollTrackChange(0)},n.useTextTrackPolling=!1,n.subtitlePollingInterval=-1,n._subtitleDisplay=!0,n.registerListeners(),n}return(0,p.default)(r,[{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,(0,l.default)((0,d.default)(r.prototype),"destroy",this).call(this)}},{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"registerListeners",value:function(){var e=this.hls;e.on(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(L.MANIFEST_LOADING,this.onManifestLoading,this),e.on(L.MANIFEST_PARSED,this.onManifestParsed,this),e.on(L.LEVEL_LOADING,this.onLevelLoading,this),e.on(L.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(L.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(L.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(L.MANIFEST_LOADING,this.onManifestLoading,this),e.off(L.MANIFEST_PARSED,this.onManifestParsed,this),e.off(L.LEVEL_LOADING,this.onLevelLoading,this),e.off(L.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(L.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(L.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}},{key:"pollTrackChange",value:function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)}},{key:"onMediaDetaching",value:function(){if(this.media){self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);var e=Xn(this.media.textTracks);e.forEach((function(e){bt(e)})),this.subtitleTrack=-1,this.media=null}}},{key:"onManifestLoading",value:function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(e,t){this.tracks=t.subtitleTracks}},{key:"onSubtitleTrackLoaded",value:function(e,t){var r=t.id,n=t.details,i=this.trackId,a=this.tracksInGroup[i];if(a){var o=a.details;a.details=t.details,this.log("subtitle track ".concat(r," loaded [").concat(n.startSN,"-").concat(n.endSN,"]")),r===this.trackId&&this.playlistLoaded(r,t,o)}else this.warn("Invalid subtitle track id ".concat(r))}},{key:"onLevelLoading",value:function(e,t){this.switchLevel(t.level)}},{key:"onLevelSwitching",value:function(e,t){this.switchLevel(t.level)}},{key:"switchLevel",value:function(e){var t=this.hls.levels[e];if(null!=t&&t.textGroupIds){var r=t.textGroupIds[t.urlId],n=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==r){var i=this.tracks.filter((function(e){return!r||e.groupId===r}));this.tracksInGroup=i;var a=this.findTrackId(null==n?void 0:n.name)||this.findTrackId();this.groupId=r||null;var o={subtitleTracks:i};this.log("Updating subtitle tracks, ".concat(i.length,' track(s) found in "').concat(r,'" group-id')),this.hls.trigger(L.SUBTITLE_TRACKS_UPDATED,o),-1!==a&&this.setSubtitleTrack(a,n)}else this.shouldReloadPlaylist(n)&&this.setSubtitleTrack(this.trackId,n)}}},{key:"findTrackId",value:function(e){for(var t=this.tracksInGroup,r=0;r<t.length;r++){var n=t[r];if((!this.selectDefaultTrack||n.default)&&(!e||e===n.name))return n.id}return-1}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&t.context.type===ft.SUBTITLE_TRACK&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&this.checkRetry(t)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}},{key:"loadPlaylist",value:function(e){(0,l.default)((0,d.default)(r.prototype),"loadPlaylist",this).call(this);var t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){var n=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(o))}this.log("Loading subtitle playlist for id ".concat(n)),this.hls.trigger(L.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}}},{key:"toggleTrackModes",value:function(e){var t=this,r=this.media,n=this.trackId;if(r){var i=Xn(r.textTracks),a=i.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(i).forEach((function(e){e.mode="disabled"}));else{var o=a[n];o&&(o.mode="disabled")}var s=a[e];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}}},{key:"setSubtitleTrack",value:function(e,t){var r,n=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!=(r=n[e])&&r.details)||e<-1||e>=n.length)){this.clearTimer();var i=n[e];if(this.log("Switching to subtitle-track ".concat(e)+(i?' "'.concat(i.name,'" lang:').concat(i.lang," group:").concat(i.groupId):"")),this.trackId=e,i){var a=i.id,o=i.groupId,s=void 0===o?"":o,l=i.name,u=i.type,c=i.url;this.hls.trigger(L.SUBTITLE_TRACK_SWITCH,{id:a,groupId:s,name:l,type:u,url:c});var d=this.switchParams(i.url,null==t?void 0:t.details);this.loadPlaylist(d)}else this.hls.trigger(L.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e}},{key:"onTextTracksChanged",value:function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=Xn(this.media.textTracks),r=0;r<t.length;r++)if("hidden"===t[r].mode)e=r;else if("showing"===t[r].mode){e=r;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}}}]),r}(Jt);function Xn(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"subtitles"!==n.kind&&"captions"!==n.kind||!n.label||t.push(e[r])}return t}var Jn=function(){function e(t){(0,h.default)(this,e),this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}return(0,p.default)(e,[{key:"append",value:function(e,t){var r=this.queues[t];r.push(e),1===r.length&&this.buffers[t]&&this.executeNext(t)}},{key:"insertAbort",value:function(e,t){var r=this.queues[t];r.unshift(e),this.executeNext(t)}},{key:"appendBlocker",value:function(e){var t,r=new Promise((function(e){t=e})),n={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(n,e),r}},{key:"executeNext",value:function(e){var t=this.buffers,r=this.queues,n=t[e],i=r[e];if(i.length){var a=i[0];try{a.execute()}catch(o){M.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(o),null!=n&&n.updating||(i.shift(),this.executeNext(e))}}}},{key:"shiftAndExecuteNext",value:function(e){this.queues[e].shift(),this.executeNext(e)}},{key:"current",value:function(e){return this.queues[e][0]}}]),e}(),Zn=Qe(),ei=/([ha]vc.)(?:\.[^.,]+)+/,ti=function(){function e(t){var r=this;(0,h.default)(this,e),this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=r.media,t=r.mediaSource;M.log("[buffer-controller]: Media source opened"),e&&(e.removeEventListener("emptied",r._onMediaEmptied),r.updateMediaElementDuration(),r.hls.trigger(L.MEDIA_ATTACHED,{media:e})),t&&t.removeEventListener("sourceopen",r._onMediaSourceOpen),r.checkPendingTracks()},this._onMediaSourceClose=function(){M.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){M.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var e=r.media,t=r._objectUrl;e&&e.src!==t&&M.error("Media element src was set while attaching MediaSource (".concat(t," > ").concat(e.src,")"))},this.hls=t,this._initSourceBuffer(),this.registerListeners()}return(0,p.default)(e,[{key:"hasSourceTypes",value:function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}},{key:"destroy",value:function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}},{key:"registerListeners",value:function(){var e=this.hls;e.on(L.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(L.MANIFEST_LOADING,this.onManifestLoading,this),e.on(L.MANIFEST_PARSED,this.onManifestParsed,this),e.on(L.BUFFER_RESET,this.onBufferReset,this),e.on(L.BUFFER_APPENDING,this.onBufferAppending,this),e.on(L.BUFFER_CODECS,this.onBufferCodecs,this),e.on(L.BUFFER_EOS,this.onBufferEos,this),e.on(L.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(L.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(L.FRAG_PARSED,this.onFragParsed,this),e.on(L.FRAG_CHANGED,this.onFragChanged,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(L.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(L.MANIFEST_LOADING,this.onManifestLoading,this),e.off(L.MANIFEST_PARSED,this.onManifestParsed,this),e.off(L.BUFFER_RESET,this.onBufferReset,this),e.off(L.BUFFER_APPENDING,this.onBufferAppending,this),e.off(L.BUFFER_CODECS,this.onBufferCodecs,this),e.off(L.BUFFER_EOS,this.onBufferEos,this),e.off(L.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(L.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(L.FRAG_PARSED,this.onFragParsed,this),e.off(L.FRAG_CHANGED,this.onFragChanged,this)}},{key:"_initSourceBuffer",value:function(){this.sourceBuffer={},this.operationQueue=new Jn(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}},{key:"onManifestLoading",value:function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}},{key:"onManifestParsed",value:function(e,t){var r=2;(t.audio&&!t.video||!t.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,M.log("".concat(this.bufferCodecEventsExpected," bufferCodec event(s) expected"))}},{key:"onMediaAttaching",value:function(e,t){var r=this.media=t.media;if(r&&Zn){var n=this.mediaSource=new Zn;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),r.src=self.URL.createObjectURL(n),this._objectUrl=r.src,r.addEventListener("emptied",this._onMediaEmptied)}}},{key:"onMediaDetaching",value:function(){var e=this.media,t=this.mediaSource,r=this._objectUrl;if(t){if(M.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(ma){M.warn("[buffer-controller]: onMediaDetaching: ".concat(ma.message," while calling endOfStream"))}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(e.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),e.src===r?(e.removeAttribute("src"),e.load()):M.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(L.MEDIA_DETACHED,void 0)}},{key:"onBufferReset",value:function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var r=e.sourceBuffer[t];try{r&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(r),e.sourceBuffer[t]=void 0)}catch(ma){M.warn("[buffer-controller]: Failed to reset the ".concat(t," buffer"),ma)}})),this._initSourceBuffer()}},{key:"onBufferCodecs",value:function(e,t){var r=this,n=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(n){var i=r.tracks[e];if(i&&"function"===typeof i.buffer.changeType){var a=t[e],o=a.id,s=a.codec,l=a.levelCodec,u=a.container,c=a.metadata,d=(i.levelCodec||i.codec).replace(ei,"$1"),f=(l||s).replace(ei,"$1");if(d!==f){var h="".concat(u,";codecs=").concat(l||s);r.appendChangeType(e,h),M.log("[buffer-controller]: switching codec ".concat(d," to ").concat(f)),r.tracks[e]={buffer:i.buffer,codec:s,container:u,levelCodec:l,metadata:c,id:o}}}}else r.pendingTracks[e]=t[e]})),n||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}},{key:"appendChangeType",value:function(e,t){var r=this,n=this.operationQueue,i={execute:function(){var i=r.sourceBuffer[e];i&&(M.log("[buffer-controller]: changing ".concat(e," sourceBuffer type to ").concat(t)),i.changeType(t)),n.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){M.warn("[buffer-controller]: Failed to change ".concat(e," SourceBuffer type"),t)}};n.append(i,e)}},{key:"onBufferAppending",value:function(e,t){var r=this,n=this.hls,i=this.operationQueue,a=this.tracks,o=t.data,s=t.type,l=t.frag,u=t.part,c=t.chunkMeta,d=c.buffering[s],f=self.performance.now();d.start=f;var h=l.stats.buffering,p=u?u.stats.buffering:null;0===h.start&&(h.start=f),p&&0===p.start&&(p.start=f);var v=a.audio,g=!1;"audio"===s&&"audio/mpeg"===(null==v?void 0:v.container)&&(g=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);var m=l.start,y={execute:function(){if(d.executeStart=self.performance.now(),g){var e=r.sourceBuffer[s];if(e){var t=m-e.timestampOffset;Math.abs(t)>=.1&&(M.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to ".concat(m," (delta: ").concat(t,") sn: ").concat(l.sn,")")),e.timestampOffset=m)}}r.appendExecutor(o,s)},onStart:function(){},onComplete:function(){var e=self.performance.now();d.executeEnd=d.end=e,0===h.first&&(h.first=e),p&&0===p.first&&(p.first=e);var t=r.sourceBuffer,n={};for(var i in t)n[i]=pr.getBuffered(t[i]);r.appendError=0,r.hls.trigger(L.BUFFER_APPENDED,{type:s,frag:l,part:u,chunkMeta:c,parent:l.type,timeRanges:n})},onError:function(e){M.error("[buffer-controller]: Error encountered while trying to append to the ".concat(s," SourceBuffer"),e);var t={type:I.MEDIA_ERROR,parent:l.type,details:D.BUFFER_APPEND_ERROR,frag:l,part:u,chunkMeta:c,error:e,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=D.BUFFER_FULL_ERROR:(r.appendError++,t.details=D.BUFFER_APPEND_ERROR,r.appendError>n.config.appendErrorMaxRetry&&(M.error("[buffer-controller]: Failed ".concat(n.config.appendErrorMaxRetry," times to append segment in sourceBuffer")),t.fatal=!0)),n.trigger(L.ERROR,t)}};i.append(y,s)}},{key:"onBufferFlushing",value:function(e,t){var r=this,n=this.operationQueue,i=function(e){return{execute:r.removeExecutor.bind(r,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){r.hls.trigger(L.BUFFER_FLUSHED,{type:e})},onError:function(t){M.warn("[buffer-controller]: Failed to remove from ".concat(e," SourceBuffer"),t)}}};t.type?n.append(i(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){n.append(i(e),e)}))}},{key:"onFragParsed",value:function(e,t){var r=this,n=t.frag,i=t.part,a=[],o=i?i.elementaryStreams:n.elementaryStreams;o[V.AUDIOVIDEO]?a.push("audiovideo"):(o[V.AUDIO]&&a.push("audio"),o[V.VIDEO]&&a.push("video"));0===a.length&&M.warn("Fragments must have at least one ElementaryStreamType set. type: ".concat(n.type," level: ").concat(n.level," sn: ").concat(n.sn)),this.blockBuffers((function(){var e=self.performance.now();n.stats.buffering.end=e,i&&(i.stats.buffering.end=e);var t=i?i.stats:n.stats;r.hls.trigger(L.FRAG_BUFFERED,{frag:n,part:i,stats:t,id:n.type})}),a)}},{key:"onFragChanged",value:function(e,t){this.flushBackBuffer()}},{key:"onBufferEos",value:function(e,t){var r=this,n=this.getSourceBufferTypes().reduce((function(e,n){var i=r.sourceBuffer[n];return!i||t.type&&t.type!==n||(i.ending=!0,i.ended||(i.ended=!0,M.log("[buffer-controller]: ".concat(n," sourceBuffer now EOS")))),e&&!(i&&!i.ended)}),!0);n&&(M.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers((function(){r.getSourceBufferTypes().forEach((function(e){var t=r.sourceBuffer[e];t&&(t.ending=!1)}));var e=r.mediaSource;e&&"open"===e.readyState?(M.log("[buffer-controller]: Calling mediaSource.endOfStream()"),e.endOfStream()):e&&M.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ".concat(e.readyState))})))}},{key:"onLevelUpdated",value:function(e,t){var r=t.details;r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}},{key:"flushBackBuffer",value:function(){var e=this.hls,t=this.details,r=this.media,n=this.sourceBuffer;if(r&&null!==t){var i=this.getSourceBufferTypes();if(i.length){var a=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(w(a)&&!(a<0)){var o=r.currentTime,s=t.levelTargetDuration,l=Math.max(a,s),u=Math.floor(o/s)*s-l;i.forEach((function(r){var i=n[r];if(i){var a=pr.getBuffered(i);if(a.length>0&&u>a.start(0)){if(e.trigger(L.BACK_BUFFER_REACHED,{bufferEnd:u}),t.live)e.trigger(L.LIVE_BACK_BUFFER_REACHED,{bufferEnd:u});else if(i.ended&&a.end(a.length-1)-o<2*s)return void M.info("[buffer-controller]: Cannot flush ".concat(r," back buffer while SourceBuffer is in ended state"));e.trigger(L.BUFFER_FLUSHING,{startOffset:0,endOffset:u,type:r})}}}))}}}}},{key:"updateMediaElementDuration",value:function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,r=this.media,n=this.mediaSource,i=e.fragments[0].start+e.totalduration,a=r.duration,o=w(n.duration)?n.duration:0;e.live&&t.config.liveDurationInfinity?(M.log("[buffer-controller]: Media Source duration is set to Infinity"),n.duration=1/0,this.updateSeekableRange(e)):(i>o&&i>a||!w(a))&&(M.log("[buffer-controller]: Updating Media Source duration to ".concat(i.toFixed(3))),n.duration=i)}}},{key:"updateSeekableRange",value:function(e){var t=this.mediaSource,r=e.fragments,n=r.length;if(n&&e.live&&null!=t&&t.setLiveSeekableRange){var i=Math.max(0,r[0].start),a=Math.max(i,i+e.totalduration);t.setLiveSeekableRange(i,a)}}},{key:"checkPendingTracks",value:function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,r=this.pendingTracks,n=Object.keys(r).length;if(n&&!e||2===n){this.createSourceBuffers(r),this.pendingTracks={};var i=this.getSourceBufferTypes();if(i.length)this.hls.trigger(L.BUFFER_CREATED,{tracks:this.tracks}),i.forEach((function(e){t.executeNext(e)}));else{var a=new Error("could not create source buffer for media codec(s)");this.hls.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(var n in e)if(!t[n]){var i=e[n];if(!i)throw Error("source buffer exists for track ".concat(n,", however track does not"));var a=i.levelCodec||i.codec,o="".concat(i.container,";codecs=").concat(a);M.log("[buffer-controller]: creating sourceBuffer(".concat(o,")"));try{var s=t[n]=r.addSourceBuffer(o),l=n;this.addBufferListener(l,"updatestart",this._onSBUpdateStart),this.addBufferListener(l,"updateend",this._onSBUpdateEnd),this.addBufferListener(l,"error",this._onSBUpdateError),this.tracks[n]={buffer:s,codec:a,container:i.container,levelCodec:i.levelCodec,metadata:i.metadata,id:i.id}}catch(ma){M.error("[buffer-controller]: error while trying to add sourceBuffer: ".concat(ma.message)),this.hls.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:ma,mimeType:o})}}}},{key:"_onSBUpdateStart",value:function(e){var t=this.operationQueue,r=t.current(e);r.onStart()}},{key:"_onSBUpdateEnd",value:function(e){var t=this.operationQueue,r=t.current(e);r.onComplete(),t.shiftAndExecuteNext(e)}},{key:"_onSBUpdateError",value:function(e,t){var r=new Error("".concat(e," SourceBuffer error"));M.error("[buffer-controller]: ".concat(r),t),this.hls.trigger(L.ERROR,{type:I.MEDIA_ERROR,details:D.BUFFER_APPENDING_ERROR,error:r,fatal:!1});var n=this.operationQueue.current(e);n&&n.onError(t)}},{key:"removeExecutor",value:function(e,t,r){var n=this.media,i=this.mediaSource,a=this.operationQueue,o=this.sourceBuffer,s=o[e];if(!n||!i||!s)return M.warn("[buffer-controller]: Attempting to remove from the ".concat(e," SourceBuffer, but it does not exist")),void a.shiftAndExecuteNext(e);var l=w(n.duration)?n.duration:1/0,u=w(i.duration)?i.duration:1/0,c=Math.max(0,t),d=Math.min(r,l,u);d>c&&!s.ending?(s.ended=!1,M.log("[buffer-controller]: Removing [".concat(c,",").concat(d,"] from the ").concat(e," SourceBuffer")),s.remove(c,d)):a.shiftAndExecuteNext(e)}},{key:"appendExecutor",value:function(e,t){var r=this.operationQueue,n=this.sourceBuffer,i=n[t];if(!i)return M.warn("[buffer-controller]: Attempting to append to the ".concat(t," SourceBuffer, but it does not exist")),void r.shiftAndExecuteNext(t);i.ended=!1,i.appendBuffer(e)}},{key:"blockBuffers",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSourceBufferTypes();if(!r.length)return M.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);var n=this.operationQueue,i=r.map((function(e){return n.appendBlocker(e)}));Promise.all(i).then((function(){e(),r.forEach((function(e){var r=t.sourceBuffer[e];null!=r&&r.updating||n.shiftAndExecuteNext(e)}))}))}},{key:"getSourceBufferTypes",value:function(){return Object.keys(this.sourceBuffer)}},{key:"addBufferListener",value:function(e,t,r){var n=this.sourceBuffer[e];if(n){var i=r.bind(this,e);this.listeners[e].push({event:t,listener:i}),n.addEventListener(t,i)}}},{key:"removeBufferListeners",value:function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))}}]),e}(),ri={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ni=function(e){var t=e;return ri.hasOwnProperty(e)&&(t=ri[e]),String.fromCharCode(t)},ii={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ai={17:2,18:4,21:6,22:8,23:10,19:13,20:15},oi={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},si={25:2,26:4,29:6,30:8,31:10,27:13,28:15},li=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],ui=function(){function e(){(0,h.default)(this,e),this.time=null,this.verboseLevel=0}return(0,p.default)(e,[{key:"log",value:function(e,t){if(this.verboseLevel>=e){var r="function"===typeof t?t():t;M.log("".concat(this.time," [").concat(e,"] ").concat(r))}}}]),e}(),ci=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},di=function(){function e(t,r,n,i,a){(0,h.default)(this,e),this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=r||!1,this.italics=n||!1,this.background=i||"black",this.flash=a||!1}return(0,p.default)(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),fi=function(){function e(t,r,n,i,a,o){(0,h.default)(this,e),this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new di(r,n,i,a,o)}return(0,p.default)(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),hi=function(){function e(t){(0,h.default)(this,e),this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var r=0;r<100;r++)this.chars.push(new fi);this.logger=t,this.pos=0,this.currPenState=new di}return(0,p.default)(e,[{key:"equals",value:function(e){for(var t=!0,r=0;r<100;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=100)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){var t=this;e>=144&&this.backSpace();var r=ni(e);this.pos>=100?this.logger.log(0,(function(){return"Cannot insert "+e.toString(16)+" ("+r+") at position "+t.pos+". Skipping it!"})):(this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1))}},{key:"clearFromPos",value:function(e){var t;for(t=e;t<100;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,r=0;r<100;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e);var t=this.chars[this.pos];t.setPenState(this.currPenState)}}]),e}(),pi=function(){function e(t){(0,h.default)(this,e),this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var r=0;r<15;r++)this.rows.push(new hi(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}return(0,p.default)(e,[{key:"reset",value:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14}},{key:"equals",value:function(e){for(var t=!0,r=0;r<15;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){var e=this.rows[this.currRow];e.backSpace()}},{key:"clearToEndOfRow",value:function(){var e=this.rows[this.currRow];e.clearToEndOfRow()}},{key:"insertChar",value:function(e){var t=this.rows[this.currRow];t.insertChar(e)}},{key:"setPen",value:function(e){var t=this.rows[this.currRow];t.setPenStyles(e)}},{key:"moveCursor",value:function(e){var t=this.rows[this.currRow];t.moveCursor(e)}},{key:"setCursor",value:function(e){this.logger.log(2,"setCursor: "+e);var t=this.rows[this.currRow];t.setCursor(e)}},{key:"setPAC",value:function(e){this.logger.log(2,(function(){return"pacData = "+JSON.stringify(e)}));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<15;r++)this.rows[r].clear();var n=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[n].cueStartTime,o=this.logger.time;if(a&&null!==o&&a<o)for(var s=0;s<this.nrRollUpRows;s++)this.rows[t-this.nrRollUpRows+s+1].copy(i.rows[n+s])}}this.currRow=t;var l=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,c=Math.max(u-1,0);l.setCursor(e.indent),e.color=l.chars[c].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)}},{key:"setBkgData",value:function(e){this.logger.log(2,(function(){return"bkgData = "+JSON.stringify(e)})),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){var e=this;if(null!==this.nrRollUpRows){this.logger.log(1,(function(){return e.getDisplayText()}));var t=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(t,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],r="",n=-1,i=0;i<15;i++){var a=this.rows[i].getTextString();a&&(n=i+1,e?t.push("Row "+n+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),vi=function(){function e(t,r,n){(0,h.default)(this,e),this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new pi(n),this.nonDisplayedMemory=new pi(n),this.lastOutputScreen=new pi(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}return(0,p.default)(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,this.logger.log(2,(function(){return"MODE="+e})),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=this,r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(function(){return n+": "+t.writeScreen.getDisplayText(!0)})),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(function(){return"DISPLAYED: "+t.displayedMemory.getDisplayText(!0)})),this.outputDataUpdate())}},{key:"ccRCL",value:function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}},{key:"ccCR",value:function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}},{key:"ccENM",value:function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){var e=this;if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(function(){return"DISP: "+e.displayedMemory.getDisplayText()}))}this.outputDataUpdate(!0)}},{key:"ccTO",value:function(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),gi=function(){function e(t,r,n){(0,h.default)(this,e),this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var i=new ui;this.channels=[null,new vi(t,r,i),new vi(t+1,n,i)],this.cmdHistory=bi(),this.logger=i}return(0,p.default)(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var r,n,i,a=!1;this.logger.time=e;for(var o=0;o<t.length;o+=2)if(n=127&t[o],i=127&t[o+1],0!==n||0!==i){if(this.logger.log(3,"["+ci([t[o],t[o+1]])+"] -> ("+ci([n,i])+")"),r=this.parseCmd(n,i),r||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r&&(a=this.parseChars(n,i),a)){var s=this.currentChannel;if(s&&s>0){var l=this.channels[s];l.insertChars(a)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}r||a||this.logger.log(2,"Couldn't parse cleaned data "+ci([n,i])+" orig: "+ci([t[o],t[o+1]]))}}},{key:"parseCmd",value:function(e,t){var r=this.cmdHistory,n=(20===e||28===e||21===e||29===e)&&t>=32&&t<=47,i=(23===e||31===e)&&t>=33&&t<=35;if(!n&&!i)return!1;if(yi(e,t,r))return mi(null,null,r),this.logger.log(3,"Repeated command ("+ci([e,t])+") is dropped"),!0;var a=20===e||21===e||23===e?1:2,o=this.channels[a];return 20===e||21===e||28===e||29===e?32===t?o.ccRCL():33===t?o.ccBS():34===t?o.ccAOF():35===t?o.ccAON():36===t?o.ccDER():37===t?o.ccRU(2):38===t?o.ccRU(3):39===t?o.ccRU(4):40===t?o.ccFON():41===t?o.ccRDC():42===t?o.ccTR():43===t?o.ccRTD():44===t?o.ccEDM():45===t?o.ccCR():46===t?o.ccENM():47===t&&o.ccEOC():o.ccTO(t-32),mi(e,t,r),this.currentChannel=a,!0}},{key:"parseMidrow",value:function(e,t){var r=0;if((17===e||25===e)&&t>=32&&t<=47){if(r=17===e?1:2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var n=this.channels[r];return!!n&&(n.ccMIDROW(t),this.logger.log(3,"MIDROW ("+ci([e,t])+")"),!0)}return!1}},{key:"parsePAC",value:function(e,t){var r,n=this.cmdHistory,i=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,a=(16===e||24===e)&&t>=64&&t<=95;if(!i&&!a)return!1;if(yi(e,t,n))return mi(null,null,n),!0;var o=e<=23?1:2;r=t>=64&&t<=95?1===o?ii[e]:oi[e]:1===o?ai[e]:si[e];var s=this.channels[o];return!!s&&(s.setPAC(this.interpretPAC(r,t)),mi(e,t,n),this.currentChannel=o,!0)}},{key:"interpretPAC",value:function(e,t){var r,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1===(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n}},{key:"parseChars",value:function(e,t){var r,n,i=null,a=null;(e>=25?(r=2,a=e-8):(r=1,a=e),a>=17&&a<=19)?(n=17===a?t+80:18===a?t+112:t+144,this.logger.log(2,"Special char '"+ni(n)+"' in channel "+r),i=[n]):e>=32&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var o=ci(i);this.logger.log(3,"Char codes =  "+o.join(",")),mi(e,t,this.cmdHistory)}return i}},{key:"parseBackgroundAttributes",value:function(e,t){var r,n=(16===e||24===e)&&t>=32&&t<=47,i=(23===e||31===e)&&t>=45&&t<=47;if(!n&&!i)return!1;var a={};16===e||24===e?(r=Math.floor((t-32)/2),a.background=li[r],t%2===1&&(a.background=a.background+"_semi")):45===t?a.background="transparent":(a.foreground="black",47===t&&(a.underline=!0));var o=e<=23?1:2,s=this.channels[o];return s.setBkgData(a),mi(e,t,this.cmdHistory),!0}},{key:"reset",value:function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory=bi()}},{key:"cueSplitAtTime",value:function(e){for(var t=0;t<this.channels.length;t++){var r=this.channels[t];r&&r.cueSplitAtTime(e)}}}]),e}();function mi(e,t,r){r.a=e,r.b=t}function yi(e,t,r){return r.a===e&&r.b===t}function bi(){return{a:null,b:null}}var Ei=function(){function e(t,r){(0,h.default)(this,e),this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=r}return(0,p.default)(e,[{key:"dispatchCue",value:function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}},{key:"newCue",value:function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}},{key:"reset",value:function(){this.cueRanges=[],this.startTime=null}}]),e}(),Ti=function(){if("undefined"!==typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function r(e,t){if("string"!==typeof t)return!1;if(!Array.isArray(e))return!1;var r=t.toLowerCase();return!!~e.indexOf(r)&&r}function n(e){return r(t,e)}function i(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var o in a)e[o]=a[o]}return e}function a(t,a,o){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var u="",c=!1,d=t,f=a,h=o,p=null,v="",g=!0,m="auto",y="start",b=50,E="middle",T=50,k="middle";Object.defineProperty(s,"id",i({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return f},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return v},set:function(t){var n=function(t){return r(e,t)}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");v=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return m},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return y},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return E},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return T},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return k},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");k=t,this.hasBeenReset=!0}})),s.displayState=void 0}return a.prototype.getCueAsHTML=function(){var e=self.WebVTT;return e.convertCueToDOMTree(self,this.text)},a}(),ki=function(){function e(){(0,h.default)(this,e)}return(0,p.default)(e,[{key:"decode",value:function(e,t){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}]),e}();function Si(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+parseFloat(n||0)}var r=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?t(r[2],r[3],0,r[4]):t(r[1],r[2],r[3],r[4]):null}var Ai=function(){function e(){(0,h.default)(this,e),this.values=Object.create(null)}return(0,p.default)(e,[{key:"set",value:function(e,t){this.get(e)||""===t||(this.values[e]=t)}},{key:"get",value:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t}},{key:"has",value:function(e){return e in this.values}},{key:"alt",value:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}}},{key:"integer",value:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}},{key:"percent",value:function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var r=parseFloat(t);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}]),e}();function _i(e,t,r,n){var i=n?e.split(n):[e];for(var a in i)if("string"===typeof i[a]){var o=i[a].split(r);if(2===o.length){var s=o[0],l=o[1];t(s,l)}}}var wi=new Ti(0,0,""),Li="middle"===wi.align?"middle":"center";function Ii(e,t,r){var n=e;function i(){var t=Si(e);if(null===t)throw new Error("Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.slice(3),a(),t.endTime=i(),a(),function(e,t){var n=new Ai;_i(e,(function(e,t){var i;switch(e){case"region":for(var a=r.length-1;a>=0;a--)if(r[a].id===t){n.set(e,r[a].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),n.integer(e,i[0]),n.percent(e,i[0])&&n.set("snapToLines",!1),n.alt(e,i[0],["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start",Li,"end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start",Li,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",Li,"end","left","right"]);break}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var i=n.get("line","auto");"auto"===i&&-1===wi.line&&(i=-1),t.line=i,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",Li);var a=n.get("position","auto");"auto"===a&&50===wi.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function Di(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var Ri=function(){function e(){(0,h.default)(this,e),this.state="INITIAL",this.buffer="",this.decoder=new ki,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}return(0,p.default)(e,[{key:"parse",value:function(e){var t=this;function r(){var e=t.buffer,r=0;e=Di(e);while(r<e.length&&"\r"!==e[r]&&"\n"!==e[r])++r;var n=e.slice(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.slice(r),n}function n(e){_i(e,(function(e,t){}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;i=r();var a=i.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(null==a||!a[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}var o=!1;while(t.buffer){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:i=r(),t.state){case"HEADER":/:/.test(i)?n(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new Ti(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{Ii(i,t.cue,t.regionList)}catch(l){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var s=-1!==i.indexOf("--\x3e");if(!i||s&&(o=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID")}}}catch(l){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}},{key:"flush",value:function(){try{if((this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state||"BADWEBVTT"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){this.onparsingerror&&this.onparsingerror(e)}return this.onflush&&this.onflush(),this}}]),e}(),xi=/\r\n|\n\r|\n|\r/g,Pi=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.slice(r,r+t.length)===t},Oi=function(e){var t=5381,r=e.length;while(r)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()};function Ci(e,t,r){return Oi(e.toString())+Oi(t.toString())+Oi(r)}function Mi(e,t,r,n,i,a,o){var s,l=new Ri,u=be(new Uint8Array(e)).trim().replace(xi,"\n").split("\n"),c=[],d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return pn(e,9e4,1/t)}(t.baseTime,t.timescale),f="00:00.000",h=0,p=0,v=!0;l.oncue=function(e){var t=r[n],a=r.ccOffset,o=(h-d)/9e4;null!=t&&t.new&&(void 0!==p?a=r.ccOffset=t.start:function(e,t,r){var n=e[t],i=e[n.prevCC];if(!i||!i.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);while(null!=(a=i)&&a.new){var a;e.ccOffset+=n.start-i.start,n.new=!1,n=i,i=e[n.prevCC]}e.presentationOffset=r}(r,n,o)),o&&(a=o-r.presentationOffset);var s=e.endTime-e.startTime,l=bn(9e4*(e.startTime+a-p),9e4*i)/9e4;e.startTime=Math.max(l,0),e.endTime=Math.max(l+s,0);var u=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(u)),e.id||(e.id=Ci(e.startTime,e.endTime,u)),e.endTime>0&&c.push(e)},l.onparsingerror=function(e){s=e},l.onflush=function(){s?o(s):a(c)},u.forEach((function(e){if(v){if(Pi(e,"X-TIMESTAMP-MAP=")){v=!1,e.slice(16).split(",").forEach((function(e){Pi(e,"LOCAL:")?f=e.slice(6):Pi(e,"MPEGTS:")&&(h=parseInt(e.slice(7)))}));try{p=function(e){var t=parseInt(e.slice(-3)),r=parseInt(e.slice(-6,-4)),n=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!w(t)||!w(r)||!w(n)||!w(i))throw Error("Malformed X-TIMESTAMP-MAP: Local:".concat(e));return t+=1e3*r,t+=6e4*n,t+=36e5*i,t}(f)/1e3}catch(t){s=t}return}""===e&&(v=!1)}l.parse(e+"\n")})),l.flush()}var Fi=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Ni=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Bi={left:"start",center:"center",right:"end",start:"start",end:"end"};function Ui(e,t,r,n){var i=Re(new Uint8Array(e),["mdat"]);if(0!==i.length){var a=i.map((function(e){return be(e)})),o=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pn(e,t,1/r,n)}(t.baseTime,1,t.timescale);try{a.forEach((function(e){return r(function(e,t){var r=new DOMParser,n=r.parseFromString(e,"text/xml"),i=n.getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");var a={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(a).reduce((function(e,t){return e[t]=i.getAttribute("ttp:".concat(t))||a[t],e}),{}),s="preserve"!==i.getAttribute("xml:space"),l=Gi(ji(i,"styling","style")),u=Gi(ji(i,"layout","region")),c=ji(i,"body","[begin]");return[].map.call(c,(function(e){var r=function e(t,r){return[].slice.call(t.childNodes).reduce((function(t,n,i){var a;return"br"===n.nodeName&&i?t+"\n":null!=(a=n.childNodes)&&a.length?e(n,r):r?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent}),"")}(e,s);if(!r||!e.hasAttribute("begin"))return null;var n=Ki(e.getAttribute("begin"),o),i=Ki(e.getAttribute("dur"),o),a=Ki(e.getAttribute("end"),o);if(null===n)throw Vi(e);if(null===a){if(null===i)throw Vi(e);a=n+i}var c=new Ti(n-t,a-t,r);c.id=Ci(c.startTime,c.endTime,c.text);var d=u[e.getAttribute("region")],f=l[e.getAttribute("style")],h=function(e,t,r){var n="http://www.w3.org/ns/ttml#styling",i=null,a=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;a&&r.hasOwnProperty(a)&&(i=r[a]);return["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(r,a){var o=Hi(t,n,a)||Hi(e,n,a)||Hi(i,n,a);return o&&(r[a]=o),r}),{})}(d,f,l),p=h.textAlign;if(p){var v=Bi[p];v&&(c.lineAlign=v),c.align=p}return _(c,h),c})).filter((function(e){return null!==e}))}(e,o))}))}catch(s){n(s)}}else n(new Error("Could not parse IMSC1 mdat"))}function ji(e,t,r){var n=e.getElementsByTagName(t)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function Gi(e){return e.reduce((function(e,t){var r=t.getAttribute("xml:id");return r&&(e[r]=t),e}),{})}function Hi(e,t,r){return e&&e.hasAttributeNS(t,r)?e.getAttributeNS(t,r):null}function Vi(e){return new Error("Could not parse ttml timestamp ".concat(e))}function Ki(e,t){if(!e)return null;var r=Si(e);return null===r&&(Fi.test(e)?r=function(e,t){var r=Fi.exec(e),n=(0|r[4])+(0|r[5])/t.subFrameRate;return 3600*(0|r[1])+60*(0|r[2])+(0|r[3])+n/t.frameRate}(e,t):Ni.test(e)&&(r=function(e,t){var r=Ni.exec(e),n=Number(r[1]),i=r[2];switch(i){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/t.frameRate;case"t":return n/t.tickRate}return n}(e,t))),r}var $i=function(){function e(t){if((0,h.default)(this,e),this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=Wi(),this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var r=new Ei(this,"textTrack1"),n=new Ei(this,"textTrack2"),i=new Ei(this,"textTrack3"),a=new Ei(this,"textTrack4");this.cea608Parser1=new gi(1,r,n),this.cea608Parser2=new gi(3,i,a)}t.on(L.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(L.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(L.MANIFEST_LOADING,this.onManifestLoading,this),t.on(L.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(L.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(L.FRAG_LOADING,this.onFragLoading,this),t.on(L.FRAG_LOADED,this.onFragLoaded,this),t.on(L.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(L.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(L.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(L.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(L.BUFFER_FLUSHING,this.onBufferFlushing,this)}return(0,p.default)(e,[{key:"destroy",value:function(){var e=this.hls;e.off(L.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(L.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(L.MANIFEST_LOADING,this.onManifestLoading,this),e.off(L.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(L.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(L.FRAG_LOADING,this.onFragLoading,this),e.off(L.FRAG_LOADED,this.onFragLoaded,this),e.off(L.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(L.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(L.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(L.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(L.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}},{key:"addCues",value:function(e,t,r,n,i){for(var a=!1,o=i.length;o--;){var s=i[o],l=zi(s[0],s[1],t,r);if(l>=0&&(s[0]=Math.min(s[0],t),s[1]=Math.max(s[1],r),a=!0,l/(r-t)>.5))return}if(a||i.push([t,r]),this.config.renderTextTracksNatively){var u=this.captionsTracks[e];this.Cues.newCue(u,t,r,n)}else{var c=this.Cues.newCue(null,t,r,n);this.hls.trigger(L.CUES_PARSED,{type:"captions",cues:c,track:e})}}},{key:"onInitPtsFound",value:function(e,t){var r=this,n=t.frag,i=t.id,a=t.initPTS,o=t.timescale,s=this.unparsedVttFrags;"main"===i&&(this.initPTS[n.cc]={baseTime:a,timescale:o}),s.length&&(this.unparsedVttFrags=[],s.forEach((function(e){r.onFragLoaded(L.FRAG_LOADED,e)})))}},{key:"getExistingTrack",value:function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var n=t.textTracks[r];if(n[e])return n}return null}},{key:"createCaptionsTrack",value:function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}},{key:"createNativeTrack",value:function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,r=this.captionsTracks,n=this.media,i=t[e],a=i.label,o=i.languageCode,s=this.getExistingTrack(e);if(s)r[e]=s,bt(r[e]),mt(r[e],n);else{var l=this.createTextTrack("captions",a,o);l&&(l[e]=!0,r[e]=l)}}}},{key:"createNonNativeTrack",value:function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var r=t.label,n={_id:e,label:r,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(L.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}}},{key:"createTextTrack",value:function(e,t,r){var n=this.media;if(n)return n.addTextTrack(e,t,r)}},{key:"onMediaAttaching",value:function(e,t){this.media=t.media,this._cleanTracks()}},{key:"onMediaDetaching",value:function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){bt(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}}},{key:"onManifestLoading",value:function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=Wi(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}},{key:"_cleanTracks",value:function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)bt(t[r])}}},{key:"onSubtitleTracksUpdated",value:function(e,t){var r=this,n=t.subtitleTracks||[],i=n.some((function(e){return"stpp.ttml.im1t"===e.textCodec}));if(this.config.enableWebVTT||i&&this.config.enableIMSC1){var a=Yn(this.tracks,n);if(a)return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){var o=this.media?this.media.textTracks:null;this.tracks.forEach((function(e,t){var n;if(o&&t<o.length){for(var i=null,a=0;a<o.length;a++)if(Yi(o[a],e)){i=o[a];break}i&&(n=i)}if(n)bt(n);else{var s=r._captionsOrSubtitlesFromCharacteristics(e);n=r.createTextTrack(s,e.name,e.lang),n&&(n.mode="disabled")}n&&(n.groupId=e.groupId,r.textTracks.push(n))}))}else if(this.tracks.length){var s=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(L.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}}},{key:"_captionsOrSubtitlesFromCharacteristics",value:function(e){if(e.attrs.CHARACTERISTICS){var t=/transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),r=/describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);if(t&&r)return"captions"}return"subtitles"}},{key:"onManifestLoaded",value:function(e,t){var r=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var n="textTrack".concat(t[1]),i=r.captionsProperties[n];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))}},{key:"closedCaptionsForLevel",value:function(e){var t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]}},{key:"onFragLoading",value:function(e,t){var r=this.cea608Parser1,n=this.cea608Parser2,i=this.lastSn,a=this.lastPartIndex;if(this.enabled&&r&&n&&t.frag.type===ht.MAIN){var o,s,l=t.frag.sn,u=null!=(o=null==t||null==(s=t.part)?void 0:s.index)?o:-1;l===i+1||l===i&&u===a+1||(r.reset(),n.reset()),this.lastSn=l,this.lastPartIndex=u}}},{key:"onFragLoaded",value:function(e,t){var r=t.frag,n=t.payload,i=this.initPTS,a=this.unparsedVttFrags;if(r.type===ht.SUBTITLE)if(n.byteLength){if(!i[r.cc])return a.push(t),void(i.length&&this.hls.trigger(L.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Missing initial subtitle PTS")}));var o=r.decryptdata,s="stats"in t;if(null==o||!o.encrypted||s){var l=this.tracks[r.level],u=this.vttCCs;u[r.cc]||(u[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),l&&"stpp.ttml.im1t"===l.textCodec?this._parseIMSC1(r,n):this._parseVTTs(r,n,u)}}else this.hls.trigger(L.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}},{key:"_parseIMSC1",value:function(e,t){var r=this,n=this.hls;Ui(t,this.initPTS[e.cc],(function(t){r._appendCues(t,e.level),n.trigger(L.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){M.log("Failed to parse IMSC1: ".concat(t)),n.trigger(L.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))}},{key:"_parseVTTs",value:function(e,t,r){var n,i=this,a=this.hls,o=null!=(n=e.initSegment)&&n.data?Me(e.initSegment.data,new Uint8Array(t)):t;Mi(o,this.initPTS[e.cc],r,e.cc,e.start,(function(t){i._appendCues(t,e.level),a.trigger(L.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(r){i._fallbackToIMSC1(e,t),M.log("Failed to parse VTT cue: ".concat(r)),a.trigger(L.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:r})}))}},{key:"_fallbackToIMSC1",value:function(e,t){var r=this,n=this.tracks[e.level];n.textCodec||Ui(t,this.initPTS[e.cc],(function(){n.textCodec="stpp.ttml.im1t",r._parseIMSC1(e,t)}),(function(){n.textCodec="wvtt"}))}},{key:"_appendCues",value:function(e,t){var r=this.hls;if(this.config.renderTextTracksNatively){var n=this.textTracks[t];if(!n||"disabled"===n.mode)return;e.forEach((function(e){return yt(n,e)}))}else{var i=this.tracks[t];if(!i)return;var a=i.default?"default":"subtitles"+t;r.trigger(L.CUES_PARSED,{type:"subtitles",cues:e,track:a})}}},{key:"onFragDecrypted",value:function(e,t){var r=t.frag;if(r.type===ht.SUBTITLE){if(!this.initPTS[r.cc])return void this.unparsedVttFrags.push(t);this.onFragLoaded(L.FRAG_LOADED,t)}}},{key:"onSubtitleTracksCleared",value:function(){this.tracks=[],this.captionsTracks={}}},{key:"onFragParsingUserdata",value:function(e,t){var r=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&r&&n){var i=t.frag,a=t.samples;if(i.type!==ht.MAIN||"NONE"!==this.closedCaptionsForLevel(i))for(var o=0;o<a.length;o++){var s=a[o].bytes;if(s){var l=this.extractCea608Data(s);r.addData(a[o].pts,l[0]),n.addData(a[o].pts,l[1])}}}}},{key:"onBufferFlushing",value:function(e,t){var r=t.startOffset,n=t.endOffset,i=t.endOffsetSubtitles,a=t.type,o=this.media;if(o&&!(o.currentTime<n)){if(!a||"video"===a){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return Et(s[e],r,n)}))}if(this.config.renderTextTracksNatively&&0===r&&void 0!==i){var l=this.textTracks;Object.keys(l).forEach((function(e){return Et(l[e],r,i)}))}}}},{key:"extractCea608Data",value:function(e){for(var t=[[],[]],r=31&e[0],n=2,i=0;i<r;i++){var a=e[n++],o=127&e[n++],s=127&e[n++];if(0!==o||0!==s){var l=0!==(4&a);if(l){var u=3&a;0!==u&&1!==u||(t[u].push(o),t[u].push(s))}}}return t}}]),e}();function Yi(e,t){return!!e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function zi(e,t,r,n){return Math.min(t,n)-Math.max(e,r)}function Wi(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}var Qi=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}return(0,p.default)(e,[{key:"setStreamController",value:function(e){this.streamController=e}},{key:"destroy",value:function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}},{key:"registerListeners",value:function(){var e=this.hls;e.on(L.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(L.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(L.MANIFEST_PARSED,this.onManifestParsed,this),e.on(L.BUFFER_CODECS,this.onBufferCodecs,this),e.on(L.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"unregisterListener",value:function(){var e=this.hls;e.off(L.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(L.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(L.MANIFEST_PARSED,this.onManifestParsed,this),e.off(L.BUFFER_CODECS,this.onBufferCodecs,this),e.off(L.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"onFpsDropLevelCapping",value:function(e,t){var r=this.hls.levels[t.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}},{key:"onMediaAttaching",value:function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null}},{key:"onManifestParsed",value:function(e,t){var r=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,r.config.capLevelToPlayerSize&&t.video&&this.startCapping()}},{key:"onBufferCodecs",value:function(e,t){var r=this.hls;r.config.capLevelToPlayerSize&&t.video&&this.startCapping()}},{key:"onMediaDetaching",value:function(){this.stopCapping()}},{key:"detectPlayerSize",value:function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(t){var r=this,n=this.hls.levels;if(!n.length)return-1;var i=n.filter((function(e,n){return r.isLevelAllowed(e)&&n<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}},{key:"startCapping",value:function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"stopCapping",value:function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}},{key:"getDimensions",value:function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var r=e.getBoundingClientRect();t.width=r.width,t.height=r.height,t.width||t.height||(t.width=r.right-r.left||e.width||0,t.height=r.bottom-r.top||e.height||0)}return this.clientRect=t,t}},{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(t){}return e}},{key:"isLevelAllowed",value:function(e){var t=this.restrictedLevels;return!t.some((function(t){return e.bitrate===t.bitrate&&e.width===t.width&&e.height===t.height}))}}],[{key:"getMaxLevelByMediaSize",value:function(e,t,r){if(null==e||!e.length)return-1;for(var n=function(e,t){return!t||(e.width!==t.width||e.height!==t.height)},i=e.length-1,a=0;a<e.length;a+=1){var o=e[a];if((o.width>=t||o.height>=r)&&n(o,e[a+1])){i=a;break}}return i}}]),e}(),qi=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}return(0,p.default)(e,[{key:"setStreamController",value:function(e){this.streamController=e}},{key:"registerListeners",value:function(){this.hls.on(L.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"unregisterListeners",value:function(){this.hls.off(L.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}},{key:"onMediaAttaching",value:function(e,t){var r=this.hls.config;if(r.capLevelOnFPSDrop){var n=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=n,n&&"function"===typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}},{key:"checkFPS",value:function(e,t,r){var n=performance.now();if(t){if(this.lastTime){var i=n-this.lastTime,a=r-this.lastDroppedFrames,o=t-this.lastDecodedFrames,s=1e3*a/i,l=this.hls;if(l.trigger(L.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:r}),s>0&&a>l.config.fpsDroppedMonitoringThreshold*o){var u=l.currentLevel;M.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(L.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),e}(),Xi=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=e.CDMCleanupPromise?[e.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=M.debug.bind(M,"[eme]"),this.log=M.log.bind(M,"[eme]"),this.warn=M.warn.bind(M,"[eme]"),this.error=M.error.bind(M,"[eme]"),this.hls=t,this.config=t.config,this.registerListeners()}return(0,p.default)(e,[{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached();var e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}},{key:"registerListeners",value:function(){this.hls.on(L.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(L.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(L.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(L.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"unregisterListeners",value:function(){this.hls.off(L.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(L.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(L.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(L.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"getLicenseServerUrl",value:function(e){var t=this.config,r=t.drmSystems,n=t.widevineLicenseUrl,i=r[e];if(i)return i.licenseUrl;if(e===X.WIDEVINE&&n)return n;throw new Error('no license server URL configured for key-system "'.concat(e,'"'))}},{key:"getServerCertificateUrl",value:function(e){var t=this.config.drmSystems,r=t[e];if(r)return r.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'.concat(e,'"]'))}},{key:"attemptKeySystemAccess",value:function(e){var t=this,r=this.hls.levels,n=function(e,t,r){return!!e&&r.indexOf(e)===t},i=r.map((function(e){return e.audioCodec})).filter(n),a=r.map((function(e){return e.videoCodec})).filter(n);return i.length+a.length===0&&a.push("avc1.42e01e"),new Promise((function(r,n){(function e(o){var s=o.shift();t.getMediaKeysPromise(s,i,a).then((function(e){return r({keySystem:s,mediaKeys:e})})).catch((function(t){o.length?e(o):n(t instanceof Ji?t:new Ji({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))})(e)}))}},{key:"requestMediaKeySystemAccess",value:function(e,t){var r=this.config.requestMediaKeySystemAccessFunc;if("function"!==typeof r){var n="Configured requestMediaKeySystemAccess is not a function ".concat(r);return null===ne&&"http:"===self.location.protocol&&(n="navigator.requestMediaKeySystemAccess is not available over insecure protocol ".concat(location.protocol)),Promise.reject(new Error(n))}return r(e,t)}},{key:"getMediaKeysPromise",value:function(e,t,r){var n=this,i=function(e,t,r,n){var i;switch(e){case X.FAIRPLAY:i=["cenc","sinf"];break;case X.WIDEVINE:case X.PLAYREADY:i=["cenc"];break;case X.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error("Unknown key-system: ".concat(e))}return function(e,t,r,n){var i={initDataTypes:e,persistentState:n.persistentState||"not-allowed",distinctiveIdentifier:n.distinctiveIdentifier||"not-allowed",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:t.map((function(e){return{contentType:'audio/mp4; codecs="'.concat(e,'"'),robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null}})),videoCapabilities:r.map((function(e){return{contentType:'video/mp4; codecs="'.concat(e,'"'),robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}}))};return[i]}(i,t,r,n)}(e,t,r,this.config.drmSystemOptions),a=this.keySystemAccessPromises[e],o=null==a?void 0:a.keySystemAccess;if(!o){this.log('Requesting encrypted media "'.concat(e,'" key-system access with config: ').concat(JSON.stringify(i))),o=this.requestMediaKeySystemAccess(e,i);var s=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch((function(t){n.log('Failed to obtain access to key-system "'.concat(e,'": ').concat(t))})),o.then((function(t){n.log('Access for key-system "'.concat(t.keySystem,'" obtained'));var r=n.fetchServerCertificate(e);return n.log('Create media-keys for "'.concat(e,'"')),s.mediaKeys=t.createMediaKeys().then((function(t){return n.log('Media-keys created for "'.concat(e,'"')),r.then((function(r){return r?n.setMediaKeysServerCertificate(t,e,r):t}))})),s.mediaKeys.catch((function(t){n.error('Failed to create media-keys for "'.concat(e,'"}: ').concat(t))})),s.mediaKeys}))}return o.then((function(){return a.mediaKeys}))}},{key:"createMediaKeySessionContext",value:function(e){var t=e.decryptdata,r=e.keySystem,n=e.mediaKeys;this.log('Creating key-system session "'.concat(r,'" keyId: ').concat(Te.hexDump(t.keyId||[])));var i=n.createSession(),a={decryptdata:t,keySystem:r,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}},{key:"renewKeySession",value:function(e){var t=e.decryptdata;if(t.pssh){var r=this.createMediaKeySessionContext(e),n=this.getKeyIdString(t);this.keyIdToKeySessionPromise[n]=this.generateRequestWithPreferredKeySession(r,"cenc",t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}},{key:"getKeyIdString",value:function(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return Te.hexDump(e.keyId)}},{key:"updateKeySession",value:function(e,t){var r,n=e.mediaKeysSession;return this.log('Updating key-session "'.concat(n.sessionId,'" for keyID ').concat(Te.hexDump((null==(r=e.decryptdata)?void 0:r.keyId)||[]),"\n      } (data length: ").concat(t?t.byteLength:t,")")),n.update(t)}},{key:"selectKeySystemFormat",value:function(e){var t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: ".concat(e.sn," ").concat(e.type,": ").concat(e.level,") key formats ").concat(t.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}},{key:"getKeyFormatPromise",value:function(e){var t=this;return new Promise((function(r,n){var i=re(t.config),a=e.map(Z).filter((function(e){return!!e&&-1!==i.indexOf(e)}));return t.getKeySystemSelectionPromise(a).then((function(e){var t=e.keySystem,i=te(t);i?r(i):n(new Error('Unable to find format for key-system "'.concat(t,'"')))})).catch(n)}))}},{key:"loadKey",value:function(e){var t=this,r=e.keyInfo.decryptdata,n=this.getKeyIdString(r),i="(keyId: ".concat(n,' format: "').concat(r.keyFormat,'" method: ').concat(r.method," uri: ").concat(r.uri,")");this.log("Starting session for key ".concat(i));var a=this.keyIdToKeySessionPromise[n];return a||(a=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(r).then((function(n){var a=n.keySystem,o=n.mediaKeys;return t.throwIfDestroyed(),t.log("Handle encrypted media sn: ".concat(e.frag.sn," ").concat(e.frag.type,": ").concat(e.frag.level," using key ").concat(i)),t.attemptSetMediaKeys(a,o).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({keySystem:a,mediaKeys:o,decryptdata:r});return t.generateRequestWithPreferredKeySession(e,"cenc",r.pssh,"playlist-key")}))})),a.catch((function(e){return t.handleError(e)}))),a}},{key:"throwIfDestroyed",value:function(){if(!this.hls)throw new Error("invalid state")}},{key:"handleError",value:function(e){this.hls&&(this.error(e.message),e instanceof Ji?this.hls.trigger(L.ERROR,e.data):this.hls.trigger(L.ERROR,{type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}},{key:"getKeySystemForKeyPromise",value:function(e){var t=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[t];if(!r){var n=Z(e.keyFormat),i=n?[n]:re(this.config);return this.attemptKeySystemAccess(i)}return r}},{key:"getKeySystemSelectionPromise",value:function(e){if(e.length||(e=re(this.config)),0===e.length)throw new Ji({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options ".concat(JSON.stringify({drmSystems:this.config.drmSystems})));return this.attemptKeySystemAccess(e)}},{key:"_onMediaEncrypted",value:function(e){var t=this,r=e.initDataType,n=e.initData;if(this.debug('"'.concat(e.type,'" event: init data type: "').concat(r,'"')),null!==n){var i,a;if("sinf"===r&&this.config.drmSystems[X.FAIRPLAY]){var o=_e(new Uint8Array(n));try{var s=W(JSON.parse(o).sinf),l=Oe(new Uint8Array(s));if(!l)return;i=l.subarray(8,24),a=X.FAIRPLAY}catch(m){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var u=function(e){if(!(e instanceof ArrayBuffer)||e.byteLength<32)return null;var t={version:0,systemId:"",kids:null,data:null},r=new DataView(e),n=r.getUint32(0);if(e.byteLength!==n&&n>44)return null;var i=r.getUint32(4);if(1886614376!==i)return null;if(t.version=r.getUint32(8)>>>24,t.version>1)return null;t.systemId=Te.hexDump(new Uint8Array(e,12,16));var a=r.getUint32(28);if(0===t.version){if(n-32<a)return null;t.data=new Uint8Array(e,32,a)}else if(1===t.version){t.kids=[];for(var o=0;o<a;o++)t.kids.push(new Uint8Array(e,32+16*o,16))}return t}(n);if(null===u)return;0===u.version&&u.systemId===ee.WIDEVINE&&u.data&&(i=u.data.subarray(8,24)),a=function(e){if(e===ee.WIDEVINE)return X.WIDEVINE}(u.systemId)}if(a&&i){for(var c=Te.hexDump(i),d=this.keyIdToKeySessionPromise,f=this.mediaKeySessions,h=d[c],p=function(e){var a=f[e],o=a.decryptdata;if(o.pssh||!o.keyId)return"continue";var s=Te.hexDump(o.keyId);return c===s||-1!==o.uri.replace(/-/g,"").indexOf(c)?(h=d[s],delete d[s],o.pssh=new Uint8Array(n),o.keyId=i,h=d[c]=h.then((function(){return t.generateRequestWithPreferredKeySession(a,r,n,"encrypted-event-key-match")})),"break"):void 0},v=0;v<f.length;v++){var g=p(v);if("continue"!==g&&"break"===g)break}h||(h=d[c]=this.getKeySystemSelectionPromise([a]).then((function(e){var a,o=e.keySystem,s=e.mediaKeys;t.throwIfDestroyed();var l=new He("ISO-23001-7",c,null!=(a=te(o))?a:"");return l.pssh=new Uint8Array(n),l.keyId=i,t.attemptSetMediaKeys(o,s).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({decryptdata:l,keySystem:o,mediaKeys:s});return t.generateRequestWithPreferredKeySession(e,r,n,"encrypted-event-no-match")}))}))),h.catch((function(e){return t.handleError(e)}))}}}},{key:"_onWaitingForKey",value:function(e){this.log('"'.concat(e.type,'" event'))}},{key:"attemptSetMediaKeys",value:function(e,t){var r=this,n=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'.concat(e,'"'));var i=Promise.all(n).then((function(){if(!r.media)throw new Error("Attempted to set mediaKeys without media element attached");return r.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(i),i.then((function(){r.log('Media-keys set for "'.concat(e,'"')),n.push(i),r.setMediaKeysQueue=r.setMediaKeysQueue.filter((function(e){return-1===n.indexOf(e)}))}))}},{key:"generateRequestWithPreferredKeySession",value:function(e,t,r,n){var i,a,o=this,s=null==(i=this.config.drmSystems)||null==(a=i[e.keySystem])?void 0:a.generateRequest;if(s)try{var l=s.call(this.hls,t,r,e);if(!l)throw new Error("Invalid response from configured generateRequest filter");t=l.initDataType,r=e.decryptdata.pssh=l.initData?new Uint8Array(l.initData):null}catch(h){var u;if(this.warn(h.message),null!=(u=this.hls)&&u.config.debug)throw h}if(null===r)return this.log('Skipping key-session request for "'.concat(n,'" (no initData)')),Promise.resolve(e);var c=this.getKeyIdString(e.decryptdata);this.log('Generating key-session request for "'.concat(n,'": ').concat(c," (init data type: ").concat(t," length: ").concat(r?r.byteLength:null,")"));var d=new Mn;e.mediaKeysSession.onmessage=function(t){var r=e.mediaKeysSession;if(r){var n=t.messageType,i=t.message;o.log('"'.concat(n,'" message event for session "').concat(r.sessionId,'" message size: ').concat(i.byteLength)),"license-request"===n||"license-renewal"===n?o.renewLicense(e,i).catch((function(e){o.handleError(e),d.emit("error",e)})):"license-release"===n?e.keySystem===X.FAIRPLAY&&(o.updateKeySession(e,q("acknowledged")),o.removeSession(e)):o.warn('unhandled media key message type "'.concat(n,'"'))}else d.emit("error",new Error("invalid state"))},e.mediaKeysSession.onkeystatuseschange=function(t){var r=e.mediaKeysSession;if(r){o.onKeyStatusChange(e);var n=e.keyStatus;d.emit("keyStatus",n),"expired"===n&&(o.warn("".concat(e.keySystem," expired for key ").concat(c)),o.renewKeySession(e))}else d.emit("error",new Error("invalid state"))};var f=new Promise((function(e,t){d.on("error",t),d.on("keyStatus",(function(r){r.startsWith("usable")?e():"output-restricted"===r?t(new Ji({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===r?t(new Ji({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'.concat(r,'"'))):"expired"===r?t(new Error("key expired while generating request")):o.warn('unhandled key status change "'.concat(r,'"'))}))}));return e.mediaKeysSession.generateRequest(t,r).then((function(){var t;o.log('Request generated for key-session "'.concat(null==(t=e.mediaKeysSession)?void 0:t.sessionId,'" keyId: ').concat(c))})).catch((function(e){throw new Ji({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},"Error generating key-session request: ".concat(e))})).then((function(){return f})).catch((function(t){throw d.removeAllListeners(),o.removeSession(e),t})).then((function(){return d.removeAllListeners(),e}))}},{key:"onKeyStatusChange",value:function(e){var t=this;e.mediaKeysSession.keyStatuses.forEach((function(r,n){t.log('key status change "'.concat(r,'" for keyStatuses keyId: ').concat(Te.hexDump("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))," session keyId: ").concat(Te.hexDump(new Uint8Array(e.decryptdata.keyId||[]))," uri: ").concat(e.decryptdata.uri)),e.keyStatus=r}))}},{key:"fetchServerCertificate",value:function(e){var t=this.config,r=t.loader,n=new r(t),i=this.getServerCertificateUrl(e);return i?(this.log('Fetching serverCertificate for "'.concat(e,'"')),new Promise((function(r,a){var o={responseType:"arraybuffer",url:i},s=t.certLoadPolicy.default,l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:function(e,t,n,i){r(e.data)},onError:function(t,r,n,s){a(new Ji({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:n,response:S({url:o.url,data:void 0},t)},'"'.concat(e,'" certificate request failed (').concat(i,"). Status: ").concat(t.code," (").concat(t.text,")")))},onTimeout:function(t,r,n){a(new Ji({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:n,response:{url:o.url,data:void 0}},'"'.concat(e,'" certificate request timed out (').concat(i,")")))},onAbort:function(e,t,r){a(new Error("aborted"))}};n.load(o,l,u)}))):Promise.resolve()}},{key:"setMediaKeysServerCertificate",value:function(e,t,r){var n=this;return new Promise((function(i,a){e.setServerCertificate(r).then((function(a){n.log("setServerCertificate ".concat(a?"success":"not supported by CDM"," (").concat(null==r?void 0:r.byteLength,') on "').concat(t,'"')),i(e)})).catch((function(e){a(new Ji({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))}},{key:"renewLicense",value:function(e,t){var r=this;return this.requestLicense(e,new Uint8Array(t)).then((function(t){return r.updateKeySession(e,new Uint8Array(t)).catch((function(e){throw new Ji({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))}))}},{key:"setupLicenseXHR",value:function(e,t,r,n){var i=this,a=this.config.licenseXhrSetup;return a?Promise.resolve().then((function(){if(!r.decryptdata)throw new Error("Key removed");return a.call(i.hls,e,t,r,n)})).catch((function(o){if(!r.decryptdata)throw o;return e.open("POST",t,!0),a.call(i.hls,e,t,r,n)})).then((function(r){e.readyState||e.open("POST",t,!0);var i=r||n;return{xhr:e,licenseChallenge:i}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:n}))}},{key:"requestLicense",value:function(e,t){var r=this,n=this.config.keyLoadPolicy.default;return new Promise((function(i,a){var o=r.getLicenseServerUrl(e.keySystem);r.log("Sending license request to URL: ".concat(o));var s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=function(){if(!r.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(4===s.readyState)if(200===s.status){r._requestLicenseFailureCount=0;var l=s.response;r.log("License received ".concat(l instanceof ArrayBuffer?l.byteLength:l));var u=r.config.licenseResponseCallback;if(u)try{l=u.call(r.hls,s,o,e)}catch(h){r.error(h)}i(l)}else{var c=n.errorRetry,d=c?c.maxNumRetry:0;if(r._requestLicenseFailureCount++,r._requestLicenseFailureCount>d||s.status>=400&&s.status<500)a(new Ji({type:I.KEY_SYSTEM_ERROR,details:D.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:{url:o,data:void 0,code:s.status,text:s.statusText}},"License Request XHR failed (".concat(o,"). Status: ").concat(s.status," (").concat(s.statusText,")")));else{var f=d-r._requestLicenseFailureCount+1;r.warn("Retrying license request, ".concat(f," attempts left")),r.requestLicense(e,t).then(i,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=s,r.setupLicenseXHR(s,o,e,t).then((function(e){var t=e.xhr,r=e.licenseChallenge;t.send(r)}))}))}},{key:"onMediaAttached",value:function(e,t){if(this.config.emeEnabled){var r=t.media;this.media=r,r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}}},{key:"onMediaDetached",value:function(){var t=this,r=this.media,n=this.mediaKeySessions;r&&(r.removeEventListener("encrypted",this.onMediaEncrypted),r.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},He.clearKeyUriToKeyIdMap();var i=n.length;e.CDMCleanupPromise=Promise.all(n.map((function(e){return t.removeSession(e)})).concat(null==r?void 0:r.setMediaKeys(null).catch((function(e){t.log("Could not clear media keys: ".concat(e,". media.src: ").concat(null==r?void 0:r.src))})))).then((function(){i&&(t.log("finished closing key sessions and clearing media keys"),n.length=0)})).catch((function(e){t.log("Could not close sessions and clear media keys: ".concat(e,". media.src: ").concat(null==r?void 0:r.src))}))}},{key:"onManifestLoading",value:function(){this.keyFormatPromise=null}},{key:"onManifestLoaded",value:function(e,t){var r=t.sessionKeys;if(r&&this.config.emeEnabled&&!this.keyFormatPromise){var n=r.reduce((function(e,t){return-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e}),[]);this.log("Selecting key-system from session-keys ".concat(n.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(n)}}},{key:"removeSession",value:function(e){var t=this,r=e.mediaKeysSession,n=e.licenseXhr;if(r){this.log("Remove licenses and keys and close session ".concat(r.sessionId)),r.onmessage=null,r.onkeystatuseschange=null,n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;var i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),r.remove().catch((function(e){t.log("Could not remove session: ".concat(e))})).then((function(){return r.close()})).catch((function(e){t.log("Could not close session: ".concat(e))}))}}}]),e}();Xi.CDMCleanupPromise=void 0;var Ji=function(e){(0,u.default)(r,e);var t=y(r);function r(e,n){var i;return(0,h.default)(this,r),i=t.call(this,n),i.data=void 0,e.error||(e.error=new Error(n)),i.data=e,e.err=e.error,i}return(0,p.default)(r)}((0,s.default)(Error)),Zi={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},ea=function(){function e(t){var r=this;(0,h.default)(this,e),this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){r.initialized&&(r.starved=!0),r.buffering=!0},this.onPlaying=function(){r.initialized||(r.initialized=!0),r.buffering=!1},this.applyPlaylistData=function(e){try{r.apply(e,{ot:Zi.MANIFEST,su:!r.initialized})}catch(t){M.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=function(e){try{var t=e.frag,n=r.hls.levels[t.level],i=r.getObjectType(t),a={d:1e3*t.duration,ot:i};i!==Zi.VIDEO&&i!==Zi.AUDIO&&i!=Zi.MUXED||(a.br=n.bitrate/1e3,a.tb=r.getTopBandwidth(i)/1e3,a.bl=r.getBufferLength(i)),r.apply(e,a)}catch(o){M.warn("Could not generate segment CMCD data.",o)}},this.hls=t;var n=this.config=t.config,i=n.cmcd;null!=i&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||e.uuid(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.registerListeners())}return(0,p.default)(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(L.MEDIA_DETACHED,this.onMediaDetached,this),e.on(L.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(L.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(L.MEDIA_DETACHED,this.onMediaDetached,this),e.off(L.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}},{key:"onMediaDetached",value:function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}},{key:"onBufferCreated",value:function(e,t){var r,n;this.audioBuffer=null==(r=t.tracks.audio)?void 0:r.buffer,this.videoBuffer=null==(n=t.tracks.video)?void 0:n.buffer}},{key:"createData",value:function(){var e;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(e=this.media)?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}},{key:"apply",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(r,this.createData());var n=r.ot===Zi.INIT||r.ot===Zi.VIDEO||r.ot===Zi.MUXED;if(this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),null==r.su&&(r.su=this.buffering),this.useHeaders){var i=e.toHeaders(r);if(!Object.keys(i).length)return;t.headers||(t.headers={}),_(t.headers,i)}else{var a=e.toQuery(r);if(!a)return;t.url=e.appendQueryToUri(t.url,a)}}},{key:"getObjectType",value:function(e){var t=e.type;return"subtitle"===t?Zi.TIMED_TEXT:"initSegment"===e.sn?Zi.INIT:"audio"===t?Zi.AUDIO:"main"===t?this.hls.audioTracks.length?Zi.VIDEO:Zi.MUXED:void 0}},{key:"getTopBandwidth",value:function(e){var t,r=0,n=this.hls;if(e===Zi.AUDIO)t=n.audioTracks;else{var i=n.maxAutoLevel,a=i>-1?i+1:n.levels.length;t=n.levels.slice(0,a)}var o,s=g(t);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.bitrate>r&&(r=l.bitrate)}}catch(ma){s.e(ma)}finally{s.f()}return r>0?r:NaN}},{key:"getBufferLength",value:function(e){var t=this.hls.media,r=e===Zi.AUDIO?this.audioBuffer:this.videoBuffer;if(!r||!t)return NaN;var n=pr.bufferInfo(r,t.currentTime,this.config.maxBufferHole);return 1e3*n.len}},{key:"createPlaylistLoader",value:function(){var e=this.config.pLoader,t=this.applyPlaylistData,r=e||this.config.loader;return function(){function e(t){(0,h.default)(this,e),this.loader=void 0,this.loader=new r(t)}return(0,p.default)(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(e,r,n){t(e),this.loader.load(e,r,n)}}]),e}()}},{key:"createFragmentLoader",value:function(){var e=this.config.fLoader,t=this.applyFragmentData,r=e||this.config.loader;return function(){function e(t){(0,h.default)(this,e),this.loader=void 0,this.loader=new r(t)}return(0,p.default)(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(e,r,n){t(e),this.loader.load(e,r,n)}}]),e}()}}],[{key:"uuid",value:function(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}},{key:"serialize",value:function(e){var t,r=[],n=function(e){return!Number.isNaN(e)&&null!=e&&""!==e&&!1!==e},i=function(e){return Math.round(e)},a=function(e){return 100*i(e/100)},o={br:i,d:i,bl:a,dl:a,mtp:a,nor:function(e){return encodeURIComponent(e)},rtp:a,tb:i},s=Object.keys(e||{}).sort(),l=g(s);try{for(l.s();!(t=l.n()).done;){var u=t.value,c=e[u];if(n(c)&&(("v"!==u||1!==c)&&("pr"!=u||1!==c))){var d=o[u];d&&(c=d(c));var f=(0,v.default)(c),h=void 0;h="ot"===u||"sf"===u||"st"===u?"".concat(u,"=").concat(c):"boolean"===f?u:"number"===f?"".concat(u,"=").concat(c):"".concat(u,"=").concat(JSON.stringify(c)),r.push(h)}}}catch(ma){l.e(ma)}finally{l.f()}return r.join(",")}},{key:"toHeaders",value:function(t){for(var r=Object.keys(t),n={},i=["Object","Request","Session","Status"],a=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},s=0,l=r;s<l.length;s++){var u=l[s],c=null!=o[u]?o[u]:1;a[c][u]=t[u]}for(var d=0;d<a.length;d++){var f=e.serialize(a[d]);f&&(n["CMCD-".concat(i[d])]=f)}return n}},{key:"toQuery",value:function(t){return"CMCD=".concat(encodeURIComponent(e.serialize(t)))}},{key:"appendQueryToUri",value:function(e,t){if(!t)return e;var r=e.includes("?")?"&":"?";return"".concat(e).concat(r).concat(t)}}]),e}(),ta=function(){function e(t){(0,h.default)(this,e),this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.log=M.log.bind(M,"[content-steering]:"),this.registerListeners()}return(0,p.default)(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(L.MANIFEST_LOADING,this.onManifestLoading,this),e.on(L.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(L.MANIFEST_PARSED,this.onManifestParsed,this),e.on(L.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e&&(e.off(L.MANIFEST_LOADING,this.onManifestLoading,this),e.off(L.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(L.MANIFEST_PARSED,this.onManifestParsed,this),e.off(L.ERROR,this.onError,this))}},{key:"startLoad",value:function(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){var e=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,e)}else this.loadSteeringManifest(this.uri)}},{key:"stopLoad",value:function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}},{key:"destroy",value:function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"removeLevel",value:function(e){var t=this.levels;t&&(this.levels=t.filter((function(t){return t!==e})))}},{key:"onManifestLoading",value:function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"onManifestLoaded",value:function(e,t){var r=t.contentSteering;null!==r&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}},{key:"onManifestParsed",value:function(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}},{key:"onError",value:function(e,t){var r=t.errorAction;if((null==r?void 0:r.action)===Wt.SendAlternateToPenaltyBox&&r.flags===Qt.MoveAllAlternatesMatchingHost){var n=this.pathwayPriority,i=this.pathwayId;this.penalizedPathways[i]||(this.penalizedPathways[i]=performance.now()),!n&&this.levels&&(n=this.levels.reduce((function(e,t){return-1===e.indexOf(t.pathwayId)&&e.push(t.pathwayId),e}),[])),n&&n.length>1&&(this.updatePathwayPriority(n),r.resolved=this.pathwayId!==i)}}},{key:"filterParsedLevels",value:function(e){this.levels=e;var t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){var r=e[0].pathwayId;this.log("No levels found in Pathway ".concat(this.pathwayId,'. Setting initial Pathway to "').concat(r,'"')),t=this.getLevelsForPathway(r),this.pathwayId=r}return t.length!==e.length?(this.log("Found ".concat(t.length,"/").concat(e.length,' levels in Pathway "').concat(this.pathwayId,'"')),t):e}},{key:"getLevelsForPathway",value:function(e){return null===this.levels?[]:this.levels.filter((function(t){return e===t.pathwayId}))}},{key:"updatePathwayPriority",value:function(e){var t;this.pathwayPriority=e;var r=this.penalizedPathways,n=performance.now();Object.keys(r).forEach((function(e){n-r[e]>3e5&&delete r[e]}));for(var i=0;i<e.length;i++){var a=e[i];if(!r[a]){if(a===this.pathwayId)return;var o=this.hls.nextLoadLevel,s=this.hls.levels[o];if(t=this.getLevelsForPathway(a),t.length>0){this.log('Setting Pathway to "'.concat(a,'"')),this.pathwayId=a,this.hls.trigger(L.LEVELS_UPDATED,{levels:t});var l=this.hls.levels[o];s&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==s.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==s.bitrate&&this.log("Unstable Pathways change from bitrate ".concat(s.bitrate," to ").concat(l.bitrate)),this.hls.nextLoadLevel=o);break}}}}},{key:"clonePathways",value:function(e){var t=this,r=this.levels;if(r){var n={},a={};e.forEach((function(e){var o=e.ID,s=e["BASE-ID"],l=e["URI-REPLACEMENT"];if(!r.some((function(e){return e.pathwayId===o}))){var u=t.getLevelsForPathway(s).map((function(e){var t=_({},e);t.details=void 0,t.url=na(e.uri,e.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l);var r=new B(e.attrs);r["PATHWAY-ID"]=o;var i=r.AUDIO&&"".concat(r.AUDIO,"_clone_").concat(o),s=r.SUBTITLES&&"".concat(r.SUBTITLES,"_clone_").concat(o);i&&(n[r.AUDIO]=i,r.AUDIO=i),s&&(a[r.SUBTITLES]=s,r.SUBTITLES=s),t.attrs=r;var u=new xt(t);return er(u,"audio",i),er(u,"text",s),u}));r.push.apply(r,(0,i.default)(u)),ra(t.audioTracks,n,l,o),ra(t.subtitleTracks,a,l,o)}}))}}},{key:"loadSteeringManifest",value:function(e){var t,r=this,n=this.hls.config,i=n.loader;this.loader&&this.loader.destroy(),this.loader=new i(n);try{t=new self.URL(e)}catch(d){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: ".concat(e))}if("data:"!==t.protocol){var a=0|(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate);t.searchParams.set("_HLS_pathway",this.pathwayId),t.searchParams.set("_HLS_throughput",""+a)}var o={responseType:"json",url:t.href},s=n.steeringManifestLoadPolicy.default,l=s.errorRetry||s.timeoutRetry||{},u={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},c={onSuccess:function(e,n,i,a){r.log('Loaded steering manifest: "'.concat(t,'"'));var o=e.data;if(1===o.VERSION){r.updated=performance.now(),r.timeToLoad=o.TTL;var s=o["RELOAD-URI"],l=o["PATHWAY-CLONES"],u=o["PATHWAY-PRIORITY"];if(s)try{r.uri=new self.URL(s,t).href}catch(d){return r.enabled=!1,void r.log("Failed to parse Steering Manifest RELOAD-URI: ".concat(s))}r.scheduleRefresh(r.uri||i.url),l&&r.clonePathways(l),u&&r.updatePathwayPriority(u)}else r.log("Steering VERSION ".concat(o.VERSION," not supported!"))},onError:function(e,t,n,i){if(r.log("Error loading steering manifest: ".concat(e.code," ").concat(e.text," (").concat(t.url,")")),r.stopLoad(),410===e.code)return r.enabled=!1,void r.log("Steering manifest ".concat(t.url," no longer available"));var a=1e3*r.timeToLoad;if(429!==e.code)r.scheduleRefresh(r.uri||t.url,a);else{var o=r.loader;if("function"===typeof(null==o?void 0:o.getResponseHeader)){var s=o.getResponseHeader("Retry-After");s&&(a=1e3*parseFloat(s))}r.log("Steering manifest ".concat(t.url," rate limited"))}},onTimeout:function(e,t,n){r.log("Timeout loading steering manifest (".concat(t.url,")")),r.scheduleRefresh(r.uri||t.url)}};this.log("Requesting steering manifest: ".concat(t)),this.loader.load(o,u,c)}},{key:"scheduleRefresh",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3*this.timeToLoad;self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout((function(){t.loadSteeringManifest(e)}),r)}}]),e}();function ra(e,t,r,n){e&&Object.keys(t).forEach((function(a){var o=e.filter((function(e){return e.groupId===a})).map((function(e){var i=_({},e);return i.details=void 0,i.attrs=new B(i.attrs),i.url=i.attrs.URI=na(e.url,e.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),i.groupId=i.attrs["GROUP-ID"]=t[a],i.attrs["PATHWAY-ID"]=n,i}));e.push.apply(e,(0,i.default)(o))}))}function na(e,t,r,n){var i,a=n.HOST,o=n.PARAMS,s=n[r];t&&(i=null==s?void 0:s[t],i&&(e=i));var l=new self.URL(e);return a&&!i&&(l.host=a),o&&Object.keys(o).sort().forEach((function(e){e&&l.searchParams.set(e,o[e])})),l.href}var ia=/^age:\s*[\d.]+\s*$/im,aa=function(){function e(t){(0,h.default)(this,e),this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new H,this.retryDelay=0}return(0,p.default)(e,[{key:"destroy",value:function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}},{key:"abortInternal",value:function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))}},{key:"abort",value:function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}},{key:"load",value:function(e,t,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=r,this.loadInternal()}},{key:"loadInternal",value:function(){var e=this,t=this.config,r=this.context;if(t){var n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0;var a=this.xhrSetup;a?Promise.resolve().then((function(){if(!e.stats.aborted)return a(n,r.url)})).catch((function(e){return n.open("GET",r.url,!0),a(n,r.url)})).then((function(){e.stats.aborted||e.openAndSendXhr(n,r,t)})).catch((function(t){e.callbacks.onError({code:n.status,text:t.message},r,n,i)})):this.openAndSendXhr(n,r,t)}}},{key:"openAndSendXhr",value:function(e,t,r){e.readyState||e.open("GET",t.url,!0);var n=this.context.headers,i=r.loadPolicy,a=i.maxTimeToFirstByteMs,o=i.maxLoadTimeMs;if(n)for(var s in n)e.setRequestHeader(s,n[s]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),r.timeout=a&&w(a)?a:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}},{key:"readystatechange",value:function(){var e=this.context,t=this.loader,r=this.stats;if(e&&t){var n=t.readyState,i=this.config;if(!r.aborted&&n>=2&&(0===r.loading.first&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),4===n)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;var a=t.status,o="text"!==t.responseType;if(a>=200&&a<300&&(o&&t.response||null!==t.responseText)){r.loading.end=Math.max(self.performance.now(),r.loading.first);var s=o?t.response:t.responseText,l="arraybuffer"===t.responseType?s.byteLength:s.length;if(r.loaded=r.total=l,r.bwEstimate=8e3*r.total/(r.loading.end-r.loading.first),!this.callbacks)return;var u=this.callbacks.onProgress;if(u&&u(r,e,s,t),!this.callbacks)return;var c={url:t.responseURL,data:s,code:a};this.callbacks.onSuccess(c,r,e,t)}else{var d=i.loadPolicy.errorRetry,f=r.retry;Vt(d,f,!1,a)?this.retry(d):(M.error("".concat(a," while loading ").concat(e.url)),this.callbacks.onError({code:a,text:t.statusText},e,t,r))}}}}},{key:"loadtimeout",value:function(){var e,t=null==(e=this.config)?void 0:e.loadPolicy.timeoutRetry,r=this.stats.retry;if(Vt(t,r,!0))this.retry(t);else{M.warn("timeout while loading ".concat(this.context.url));var n=this.callbacks;n&&(this.abortInternal(),n.onTimeout(this.stats,this.context,this.loader))}}},{key:"retry",value:function(e){var t=this.context,r=this.stats;this.retryDelay=Gt(e,r.retry),r.retry++,M.warn("".concat(status?"HTTP Status "+status:"Timeout"," while loading ").concat(t.url,", retrying ").concat(r.retry,"/").concat(e.maxNumRetry," in ").concat(this.retryDelay,"ms")),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}},{key:"getCacheAge",value:function(){var e=null;if(this.loader&&ia.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}},{key:"getResponseHeader",value:function(e){return this.loader&&new RegExp("^".concat(e,":\\s*[\\d.]+\\s*$"),"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}]),e}();var oa=/(\d+)-(\d+)\/(\d+)/,sa=function(){function e(t){(0,h.default)(this,e),this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||la,this.controller=new self.AbortController,this.stats=new H}return(0,p.default)(e,[{key:"destroy",value:function(){this.loader=this.callbacks=null,this.abortInternal()}},{key:"abortInternal",value:function(){var e=this.response;null!=e&&e.ok||(this.stats.aborted=!0,this.controller.abort())}},{key:"abort",value:function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}},{key:"load",value:function(e,t,r){var n=this,i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();var a=function(e,t){var r={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(_({},e.headers))};e.rangeEnd&&r.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1));return r}(e,this.controller.signal),o=r.onProgress,s="arraybuffer"===e.responseType,l=s?"byteLength":"length",u=t.loadPolicy,c=u.maxTimeToFirstByteMs,d=u.maxLoadTimeMs;this.context=e,this.config=t,this.callbacks=r,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),t.timeout=c&&w(c)?c:d,this.requestTimeout=self.setTimeout((function(){n.abortInternal(),r.onTimeout(i,e,n.response)}),t.timeout),self.fetch(this.request).then((function(a){n.response=n.loader=a;var l=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(n.requestTimeout),t.timeout=d,n.requestTimeout=self.setTimeout((function(){n.abortInternal(),r.onTimeout(i,e,n.response)}),d-(l-i.loading.start)),!a.ok){var u=a.status,c=a.statusText;throw new ua(c||"fetch, bad network response",u,a)}return i.loading.first=l,i.total=function(e){var t=e.get("Content-Range");if(t){var r=function(e){var t=oa.exec(e);if(t)return parseInt(t[2])-parseInt(t[1])+1}(t);if(w(r))return r}var n=e.get("Content-Length");if(n)return parseInt(n)}(a.headers)||i.total,o&&w(t.highWaterMark)?n.loadProgressively(a,i,e,t.highWaterMark,o):s?a.arrayBuffer():"json"===e.responseType?a.json():a.text()})).then((function(a){var s=n.response;self.clearTimeout(n.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);var u=a[l];u&&(i.loaded=i.total=u);var c={url:s.url,data:a,code:s.status};o&&!w(t.highWaterMark)&&o(i,e,a,s),r.onSuccess(c,i,e,s)})).catch((function(t){if(self.clearTimeout(n.requestTimeout),!i.aborted){var a=t&&t.code||0,o=t?t.message:null;r.onError({code:a,text:o},e,t?t.details:null,i)}}))}},{key:"getCacheAge",value:function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}},{key:"getResponseHeader",value:function(e){return this.response?this.response.headers.get(e):null}},{key:"loadProgressively",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=new Vn,o=e.body.getReader(),s=function s(){return o.read().then((function(o){if(o.done)return a.dataLength&&i(t,r,a.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=o.value,u=l.length;return t.loaded+=u,u<n||a.dataLength?(a.push(l),a.dataLength>=n&&i(t,r,a.flush(),e)):i(t,r,l,e),s()})).catch((function(){return Promise.reject()}))};return s()}}]),e}();function la(e,t){return new self.Request(e.url,t)}var ua=function(e){(0,u.default)(r,e);var t=y(r);function r(e,n,i){var a;return(0,h.default)(this,r),a=t.call(this,e),a.code=void 0,a.details=void 0,a.code=n,a.details=i,a}return(0,p.default)(r)}((0,s.default)(Error)),ca=/\s/,da={newCue:function(e,t,r,n){for(var i,a,o,s,l,u=[],c=self.VTTCue||self.TextTrackCue,d=0;d<n.rows.length;d++)if(i=n.rows[d],o=!0,s=0,l="",!i.isEmpty()){for(var f,h=0;h<i.chars.length;h++)ca.test(i.chars[h].uchar)&&o?s++:(l+=i.chars[h].uchar,o=!1);i.cueStartTime=t,t===r&&(r+=1e-4),s>=16?s--:s++;var p=Di(l.trim()),v=Ci(t,r,p);null!=e&&null!=(f=e.cues)&&f.getCueById(v)||(a=new c(t,r,p),a.id=v,a.line=d+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*s/32)),u.push(a))}return e&&u.length&&(u.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),u.forEach((function(t){return yt(e,t)}))),u}},fa=S(S({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:aa,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Hn,bufferController:ti,capLevelController:Qi,errorController:qt,fpsController:qi,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:ne,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function(){return{cueHandler:da,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:Wn,subtitleTrackController:qn,timelineController:$i,audioStreamController:Kn,audioTrackController:$n,emeController:Xi,cmcdController:ea,contentSteeringController:ta});function ha(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var r=pa(e),n=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((function(e){var i="".concat("level"===e?"playlist":e,"LoadPolicy"),a=void 0===t[i],o=[];n.forEach((function(n){var s="".concat(e,"Loading").concat(n),l=t[s];if(void 0!==l&&a){o.push(s);var u=r[i].default;switch(t[i]={default:u},n){case"TimeOut":u.maxLoadTimeMs=l,u.maxTimeToFirstByteMs=l;break;case"MaxRetry":u.errorRetry.maxNumRetry=l,u.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":u.errorRetry.retryDelayMs=l,u.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":u.errorRetry.maxRetryDelayMs=l,u.timeoutRetry.maxRetryDelayMs=l;break}}})),o.length&&M.warn('hls.js config: "'.concat(o.join('", "'),'" setting(s) are deprecated, use "').concat(i,'": ').concat(JSON.stringify(t[i])))})),S(S({},r),t)}function pa(e){return e&&"object"===(0,v.default)(e)?Array.isArray(e)?e.map(pa):Object.keys(e).reduce((function(t,r){return t[r]=pa(e[r]),t}),{}):e}function va(e){var t=e.loader;if(t!==sa&&t!==aa)M.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1;else{var r=function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}();r&&(e.loader=sa,e.progressive=!0,e.enableSoftwareAES=!0,M.log("[config]: Progressive streaming enabled, using FetchLoader"))}}var ga=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,h.default)(this,e),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Mn,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,C(t.debug||!1,"Hls instance");var r=this.config=ha(e.DefaultConfig,t);this.userConfig=t,this._autoLevelCapping=-1,r.progressive&&va(r);var n=r.abrController,i=r.bufferController,a=r.capLevelController,o=r.errorController,s=r.fpsController,l=new o(this),u=this.abrController=new n(this),c=this.bufferController=new i(this),d=this.capLevelController=new a(this),f=new s(this),p=new gt(this),v=new wt(this),g=r.contentSteeringController,m=g?new g(this):null,y=this.levelController=new Zt(this,m),b=new nr(this),E=new dr(this.config),T=this.streamController=new Un(this,b,E);d.setStreamController(T),f.setStreamController(T);var k=[p,y,T];m&&k.splice(1,0,m),this.networkControllers=k;var S=[u,c,d,f,v,b];this.audioTrackController=this.createController(r.audioTrackController,k);var A=r.audioStreamController;A&&k.push(new A(this,b,E)),this.subtitleTrackController=this.createController(r.subtitleTrackController,k);var _=r.subtitleStreamController;_&&k.push(new _(this,b,E)),this.createController(r.timelineController,S),E.emeController=this.emeController=this.createController(r.emeController,S),this.cmcdController=this.createController(r.cmcdController,S),this.latencyController=this.createController(Lt,S),this.coreComponents=S,k.push(l);var w=l.onErrorOut;"function"===typeof w&&this.on(L.ERROR,w,l)}return(0,p.default)(e,[{key:"createController",value:function(e,t){if(e){var r=new e(this);return t&&t.push(r),r}return null}},{key:"on",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.on(e,t,r)}},{key:"once",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.once(e,t,r)}},{key:"removeAllListeners",value:function(e){this._emitter.removeAllListeners(e)}},{key:"off",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,n=arguments.length>3?arguments[3]:void 0;this._emitter.off(e,t,r,n)}},{key:"listeners",value:function(e){return this._emitter.listeners(e)}},{key:"emit",value:function(e,t,r){return this._emitter.emit(e,t,r)}},{key:"trigger",value:function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(r){M.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),this.trigger(L.ERROR,{type:I.OTHER_ERROR,details:D.INTERNAL_EXCEPTION,fatal:!1,event:e,error:r})}return!1}},{key:"listenerCount",value:function(e){return this._emitter.listenerCount(e)}},{key:"destroy",value:function(){M.log("destroy"),this.trigger(L.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0;var e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}},{key:"attachMedia",value:function(e){M.log("attachMedia"),this._media=e,this.trigger(L.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){M.log("detachMedia"),this.trigger(L.MEDIA_DETACHING,void 0),this._media=null}},{key:"loadSource",value:function(e){this.stopLoad();var t=this.media,r=this.url,n=this.url=T.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});M.log("loadSource:".concat(n)),t&&r&&(r!==n||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(L.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;M.log("startLoad(".concat(e,")")),this.networkControllers.forEach((function(t){t.startLoad(e)}))}},{key:"stopLoad",value:function(){M.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))}},{key:"swapAudioCodec",value:function(){M.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){M.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)}},{key:"removeLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.levelController.removeLevel(e,t)}},{key:"levels",get:function(){var e=this.levelController.levels;return e||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){M.log("set currentLevel:".concat(e)),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){M.log("set nextLevel:".concat(e)),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){M.log("set loadLevel:".concat(e)),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){M.log("set firstLevel:".concat(e)),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){M.log("set startLevel:".concat(e)),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(M.log("set autoLevelCapping:".concat(e)),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(e){It.indexOf(e)>-1&&(this._maxHdcpLevel=e)}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var r=e.length,n=0;n<r;n++)if(e[n].maxBitrate>=t)return n;return 0}},{key:"maxAutoLevel",get:function(){var e,t=this.levels,r=this.autoLevelCapping,n=this.maxHdcpLevel;if(e=-1===r&&t&&t.length?t.length-1:r,n)for(var i=e;i--;){var a=t[i].attrs["HDCP-LEVEL"];if(a&&a<=n)return i}return e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.3"}},{key:"isSupported",value:function(){return function(){var e=Qe();if(!e)return!1;var t=Dr(),r=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!r&&!!n}()}},{key:"Events",get:function(){return L}},{key:"ErrorTypes",get:function(){return I}},{key:"ErrorDetails",get:function(){return D}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:fa},set:function(t){e.defaultConfig=t}}]),e}();t.default=ga,ga.defaultConfig=void 0},"3edd":function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"请输入搜索内容"}')},"41d7":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("66fd")),a=n(r("26cb")),o=n(r("a698")),s=n(r("b56e")),l=n(r("1a69")),u=n(r("1afc"));i.default.use(a.default);var c=new a.default.Store({modules:{book:o.default,comic:s.default,video:l.default,chapter:u.default}}),d=c;t.default=d},4315:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r?n||(n=!0,"function"===typeof e&&e(),setTimeout((function(){n=!1}),t)):n||(n=!0,setTimeout((function(){n=!1,"function"===typeof e&&e()}),t))};t.default=i},"444a":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{show:{type:Boolean,default:e.$u.props.popup.show},overlay:{type:Boolean,default:e.$u.props.popup.overlay},mode:{type:String,default:e.$u.props.popup.mode},duration:{type:[String,Number],default:e.$u.props.popup.duration},closeable:{type:Boolean,default:e.$u.props.popup.closeable},overlayStyle:{type:[Object,String],default:e.$u.props.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:e.$u.props.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:e.$u.props.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:e.$u.props.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:e.$u.props.popup.safeAreaInsetTop},closeIconPos:{type:String,default:e.$u.props.popup.closeIconPos},round:{type:[Boolean,String,Number],default:e.$u.props.popup.round},zoom:{type:Boolean,default:e.$u.props.popup.zoom},bgColor:{type:String,default:e.$u.props.popup.bgColor},overlayOpacity:{type:[Number,String],default:e.$u.props.popup.overlayOpacity}}};t.default=r}).call(this,r("543d")["default"])},"448a":function(e,t,r){var n=r("2236"),i=r("11b0"),a=r("6613"),o=r("0676");e.exports=function(e){return n(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"448d":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("16f0")),a=n(r("3edd")),o=n(r("8d13")),s={en:i.default,"zh-Hans":a.default,"zh-Hant":o.default};t.default=s},4563:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={collapseItem:{title:"",value:"",label:"",disabled:!1,isLink:!0,clickable:!0,border:!0,align:"left",name:"",icon:"",duration:300}}},"480f":function(e,t,r){var n=r("c135"),i=r("11b0"),a=r("6613"),o=r("c240");e.exports=function(e){return n(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"488d":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{status:{type:String,default:e.$u.props.loadmore.status},bgColor:{type:String,default:e.$u.props.loadmore.bgColor},icon:{type:Boolean,default:e.$u.props.loadmore.icon},fontSize:{type:[String,Number],default:e.$u.props.loadmore.fontSize},iconSize:{type:[String,Number],default:e.$u.props.loadmore.iconSize},color:{type:String,default:e.$u.props.loadmore.color},loadingIcon:{type:String,default:e.$u.props.loadmore.loadingIcon},loadmoreText:{type:String,default:e.$u.props.loadmore.loadmoreText},loadingText:{type:String,default:e.$u.props.loadmore.loadingText},nomoreText:{type:String,default:e.$u.props.loadmore.nomoreText},isDot:{type:Boolean,default:e.$u.props.loadmore.isDot},iconColor:{type:String,default:e.$u.props.loadmore.iconColor},marginTop:{type:[String,Number],default:e.$u.props.loadmore.marginTop},marginBottom:{type:[String,Number],default:e.$u.props.loadmore.marginBottom},height:{type:[String,Number],default:e.$u.props.loadmore.height},line:{type:Boolean,default:e.$u.props.loadmore.line},lineColor:{type:String,default:e.$u.props.loadmore.lineColor},dashed:{type:Boolean,default:e.$u.props.loadmore.dashed}}};t.default=r}).call(this,r("543d")["default"])},4927:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{wxsProp:{optDown:{},scrollTop:0,bodyHeight:0,isDownScrolling:!1,isUpScrolling:!1,isScrollBody:!0,isUpBoth:!0,t:0},callProp:{callType:"",t:0},renderBiz:{propObserver:function(){}}}},methods:{wxsCall:function(e){"setWxsProp"===e.type?this.wxsProp={optDown:this.mescroll.optDown,scrollTop:this.mescroll.getScrollTop(),bodyHeight:this.mescroll.getBodyHeight(),isDownScrolling:this.mescroll.isDownScrolling,isUpScrolling:this.mescroll.isUpScrolling,isUpBoth:this.mescroll.optUp.isBoth,isScrollBody:this.mescroll.isScrollBody,t:Date.now()}:"setLoadType"===e.type?(this.downLoadType=e.downLoadType,this.$set(this.mescroll,"downLoadType",this.downLoadType),this.$set(this.mescroll,"isDownEndSuccess",null)):"triggerDownScroll"===e.type?this.mescroll.triggerDownScroll():"endDownScroll"===e.type?this.mescroll.endDownScroll():"triggerUpScroll"===e.type&&this.mescroll.triggerUpScroll(!0)}},mounted:function(){var e=this;this.mescroll.optDown.afterLoading=function(){e.callProp={callType:"showLoading",t:Date.now()}},this.mescroll.optDown.afterEndDownScroll=function(){e.callProp={callType:"endDownScroll",t:Date.now()};var t=300+(e.mescroll.optDown.beforeEndDelay||0);setTimeout((function(){4!==e.downLoadType&&0!==e.downLoadType||(e.callProp={callType:"clearTransform",t:Date.now()}),e.$set(e.mescroll,"downLoadType",e.downLoadType)}),t)},this.wxsCall({type:"setWxsProp"})}},i=n;t.default=i},"4a4b":function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"4c77":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swipeAction:{autoClose:!0}}},"4d00":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{col:{type:[String,Number],default:e.$u.props.grid.col},border:{type:Boolean,default:e.$u.props.grid.border},align:{type:String,default:e.$u.props.grid.align}}};t.default=r}).call(this,r("543d")["default"])},"4d44":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={gap:{bgColor:"transparent",height:20,marginTop:0,marginBottom:0,customStyle:{}}}},"4d68":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={image:{src:"",mode:"aspectFill",width:"300",height:"225",shape:"square",radius:0,lazyLoad:!0,showMenuByLongpress:!0,loadingIcon:"photo",errorIcon:"error-circle",showLoading:!0,showError:!0,fade:!0,webp:!1,duration:500,bgColor:"#f3f4f6"}}},"4df7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={statusBar:{bgColor:"transparent"}}},"4e10":function(e,t,r){"use strict";(function(e){var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("7037")),a=function(){function t(e,t){return null!=t&&e instanceof t}var r,n,a;try{r=Map}catch(u){r=function(){}}try{n=Set}catch(u){n=function(){}}try{a=Promise}catch(u){a=function(){}}function o(s,u,c,d,f){"object"===(0,i.default)(u)&&(c=u.depth,d=u.prototype,f=u.includeNonEnumerable,u=u.circular);var h=[],p=[],v="undefined"!=typeof e;return"undefined"==typeof u&&(u=!0),"undefined"==typeof c&&(c=1/0),function s(c,g){if(null===c)return null;if(0===g)return c;var m,y;if("object"!=(0,i.default)(c))return c;if(t(c,r))m=new r;else if(t(c,n))m=new n;else if(t(c,a))m=new a((function(e,t){c.then((function(t){e(s(t,g-1))}),(function(e){t(s(e,g-1))}))}));else if(o.__isArray(c))m=[];else if(o.__isRegExp(c))m=new RegExp(c.source,l(c)),c.lastIndex&&(m.lastIndex=c.lastIndex);else if(o.__isDate(c))m=new Date(c.getTime());else{if(v&&e.isBuffer(c))return e.from?m=e.from(c):(m=new e(c.length),c.copy(m)),m;t(c,Error)?m=Object.create(c):"undefined"==typeof d?(y=Object.getPrototypeOf(c),m=Object.create(y)):(m=Object.create(d),y=d)}if(u){var b=h.indexOf(c);if(-1!=b)return p[b];h.push(c),p.push(m)}for(var E in t(c,r)&&c.forEach((function(e,t){var r=s(t,g-1),n=s(e,g-1);m.set(r,n)})),t(c,n)&&c.forEach((function(e){var t=s(e,g-1);m.add(t)})),c){var T=Object.getOwnPropertyDescriptor(c,E);T&&(m[E]=s(c[E],g-1));try{var k=Object.getOwnPropertyDescriptor(c,E);if("undefined"===k.set)continue;m[E]=s(c[E],g-1)}catch(I){if(I instanceof TypeError)continue;if(I instanceof ReferenceError)continue}}if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(c);for(E=0;E<S.length;E++){var A=S[E],_=Object.getOwnPropertyDescriptor(c,A);(!_||_.enumerable||f)&&(m[A]=s(c[A],g-1),Object.defineProperty(m,A,_))}}if(f){var w=Object.getOwnPropertyNames(c);for(E=0;E<w.length;E++){var L=w[E];_=Object.getOwnPropertyDescriptor(c,L);_&&_.enumerable||(m[L]=s(c[L],g-1),Object.defineProperty(m,L,_))}}return m}(s,c)}function s(e){return Object.prototype.toString.call(e)}function l(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=s,o.__isDate=function(e){return"object"===(0,i.default)(e)&&"[object Date]"===s(e)},o.__isArray=function(e){return"object"===(0,i.default)(e)&&"[object Array]"===s(e)},o.__isRegExp=function(e){return"object"===(0,i.default)(e)&&"[object RegExp]"===s(e)},o.__getRegExpFlags=l,o}(),o=a;t.default=o}).call(this,r("b639").Buffer)},"4ea4":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"543d":function(e,t,r){"use strict";(function(e,n){var i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.createApp=Pt,t.createComponent=Ht,t.createPage=Gt,t.createPlugin=Kt,t.createSubpackageApp=Vt,t.default=void 0;var a,o=i(r("278c")),s=i(r("9523")),l=i(r("b17c")),u=i(r("448a")),c=i(r("7037")),d=r("37dc"),f=i(r("66fd"));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function m(){var t,r=e.getStorageSync("uni_id_token")||"",n=r.split(".");if(!r||3!==n.length)return{uid:null,role:[],permission:[],tokenExpired:0};try{t=JSON.parse(function(e){return decodeURIComponent(a(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(n[1]))}catch(i){throw new Error("获取当前用户信息出错，详细错误信息为："+i.message)}return t.tokenExpired=1e3*t.exp,delete t.exp,delete t.iat,t}a="function"!==typeof atob?function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!g.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var r,n,i="",a=0;a<e.length;)t=v.indexOf(e.charAt(a++))<<18|v.indexOf(e.charAt(a++))<<12|(r=v.indexOf(e.charAt(a++)))<<6|(n=v.indexOf(e.charAt(a++))),i+=64===r?String.fromCharCode(t>>16&255):64===n?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return i}:atob;var y=Object.prototype.toString,b=Object.prototype.hasOwnProperty;function E(e){return"function"===typeof e}function T(e){return"string"===typeof e}function k(e){return"[object Object]"===y.call(e)}function S(e,t){return b.call(e,t)}function A(){}function _(e){var t=Object.create(null);return function(r){var n=t[r];return n||(t[r]=e(r))}}var w=/-(\w)/g,L=_((function(e){return e.replace(w,(function(e,t){return t?t.toUpperCase():""}))}));function I(e){var t={};return k(e)&&Object.keys(e).sort().forEach((function(r){t[r]=e[r]})),Object.keys(t)?t:e}var D=["invoke","success","fail","complete","returnValue"],R={},x={};function P(e,t){Object.keys(t).forEach((function(r){-1!==D.indexOf(r)&&E(t[r])&&(e[r]=function(e,t){var r=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return r?function(e){for(var t=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}(r):r}(e[r],t[r]))}))}function O(e,t){e&&t&&Object.keys(t).forEach((function(r){-1!==D.indexOf(r)&&E(t[r])&&function(e,t){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}(e[r],t[r])}))}function C(e,t){return function(r){return e(r,t)||r}}function M(e){return!!e&&("object"===(0,c.default)(e)||"function"===typeof e)&&"function"===typeof e.then}function F(e,t,r){for(var n=!1,i=0;i<e.length;i++){var a=e[i];if(n)n=Promise.resolve(C(a,r));else{var o=a(t,r);if(M(o)&&(n=Promise.resolve(o)),!1===o)return{then:function(){}}}}return n||{then:function(e){return e(t)}}}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return["success","fail","complete"].forEach((function(r){if(Array.isArray(e[r])){var n=t[r];t[r]=function(i){F(e[r],i,t).then((function(e){return E(n)&&n(e)||e}))}}})),t}function B(e,t){var r=[];Array.isArray(R.returnValue)&&r.push.apply(r,(0,u.default)(R.returnValue));var n=x[e];return n&&Array.isArray(n.returnValue)&&r.push.apply(r,(0,u.default)(n.returnValue)),r.forEach((function(e){t=e(t)||t})),t}function U(e){var t=Object.create(null);Object.keys(R).forEach((function(e){"returnValue"!==e&&(t[e]=R[e].slice())}));var r=x[e];return r&&Object.keys(r).forEach((function(e){"returnValue"!==e&&(t[e]=(t[e]||[]).concat(r[e]))})),t}function j(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),a=3;a<n;a++)i[a-3]=arguments[a];var o=U(e);if(o&&Object.keys(o).length){if(Array.isArray(o.invoke)){var s=F(o.invoke,r);return s.then((function(r){return t.apply(void 0,[N(U(e),r)].concat(i))}))}return t.apply(void 0,[N(o,r)].concat(i))}return t.apply(void 0,[r].concat(i))}var G={returnValue:function(e){return M(e)?new Promise((function(t,r){e.then((function(e){e[0]?r(e[0]):t(e[1])}))})):e}},H=/^\$|Window$|WindowStyle$|sendHostEvent|sendNativeEvent|restoreGlobal|requireGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64|getLocale|setLocale|invokePushCallback|getWindowInfo|getDeviceInfo|getAppBaseInfo|getSystemSetting|getAppAuthorizeSetting|initUTS|requireUTS|registerUTS/,V=/^create|Manager$/,K=["createBLEConnection"],$=["createBLEConnection","createPushMessage"],Y=/^on|^off/;function z(e){return V.test(e)&&-1===K.indexOf(e)}function W(e){return H.test(e)&&-1===$.indexOf(e)}function Q(e){return e.then((function(e){return[null,e]})).catch((function(e){return[e]}))}function q(e){return!(z(e)||W(e)||function(e){return Y.test(e)&&"onPush"!==e}(e))}function X(e,t){return q(e)&&E(t)?function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return E(r.success)||E(r.fail)||E(r.complete)?B(e,j.apply(void 0,[e,t,r].concat(i))):B(e,Q(new Promise((function(n,a){j.apply(void 0,[e,t,Object.assign({},r,{success:n,fail:a})].concat(i))}))))}:t}Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))});var J=!1,Z=0,ee=0;var te,re={};te=ae(e.getSystemInfoSync().language)||"en",function(){if(function(){return"undefined"!==typeof __uniConfig&&__uniConfig.locales&&!!Object.keys(__uniConfig.locales).length}()){var e=Object.keys(__uniConfig.locales);e.length&&e.forEach((function(e){var t=re[e],r=__uniConfig.locales[e];t?Object.assign(t,r):re[e]=r}))}}();var ne=(0,d.initVueI18n)(te,{}),ie=ne.t;ne.mixin={beforeCreate:function(){var e=this,t=ne.i18n.watchLocale((function(){e.$forceUpdate()}));this.$once("hook:beforeDestroy",(function(){t()}))},methods:{$$t:function(e,t){return ie(e,t)}}},ne.setLocale,ne.getLocale;function ae(e,t){if(e){if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),"chinese"===e)return"zh-Hans";if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?"zh-Hans":e.indexOf("-hant")>-1||function(e,t){return!!t.find((function(t){return-1!==e.indexOf(t)}))}(e,["-tw","-hk","-mo","-cht"])?"zh-Hant":"zh-Hans";var r=function(e,t){return t.find((function(t){return 0===e.indexOf(t)}))}(e,["en","fr","es"]);return r||void 0}}function oe(){if(E(getApp)){var t=getApp({allowDefault:!0});if(t&&t.$vm)return t.$vm.$locale}return ae(e.getSystemInfoSync().language)||"en"}var se=[];"undefined"!==typeof n&&(n.getLocale=oe);var le={promiseInterceptor:G},ue=Object.freeze({__proto__:null,upx2px:function(t,r){if(0===Z&&function(){var t=e.getSystemInfoSync(),r=t.platform,n=t.pixelRatio,i=t.windowWidth;Z=i,ee=n,J="ios"===r}(),t=Number(t),0===t)return 0;var n=t/750*(r||Z);return n<0&&(n=-n),n=Math.floor(n+1e-4),0===n&&(n=1!==ee&&J?.5:1),t<0?-n:n},getLocale:oe,setLocale:function(e){var t=!!E(getApp)&&getApp();if(!t)return!1;var r=t.$vm.$locale;return r!==e&&(t.$vm.$locale=e,se.forEach((function(t){return t({locale:e})})),!0)},onLocaleChange:function(e){-1===se.indexOf(e)&&se.push(e)},addInterceptor:function(e,t){"string"===typeof e&&k(t)?P(x[e]||(x[e]={}),t):k(e)&&P(R,e)},removeInterceptor:function(e,t){"string"===typeof e?k(t)?O(x[e],t):delete x[e]:k(e)&&O(R,e)},interceptors:le});var ce,de={name:function(e){return"back"===e.exists&&e.delta?"navigateBack":"redirectTo"},args:function(e){if("back"===e.exists&&e.url){var t=function(e){var t=getCurrentPages(),r=t.length;while(r--){var n=t[r];if(n.$page&&n.$page.fullPath===e)return r}return-1}(e.url);if(-1!==t){var r=getCurrentPages().length-1-t;r>0&&(e.delta=r)}}}},fe={args:function(e){var t=parseInt(e.current);if(!isNaN(t)){var r=e.urls;if(Array.isArray(r)){var n=r.length;if(n)return t<0?t=0:t>=n&&(t=n-1),t>0?(e.current=r[t],e.urls=r.filter((function(e,n){return!(n<t)||e!==r[t]}))):e.current=r[0],{indicator:!1,loop:!1}}}}};function he(t){ce=ce||e.getStorageSync("__DC_STAT_UUID"),ce||(ce=Date.now()+""+Math.floor(1e7*Math.random()),e.setStorage({key:"__DC_STAT_UUID",data:ce})),t.deviceId=ce}function pe(e){if(e.safeArea){var t=e.safeArea;e.safeAreaInsets={top:t.top,left:t.left,right:e.windowWidth-t.right,bottom:e.screenHeight-t.bottom}}}function ve(e,t){for(var r=e.deviceType||"phone",n={ipad:"pad",windows:"pc",mac:"pc"},i=Object.keys(n),a=t.toLocaleLowerCase(),o=0;o<i.length;o++){var s=i[o];if(-1!==a.indexOf(s)){r=n[s];break}}return r}function ge(e){var t=e;return t&&(t=e.toLocaleLowerCase()),t}function me(e){return oe?oe():e}function ye(e){var t=e.hostName||"WeChat";return e.environment?t=e.environment:e.host&&e.host.env&&(t=e.host.env),t}var be={returnValue:function(e){he(e),pe(e),function(e){var t,r=e.brand,n=void 0===r?"":r,i=e.model,a=void 0===i?"":i,o=e.system,s=void 0===o?"":o,l=e.language,u=void 0===l?"":l,c=e.theme,d=e.version,f=(e.platform,e.fontSizeSetting),h=e.SDKVersion,p=e.pixelRatio,v=e.deviceOrientation,g="";g=s.split(" ")[0]||"",t=s.split(" ")[1]||"";var m=d,y=ve(e,a),b=ge(n),E=ye(e),T=v,k=p,S=h,A=u.replace(/_/g,"-"),_={appId:"__UNI__8AE940F",appName:"耀西",appVersion:"1.0.0",appVersionCode:"100",appLanguage:me(A),uniCompileVersion:"3.8.4",uniRuntimeVersion:"3.8.4",uniPlatform:"mp-weixin",deviceBrand:b,deviceModel:a,deviceType:y,devicePixelRatio:k,deviceOrientation:T,osName:g.toLocaleLowerCase(),osVersion:t,hostTheme:c,hostVersion:m,hostLanguage:A,hostName:E,hostSDKVersion:S,hostFontSizeSetting:f,windowTop:0,windowBottom:0,osLanguage:void 0,osTheme:void 0,ua:void 0,hostPackageName:void 0,browserName:void 0,browserVersion:void 0};Object.assign(e,_,{})}(e)}},Ee={args:function(e){"object"===(0,c.default)(e)&&(e.alertText=e.title)}},Te={returnValue:function(e){var t=e,r=t.version,n=t.language,i=t.SDKVersion,a=t.theme,o=ye(e),s=n.replace("_","-");e=I(Object.assign(e,{appId:"__UNI__8AE940F",appName:"耀西",appVersion:"1.0.0",appVersionCode:"100",appLanguage:me(s),hostVersion:r,hostLanguage:s,hostName:o,hostSDKVersion:i,hostTheme:a}))}},ke={returnValue:function(e){var t=e,r=t.brand,n=t.model,i=ve(e,n),a=ge(r);he(e),e=I(Object.assign(e,{deviceType:i,deviceBrand:a,deviceModel:n}))}},Se={returnValue:function(e){pe(e),e=I(Object.assign(e,{windowTop:0,windowBottom:0}))}},Ae={redirectTo:de,previewImage:fe,getSystemInfo:be,getSystemInfoSync:be,showActionSheet:Ee,getAppBaseInfo:Te,getDeviceInfo:ke,getWindowInfo:Se,getAppAuthorizeSetting:{returnValue:function(e){var t=e.locationReducedAccuracy;e.locationAccuracy="unsupported",!0===t?e.locationAccuracy="reduced":!1===t&&(e.locationAccuracy="full")}},compressImage:{args:function(e){e.compressedHeight&&!e.compressHeight&&(e.compressHeight=e.compressedHeight),e.compressedWidth&&!e.compressWidth&&(e.compressWidth=e.compressedWidth)}}},_e=["success","fail","cancel","complete"];function we(e,t,r){return function(n){return t(Ie(e,n,r))}}function Le(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(k(t)){var a=!0===i?t:{};for(var o in E(r)&&(r=r(t,a)||{}),t)if(S(r,o)){var s=r[o];E(s)&&(s=s(t[o],t,a)),s?T(s)?a[s]=t[o]:k(s)&&(a[s.name?s.name:o]=s.value):console.warn("The '".concat(e,"' method of platform '微信小程序' does not support option '").concat(o,"'"))}else-1!==_e.indexOf(o)?E(t[o])&&(a[o]=we(e,t[o],n)):i||(a[o]=t[o]);return a}return E(t)&&(t=we(e,t,n)),t}function Ie(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return E(Ae.returnValue)&&(t=Ae.returnValue(e,t)),Le(e,t,r,{},n)}function De(t,r){if(S(Ae,t)){var n=Ae[t];return n?function(r,i){var a=n;E(n)&&(a=n(r)),r=Le(t,r,a.args,a.returnValue);var o=[r];"undefined"!==typeof i&&o.push(i),E(a.name)?t=a.name(r):T(a.name)&&(t=a.name);var s=e[t].apply(e,o);return W(t)?Ie(t,s,a.returnValue,z(t)):s}:function(){console.error("Platform '微信小程序' does not support '".concat(t,"'."))}}return r}var Re=Object.create(null);["onTabBarMidButtonTap","subscribePush","unsubscribePush","onPush","offPush","share"].forEach((function(e){Re[e]=function(e){return function(t){var r=t.fail,n=t.complete,i={errMsg:"".concat(e,":fail method '").concat(e,"' not supported")};E(r)&&r(i),E(n)&&n(i)}}(e)}));var xe={oauth:["weixin"],share:["weixin"],payment:["wxpay"],push:["weixin"]};var Pe=Object.freeze({__proto__:null,getProvider:function(e){var t=e.service,r=e.success,n=e.fail,i=e.complete,a=!1;xe[t]?(a={errMsg:"getProvider:ok",service:t,provider:xe[t]},E(r)&&r(a)):(a={errMsg:"getProvider:fail service not found"},E(n)&&n(a)),E(i)&&i(a)}}),Oe=function(){var e;return function(){return e||(e=new f.default),e}}();function Ce(e,t,r){return e[t].apply(e,r)}var Me,Fe,Ne,Be=Object.freeze({__proto__:null,$on:function(){return Ce(Oe(),"$on",Array.prototype.slice.call(arguments))},$off:function(){return Ce(Oe(),"$off",Array.prototype.slice.call(arguments))},$once:function(){return Ce(Oe(),"$once",Array.prototype.slice.call(arguments))},$emit:function(){return Ce(Oe(),"$emit",Array.prototype.slice.call(arguments))}});function Ue(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}function je(e){try{return JSON.parse(e)}catch(t){}return e}var Ge=[];function He(e,t){Ge.forEach((function(r){r(e,t)})),Ge.length=0}var Ve=[],Ke=e.getAppBaseInfo&&e.getAppBaseInfo();Ke||(Ke=e.getSystemInfoSync());var $e=Ke?Ke.host:null,Ye=$e&&"SAAASDK"===$e.env?e.miniapp.shareVideoMessage:e.shareVideoMessage,ze=Object.freeze({__proto__:null,shareVideoMessage:Ye,getPushClientId:function(e){k(e)||(e={});var t=function(e){var t={};for(var r in e){var n=e[r];E(n)&&(t[r]=Ue(n),delete e[r])}return t}(e),r=t.success,n=t.fail,i=t.complete,a=E(r),o=E(n),s=E(i);Promise.resolve().then((function(){"undefined"===typeof Ne&&(Ne=!1,Me="",Fe="uniPush is not enabled"),Ge.push((function(e,t){var l;e?(l={errMsg:"getPushClientId:ok",cid:e},a&&r(l)):(l={errMsg:"getPushClientId:fail"+(t?" "+t:"")},o&&n(l)),s&&i(l)})),"undefined"!==typeof Me&&He(Me,Fe)}))},onPushMessage:function(e){-1===Ve.indexOf(e)&&Ve.push(e)},offPushMessage:function(e){if(e){var t=Ve.indexOf(e);t>-1&&Ve.splice(t,1)}else Ve.length=0},invokePushCallback:function(e){if("enabled"===e.type)Ne=!0;else if("clientId"===e.type)Me=e.cid,Fe=e.errMsg,He(Me,e.errMsg);else if("pushMsg"===e.type)for(var t={type:"receive",data:je(e.message)},r=0;r<Ve.length;r++){var n=Ve[r];if(n(t),t.stopped)break}else"click"===e.type&&Ve.forEach((function(t){t({type:"click",data:je(e.message)})}))}}),We=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function Qe(e){return Behavior(e)}function qe(){return!!this.route}function Xe(e){this.triggerEvent("__l",e)}function Je(e){var t=e.$scope,r={};Object.defineProperty(e,"$refs",{get:function(){var e={};(function e(t,r,n){var i=t.selectAllComponents(r)||[];i.forEach((function(t){var i=t.dataset.ref;n[i]=t.$vm||tt(t),"scoped"===t.dataset.vueGeneric&&t.selectAllComponents(".scoped-ref").forEach((function(t){e(t,r,n)}))}))})(t,".vue-ref",e);var n=t.selectAllComponents(".vue-ref-in-for")||[];return n.forEach((function(t){var r=t.dataset.ref;e[r]||(e[r]=[]),e[r].push(t.$vm||tt(t))})),function(e,t){var r=(0,l.default)(Set,(0,u.default)(Object.keys(e))),n=Object.keys(t);return n.forEach((function(n){var i=e[n],a=t[n];Array.isArray(i)&&Array.isArray(a)&&i.length===a.length&&a.every((function(e){return i.includes(e)}))||(e[n]=a,r.delete(n))})),r.forEach((function(t){delete e[t]})),e}(r,e)}})}function Ze(e){var t,r=e.detail||e.value,n=r.vuePid,i=r.vueOptions;n&&(t=function e(t,r){for(var n,i=t.$children,a=i.length-1;a>=0;a--){var o=i[a];if(o.$scope._$vueId===r)return o}for(var s=i.length-1;s>=0;s--)if(n=e(i[s],r),n)return n}(this.$vm,n)),t||(t=this.$vm),i.parent=t}function et(e){return Object.defineProperty(e,"__v_isMPComponent",{configurable:!0,enumerable:!1,value:!0}),e}function tt(e){return function(e){return null!==e&&"object"===(0,c.default)(e)}(e)&&Object.isExtensible(e)&&Object.defineProperty(e,"__ob__",{configurable:!0,enumerable:!1,value:(0,s.default)({},"__v_skip",!0)}),e}var rt=/_(.*)_worklet_factory_/;var nt=Page,it=Component,at=/:/g,ot=_((function(e){return L(e.replace(at,"-"))}));function st(e){var t=e.triggerEvent,r=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(this.$vm||this.dataset&&this.dataset.comType)e=ot(e);else{var a=ot(e);a!==e&&t.apply(this,[a].concat(n))}return t.apply(this,[e].concat(n))};try{e.triggerEvent=r}catch(n){e._triggerEvent=r}}function lt(e,t,r){var n=t[e];t[e]=function(){if(et(this),st(this),n){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}}}nt.__$wrappered||(nt.__$wrappered=!0,Page=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lt("onLoad",e),nt(e)},Page.after=nt.after,Component=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lt("created",e),it(e)});function ut(e,t,r){t.forEach((function(t){(function e(t,r){if(!r)return!0;if(f.default.options&&Array.isArray(f.default.options[t]))return!0;if(r=r.default||r,E(r))return!!E(r.extendOptions[t])||!!(r.super&&r.super.options&&Array.isArray(r.super.options[t]));if(E(r[t])||Array.isArray(r[t]))return!0;var n=r.mixins;return Array.isArray(n)?!!n.find((function(r){return e(t,r)})):void 0})(t,r)&&(e[t]=function(e){return this.$vm&&this.$vm.__call_hook(t,e)})}))}function ct(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];dt(t).forEach((function(t){return ft(e,t,r)}))}function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&Object.keys(e).forEach((function(r){0===r.indexOf("on")&&E(e[r])&&t.push(r)})),t}function ft(e,t,r){-1!==r.indexOf(t)||S(e,t)||(e[t]=function(e){return this.$vm&&this.$vm.__call_hook(t,e)})}function ht(e,t){var r;return t=t.default||t,r=E(t)?t:e.extend(t),t=r.options,[r,t]}function pt(e,t){if(Array.isArray(t)&&t.length){var r=Object.create(null);t.forEach((function(e){r[e]=!0})),e.$scopedSlots=e.$slots=r}}function vt(e,t){e=(e||"").split(",");var r=e.length;1===r?t._$vueId=e[0]:2===r&&(t._$vueId=e[0],t._$vuePid=e[1])}function gt(e,t){var r=e.data||{},n=e.methods||{};if("function"===typeof r)try{r=r.call(t)}catch(i){Object({NODE_ENV:"production",VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"耀西",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG&&console.warn("根据 Vue 的 data 函数初始化小程序 data 失败，请尽量确保 data 函数中不访问 vm 对象，否则可能影响首次数据渲染速度。",r)}else try{r=JSON.parse(JSON.stringify(r))}catch(i){}return k(r)||(r={}),Object.keys(n).forEach((function(e){-1!==t.__lifecycle_hooks__.indexOf(e)||S(r,e)||(r[e]=n[e])})),r}var mt=[String,Number,Boolean,Object,Array,null];function yt(e){return function(t,r){this.$vm&&(this.$vm[e]=t)}}function bt(e,t){var r=e.behaviors,n=e.extends,i=e.mixins,a=e.props;a||(e.props=a=[]);var o=[];return Array.isArray(r)&&r.forEach((function(e){o.push(e.replace("uni://","wx".concat("://"))),"uni://form-field"===e&&(Array.isArray(a)?(a.push("name"),a.push("value")):(a.name={type:String,default:""},a.value={type:[String,Number,Boolean,Array,Object,Date],default:""}))})),k(n)&&n.props&&o.push(t({properties:Tt(n.props,!0)})),Array.isArray(i)&&i.forEach((function(e){k(e)&&e.props&&o.push(t({properties:Tt(e.props,!0)}))})),o}function Et(e,t,r,n){return Array.isArray(t)&&1===t.length?t[0]:t}function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>3?arguments[3]:void 0,n={};return t||(n.vueId={type:String,value:""},r.virtualHost&&(n.virtualHostStyle={type:null,value:""},n.virtualHostClass={type:null,value:""}),n.scopedSlotsCompiler={type:String,value:""},n.vueSlots={type:null,value:[],observer:function(e,t){var r=Object.create(null);e.forEach((function(e){r[e]=!0})),this.setData({$slots:r})}}),Array.isArray(e)?e.forEach((function(e){n[e]={type:null,observer:yt(e)}})):k(e)&&Object.keys(e).forEach((function(t){var r=e[t];if(k(r)){var i=r.default;E(i)&&(i=i()),r.type=Et(0,r.type),n[t]={type:-1!==mt.indexOf(r.type)?r.type:null,value:i,observer:yt(t)}}else{var a=Et(0,r);n[t]={type:-1!==mt.indexOf(a)?a:null,observer:yt(t)}}})),n}function kt(e,t,r,n){var i={};return Array.isArray(t)&&t.length&&t.forEach((function(t,a){"string"===typeof t?t?"$event"===t?i["$"+a]=r:"arguments"===t?i["$"+a]=r.detail&&r.detail.__args__||n:0===t.indexOf("$event.")?i["$"+a]=e.__get_value(t.replace("$event.",""),r):i["$"+a]=e.__get_value(t):i["$"+a]=e:i["$"+a]=function(e,t){var r=e;return t.forEach((function(t){var n=t[0],i=t[2];if(n||"undefined"!==typeof i){var a,o=t[1],s=t[3];Number.isInteger(n)?a=n:n?"string"===typeof n&&n&&(a=0===n.indexOf("#s#")?n.substr(3):e.__get_value(n,r)):a=r,Number.isInteger(a)?r=i:o?Array.isArray(a)?r=a.find((function(t){return e.__get_value(o,t)===i})):k(a)?r=Object.keys(a).find((function(t){return e.__get_value(o,a[t])===i})):console.error("v-for 暂不支持循环数据：",a):r=a[i],s&&(r=e.__get_value(s,r))}})),r}(e,t)})),i}function St(e){for(var t={},r=1;r<e.length;r++){var n=e[r];t[n[0]]=n[1]}return t}function At(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=!1,s=k(t.detail)&&t.detail.__args__||[t.detail];if(i&&(o=t.currentTarget&&t.currentTarget.dataset&&"wx"===t.currentTarget.dataset.comType,!r.length))return o?[t]:s;var l=kt(e,n,t,s),u=[];return r.forEach((function(e){"$event"===e?"__set_model"!==a||i?i&&!o?u.push(s[0]):u.push(t):u.push(t.target.value):Array.isArray(e)&&"o"===e[0]?u.push(St(e)):"string"===typeof e&&S(l,e)?u.push(l[e]):u.push(e)})),u}function _t(e){var t=this;e=function(e){try{e.mp=JSON.parse(JSON.stringify(e))}catch(t){}return e.stopPropagation=A,e.preventDefault=A,e.target=e.target||{},S(e,"detail")||(e.detail={}),S(e,"markerId")&&(e.detail="object"===(0,c.default)(e.detail)?e.detail:{},e.detail.markerId=e.markerId),k(e.detail)&&(e.target=Object.assign({},e.target,e.detail)),e}(e);var r=(e.currentTarget||e.target).dataset;if(!r)return console.warn("事件信息不存在");var n=r.eventOpts||r["event-opts"];if(!n)return console.warn("事件信息不存在");var i=e.type,a=[];return n.forEach((function(r){var n=r[0],o=r[1],s="^"===n.charAt(0);n=s?n.slice(1):n;var l="~"===n.charAt(0);n=l?n.slice(1):n,o&&function(e,t){return e===t||"regionchange"===t&&("begin"===e||"end"===e)}(i,n)&&o.forEach((function(r){var n=r[0];if(n){var i=t.$vm;if(i.$options.generic&&(i=function(e){var t=e.$parent;while(t&&t.$parent&&(t.$options.generic||t.$parent.$options.generic||t.$scope._$vuePid))t=t.$parent;return t&&t.$parent}(i)||i),"$emit"===n)return void i.$emit.apply(i,At(t.$vm,e,r[1],r[2],s,n));var o=i[n];if(!E(o)){var u="page"===t.$vm.mpType?"Page":"Component",c=t.route||t.is;throw new Error("".concat(u,' "').concat(c,'" does not have a method "').concat(n,'"'))}if(l){if(o.once)return;o.once=!0}var d=At(t.$vm,e,r[1],r[2],s,n);d=Array.isArray(d)?d:[],/=\s*\S+\.eventParams\s*\|\|\s*\S+\[['"]event-params['"]\]/.test(o.toString())&&(d=d.concat([,,,,,,,,,,e])),a.push(o.apply(i,d))}}))})),"input"===i&&1===a.length&&"undefined"!==typeof a[0]?a[0]:void 0}var wt={},Lt=[];var It=["onShow","onHide","onError","onPageNotFound","onThemeChange","onUnhandledRejection"];function Dt(){f.default.prototype.getOpenerEventChannel=function(){return this.$scope.getOpenerEventChannel()};var e=f.default.prototype.__call_hook;f.default.prototype.__call_hook=function(t,r){return"onLoad"===t&&r&&r.__id__&&(this.__eventChannel__=function(e){if(e){var t=wt[e];return delete wt[e],t}return Lt.shift()}(r.__id__),delete r.__id__),e.call(this,t,r)}}function Rt(t,r){var n=r.mocks,i=r.initRefs;Dt(),function(){var e={},t={};function r(e){var t=this.$options.propsData.vueId;if(t){var r=t.split(",")[0];e(r)}}f.default.prototype.$hasSSP=function(r){var n=e[r];return n||(t[r]=this,this.$on("hook:destroyed",(function(){delete t[r]}))),n},f.default.prototype.$getSSP=function(t,r,n){var i=e[t];if(i){var a=i[r]||[];return n?a:a[0]}},f.default.prototype.$setSSP=function(t,n){var i=0;return r.call(this,(function(r){var a=e[r],o=a[t]=a[t]||[];o.push(n),i=o.length-1})),i},f.default.prototype.$initSSP=function(){r.call(this,(function(t){e[t]={}}))},f.default.prototype.$callSSP=function(){r.call(this,(function(e){t[e]&&t[e].$forceUpdate()}))},f.default.mixin({destroyed:function(){var r=this.$options.propsData,n=r&&r.vueId;n&&(delete e[n],delete t[n])}})}(),t.$options.store&&(f.default.prototype.$store=t.$options.store),function(e){e.prototype.uniIDHasRole=function(e){var t=m(),r=t.role;return r.indexOf(e)>-1},e.prototype.uniIDHasPermission=function(e){var t=m(),r=t.permission;return this.uniIDHasRole("admin")||r.indexOf(e)>-1},e.prototype.uniIDTokenValid=function(){var e=m(),t=e.tokenExpired;return t>Date.now()}}(f.default),f.default.prototype.mpHost="mp-weixin",f.default.mixin({beforeCreate:function(){if(this.$options.mpType){if(this.mpType=this.$options.mpType,this.$mp=(0,s.default)({data:{}},this.mpType,this.$options.mpInstance),this.$scope=this.$options.mpInstance,delete this.$options.mpType,delete this.$options.mpInstance,"page"===this.mpType&&"function"===typeof getApp){var e=getApp();e.$vm&&e.$vm.$i18n&&(this._i18n=e.$vm.$i18n)}"app"!==this.mpType&&(i(this),function(e,t){var r=e.$mp[e.mpType];t.forEach((function(t){S(r,t)&&(e[t]=r[t])}))}(this,n))}}});var a={onLaunch:function(r){this.$vm||(e.canIUse&&!e.canIUse("nextTick")&&console.error("当前微信基础库版本过低，请将 微信开发者工具-详情-项目设置-调试基础库版本 更换为`2.3.0`以上"),this.$vm=t,this.$vm.$mp={app:this},this.$vm.$scope=this,this.$vm.globalData=this.globalData,this.$vm._isMounted=!0,this.$vm.__call_hook("mounted",r),this.$vm.__call_hook("onLaunch",r))}};a.globalData=t.$options.globalData||{};var o=t.$options.methods;return o&&Object.keys(o).forEach((function(e){a[e]=o[e]})),function(e,t,r){var n=e.observable({locale:r||ne.getLocale()}),i=[];t.$watchLocale=function(e){i.push(e)},Object.defineProperty(t,"$locale",{get:function(){return n.locale},set:function(e){n.locale=e,i.forEach((function(t){return t(e)}))}})}(f.default,t,ae(e.getSystemInfoSync().language)||"en"),ut(a,It),ct(a,t.$options),a}function xt(e){return Rt(e,{mocks:We,initRefs:Je})}function Pt(e){return App(xt(e)),e}var Ot=/[!'()*]/g,Ct=function(e){return"%"+e.charCodeAt(0).toString(16)},Mt=/%2C/g,Ft=function(e){return encodeURIComponent(e).replace(Ot,Ct).replace(Mt,",")};function Nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft,r=e?Object.keys(e).map((function(r){var n=e[r];if(void 0===n)return"";if(null===n)return t(r);if(Array.isArray(n)){var i=[];return n.forEach((function(e){void 0!==e&&(null===e?i.push(t(r)):i.push(t(r)+"="+t(e)))})),i.join("&")}return t(r)+"="+t(n)})).filter((function(e){return e.length>0})).join("&"):null;return r?"?".concat(r):""}function Bt(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.isPage,n=t.initRelation,i=arguments.length>2?arguments[2]:void 0,a=ht(f.default,e),s=(0,o.default)(a,2),l=s[0],u=s[1],c=p({multipleSlots:!0,addGlobalClass:!0},u.options||{});u["mp-weixin"]&&u["mp-weixin"].options&&Object.assign(c,u["mp-weixin"].options);var d={options:c,data:gt(u,f.default.prototype),behaviors:bt(u,Qe),properties:Tt(u.props,!1,u.__file,c),lifetimes:{attached:function(){var e=this.properties,t={mpType:r.call(this)?"page":"component",mpInstance:this,propsData:e};vt(e.vueId,this),n.call(this,{vuePid:this._$vuePid,vueOptions:t}),this.$vm=new l(t),pt(this.$vm,e.vueSlots),this.$vm.$mount()},ready:function(){this.$vm&&(this.$vm._isMounted=!0,this.$vm.__call_hook("mounted"),this.$vm.__call_hook("onReady"))},detached:function(){this.$vm&&this.$vm.$destroy()}},pageLifetimes:{show:function(e){this.$vm&&this.$vm.__call_hook("onPageShow",e)},hide:function(){this.$vm&&this.$vm.__call_hook("onPageHide")},resize:function(e){this.$vm&&this.$vm.__call_hook("onPageResize",e)}},methods:{__l:Ze,__e:_t}};return u.externalClasses&&(d.externalClasses=u.externalClasses),Array.isArray(u.wxsCallMethods)&&u.wxsCallMethods.forEach((function(e){d.methods[e]=function(t){return this.$vm[e](t)}})),i?[d,u,l]:r?d:[d,l]}(e,{isPage:qe,initRelation:Xe},t)}var Ut=["onShow","onHide","onUnload"];function jt(e){var t=Bt(e,!0),r=(0,o.default)(t,2),n=r[0],i=r[1];return ut(n.methods,Ut,i),n.methods.onLoad=function(e){this.options=e;var t=Object.assign({},e);delete t.__id__,this.$page={fullPath:"/"+(this.route||this.is)+Nt(t)},this.$vm.$mp.query=e,this.$vm.__call_hook("onLoad",e)},ct(n.methods,e,["onReady"]),function(e,t){t&&Object.keys(t).forEach((function(r){var n=r.match(rt);if(n){var i=n[1];e[r]=t[r],e[i]=t[i]}}))}(n.methods,i.methods),n}function Gt(e){return Component(function(e){return jt(e)}(e))}function Ht(e){return Component(Bt(e))}function Vt(t){var r=xt(t),n=getApp({allowDefault:!0});t.$scope=n;var i=n.globalData;if(i&&Object.keys(r.globalData).forEach((function(e){S(i,e)||(i[e]=r.globalData[e])})),Object.keys(r).forEach((function(e){S(n,e)||(n[e]=r[e])})),E(r.onShow)&&e.onAppShow&&e.onAppShow((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.__call_hook("onShow",r)})),E(r.onHide)&&e.onAppHide&&e.onAppHide((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.__call_hook("onHide",r)})),E(r.onLaunch)){var a=e.getLaunchOptionsSync&&e.getLaunchOptionsSync();t.__call_hook("onLaunch",a)}return t}function Kt(t){var r=xt(t);if(E(r.onShow)&&e.onAppShow&&e.onAppShow((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.__call_hook("onShow",r)})),E(r.onHide)&&e.onAppHide&&e.onAppHide((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.__call_hook("onHide",r)})),E(r.onLaunch)){var n=e.getLaunchOptionsSync&&e.getLaunchOptionsSync();t.__call_hook("onLaunch",n)}return t}Ut.push.apply(Ut,["onPullDownRefresh","onReachBottom","onAddToFavorites","onShareTimeline","onShareAppMessage","onPageScroll","onResize","onTabItemTap"]),["vibrate","preloadPage","unPreloadPage","loadSubPackage"].forEach((function(e){Ae[e]=!1})),[].forEach((function(t){var r=Ae[t]&&Ae[t].name?Ae[t].name:t;e.canIUse(r)||(Ae[t]=!1)}));var $t={};"undefined"!==typeof Proxy?$t=new Proxy({},{get:function(t,r){return S(t,r)?t[r]:ue[r]?ue[r]:ze[r]?X(r,ze[r]):Pe[r]?X(r,Pe[r]):Re[r]?X(r,Re[r]):Be[r]?Be[r]:X(r,De(r,e[r]))},set:function(e,t,r){return e[t]=r,!0}}):(Object.keys(ue).forEach((function(e){$t[e]=ue[e]})),Object.keys(Re).forEach((function(e){$t[e]=X(e,Re[e])})),Object.keys(Pe).forEach((function(e){$t[e]=X(e,Re[e])})),Object.keys(Be).forEach((function(e){$t[e]=Be[e]})),Object.keys(ze).forEach((function(e){$t[e]=X(e,ze[e])})),Object.keys(e).forEach((function(t){(S(e,t)||S(Ae,t))&&($t[t]=X(t,De(t,e[t])))}))),e.createApp=Pt,e.createPage=Gt,e.createComponent=Ht,e.createSubpackageApp=Vt,e.createPlugin=Kt;var Yt=$t,zt=Yt;t.default=zt}).call(this,r("bc2e")["default"],r("c8ba"))},"567a":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("11f2")),a=i.default.color,o={loadingIcon:{show:!0,color:a["u-tips-color"],textColor:a["u-tips-color"],vertical:!1,mode:"spinner",size:24,textSize:15,text:"",timingFunction:"ease-in-out",duration:1200,inactiveColor:""}};t.default=o},"5a43":function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5bc3":function(e,t,r){var n=r("a395");function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}e.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5d17":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={notify:{top:0,type:"primary",color:"#ffffff",bgColor:"",message:"",duration:3e3,fontSize:15,safeAreaInsetTop:!1}}},"5e6e":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={numberBox:{name:"",value:0,min:1,max:Number.MAX_SAFE_INTEGER,step:1,integer:!1,disabled:!1,disabledInput:!1,asyncChange:!1,inputWidth:35,showMinus:!0,showPlus:!0,decimalLength:null,longPress:!0,color:"#323233",buttonSize:30,bgColor:"#EBECEE",cursorSpacing:100,disableMinus:!1,disablePlus:!1,iconStyle:""}};t.default=n},"5f99":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={loadingPage:{loadingText:"正在加载",image:"",loadingMode:"circle",loading:!1,bgColor:"#ffffff",color:"#C8C8C8",fontSize:19,iconSize:28,loadingColor:"#C8C8C8"}}},"615d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={countTo:{startVal:0,endVal:0,duration:2e3,autoplay:!0,decimals:0,useEasing:!0,decimal:".",color:"#606266",fontSize:22,bold:!1,separator:""}}},6251:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{hairline:{type:Boolean,default:e.$u.props.button.hairline},type:{type:String,default:e.$u.props.button.type},size:{type:String,default:e.$u.props.button.size},shape:{type:String,default:e.$u.props.button.shape},plain:{type:Boolean,default:e.$u.props.button.plain},disabled:{type:Boolean,default:e.$u.props.button.disabled},loading:{type:Boolean,default:e.$u.props.button.loading},loadingText:{type:[String,Number],default:e.$u.props.button.loadingText},loadingMode:{type:String,default:e.$u.props.button.loadingMode},loadingSize:{type:[String,Number],default:e.$u.props.button.loadingSize},openType:{type:String,default:e.$u.props.button.openType},formType:{type:String,default:e.$u.props.button.formType},appParameter:{type:String,default:e.$u.props.button.appParameter},hoverStopPropagation:{type:Boolean,default:e.$u.props.button.hoverStopPropagation},lang:{type:String,default:e.$u.props.button.lang},sessionFrom:{type:String,default:e.$u.props.button.sessionFrom},sendMessageTitle:{type:String,default:e.$u.props.button.sendMessageTitle},sendMessagePath:{type:String,default:e.$u.props.button.sendMessagePath},sendMessageImg:{type:String,default:e.$u.props.button.sendMessageImg},showMessageCard:{type:Boolean,default:e.$u.props.button.showMessageCard},dataName:{type:String,default:e.$u.props.button.dataName},throttleTime:{type:[String,Number],default:e.$u.props.button.throttleTime},hoverStartTime:{type:[String,Number],default:e.$u.props.button.hoverStartTime},hoverStayTime:{type:[String,Number],default:e.$u.props.button.hoverStayTime},text:{type:[String,Number],default:e.$u.props.button.text},icon:{type:String,default:e.$u.props.button.icon},iconColor:{type:String,default:e.$u.props.button.icon},color:{type:String,default:e.$u.props.button.color}}};t.default=r}).call(this,r("543d")["default"])},"62c7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={textarea:{value:"",placeholder:"",placeholderClass:"textarea-placeholder",placeholderStyle:"color: #c0c4cc",height:70,confirmType:"done",disabled:!1,count:!1,focus:!1,autoHeight:!1,fixed:!1,cursorSpacing:0,cursor:"",showConfirmBar:!0,selectionStart:-1,selectionEnd:-1,adjustPosition:!0,disableDefaultPadding:!1,holdKeyboard:!1,maxlength:140,border:"surround",formatter:null}}},"635a":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={sticky:{offsetTop:0,customNavHeight:0,disabled:!1,bgColor:"transparent",zIndex:"",index:""}}},6489:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{gutter:{type:[String,Number],default:e.$u.props.row.gutter},justify:{type:String,default:e.$u.props.row.justify},align:{type:String,default:e.$u.props.row.align}}};t.default=r}).call(this,r("543d")["default"])},6613:function(e,t,r){var n=r("5a43");e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"66fd":function(e,t,r){"use strict";r.r(t),function(e){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({});function n(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function a(e){return!0===e}function o(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function s(e){return null!==e&&"object"===typeof e}var l=Object.prototype.toString;function u(e){return"[object Object]"===l.call(e)}function c(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function d(e){return i(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function f(e){return null==e?"":Array.isArray(e)||u(e)&&e.toString===l?JSON.stringify(e,null,2):String(e)}function h(e){var t=parseFloat(e);return isNaN(t)?e:t}function p(e,t){for(var r=Object.create(null),n=e.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return t?function(e){return r[e.toLowerCase()]}:function(e){return r[e]}}p("slot,component",!0);var v=p("key,ref,slot,slot-scope,is");function g(e,t){if(e.length){var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}}var m=Object.prototype.hasOwnProperty;function y(e,t){return m.call(e,t)}function b(e){var t=Object.create(null);return function(r){var n=t[r];return n||(t[r]=e(r))}}var E=/-(\w)/g,T=b((function(e){return e.replace(E,(function(e,t){return t?t.toUpperCase():""}))})),k=b((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),S=/\B([A-Z])/g,A=b((function(e){return e.replace(S,"-$1").toLowerCase()}));var _=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function r(r){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,r):e.call(t)}return r._length=e.length,r};function w(e,t){t=t||0;var r=e.length-t,n=new Array(r);while(r--)n[r]=e[r+t];return n}function L(e,t){for(var r in t)e[r]=t[r];return e}function I(e){for(var t={},r=0;r<e.length;r++)e[r]&&L(t,e[r]);return t}function D(e,t,r){}var R=function(e,t,r){return!1},x=function(e){return e};function P(e,t){if(e===t)return!0;var r=s(e),n=s(t);if(!r||!n)return!r&&!n&&String(e)===String(t);try{var i=Array.isArray(e),a=Array.isArray(t);if(i&&a)return e.length===t.length&&e.every((function(e,r){return P(e,t[r])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||a)return!1;var o=Object.keys(e),l=Object.keys(t);return o.length===l.length&&o.every((function(r){return P(e[r],t[r])}))}catch(u){return!1}}function O(e,t){for(var r=0;r<e.length;r++)if(P(e[r],t))return r;return-1}function C(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var M=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],N={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:D,parsePlatformTagName:x,mustUseProp:R,async:!0,_lifecycleHooks:F},B=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function U(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function j(e,t,r,n){Object.defineProperty(e,t,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var G=new RegExp("[^"+B.source+".$_\\d]");var H,V="__proto__"in{},K="undefined"!==typeof window,$="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Y=$&&WXEnvironment.platform.toLowerCase(),z=K&&window.navigator.userAgent.toLowerCase(),W=z&&/msie|trident/.test(z),Q=(z&&z.indexOf("msie 9.0"),z&&z.indexOf("edge/")>0),q=(z&&z.indexOf("android"),z&&/iphone|ipad|ipod|ios/.test(z)||"ios"===Y),X=(z&&/chrome\/\d+/.test(z),z&&/phantomjs/.test(z),z&&z.match(/firefox\/(\d+)/),{}.watch);if(K)try{var J={};Object.defineProperty(J,"passive",{get:function(){}}),window.addEventListener("test-passive",null,J)}catch(Fr){}var Z=function(){return void 0===H&&(H=!K&&!$&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),H},ee=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function te(e){return"function"===typeof e&&/native code/.test(e.toString())}var re,ne="undefined"!==typeof Symbol&&te(Symbol)&&"undefined"!==typeof Reflect&&te(Reflect.ownKeys);re="undefined"!==typeof Set&&te(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ie=D,ae=0,oe=function(){this.id=ae++,this.subs=[]};function se(e){oe.SharedObject.targetStack.push(e),oe.SharedObject.target=e,oe.target=e}function le(){oe.SharedObject.targetStack.pop(),oe.SharedObject.target=oe.SharedObject.targetStack[oe.SharedObject.targetStack.length-1],oe.target=oe.SharedObject.target}oe.prototype.addSub=function(e){this.subs.push(e)},oe.prototype.removeSub=function(e){g(this.subs,e)},oe.prototype.depend=function(){oe.SharedObject.target&&oe.SharedObject.target.addDep(this)},oe.prototype.notify=function(){var e=this.subs.slice();for(var t=0,r=e.length;t<r;t++)e[t].update()},oe.SharedObject={},oe.SharedObject.target=null,oe.SharedObject.targetStack=[];var ue=function(e,t,r,n,i,a,o,s){this.tag=e,this.data=t,this.children=r,this.text=n,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ce={child:{configurable:!0}};ce.child.get=function(){return this.componentInstance},Object.defineProperties(ue.prototype,ce);var de=function(e){void 0===e&&(e="");var t=new ue;return t.text=e,t.isComment=!0,t};function fe(e){return new ue(void 0,void 0,void 0,String(e))}var he=Array.prototype,pe=Object.create(he);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=he[e];j(pe,e,(function(){var r=[],n=arguments.length;while(n--)r[n]=arguments[n];var i,a=t.apply(this,r),o=this.__ob__;switch(e){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2);break}return i&&o.observeArray(i),o.dep.notify(),a}))}));var ve=Object.getOwnPropertyNames(pe),ge=!0;function me(e){ge=e}var ye=function(e){this.value=e,this.dep=new oe,this.vmCount=0,j(e,"__ob__",this),Array.isArray(e)?(V?e.push!==e.__proto__.push?be(e,pe,ve):function(e,t){e.__proto__=t}(e,pe):be(e,pe,ve),this.observeArray(e)):this.walk(e)};function be(e,t,r){for(var n=0,i=r.length;n<i;n++){var a=r[n];j(e,a,t[a])}}function Ee(e,t){var r;if(s(e)&&!(e instanceof ue))return y(e,"__ob__")&&e.__ob__ instanceof ye?r=e.__ob__:!ge||Z()||!Array.isArray(e)&&!u(e)||!Object.isExtensible(e)||e._isVue||e.__v_isMPComponent||(r=new ye(e)),t&&r&&r.vmCount++,r}function Te(e,t,r,n,i){var a=new oe,o=Object.getOwnPropertyDescriptor(e,t);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set;s&&!l||2!==arguments.length||(r=e[t]);var u=!i&&Ee(r);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):r;return oe.SharedObject.target&&(a.depend(),u&&(u.dep.depend(),Array.isArray(t)&&Ae(t))),t},set:function(t){var n=s?s.call(e):r;t===n||t!==t&&n!==n||s&&!l||(l?l.call(e,t):r=t,u=!i&&Ee(t),a.notify())}})}}function ke(e,t,r){if(Array.isArray(e)&&c(t))return e.length=Math.max(e.length,t),e.splice(t,1,r),r;if(t in e&&!(t in Object.prototype))return e[t]=r,r;var n=e.__ob__;return e._isVue||n&&n.vmCount?r:n?(Te(n.value,t,r),n.dep.notify(),r):(e[t]=r,r)}function Se(e,t){if(Array.isArray(e)&&c(t))e.splice(t,1);else{var r=e.__ob__;e._isVue||r&&r.vmCount||y(e,t)&&(delete e[t],r&&r.dep.notify())}}function Ae(e){for(var t=void 0,r=0,n=e.length;r<n;r++)t=e[r],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Ae(t)}ye.prototype.walk=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)Te(e,t[r])},ye.prototype.observeArray=function(e){for(var t=0,r=e.length;t<r;t++)Ee(e[t])};var _e=N.optionMergeStrategies;function we(e,t){if(!t)return e;for(var r,n,i,a=ne?Reflect.ownKeys(t):Object.keys(t),o=0;o<a.length;o++)r=a[o],"__ob__"!==r&&(n=e[r],i=t[r],y(e,r)?n!==i&&u(n)&&u(i)&&we(n,i):ke(e,r,i));return e}function Le(e,t,r){return r?function(){var n="function"===typeof t?t.call(r,r):t,i="function"===typeof e?e.call(r,r):e;return n?we(n,i):i}:t?e?function(){return we("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Ie(e,t){var r=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return r?function(e){for(var t=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}(r):r}function De(e,t,r,n){var i=Object.create(e||null);return t?L(i,t):i}_e.data=function(e,t,r){return r?Le(e,t,r):t&&"function"!==typeof t?e:Le(e,t)},F.forEach((function(e){_e[e]=Ie})),M.forEach((function(e){_e[e+"s"]=De})),_e.watch=function(e,t,r,n){if(e===X&&(e=void 0),t===X&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var a in L(i,e),t){var o=i[a],s=t[a];o&&!Array.isArray(o)&&(o=[o]),i[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return i},_e.props=_e.methods=_e.inject=_e.computed=function(e,t,r,n){if(!e)return t;var i=Object.create(null);return L(i,e),t&&L(i,t),i},_e.provide=Le;var Re=function(e,t){return void 0===t?e:t};function xe(e,t,r){if("function"===typeof t&&(t=t.options),function(e,t){var r=e.props;if(r){var n,i,a,o={};if(Array.isArray(r)){n=r.length;while(n--)i=r[n],"string"===typeof i&&(a=T(i),o[a]={type:null})}else if(u(r))for(var s in r)i=r[s],a=T(s),o[a]=u(i)?i:{type:i};else 0;e.props=o}}(t),function(e,t){var r=e.inject;if(r){var n=e.inject={};if(Array.isArray(r))for(var i=0;i<r.length;i++)n[r[i]]={from:r[i]};else if(u(r))for(var a in r){var o=r[a];n[a]=u(o)?L({from:a},o):{from:o}}else 0}}(t),function(e){var t=e.directives;if(t)for(var r in t){var n=t[r];"function"===typeof n&&(t[r]={bind:n,update:n})}}(t),!t._base&&(t.extends&&(e=xe(e,t.extends,r)),t.mixins))for(var n=0,i=t.mixins.length;n<i;n++)e=xe(e,t.mixins[n],r);var a,o={};for(a in e)s(a);for(a in t)y(e,a)||s(a);function s(n){var i=_e[n]||Re;o[n]=i(e[n],t[n],r,n)}return o}function Pe(e,t,r,n){if("string"===typeof r){var i=e[t];if(y(i,r))return i[r];var a=T(r);if(y(i,a))return i[a];var o=k(a);if(y(i,o))return i[o];var s=i[r]||i[a]||i[o];return s}}function Oe(e,t,r,n){var i=t[e],a=!y(r,e),o=r[e],s=Fe(Boolean,i.type);if(s>-1)if(a&&!y(i,"default"))o=!1;else if(""===o||o===A(e)){var l=Fe(String,i.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=function(e,t,r){if(!y(t,"default"))return;var n=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[r]&&void 0!==e._props[r])return e._props[r];return"function"===typeof n&&"Function"!==Ce(t.type)?n.call(e):n}(n,i,e);var u=ge;me(!0),Ee(o),me(u)}return o}function Ce(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Me(e,t){return Ce(e)===Ce(t)}function Fe(e,t){if(!Array.isArray(t))return Me(t,e)?0:-1;for(var r=0,n=t.length;r<n;r++)if(Me(t[r],e))return r;return-1}function Ne(e,t,r){se();try{if(t){var n=t;while(n=n.$parent){var i=n.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{var o=!1===i[a].call(n,e,t,r);if(o)return}catch(Fr){Ue(Fr,n,"errorCaptured hook")}}}Ue(e,t,r)}finally{le()}}function Be(e,t,r,n,i){var a;try{a=r?e.apply(t,r):e.call(t),a&&!a._isVue&&d(a)&&!a._handled&&(a.catch((function(e){return Ne(e,n,i+" (Promise/async)")})),a._handled=!0)}catch(Fr){Ne(Fr,n,i)}return a}function Ue(e,t,r){if(N.errorHandler)try{return N.errorHandler.call(null,e,t,r)}catch(Fr){Fr!==e&&je(Fr,null,"config.errorHandler")}je(e,t,r)}function je(e,t,r){if(!K&&!$||"undefined"===typeof console)throw e;console.error(e)}var Ge,He=[],Ve=!1;function Ke(){Ve=!1;var e=He.slice(0);He.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&te(Promise)){var $e=Promise.resolve();Ge=function(){$e.then(Ke),q&&setTimeout(D)}}else if(W||"undefined"===typeof MutationObserver||!te(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ge="undefined"!==typeof setImmediate&&te(setImmediate)?function(){setImmediate(Ke)}:function(){setTimeout(Ke,0)};else{var Ye=1,ze=new MutationObserver(Ke),We=document.createTextNode(String(Ye));ze.observe(We,{characterData:!0}),Ge=function(){Ye=(Ye+1)%2,We.data=String(Ye)}}function Qe(e,t){var r;if(He.push((function(){if(e)try{e.call(t)}catch(Fr){Ne(Fr,t,"nextTick")}else r&&r(t)})),Ve||(Ve=!0,Ge()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){r=e}))}var qe=new re;function Xe(e){(function e(t,r){var n,i,a=Array.isArray(t);if(!a&&!s(t)||Object.isFrozen(t)||t instanceof ue)return;if(t.__ob__){var o=t.__ob__.dep.id;if(r.has(o))return;r.add(o)}if(a){n=t.length;while(n--)e(t[n],r)}else{i=Object.keys(t),n=i.length;while(n--)e(t[i[n]],r)}})(e,qe),qe.clear()}var Je=b((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var r="~"===e.charAt(0);e=r?e.slice(1):e;var n="!"===e.charAt(0);return e=n?e.slice(1):e,{name:e,once:r,capture:n,passive:t}}));function Ze(e,t){function r(){var e=arguments,n=r.fns;if(!Array.isArray(n))return Be(n,null,arguments,t,"v-on handler");for(var i=n.slice(),a=0;a<i.length;a++)Be(i[a],null,e,t,"v-on handler")}return r.fns=e,r}function et(e,t,r,a){var o=t.options.mpOptions&&t.options.mpOptions.properties;if(n(o))return r;var s=t.options.mpOptions.externalClasses||[],l=e.attrs,u=e.props;if(i(l)||i(u))for(var c in o){var d=A(c),f=tt(r,u,c,d,!0)||tt(r,l,c,d,!1);f&&r[c]&&-1!==s.indexOf(d)&&a[T(r[c])]&&(r[c]=a[T(r[c])])}return r}function tt(e,t,r,n,a){if(i(t)){if(y(t,r))return e[r]=t[r],a||delete t[r],!0;if(y(t,n))return e[r]=t[n],a||delete t[n],!0}return!1}function rt(e){return o(e)?[fe(e)]:Array.isArray(e)?function e(t,r){var s,l,u,c,d=[];for(s=0;s<t.length;s++)l=t[s],n(l)||"boolean"===typeof l||(u=d.length-1,c=d[u],Array.isArray(l)?l.length>0&&(l=e(l,(r||"")+"_"+s),nt(l[0])&&nt(c)&&(d[u]=fe(c.text+l[0].text),l.shift()),d.push.apply(d,l)):o(l)?nt(c)?d[u]=fe(c.text+l):""!==l&&d.push(fe(l)):nt(l)&&nt(c)?d[u]=fe(c.text+l.text):(a(t._isVList)&&i(l.tag)&&n(l.key)&&i(r)&&(l.key="__vlist"+r+"_"+s+"__"),d.push(l)));return d}(e):void 0}function nt(e){return i(e)&&i(e.text)&&function(e){return!1===e}(e.isComment)}function it(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function at(e){var t=ot(e.$options.inject,e);t&&(me(!1),Object.keys(t).forEach((function(r){Te(e,r,t[r])})),me(!0))}function ot(e,t){if(e){for(var r=Object.create(null),n=ne?Reflect.ownKeys(e):Object.keys(e),i=0;i<n.length;i++){var a=n[i];if("__ob__"!==a){var o=e[a].from,s=t;while(s){if(s._provided&&y(s._provided,o)){r[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in e[a]){var l=e[a].default;r[a]="function"===typeof l?l.call(t):l}else 0}}return r}}function st(e,t){if(!e||!e.length)return{};for(var r={},n=0,i=e.length;n<i;n++){var a=e[n],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==t&&a.fnContext!==t||!o||null==o.slot)a.asyncMeta&&a.asyncMeta.data&&"page"===a.asyncMeta.data.slot?(r["page"]||(r["page"]=[])).push(a):(r.default||(r.default=[])).push(a);else{var s=o.slot,l=r[s]||(r[s]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var u in r)r[u].every(lt)&&delete r[u];return r}function lt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function ut(e,t,n){var i,a=Object.keys(t).length>0,o=e?!!e.$stable:!a,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&n&&n!==r&&s===n.$key&&!a&&!n.$hasNormal)return n;for(var l in i={},e)e[l]&&"$"!==l[0]&&(i[l]=ct(t,l,e[l]))}else i={};for(var u in t)u in i||(i[u]=dt(t,u));return e&&Object.isExtensible(e)&&(e._normalized=i),j(i,"$stable",o),j(i,"$key",s),j(i,"$hasNormal",a),i}function ct(e,t,r){var n=function(){var e=arguments.length?r.apply(null,arguments):r({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:rt(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return r.proxy&&Object.defineProperty(e,t,{get:n,enumerable:!0,configurable:!0}),n}function dt(e,t){return function(){return e[t]}}function ft(e,t){var r,n,a,o,l;if(Array.isArray(e)||"string"===typeof e)for(r=new Array(e.length),n=0,a=e.length;n<a;n++)r[n]=t(e[n],n,n,n);else if("number"===typeof e)for(r=new Array(e),n=0;n<e;n++)r[n]=t(n+1,n,n,n);else if(s(e))if(ne&&e[Symbol.iterator]){r=[];var u=e[Symbol.iterator](),c=u.next();while(!c.done)r.push(t(c.value,r.length,n,n++)),c=u.next()}else for(o=Object.keys(e),r=new Array(o.length),n=0,a=o.length;n<a;n++)l=o[n],r[n]=t(e[l],l,n,n);return i(r)||(r=[]),r._isVList=!0,r}function ht(e,t,r,n){var i,a=this.$scopedSlots[e];a?(r=r||{},n&&(r=L(L({},n),r)),i=a(r,this,r._i)||t):i=this.$slots[e]||t;var o=r&&r.slot;return o?this.$createElement("template",{slot:o},i):i}function pt(e){return Pe(this.$options,"filters",e)||x}function vt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function gt(e,t,r,n,i){var a=N.keyCodes[t]||r;return i&&n&&!N.keyCodes[t]?vt(i,n):a?vt(a,e):n?A(n)!==t:void 0}function mt(e,t,r,n,i){if(r)if(s(r)){var a;Array.isArray(r)&&(r=I(r));var o=function(o){if("class"===o||"style"===o||v(o))a=e;else{var s=e.attrs&&e.attrs.type;a=n||N.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=T(o),u=A(o);if(!(l in a)&&!(u in a)&&(a[o]=r[o],i)){var c=e.on||(e.on={});c["update:"+o]=function(e){r[o]=e}}};for(var l in r)o(l)}else;return e}function yt(e,t){var r=this._staticTrees||(this._staticTrees=[]),n=r[e];return n&&!t||(n=r[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Et(n,"__static__"+e,!1)),n}function bt(e,t,r){return Et(e,"__once__"+t+(r?"_"+r:""),!0),e}function Et(e,t,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&"string"!==typeof e[n]&&Tt(e[n],t+"_"+n,r);else Tt(e,t,r)}function Tt(e,t,r){e.isStatic=!0,e.key=t,e.isOnce=r}function kt(e,t){if(t)if(u(t)){var r=e.on=e.on?L({},e.on):{};for(var n in t){var i=r[n],a=t[n];r[n]=i?[].concat(i,a):a}}else;return e}function St(e,t,r,n){t=t||{$stable:!r};for(var i=0;i<e.length;i++){var a=e[i];Array.isArray(a)?St(a,t,r):a&&(a.proxy&&(a.fn.proxy=!0),t[a.key]=a.fn)}return n&&(t.$key=n),t}function At(e,t){for(var r=0;r<t.length;r+=2){var n=t[r];"string"===typeof n&&n&&(e[t[r]]=t[r+1])}return e}function _t(e,t){return"string"===typeof e?t+e:e}function wt(e){e._o=bt,e._n=h,e._s=f,e._l=ft,e._t=ht,e._q=P,e._i=O,e._m=yt,e._f=pt,e._k=gt,e._b=mt,e._v=fe,e._e=de,e._u=St,e._g=kt,e._d=At,e._p=_t}function Lt(e,t,n,i,o){var s,l=this,u=o.options;y(i,"_uid")?(s=Object.create(i),s._original=i):(s=i,i=i._original);var c=a(u._compiled),d=!c;this.data=e,this.props=t,this.children=n,this.parent=i,this.listeners=e.on||r,this.injections=ot(u.inject,i),this.slots=function(){return l.$slots||ut(e.scopedSlots,l.$slots=st(n,i)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ut(e.scopedSlots,this.slots())}}),c&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=ut(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,r,n){var a=Ct(s,e,t,r,n,d);return a&&!Array.isArray(a)&&(a.fnScopeId=u._scopeId,a.fnContext=i),a}:this._c=function(e,t,r,n){return Ct(s,e,t,r,n,d)}}function It(e,t,r,n,i){var a=function(e){var t=new ue(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}(e);return a.fnContext=r,a.fnOptions=n,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function Dt(e,t){for(var r in t)e[T(r)]=t[r]}wt(Lt.prototype);var Rt={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var r=e;Rt.prepatch(r,r)}else{var n=e.componentInstance=function(e,t){var r={_isComponent:!0,_parentVnode:e,parent:t},n=e.data.inlineTemplate;i(n)&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns);return new e.componentOptions.Ctor(r)}(e,Vt);n.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,i=t.componentInstance=e.componentInstance;(function(e,t,n,i,a){0;var o=i.data.scopedSlots,s=e.$scopedSlots,l=!!(o&&!o.$stable||s!==r&&!s.$stable||o&&e.$scopedSlots.$key!==o.$key),u=!!(a||e.$options._renderChildren||l);e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i);if(e.$options._renderChildren=a,e.$attrs=i.data.attrs||r,e.$listeners=n||r,t&&e.$options.props){me(!1);for(var c=e._props,d=e.$options._propKeys||[],f=0;f<d.length;f++){var h=d[f],p=e.$options.props;c[h]=Oe(h,p,t,e)}me(!0),e.$options.propsData=t}e._$updateProperties&&e._$updateProperties(e),n=n||r;var v=e.$options._parentListeners;e.$options._parentListeners=n,Ht(e,n,v),u&&(e.$slots=st(a,i.context),e.$forceUpdate());0})(i,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,r=e.componentInstance;r._isMounted||(Yt(r,"onServiceCreated"),Yt(r,"onServiceAttached"),r._isMounted=!0,Yt(r,"mounted")),e.data.keepAlive&&(t._isMounted?function(e){e._inactive=!1,Wt.push(e)}(r):$t(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,r){if(r&&(t._directInactive=!0,Kt(t)))return;if(!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)e(t.$children[n]);Yt(t,"deactivated")}}(t,!0):t.$destroy())}},xt=Object.keys(Rt);function Pt(e,t,o,l,u){if(!n(e)){var c=o.$options._base;if(s(e)&&(e=c.extend(e)),"function"===typeof e){var f;if(n(e.cid)&&(f=e,e=function(e,t){if(a(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var r=Ft;r&&i(e.owners)&&-1===e.owners.indexOf(r)&&e.owners.push(r);if(a(e.loading)&&i(e.loadingComp))return e.loadingComp;if(r&&!i(e.owners)){var o=e.owners=[r],l=!0,u=null,c=null;r.$on("hook:destroyed",(function(){return g(o,r)}));var f=function(e){for(var t=0,r=o.length;t<r;t++)o[t].$forceUpdate();e&&(o.length=0,null!==u&&(clearTimeout(u),u=null),null!==c&&(clearTimeout(c),c=null))},h=C((function(r){e.resolved=Nt(r,t),l?o.length=0:f(!0)})),p=C((function(t){i(e.errorComp)&&(e.error=!0,f(!0))})),v=e(h,p);return s(v)&&(d(v)?n(e.resolved)&&v.then(h,p):d(v.component)&&(v.component.then(h,p),i(v.error)&&(e.errorComp=Nt(v.error,t)),i(v.loading)&&(e.loadingComp=Nt(v.loading,t),0===v.delay?e.loading=!0:u=setTimeout((function(){u=null,n(e.resolved)&&n(e.error)&&(e.loading=!0,f(!1))}),v.delay||200)),i(v.timeout)&&(c=setTimeout((function(){c=null,n(e.resolved)&&p(null)}),v.timeout)))),l=!1,e.loading?e.loadingComp:e.resolved}}(f,c),void 0===e))return function(e,t,r,n,i){var a=de();return a.asyncFactory=e,a.asyncMeta={data:t,context:r,children:n,tag:i},a}(f,t,o,l,u);t=t||{},hr(e),i(t.model)&&function(e,t){var r=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[r]=t.model.value;var a=t.on||(t.on={}),o=a[n],s=t.model.callback;i(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(a[n]=[s].concat(o)):a[n]=s}(e.options,t);var h=function(e,t,r,a){var o=t.options.props;if(n(o))return et(e,t,{},a);var s={},l=e.attrs,u=e.props;if(i(l)||i(u))for(var c in o){var d=A(c);tt(s,u,c,d,!0)||tt(s,l,c,d,!1)}return et(e,t,s,a)}(t,e,0,o);if(a(e.options.functional))return function(e,t,n,a,o){var s=e.options,l={},u=s.props;if(i(u))for(var c in u)l[c]=Oe(c,u,t||r);else i(n.attrs)&&Dt(l,n.attrs),i(n.props)&&Dt(l,n.props);var d=new Lt(n,l,o,a,e),f=s.render.call(null,d._c,d);if(f instanceof ue)return It(f,n,d.parent,s,d);if(Array.isArray(f)){for(var h=rt(f)||[],p=new Array(h.length),v=0;v<h.length;v++)p[v]=It(h[v],n,d.parent,s,d);return p}}(e,h,t,o,l);var p=t.on;if(t.on=t.nativeOn,a(e.options.abstract)){var v=t.slot;t={},v&&(t.slot=v)}(function(e){for(var t=e.hook||(e.hook={}),r=0;r<xt.length;r++){var n=xt[r],i=t[n],a=Rt[n];i===a||i&&i._merged||(t[n]=i?Ot(a,i):a)}})(t);var m=e.options.name||u,y=new ue("vue-component-"+e.cid+(m?"-"+m:""),t,void 0,void 0,void 0,o,{Ctor:e,propsData:h,listeners:p,tag:u,children:l},f);return y}}}function Ot(e,t){var r=function(r,n){e(r,n),t(r,n)};return r._merged=!0,r}function Ct(e,t,r,l,u,c){return(Array.isArray(r)||o(r))&&(u=l,l=r,r=void 0),a(c)&&(u=2),function(e,t,r,o,l){if(i(r)&&i(r.__ob__))return de();i(r)&&i(r.is)&&(t=r.is);if(!t)return de();0;Array.isArray(o)&&"function"===typeof o[0]&&(r=r||{},r.scopedSlots={default:o[0]},o.length=0);2===l?o=rt(o):1===l&&(o=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(o));var u,c;if("string"===typeof t){var d;c=e.$vnode&&e.$vnode.ns||N.getTagNamespace(t),u=N.isReservedTag(t)?new ue(N.parsePlatformTagName(t),r,o,void 0,void 0,e):r&&r.pre||!i(d=Pe(e.$options,"components",t))?new ue(t,r,o,void 0,void 0,e):Pt(d,r,e,o,t)}else u=Pt(t,r,e,o);return Array.isArray(u)?u:i(u)?(i(c)&&function e(t,r,o){t.ns=r,"foreignObject"===t.tag&&(r=void 0,o=!0);if(i(t.children))for(var s=0,l=t.children.length;s<l;s++){var u=t.children[s];i(u.tag)&&(n(u.ns)||a(o)&&"svg"!==u.tag)&&e(u,r,o)}}(u,c),i(r)&&function(e){s(e.style)&&Xe(e.style);s(e.class)&&Xe(e.class)}(r),u):de()}(e,t,r,l,u)}var Mt,Ft=null;function Nt(e,t){return(e.__esModule||ne&&"Module"===e[Symbol.toStringTag])&&(e=e.default),s(e)?t.extend(e):e}function Bt(e){return e.isComment&&e.asyncFactory}function Ut(e,t){Mt.$on(e,t)}function jt(e,t){Mt.$off(e,t)}function Gt(e,t){var r=Mt;return function n(){var i=t.apply(null,arguments);null!==i&&r.$off(e,n)}}function Ht(e,t,r){Mt=e,function(e,t,r,i,o,s){var l,u,c,d;for(l in e)u=e[l],c=t[l],d=Je(l),n(u)||(n(c)?(n(u.fns)&&(u=e[l]=Ze(u,s)),a(d.once)&&(u=e[l]=o(d.name,u,d.capture)),r(d.name,u,d.capture,d.passive,d.params)):u!==c&&(c.fns=u,e[l]=c));for(l in t)n(e[l])&&(d=Je(l),i(d.name,t[l],d.capture))}(t,r||{},Ut,jt,Gt,e),Mt=void 0}var Vt=null;function Kt(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function $t(e,t){if(t){if(e._directInactive=!1,Kt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var r=0;r<e.$children.length;r++)$t(e.$children[r]);Yt(e,"activated")}}function Yt(e,t){se();var r=e.$options[t],n=t+" hook";if(r)for(var i=0,a=r.length;i<a;i++)Be(r[i],e,null,e,n);e._hasHookEvent&&e.$emit("hook:"+t),le()}var zt=[],Wt=[],Qt={},qt=!1,Xt=!1,Jt=0;var Zt=Date.now;if(K&&!W){var er=window.performance;er&&"function"===typeof er.now&&Zt()>document.createEvent("Event").timeStamp&&(Zt=function(){return er.now()})}function tr(){var e,t;for(Zt(),Xt=!0,zt.sort((function(e,t){return e.id-t.id})),Jt=0;Jt<zt.length;Jt++)e=zt[Jt],e.before&&e.before(),t=e.id,Qt[t]=null,e.run();var r=Wt.slice(),n=zt.slice();(function(){Jt=zt.length=Wt.length=0,Qt={},qt=Xt=!1})(),function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,$t(e[t],!0)}(r),function(e){var t=e.length;while(t--){var r=e[t],n=r.vm;n._watcher===r&&n._isMounted&&!n._isDestroyed&&Yt(n,"updated")}}(n),ee&&N.devtools&&ee.emit("flush")}var rr=0,nr=function(e,t,r,n,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++rr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new re,this.newDepIds=new re,this.expression="","function"===typeof t?this.getter=t:(this.getter=function(e){if(!G.test(e)){var t=e.split(".");return function(e){for(var r=0;r<t.length;r++){if(!e)return;e=e[t[r]]}return e}}}(t),this.getter||(this.getter=D)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var e;se(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Fr){if(!this.user)throw Fr;Ne(Fr,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Xe(e),le(),this.cleanupDeps()}return e},nr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},nr.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==Qt[t]){if(Qt[t]=!0,Xt){var r=zt.length-1;while(r>Jt&&zt[r].id>e.id)r--;zt.splice(r+1,0,e)}else zt.push(e);qt||(qt=!0,Qe(tr))}}(this)},nr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(Fr){Ne(Fr,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var ir={enumerable:!0,configurable:!0,get:D,set:D};function ar(e,t,r){ir.get=function(){return this[t][r]},ir.set=function(e){this[t][r]=e},Object.defineProperty(e,r,ir)}function or(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var r=e.$options.propsData||{},n=e._props={},i=e.$options._propKeys=[],a=!e.$parent;a||me(!1);var o=function(a){i.push(a);var o=Oe(a,t,r,e);Te(n,a,o),a in e||ar(e,"_props",a)};for(var s in t)o(s);me(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var r in t)e[r]="function"!==typeof t[r]?D:_(t[r],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;t=e._data="function"===typeof t?function(e,t){se();try{return e.call(t,t)}catch(Fr){return Ne(Fr,t,"data()"),{}}finally{le()}}(t,e):t||{},u(t)||(t={});var r=Object.keys(t),n=e.$options.props,i=(e.$options.methods,r.length);while(i--){var a=r[i];0,n&&y(n,a)||U(a)||ar(e,"_data",a)}Ee(t,!0)}(e):Ee(e._data={},!0),t.computed&&function(e,t){var r=e._computedWatchers=Object.create(null),n=Z();for(var i in t){var a=t[i],o="function"===typeof a?a:a.get;0,n||(r[i]=new nr(e,o||D,D,sr)),i in e||lr(e,i,a)}}(e,t.computed),t.watch&&t.watch!==X&&function(e,t){for(var r in t){var n=t[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)dr(e,r,n[i]);else dr(e,r,n)}}(e,t.watch)}var sr={lazy:!0};function lr(e,t,r){var n=!Z();"function"===typeof r?(ir.get=n?ur(t):cr(r),ir.set=D):(ir.get=r.get?n&&!1!==r.cache?ur(t):cr(r.get):D,ir.set=r.set||D),Object.defineProperty(e,t,ir)}function ur(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),oe.SharedObject.target&&t.depend(),t.value}}function cr(e){return function(){return e.call(this,this)}}function dr(e,t,r,n){return u(r)&&(n=r,r=r.handler),"string"===typeof r&&(r=e[r]),e.$watch(t,r,n)}var fr=0;function hr(e){var t=e.options;if(e.super){var r=hr(e.super),n=e.superOptions;if(r!==n){e.superOptions=r;var i=function(e){var t,r=e.options,n=e.sealedOptions;for(var i in r)r[i]!==n[i]&&(t||(t={}),t[i]=r[i]);return t}(e);i&&L(e.extendOptions,i),t=e.options=xe(r,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function pr(e){this._init(e)}function vr(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var r=this,n=r.cid,i=e._Ctor||(e._Ctor={});if(i[n])return i[n];var a=e.name||r.options.name;var o=function(e){this._init(e)};return o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.cid=t++,o.options=xe(r.options,e),o["super"]=r,o.options.props&&function(e){var t=e.options.props;for(var r in t)ar(e.prototype,"_props",r)}(o),o.options.computed&&function(e){var t=e.options.computed;for(var r in t)lr(e.prototype,r,t[r])}(o),o.extend=r.extend,o.mixin=r.mixin,o.use=r.use,M.forEach((function(e){o[e]=r[e]})),a&&(o.options.components[a]=o),o.superOptions=r.options,o.extendOptions=e,o.sealedOptions=L({},o.options),i[n]=o,o}}function gr(e){return e&&(e.Ctor.options.name||e.tag)}function mr(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!function(e){return"[object RegExp]"===l.call(e)}(e)&&e.test(t)}function yr(e,t){var r=e.cache,n=e.keys,i=e._vnode;for(var a in r){var o=r[a];if(o){var s=gr(o.componentOptions);s&&!t(s)&&br(r,a,n,i)}}}function br(e,t,r,n){var i=e[t];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),e[t]=null,g(r,t)}(function(e){e.prototype._init=function(e){var t=this;t._uid=fr++,t._isVue=!0,e&&e._isComponent?function(e,t){var r=e.$options=Object.create(e.constructor.options),n=t._parentVnode;r.parent=t.parent,r._parentVnode=n;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,t.render&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=xe(hr(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,r=t.parent;if(r&&!t.abstract){while(r.$options.abstract&&r.$parent)r=r.$parent;r.$children.push(e)}e.$parent=r,e.$root=r?r.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Ht(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=st(t._renderChildren,i),e.$scopedSlots=r,e._c=function(t,r,n,i){return Ct(e,t,r,n,i,!1)},e.$createElement=function(t,r,n,i){return Ct(e,t,r,n,i,!0)};var a=n&&n.data;Te(e,"$attrs",a&&a.attrs||r,null,!0),Te(e,"$listeners",t._parentListeners||r,null,!0)}(t),Yt(t,"beforeCreate"),!t._$fallback&&at(t),or(t),!t._$fallback&&it(t),!t._$fallback&&Yt(t,"created"),t.$options.el&&t.$mount(t.$options.el)}})(pr),function(e){var t={get:function(){return this._data}},r={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",r),e.prototype.$set=ke,e.prototype.$delete=Se,e.prototype.$watch=function(e,t,r){if(u(t))return dr(this,e,t,r);r=r||{},r.user=!0;var n=new nr(this,e,t,r);if(r.immediate)try{t.call(this,n.value)}catch(i){Ne(i,this,'callback for immediate watcher "'+n.expression+'"')}return function(){n.teardown()}}}(pr),function(e){var t=/^hook:/;e.prototype.$on=function(e,r){var n=this;if(Array.isArray(e))for(var i=0,a=e.length;i<a;i++)n.$on(e[i],r);else(n._events[e]||(n._events[e]=[])).push(r),t.test(e)&&(n._hasHookEvent=!0);return n},e.prototype.$once=function(e,t){var r=this;function n(){r.$off(e,n),t.apply(r,arguments)}return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(e)){for(var n=0,i=e.length;n<i;n++)r.$off(e[n],t);return r}var a,o=r._events[e];if(!o)return r;if(!t)return r._events[e]=null,r;var s=o.length;while(s--)if(a=o[s],a===t||a.fn===t){o.splice(s,1);break}return r},e.prototype.$emit=function(e){var t=this,r=t._events[e];if(r){r=r.length>1?w(r):r;for(var n=w(arguments,1),i='event handler for "'+e+'"',a=0,o=r.length;a<o;a++)Be(r[a],t,n,t,i)}return t}}(pr),function(e){e.prototype._update=function(e,t){var r=this,n=r.$el,i=r._vnode,a=function(e){var t=Vt;return Vt=e,function(){Vt=t}}(r);r._vnode=e,r.$el=i?r.__patch__(i,e):r.__patch__(r.$el,e,t,!1),a(),n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Yt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||g(t.$children,e),e._watcher&&e._watcher.teardown();var r=e._watchers.length;while(r--)e._watchers[r].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Yt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(pr),function(e){wt(e.prototype),e.prototype.$nextTick=function(e){return Qe(e,this)},e.prototype._render=function(){var e,t=this,r=t.$options,n=r.render,i=r._parentVnode;i&&(t.$scopedSlots=ut(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;try{Ft=t,e=n.call(t._renderProxy,t.$createElement)}catch(Fr){Ne(Fr,t,"render"),e=t._vnode}finally{Ft=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ue||(e=de()),e.parent=i,e}}(pr);var Er=[String,RegExp,Array],Tr={name:"keep-alive",abstract:!0,props:{include:Er,exclude:Er,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)br(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){yr(e,(function(e){return mr(t,e)}))})),this.$watch("exclude",(function(t){yr(e,(function(e){return!mr(t,e)}))}))},render:function(){var e=this.$slots.default,t=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var r=e[t];if(i(r)&&(i(r.componentOptions)||Bt(r)))return r}}(e),r=t&&t.componentOptions;if(r){var n=gr(r),a=this.include,o=this.exclude;if(a&&(!n||!mr(a,n))||o&&n&&mr(o,n))return t;var s=this.cache,l=this.keys,u=null==t.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):t.key;s[u]?(t.componentInstance=s[u].componentInstance,g(l,u),l.push(u)):(s[u]=t,l.push(u),this.max&&l.length>parseInt(this.max)&&br(s,l[0],l,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},kr={KeepAlive:Tr};(function(e){var t={get:function(){return N}};Object.defineProperty(e,"config",t),e.util={warn:ie,extend:L,mergeOptions:xe,defineReactive:Te},e.set=ke,e.delete=Se,e.nextTick=Qe,e.observable=function(e){return Ee(e),e},e.options=Object.create(null),M.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,L(e.options.components,kr),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var r=w(arguments,1);return r.unshift(this),"function"===typeof e.install?e.install.apply(e,r):"function"===typeof e&&e.apply(null,r),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=xe(this.options,e),this}}(e),vr(e),function(e){M.forEach((function(t){e[t]=function(e,r){return r?("component"===t&&u(r)&&(r.name=r.name||e,r=this.options._base.extend(r)),"directive"===t&&"function"===typeof r&&(r={bind:r,update:r}),this.options[t+"s"][e]=r,r):this.options[t+"s"][e]}}))}(e)})(pr),Object.defineProperty(pr.prototype,"$isServer",{get:Z}),Object.defineProperty(pr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(pr,"FunctionalRenderContext",{value:Lt}),pr.version="2.6.11";var Sr="[object Array]",Ar="[object Object]";function _r(e,t){var r={};return function e(t,r){if(t===r)return;var n=Lr(t),i=Lr(r);if(n==Ar&&i==Ar){if(Object.keys(t).length>=Object.keys(r).length)for(var a in r){var o=t[a];void 0===o?t[a]=null:e(o,r[a])}}else n==Sr&&i==Sr&&t.length>=r.length&&r.forEach((function(r,n){e(t[n],r)}))}(e,t),function e(t,r,n,i){if(t===r)return;var a=Lr(t),o=Lr(r);if(a==Ar)if(o!=Ar||Object.keys(t).length<Object.keys(r).length)wr(i,n,t);else{var s=function(a){var o=t[a],s=r[a],l=Lr(o),u=Lr(s);if(l!=Sr&&l!=Ar)o!==r[a]&&function(e,t){if(("[object Null]"===e||"[object Undefined]"===e)&&("[object Null]"===t||"[object Undefined]"===t))return!1;return!0}(l,u)&&wr(i,(""==n?"":n+".")+a,o);else if(l==Sr)u!=Sr||o.length<s.length?wr(i,(""==n?"":n+".")+a,o):o.forEach((function(t,r){e(t,s[r],(""==n?"":n+".")+a+"["+r+"]",i)}));else if(l==Ar)if(u!=Ar||Object.keys(o).length<Object.keys(s).length)wr(i,(""==n?"":n+".")+a,o);else for(var c in o)e(o[c],s[c],(""==n?"":n+".")+a+"."+c,i)};for(var l in t)s(l)}else a==Sr?o!=Sr||t.length<r.length?wr(i,n,t):t.forEach((function(t,a){e(t,r[a],n+"["+a+"]",i)})):wr(i,n,t)}(e,t,"",r),r}function wr(e,t,r){e[t]=r}function Lr(e){return Object.prototype.toString.call(e)}function Ir(e){if(e.__next_tick_callbacks&&e.__next_tick_callbacks.length){if(Object({NODE_ENV:"production",VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"耀西",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG){var t=e.$scope;console.log("["+ +new Date+"]["+(t.is||t.route)+"]["+e._uid+"]:flushCallbacks["+e.__next_tick_callbacks.length+"]")}var r=e.__next_tick_callbacks.slice(0);e.__next_tick_callbacks.length=0;for(var n=0;n<r.length;n++)r[n]()}}function Dr(e,t){if(!e.__next_tick_pending&&!function(e){return zt.find((function(t){return e._watcher===t}))}(e)){if(Object({NODE_ENV:"production",VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"耀西",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG){var r=e.$scope;console.log("["+ +new Date+"]["+(r.is||r.route)+"]["+e._uid+"]:nextVueTick")}return Qe(t,e)}if(Object({NODE_ENV:"production",VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"耀西",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG){var n=e.$scope;console.log("["+ +new Date+"]["+(n.is||n.route)+"]["+e._uid+"]:nextMPTick")}var i;if(e.__next_tick_callbacks||(e.__next_tick_callbacks=[]),e.__next_tick_callbacks.push((function(){if(t)try{t.call(e)}catch(Fr){Ne(Fr,e,"nextTick")}else i&&i(e)})),!t&&"undefined"!==typeof Promise)return new Promise((function(e){i=e}))}function Rr(e,t){return t&&(t._isVue||t.__v_isMPComponent)?{}:t}function xr(){}function Pr(e){return Array.isArray(e)?function(e){for(var t,r="",n=0,a=e.length;n<a;n++)i(t=Pr(e[n]))&&""!==t&&(r&&(r+=" "),r+=t);return r}(e):s(e)?function(e){var t="";for(var r in e)e[r]&&(t&&(t+=" "),t+=r);return t}(e):"string"===typeof e?e:""}var Or=b((function(e){var t={},r=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));var Cr=["createSelectorQuery","createIntersectionObserver","selectAllComponents","selectComponent"];var Mr=["onLaunch","onShow","onHide","onUniNViewMessage","onPageNotFound","onThemeChange","onError","onUnhandledRejection","onInit","onLoad","onReady","onUnload","onPullDownRefresh","onReachBottom","onTabItemTap","onAddToFavorites","onShareTimeline","onShareAppMessage","onResize","onPageScroll","onNavigationBarButtonTap","onBackPress","onNavigationBarSearchInputChanged","onNavigationBarSearchInputConfirmed","onNavigationBarSearchInputClicked","onUploadDouyinVideo","onNFCReadMessage","onPageShow","onPageHide","onPageResize"];pr.prototype.__patch__=function(e,t){var r=this;if(null!==t&&("page"===this.mpType||"component"===this.mpType)){var n=this.$scope,i=Object.create(null);try{i=function(e){var t=Object.create(null),r=[].concat(Object.keys(e._data||{}),Object.keys(e._computedWatchers||{}));r.reduce((function(t,r){return t[r]=e[r],t}),t);var n=e.__composition_api_state__||e.__secret_vfa_state__,i=n&&n.rawBindings;return i&&Object.keys(i).forEach((function(r){t[r]=e[r]})),Object.assign(t,e.$mp.data||{}),Array.isArray(e.$options.behaviors)&&-1!==e.$options.behaviors.indexOf("uni://form-field")&&(t["name"]=e.name,t["value"]=e.value),JSON.parse(JSON.stringify(t,Rr))}(this)}catch(s){console.error(s)}i.__webviewId__=n.data.__webviewId__;var a=Object.create(null);Object.keys(i).forEach((function(e){a[e]=n.data[e]}));var o=!1===this.$shouldDiffData?i:_r(i,a);Object.keys(o).length?(Object({NODE_ENV:"production",VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"耀西",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG&&console.log("["+ +new Date+"]["+(n.is||n.route)+"]["+this._uid+"]差量更新",JSON.stringify(o)),this.__next_tick_pending=!0,n.setData(o,(function(){r.__next_tick_pending=!1,Ir(r)}))):Ir(this)}},pr.prototype.$mount=function(e,t){return function(e,t,r){return e.mpType?("app"===e.mpType&&(e.$options.render=xr),e.$options.render||(e.$options.render=xr),!e._$fallback&&Yt(e,"beforeMount"),new nr(e,(function(){e._update(e._render(),r)}),D,{before:function(){e._isMounted&&!e._isDestroyed&&Yt(e,"beforeUpdate")}},!0),r=!1,e):e}(this,0,t)},function(e){var t=e.extend;e.extend=function(e){e=e||{};var r=e.methods;return r&&Object.keys(r).forEach((function(t){-1!==Mr.indexOf(t)&&(e[t]=r[t],delete r[t])})),t.call(this,e)};var r=e.config.optionMergeStrategies,n=r.created;Mr.forEach((function(e){r[e]=n})),e.prototype.__lifecycle_hooks__=Mr}(pr),function(e){e.config.errorHandler=function(t,r,n){e.util.warn("Error in "+n+': "'+t.toString()+'"',r),console.error(t);var i="function"===typeof getApp&&getApp();i&&i.onError&&i.onError(t)};var t=e.prototype.$emit;e.prototype.$emit=function(e){if(this.$scope&&e){var r=this.$scope["_triggerEvent"]||this.$scope["triggerEvent"];if(r)try{r.call(this.$scope,e,{__args__:w(arguments,1)})}catch(n){}}return t.apply(this,arguments)},e.prototype.$nextTick=function(e){return Dr(this,e)},Cr.forEach((function(t){e.prototype[t]=function(e){return this.$scope&&this.$scope[t]?this.$scope[t](e):"undefined"!==typeof my?"createSelectorQuery"===t?my.createSelectorQuery(e):"createIntersectionObserver"===t?my.createIntersectionObserver(e):void 0:void 0}})),e.prototype.__init_provide=it,e.prototype.__init_injections=at,e.prototype.__call_hook=function(e,t){var r=this;se();var n,i=r.$options[e],a=e+" hook";if(i)for(var o=0,s=i.length;o<s;o++)n=Be(i[o],r,t?[t]:null,r,a);return r._hasHookEvent&&r.$emit("hook:"+e,t),le(),n},e.prototype.__set_model=function(t,r,n,i){Array.isArray(i)&&(-1!==i.indexOf("trim")&&(n=n.trim()),-1!==i.indexOf("number")&&(n=this._n(n))),t||(t=this),e.set(t,r,n)},e.prototype.__set_sync=function(t,r,n){t||(t=this),e.set(t,r,n)},e.prototype.__get_orig=function(e){return u(e)&&e["$orig"]||e},e.prototype.__get_value=function(e,t){return function e(t,r){var n=r.split("."),i=n[0];return 0===i.indexOf("__$n")&&(i=parseInt(i.replace("__$n",""))),1===n.length?t[i]:e(t[i],n.slice(1).join("."))}(t||this,e)},e.prototype.__get_class=function(e,t){return function(e,t){return i(e)||i(t)?function(e,t){return e?t?e+" "+t:e:t||""}(e,Pr(t)):""}(t,e)},e.prototype.__get_style=function(e,t){if(!e&&!t)return"";var r=function(e){return Array.isArray(e)?I(e):"string"===typeof e?Or(e):e}(e),n=t?L(t,r):r;return Object.keys(n).map((function(e){return A(e)+":"+n[e]})).join(";")},e.prototype.__map=function(e,t){var r,n,i,a,o;if(Array.isArray(e)){for(r=new Array(e.length),n=0,i=e.length;n<i;n++)r[n]=t(e[n],n);return r}if(s(e)){for(a=Object.keys(e),r=Object.create(null),n=0,i=a.length;n<i;n++)o=a[n],r[o]=t(e[o],o,n);return r}if("number"===typeof e){for(r=new Array(e),n=0,i=e;n<i;n++)r[n]=t(n,n);return r}return[]}}(pr),t["default"]=pr}.call(this,r("c8ba"))},"680b":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{loadingText:{type:[String,Number],default:e.$u.props.loadingPage.loadingText},image:{type:String,default:e.$u.props.loadingPage.image},loadingMode:{type:String,default:e.$u.props.loadingPage.loadingMode},loading:{type:Boolean,default:e.$u.props.loadingPage.loading},bgColor:{type:String,default:e.$u.props.loadingPage.bgColor},color:{type:String,default:e.$u.props.loadingPage.color},fontSize:{type:[String,Number],default:e.$u.props.loadingPage.fontSize},iconSize:{type:[String,Number],default:e.$u.props.loadingPage.fontSize},loadingColor:{type:String,default:e.$u.props.loadingPage.loadingColor}}};t.default=r}).call(this,r("543d")["default"])},"6b0f":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={overlay:{show:!1,zIndex:10070,duration:300,opacity:.5}}},"6b58":function(e,t,r){var n=r("7037")["default"],i=r("3c96");e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"6bdb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={baseURL:"",header:{},method:"GET",dataType:"json",responseType:"text",custom:{},timeout:6e4,validateStatus:function(e){return e>=200&&e<300}}},"6da0":function(e,t,r){"use strict";(function(e){var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("278c")),a=n(r("7037")),o=n(r("0e3a")),s=r("ea86");function l(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakMap;if(null===e||"object"!==(0,a.default)(e))return e;if(r.has(e))return r.get(e);if(e instanceof Date)t=new Date(e.getTime());else if(e instanceof RegExp)t=new RegExp(e);else if(e instanceof Map)t=new Map(Array.from(e,(function(e){var t=(0,i.default)(e,2),n=t[0],a=t[1];return[n,l(a,r)]})));else if(e instanceof Set)t=new Set(Array.from(e,(function(e){return l(e,r)})));else if(Array.isArray(e))t=e.map((function(e){return l(e,r)}));else if("[object Object]"===Object.prototype.toString.call(e)){t=Object.create(Object.getPrototypeOf(e)),r.set(e,t);for(var n=0,o=Object.entries(e);n<o.length;n++){var s=(0,i.default)(o[n],2),u=s[0],c=s[1];t[u]=l(c,r)}}else t=Object.assign({},e);return r.set(e,t),t}function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";e=t?/^\d{10}$/.test(null===t||void 0===t?void 0:t.toString().trim())?new Date(1e3*t):"string"===typeof t&&/^\d+$/.test(t.trim())?new Date(Number(t)):"string"===typeof t&&t.includes("-")&&!t.includes("T")?new Date(t.replace(/-/g,"/")):new Date(t):new Date;var n={y:e.getFullYear().toString(),m:(e.getMonth()+1).toString().padStart(2,"0"),d:e.getDate().toString().padStart(2,"0"),h:e.getHours().toString().padStart(2,"0"),M:e.getMinutes().toString().padStart(2,"0"),s:e.getSeconds().toString().padStart(2,"0")};for(var a in n){var o=new RegExp("".concat(a,"+")).exec(r)||[],s=(0,i.default)(o,1),l=s[0];if(l){var u="y"===a&&2===l.length?2:0;r=r.replace(l,n[a].slice(u))}}return r}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return e=String(e),"both"==t?e.replace(/^\s+|\s+$/g,""):"left"==t?e.replace(/^\s*/,""):"right"==t?e.replace(/(\s*$)/g,""):"all"==t?e.replace(/\s+/g,""):e}String.prototype.padStart||(String.prototype.padStart=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if("[object String]"!==Object.prototype.toString.call(t))throw new TypeError("fillString must be String");var r=this;if(r.length>=e)return String(r);var n=e-r.length,i=Math.ceil(n/t.length);while(i>>=1)t+=t,1===i&&(t+=t);return t.slice(0,n)+r});var d={range:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(e,Math.min(t,Number(r)))},getPx:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.number(t)?r?"".concat(t,"px"):Number(t):/(rpx|upx)$/.test(t)?r?"".concat(e.upx2px(parseInt(t)),"px"):Number(e.upx2px(parseInt(t))):r?"".concat(parseInt(t),"px"):parseInt(t)},sleep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return new Promise((function(t){setTimeout((function(){t()}),e)}))},os:function(){return e.getSystemInfoSync().platform.toLowerCase()},sys:function(){return e.getSystemInfoSync()},random:function(e,t){if(e>=0&&t>0&&t>=e){var r=t-e+1;return Math.floor(Math.random()*r+e)}return 0},guid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(r=r||n.length,e)for(var a=0;a<e;a++)i[a]=n[0|Math.random()*r];else{var o;i[8]=i[13]=i[18]=i[23]="-",i[14]="4";for(var s=0;s<36;s++)i[s]||(o=0|16*Math.random(),i[s]=n[19==s?3&o|8:o])}return t?(i.shift(),"u".concat(i.join(""))):i.join("")},$parent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.$parent;while(t){if(!t.$options||t.$options.name===e)return t;t=t.$parent}return!1},addStyle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"object";if(o.default.empty(e)||"object"===(0,a.default)(e)&&"object"===t||"string"===t&&"string"===typeof e)return e;if("object"===t){e=c(e);for(var r=e.split(";"),n={},i=0;i<r.length;i++)if(r[i]){var s=r[i].split(":");n[c(s[0])]=c(s[1])}return n}var l="";for(var u in e){var d=u.replace(/([A-Z])/g,"-$1").toLowerCase();l+="".concat(d,":").concat(e[u],";")}return c(l)},addUnit:function(){var t,r,n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null!==(t=null===(r=e)||void 0===r||null===(n=r.$u)||void 0===n||null===(i=n.config)||void 0===i?void 0:i.unit)&&void 0!==t?t:"px";return a=String(a),o.default.number(a)?"".concat(a).concat(s):a},deepClone:l,deepMerge:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=l(t),"object"!==(0,a.default)(t)||null===t||"object"!==(0,a.default)(r)||null===r)return t;var n=Array.isArray(t)?t.slice():Object.assign({},t);for(var i in r)if(r.hasOwnProperty(i)){var o=r[i],s=n[i];o instanceof Date?n[i]=new Date(o):o instanceof RegExp?n[i]=new RegExp(o):o instanceof Map?n[i]=new Map(o):o instanceof Set?n[i]=new Set(o):"object"===(0,a.default)(o)&&null!==o?n[i]=e(s,o):n[i]=o}return n},error:function(e){0},randomArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(){return Math.random()-.5}))},timeFormat:u,timeFrom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";null==e&&(e=Number(new Date)),e=parseInt(e),10==e.toString().length&&(e*=1e3);var r=(new Date).getTime()-e;r=parseInt(r/1e3);var n="";switch(!0){case r<300:n="刚刚";break;case r>=300&&r<3600:n="".concat(parseInt(r/60),"分钟前");break;case r>=3600&&r<86400:n="".concat(parseInt(r/3600),"小时前");break;case r>=86400&&r<2592e3:n="".concat(parseInt(r/86400),"天前");break;default:n=!1===t?r>=2592e3&&r<31536e3?"".concat(parseInt(r/2592e3),"个月前"):"".concat(parseInt(r/31536e3),"年前"):u(e,t)}return n},trim:c,queryParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"brackets",n=t?"?":"",i=[];-1==["indices","brackets","repeat","comma"].indexOf(r)&&(r="brackets");var a=function(t){var n=e[t];if(["",void 0,null].indexOf(n)>=0)return"continue";if(n.constructor===Array)switch(r){case"indices":for(var a=0;a<n.length;a++)i.push("".concat(t,"[").concat(a,"]=").concat(n[a]));break;case"brackets":n.forEach((function(e){i.push("".concat(t,"[]=").concat(e))}));break;case"repeat":n.forEach((function(e){i.push("".concat(t,"=").concat(e))}));break;case"comma":var o="";n.forEach((function(e){o+=(o?",":"")+e})),i.push("".concat(t,"=").concat(o));break;default:n.forEach((function(e){i.push("".concat(t,"[]=").concat(e))}))}else i.push("".concat(t,"=").concat(n))};for(var o in e)a(o);return i.length?n+i.join("&"):""},toast:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;e.showToast({title:String(t),icon:"none",duration:r})},type2icon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];-1==["primary","info","error","warning","success"].indexOf(e)&&(e="success");var r="";switch(e){case"primary":r="info-circle";break;case"info":r="info-circle";break;case"error":r="close-circle";break;case"warning":r="error-circle";break;case"success":r="checkmark-circle";break;default:r="checkmark-circle"}return t&&(r+="-fill"),r},priceFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";e="".concat(e).replace(/[^0-9+-Ee.]/g,"");var i=isFinite(+e)?+e:0,a=isFinite(+t)?Math.abs(t):0,o="undefined"===typeof n?",":n,l="undefined"===typeof r?".":r,u="";u=(a?(0,s.round)(i,a)+"":"".concat(Math.round(i))).split(".");var c=/(-?\d+)(\d{3})/;while(c.test(u[0]))u[0]=u[0].replace(c,"$1".concat(o,"$2"));return(u[1]||"").length<a&&(u[1]=u[1]||"",u[1]+=new Array(a-u[1].length+1).join("0")),u.join(l)},getDuration:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=parseInt(e);return t?/s$/.test(e)?e:"".concat(e,e>30?"ms":"s"):/ms$/.test(e)?r:/s$/.test(e)?r>30?r:1e3*r:r},padZero:function(e){return"00".concat(e).slice(-2)},formValidate:function(t,r){var n=e.$u.$parent.call(t,"u-form-item"),i=e.$u.$parent.call(t,"u-form");n&&i&&i.validateField(n.prop,(function(){}),r)},getProperty:function(e,t){if(e){if("string"!==typeof t||""===t)return"";if(-1!==t.indexOf(".")){for(var r=t.split("."),n=e[r[0]]||{},i=1;i<r.length;i++)n&&(n=n[r[i]]);return n}return e[t]}},setProperty:function(e,t,r){if(e){if("string"!==typeof t||""===t);else if(-1!==t.indexOf(".")){var n=t.split(".");(function e(t,r,n){if(1!==r.length)while(r.length>1){var i=r[0];t[i]&&"object"===(0,a.default)(t[i])||(t[i]={});r.shift();e(t[i],r,n)}else t[r[0]]=n})(e,n,r)}else e[t]=r}},page:function(){var e,t,r=getCurrentPages();return"/".concat(null!==(e=null===(t=r[r.length-1])||void 0===t?void 0:t.route)&&void 0!==e?e:"")},pages:function(){var e=getCurrentPages();return e},getHistoryPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=getCurrentPages(),r=t.length;return t[r-1+e]},setConfig:function(t){var r=t.props,n=void 0===r?{}:r,i=t.config,a=void 0===i?{}:i,o=t.color,s=void 0===o?{}:o,l=t.zIndex,u=void 0===l?{}:l,c=e.$u.deepMerge;e.$u.config=c(e.$u.config,a),e.$u.props=c(e.$u.props,n),e.$u.color=c(e.$u.color,s),e.$u.zIndex=c(e.$u.zIndex,u)}};t.default=d}).call(this,r("543d")["default"])},"6f0f":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{showScrollbar:{type:Boolean,default:e.$u.props.list.showScrollbar},lowerThreshold:{type:[String,Number],default:e.$u.props.list.lowerThreshold},upperThreshold:{type:[String,Number],default:e.$u.props.list.upperThreshold},scrollTop:{type:[String,Number],default:e.$u.props.list.scrollTop},offsetAccuracy:{type:[String,Number],default:e.$u.props.list.offsetAccuracy},enableFlex:{type:Boolean,default:e.$u.props.list.enableFlex},pagingEnabled:{type:Boolean,default:e.$u.props.list.pagingEnabled},scrollable:{type:Boolean,default:e.$u.props.list.scrollable},scrollIntoView:{type:String,default:e.$u.props.list.scrollIntoView},scrollWithAnimation:{type:Boolean,default:e.$u.props.list.scrollWithAnimation},enableBackToTop:{type:Boolean,default:e.$u.props.list.enableBackToTop},height:{type:[String,Number],default:e.$u.props.list.height},width:{type:[String,Number],default:e.$u.props.list.width},preLoadScreen:{type:[String,Number],default:e.$u.props.list.preLoadScreen}}};t.default=r}).call(this,r("543d")["default"])},"6f8f":function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"6feb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swiperIndicator:{length:0,current:0,indicatorActiveColor:"",indicatorInactiveColor:"",indicatorMode:"line"}}},7037:function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"73e5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={rowNotice:{text:"",icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",fontSize:14,speed:80}}},"73f6":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={primary:"#3c9cff",info:"#909399",default:"#909399",warning:"#f9ae3d",error:"#f56c6c",success:"#5ac725",mainColor:"#303133",contentColor:"#606266",tipsColor:"#909399",lightColor:"#c0c4cc",borderColor:"#e4e7ed"};t.default=n},"740a":function(e,t,r){"use strict";var n=r("7037");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t)return e;var r;if(i.isURLSearchParams(t))r=t.toString();else{var n=[];i.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(i.isArray(e)?t="".concat(t,"[]"):e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),n.push("".concat(o(t),"=").concat(o(e)))})))})),r=n.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}i.default=e,r&&r.set(e,i);return i}(r("8acd"));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}},7522:function(e,t,r){(function(t){e.exports={props:{customStyle:{type:[Object,String],default:function(){return{}}},customClass:{type:String,default:""},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"}},data:function(){return{}},onLoad:function(){this.$u.getRect=this.$uGetRect},created:function(){this.$u.getRect=this.$uGetRect},computed:{$u:function(){return t.$u.deepMerge(t.$u,{props:void 0,http:void 0,mixin:void 0})},bem:function(){return function(e,t,r){var n=this,i="u-".concat(e,"--"),a={};return t&&t.map((function(e){a[i+n[e]]=!0})),r&&r.map((function(e){n[e]?a[i+e]=n[e]:delete a[i+e]})),Object.keys(a)}}},methods:{openPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"url",r=this[e];r&&t[this.linkType]({url:r})},$uGetRect:function(e,r){var n=this;return new Promise((function(i){t.createSelectorQuery().in(n)[r?"selectAll":"select"](e).boundingClientRect((function(e){r&&Array.isArray(e)&&e.length&&i(e),!r&&e&&i(e)})).exec()}))},getParentData:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.parent||(this.parent={}),this.parent=t.$u.$parent.call(this,r),this.parent.children&&-1===this.parent.children.indexOf(this)&&this.parent.children.push(this),this.parent&&this.parentData&&Object.keys(this.parentData).map((function(t){e.parentData[t]=e.parent[t]}))},preventEvent:function(e){e&&"function"===typeof e.stopPropagation&&e.stopPropagation()},noop:function(e){this.preventEvent(e)}},onReachBottom:function(){t.$emit("uOnReachBottom")},beforeDestroy:function(){var e=this;if(this.parent&&t.$u.test.array(this.parent.children)){var r=this.parent.children;r.map((function(t,n){t===e&&r.splice(n,1)}))}}}}).call(this,r("543d")["default"])},7584:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={listItem:{anchor:""}}},"75e4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swipeActionItem:{show:!1,name:"",disabled:!1,threshold:20,autoClose:!0,options:[],duration:300}}},7933:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{show:{type:Boolean,default:e.$u.props.overlay.show},zIndex:{type:[String,Number],default:e.$u.props.overlay.zIndex},duration:{type:[String,Number],default:e.$u.props.overlay.duration},opacity:{type:[String,Number],default:e.$u.props.overlay.opacity}}};t.default=r}).call(this,r("543d")["default"])},"7b4d":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("8e1b")),a=n(r("cf72")),o=n(r("9cd6")),s={en:i.default,"zh-Hans":a.default,"zh-Hant":o.default};t.default=s},"7cf8":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("a936"));t.default=function(e){return(0,i.default)(e)}},"7ebb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoList=t.comicList=t.bookList=void 0;t.bookList=[{name:"玄幻奇幻",logo:"",type:"book"},{name:"女生频道",logo:"",type:"book"},{name:"都市言情",logo:"",type:"book"},{name:"网游竞技",logo:"",type:"book"},{name:"历史军事",logo:"",type:"book"},{name:"科幻灵异",logo:"",type:"book"},{name:"武侠仙侠",logo:"",type:"book"},{name:"穿越小说",logo:"",type:"book"},{name:"玄幻小说",logo:"",type:"book"},{name:"网游小说",logo:"",type:"book"},{name:"修真小说",logo:"",type:"book"},{name:"科幻小说",logo:"",type:"book"},{name:"都市小说",logo:"",type:"book"},{name:"其他小说",logo:"",type:"book"},{name:"同人小说",logo:"",type:"book"},{name:"冒险",logo:"",type:"book"},{name:"穿越",logo:"",type:"book"},{name:"奇幻",logo:"",type:"book"},{name:"校园",logo:"",type:"book"},{name:"异界",logo:"",type:"book"},{name:"异世界",logo:"",type:"book"},{name:"恋爱",logo:"",type:"book"},{name:"同人作品",logo:"",type:"book"},{name:"魔法",logo:"",type:"book"},{name:"魔幻",logo:"",type:"book"},{name:"百合",logo:"",type:"book"},{name:"青春",logo:"",type:"book"},{name:"网游动漫",logo:"",type:"book"},{name:"其他类型",logo:"",type:"book"},{name:"玄幻魔法",logo:"",type:"book"},{name:"武侠修真",logo:"",type:"book"},{name:"神话",logo:"",type:"book"},{name:"神鬼",logo:"",type:"book"},{name:"轻小说",logo:"",type:"book"},{name:"科幻",logo:"",type:"book"},{name:"幻想",logo:"",type:"book"},{name:"纯爱",logo:"",type:"book"},{name:"悬疑",logo:"",type:"book"},{name:"侦探",logo:"",type:"book"},{name:"恐怖",logo:"",type:"book"},{name:"爱情",logo:"",type:"book"},{name:"搞笑",logo:"",type:"book"},{name:"神秘",logo:"",type:"book"},{name:"格斗",logo:"",type:"book"},{name:"战斗",logo:"",type:"book"},{name:"日本文学",logo:"",type:"book"},{name:"战争",logo:"",type:"book"},{name:"后宫",logo:"",type:"book"},{name:"恋爱喜剧",logo:"",type:"book"},{name:"侦探推理",logo:"",type:"book"},{name:"其他",logo:"",type:"book"},{name:"完本小说",logo:"",type:"book"},{name:"转生",logo:"",type:"book"},{name:"轻文学",logo:"",type:"book"},{name:"幽默",logo:"",type:"book"},{name:"黑暗",logo:"",type:"book"},{name:"惊悚",logo:"",type:"book"},{name:"暗黑",logo:"",type:"book"},{name:"犯罪",logo:"",type:"book"}];t.comicList=[{name:"霸总",logo:"",type:"comic"},{name:"恋爱",logo:"",type:"comic"},{name:"玄幻",logo:"",type:"comic"},{name:"热血",logo:"",type:"comic"},{name:"古风",logo:"",type:"comic"},{name:"搞笑",logo:"",type:"comic"},{name:"生活",logo:"",type:"comic"},{name:"冒险",logo:"",type:"comic"},{name:"欢乐向",logo:"",type:"comic"},{name:"格斗",logo:"",type:"comic"},{name:"后宫",logo:"",type:"comic"},{name:"穿越",logo:"",type:"comic"},{name:"动作",logo:"",type:"comic"},{name:"修真",logo:"",type:"comic"},{name:"灵异",logo:"",type:"comic"},{name:"校园",logo:"",type:"comic"},{name:"科幻",logo:"",type:"comic"},{name:"竞技",logo:"",type:"comic"},{name:"悬疑",logo:"",type:"comic"},{name:"励志",logo:"",type:"comic"},{name:"恐怖",logo:"",type:"comic"},{name:"架空",logo:"",type:"comic"},{name:"真人",logo:"",type:"comic"},{name:"惊悚",logo:"",type:"comic"},{name:"战争",logo:"",type:"comic"},{name:"轻小说",logo:"",type:"comic"},{name:"颜艺",logo:"",type:"comic"},{name:"同人",logo:"",type:"comic"},{name:"机战",logo:"",type:"comic"},{name:"东方",logo:"",type:"comic"},{name:"纯爱",logo:"",type:"comic"},{name:"宅系",logo:"",type:"comic"},{name:"美食",logo:"",type:"comic"},{name:"单行",logo:"",type:"comic"},{name:"泛爱",logo:"",type:"comic"},{name:"ゆり",logo:"",type:"comic"},{name:"TS",logo:"",type:"comic"},{name:"神鬼",logo:"",type:"comic"},{name:"节操",logo:"",type:"comic"},{name:"舰娘",logo:"",type:"comic"},{name:"爱情",logo:"",type:"comic"},{name:"奇幻",logo:"",type:"comic"},{name:"职场",logo:"",type:"comic"},{name:"秀吉",logo:"",type:"comic"},{name:"萌系",logo:"",type:"comic"},{name:"治愈",logo:"",type:"comic"},{name:"魔法",logo:"",type:"comic"},{name:"武侠",logo:"",type:"comic"},{name:"惊悚",logo:"",type:"comic"},{name:"历史",logo:"",type:"comic"},{name:"仙侠",logo:"",type:"comic"},{name:"侦探",logo:"",type:"comic"},{name:"福瑞",logo:"",type:"comic"},{name:"西方",logo:"",type:"comic"},{name:"魔幻",logo:"",type:"comic"},{name:"其他",logo:"",type:"comic"},{name:"生存",logo:"",type:"comic"},{name:"音乐",logo:"",type:"comic"},{name:"舞蹈",logo:"",type:"comic"},{name:"四格",logo:"",type:"comic"}];t.videoList=[{name:"动漫电影",logo:"",type:"video"},{name:"动作",logo:"",type:"video"},{name:"科幻",logo:"",type:"video"},{name:"其它",logo:"",type:"video"},{name:"动漫",logo:"",type:"video"},{name:"纪录片",logo:"",type:"video"},{name:"日韩动漫",logo:"",type:"video"},{name:"欧美动漫",logo:"",type:"video"},{name:"国产动漫",logo:"",type:"video"},{name:"剧情动画",logo:"",type:"video"},{name:"奇幻",logo:"",type:"video"},{name:"剧情",logo:"",type:"video"},{name:"伦理",logo:"",type:"video"},{name:"综艺",logo:"",type:"video"},{name:"国产",logo:"",type:"video"},{name:"国产剧",logo:"",type:"video"},{name:"真人秀",logo:"",type:"video"},{name:"喜剧",logo:"",type:"video"},{name:"爱情",logo:"",type:"video"},{name:"欧美",logo:"",type:"video"},{name:"大陆综艺",logo:"",type:"video"},{name:"韩国剧",logo:"",type:"video"},{name:"海外剧",logo:"",type:"video"},{name:"战争片",logo:"",type:"video"},{name:"恐怖片",logo:"",type:"video"},{name:"日剧",logo:"",type:"video"},{name:"泰剧",logo:"",type:"video"},{name:"欧美综艺",logo:"",type:"video"},{name:"港台综艺",logo:"",type:"video"},{name:"日韩综艺",logo:"",type:"video"},{name:"港澳",logo:"",type:"video"},{name:"选秀",logo:"",type:"video"},{name:"中国大陆",logo:"",type:"video"},{name:"海外动漫",logo:"",type:"video"},{name:"悬疑",logo:"",type:"video"},{name:"日本剧",logo:"",type:"video"},{name:"音乐",logo:"",type:"video"}]},"7ec2":function(e,t,r){var n=r("7037")["default"];function i(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t={},r=Object.prototype,a=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(x){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new I(n||[]);return o(a,"_invoke",{value:A(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}t.wrap=f;var p={};function v(){}function g(){}function m(){}var y={};d(y,l,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(D([])));E&&E!==r&&a.call(E,l)&&(y=E);var T=m.prototype=v.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){var r;o(this,"_invoke",{value:function(i,o){function s(){return new t((function(r,s){(function r(i,o,s,l){var u=h(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==n(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,l)}))}l(u.arg)})(i,o,r,s)}))}return r=r?r.then(s,s):s()}})}function A(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return R()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=_(o,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=h(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function _(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator["return"]&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var i=h(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function D(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:R}}function R(){return{value:void 0,done:!0}}return g.prototype=m,o(T,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:g,configurable:!0}),g.displayName=d(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,d(e,c,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},k(S.prototype),d(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new S(f(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(T),d(T,c,"Generator"),d(T,l,(function(){return this})),d(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=D,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:D(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},8075:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={loadmore:{status:"loadmore",bgColor:"transparent",icon:!0,fontSize:14,iconSize:17,color:"#606266",loadingIcon:"spinner",loadmoreText:"加载更多",loadingText:"正在加载...",nomoreText:"没有更多了",isDot:!1,iconColor:"#b7b7b7",marginTop:10,marginBottom:10,height:"auto",line:!1,lineColor:"#E6E8EB",dashed:!1}}},8368:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={calendar:{title:"日期选择",showTitle:!0,showSubtitle:!0,mode:"single",startText:"开始",endText:"结束",customList:function(){return[]},color:"#3c9cff",minDate:0,maxDate:0,defaultDate:null,maxCount:Number.MAX_SAFE_INTEGER,rowHeight:56,formatter:null,showLunar:!1,showMark:!0,confirmText:"确定",confirmDisabledText:"确定",show:!1,closeOnClickOverlay:!1,readonly:!1,showConfirm:!0,maxRange:Number.MAX_SAFE_INTEGER,rangePrompt:"",showRangePrompt:!0,allowSameDay:!1,round:0,monthNum:3}};t.default=n},8577:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={toast:10090,noNetwork:10080,popup:10075,mask:10070,navbar:980,topTips:975,sticky:970,indexListSticky:965}},8962:function(e,t,r){var n=r("9f70");function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=i=function(e,t,r){var i=n(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},e.exports.__esModule=!0,e.exports["default"]=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"8a05":function(e,t,r){"use strict";function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(e=String(e).toLowerCase(),e&&r.test(e)){if(4===e.length){for(var n="#",i=1;i<4;i+=1)n+=e.slice(i,i+1).concat(e.slice(i,i+1));e=n}for(var a=[],o=1;o<7;o+=2)a.push(parseInt("0x".concat(e.slice(o,o+2))));return t?"rgb(".concat(a[0],",").concat(a[1],",").concat(a[2],")"):a}if(/^(rgb|RGB)/.test(e)){var s=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");return s.map((function(e){return Number(e)}))}return e}function i(e){var t=e;if(/^(rgb|RGB)/.test(t)){for(var r=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),n="#",i=0;i<r.length;i++){var a=Number(r[i]).toString(16);a=1==String(a).length?"".concat(0,a):a,"0"===a&&(a+=a),n+=a}return 7!==n.length&&(n=t),n}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;var o=t.replace(/#/,"").split("");if(6===o.length)return t;if(3===o.length){for(var s="#",l=0;l<o.length;l+=1)s+=o[l]+o[l];return s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={colorGradient:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb(0, 0, 0)",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgb(255, 255, 255)",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=n(e,!1),o=a[0],s=a[1],l=a[2],u=n(t,!1),c=u[0],d=u[1],f=u[2],h=(c-o)/r,p=(d-s)/r,v=(f-l)/r,g=[],m=0;m<r;m++){var y=i("rgb(".concat(Math.round(h*m+o),",").concat(Math.round(p*m+s),",").concat(Math.round(v*m+l),")"));0===m&&(y=i(e)),m===r-1&&(y=i(t)),g.push(y)}return g},hexToRgb:n,rgbToHex:i,colorToRgba:function(e,t){e=i(e);var r=String(e).toLowerCase();if(r&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(r)){if(4===r.length){for(var n="#",a=1;a<4;a+=1)n+=r.slice(a,a+1).concat(r.slice(a,a+1));r=n}for(var o=[],s=1;s<7;s+=2)o.push(parseInt("0x".concat(r.slice(s,s+2))));return"rgba(".concat(o.join(","),",").concat(t,")")}return r}};t.default=a},"8a8e":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{openType:String},methods:{onGetUserInfo:function(e){this.$emit("getuserinfo",e.detail)},onContact:function(e){this.$emit("contact",e.detail)},onGetPhoneNumber:function(e){this.$emit("getphonenumber",e.detail)},onError:function(e){this.$emit("error",e.detail)},onLaunchApp:function(e){this.$emit("launchapp",e.detail)},onOpenSetting:function(e){this.$emit("opensetting",e.detail)}}};t.default=n},"8acd":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.deepMerge=function e(){var t={};function r(r,n){"object"===(0,i.default)(t[n])&&"object"===(0,i.default)(r)?t[n]=e(t[n],r):"object"===(0,i.default)(r)?t[n]=e({},r):t[n]=r}for(var n=0,a=arguments.length;n<a;n++)s(arguments[n],r);return t},t.forEach=s,t.isArray=o,t.isBoolean=function(e){return"boolean"===typeof e},t.isDate=function(e){return"[object Date]"===a.call(e)},t.isObject=function(e){return null!==e&&"object"===(0,i.default)(e)},t.isPlainObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isURLSearchParams=function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},t.isUndefined=function(e){return"undefined"===typeof e};var i=n(r("7037")),a=Object.prototype.toString;function o(e){return"[object Array]"===a.call(e)}function s(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==(0,i.default)(e)&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}},"8d13":function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"請輸入搜索內容"}')},"8e1b":function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"}')},9083:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={formItem:{label:"",prop:"",borderBottom:"",labelPosition:"",labelWidth:"",rightIcon:"",leftIcon:"",required:!1,leftIconStyle:""}}},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=u}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+d>=1?f/l:f*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+h]=255&o,h+=p,o/=256,u-=8);e[r+h-p]|=128*v}},9523:function(e,t,r){var n=r("a395");e.exports=function(e,t,r){return t=n(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"95f8":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="https://api.pingcc.cn";console.log("生产环境"),r="https://api.pingcc.cn";var n=function(t,n){e.onNetworkStatusChange((function(t){return t.isConnected||e.showToast({title:"网络连接不可用！",icon:"none"}),!1}));var i=e.getStorageSync("token"),a={url:r+t.url,data:n,method:t.method||"GET",header:"get"==t.method?{"X-Access-Token":i,"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json; charset=UTF-8"}:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json; charset=UTF-8"},dataType:"json"},o=new Promise((function(t,r){e.request(a).then((function(r){var n;"request:fail"==(null===(n=r[0])||void 0===n?void 0:n.errMsg)&&(e.showToast({title:"服务器错误",duration:2e3,icon:"none"}),t([])),200==r[1].statusCode?(2==r[1].data.code&&e.showToast({title:r[1].data.msg+"请重新刷新",duration:2e3,icon:"none"}),t(r[1].data)):5e3==r[1].statusCode?(e.reLaunch({url:"/pages/login/index"}),e.clearStorageSync()):t(r[1])})).catch((function(e){r(e)}))}));return o};t.default=n}).call(this,r("543d")["default"])},"970b":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"97c0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={row:{gutter:0,justify:"start",align:"center"}}},"980b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tabbar:{value:null,safeAreaInsetBottom:!0,border:!0,zIndex:1,activeColor:"#1989fa",inactiveColor:"#7d7e80",fixed:!0,placeholder:!0}}},"982c":function(e,t,r){"use strict";(function(e){var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("2eee")),a=n(r("c973")),o=n(r("970b")),s=n(r("5bc3")),l=function(){function t(){(0,o.default)(this,t),this.config={type:"navigateTo",url:"",delta:1,params:{},animationType:"pop-in",animationDuration:300,intercept:!1},this.route=this.route.bind(this)}return(0,s.default)(t,[{key:"addRootPath",value:function(e){return"/"===e[0]?e:"/".concat(e)}},{key:"mixinParam",value:function(t,r){t=t&&this.addRootPath(t);var n="";return/.*\/.*\?.*=.*/.test(t)?(n=e.$u.queryParams(r,!1),t+"&".concat(n)):(n=e.$u.queryParams(r),t+n)}},{key:"route",value:function(){var t=(0,a.default)(i.default.mark((function t(){var r,n,a,o,s=arguments;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1&&void 0!==s[1]?s[1]:{},a={},"string"===typeof r?(a.url=this.mixinParam(r,n),a.type="navigateTo"):(a=e.$u.deepMerge(this.config,r),a.url=this.mixinParam(r.url,r.params)),a.url!==e.$u.page()){t.next=6;break}return t.abrupt("return");case 6:if(n.intercept&&(this.config.intercept=n.intercept),a.params=n,a=e.$u.deepMerge(this.config,a),"function"!==typeof e.$u.routeIntercept){t.next=16;break}return t.next=12,new Promise((function(t,r){e.$u.routeIntercept(a,t)}));case 12:o=t.sent,o&&this.openPage(a),t.next=17;break;case 16:this.openPage(a);case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"openPage",value:function(t){var r=t.url,n=(t.type,t.delta),i=t.animationType,a=t.animationDuration;"navigateTo"!=t.type&&"to"!=t.type||e.navigateTo({url:r,animationType:i,animationDuration:a}),"redirectTo"!=t.type&&"redirect"!=t.type||e.redirectTo({url:r}),"switchTab"!=t.type&&"tab"!=t.type||e.switchTab({url:r}),"reLaunch"!=t.type&&"launch"!=t.type||e.reLaunch({url:r}),"navigateBack"!=t.type&&"back"!=t.type||e.navigateBack({delta:n})}}]),t}(),u=(new l).route;t.default=u}).call(this,r("543d")["default"])},"999d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={popup:{show:!1,overlay:!0,mode:"bottom",duration:300,closeable:!1,overlayStyle:function(){},closeOnClickOverlay:!0,zIndex:10075,safeAreaInsetBottom:!0,safeAreaInsetTop:!1,closeIconPos:"top-right",round:0,zoom:!0,bgColor:"",overlayOpacity:.5}}},"9a23":function(e,t){},"9b42":function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=r["return"]&&(o=r["return"](),Object(o)!==o))return}finally{if(u)throw i}}return s}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"9ccb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={empty:{icon:"",text:"",textColor:"#c0c4cc",textSize:14,iconColor:"#c0c4cc",iconSize:90,mode:"data",width:160,height:160,show:!0,marginTop:0}}},"9cd6":function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"請輸入搜索內容"}')},"9cda":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{value:{type:[String,Number,Array,null],default:e.$u.props.collapse.value},accordion:{type:Boolean,default:e.$u.props.collapse.accordion},border:{type:Boolean,default:e.$u.props.collapse.border}}};t.default=r}).call(this,r("543d")["default"])},"9e22":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("11f2")),a=i.default.color,o={link:{color:a["u-primary"],fontSize:15,underLine:!1,href:"",mpTips:"链接已复制，请在浏览器打开",lineColor:"",text:""}};t.default=o},"9e40":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={checkbox:{name:"",shape:"",size:"",checkbox:!1,disabled:"",activeColor:"",inactiveColor:"",iconSize:"",iconColor:"",label:"",labelSize:"",labelColor:"",labelDisabled:""}}},"9f49":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{lang:String,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,formType:String,openType:String}};t.default=n},"9f70":function(e,t,r){var n=r("36c6");e.exports=function(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=n(e),null===e)break;return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"9f79":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={toolbar:{show:!0,cancelText:"取消",confirmText:"确认",cancelColor:"#909193",confirmColor:"#3c9cff",title:""}}},a128:function(e,t,r){var n=r("36c6"),i=r("4a4b"),a=r("c5f7"),o=r("b17c");function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},a241:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{show:{type:Boolean,default:e.$u.props.transition.show},mode:{type:String,default:e.$u.props.transition.mode},duration:{type:[String,Number],default:e.$u.props.transition.duration},timingFunction:{type:String,default:e.$u.props.transition.timingFunction}}};t.default=r}).call(this,r("543d")["default"])},a2ea:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={indexAnchor:{text:"",color:"#606266",size:14,bgColor:"#dedede",height:32}}},a395:function(e,t,r){var n=r("7037")["default"],i=r("e50d");e.exports=function(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},a404:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={stepsItem:{title:"",desc:"",iconSize:17,error:!1}}},a698:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("2eee")),a=n(r("c973")),o=n(r("448a")),s=r("a97a"),l={namespaced:!0,state:{searchList:null,searchHomeList:null,chapterInfo:null,bookval:null,listcount:0},mutations:{addType:function(e,t){var r;t.data.forEach((function(e){e.type=t.type})),e.searchList||(e.searchList=[]),(r=e.searchList).push.apply(r,(0,o.default)(t.data)),e.listcount=t.count,console.log(e.searchList)},addHomeType:function(e,t){var r;t.data.forEach((function(e){e.type=t.type})),e.searchHomeList=[],(r=e.searchHomeList).push.apply(r,(0,o.default)(t.data))},setBookVal:function(e,t){e.bookval=t.data},resetbookval:function(e,t){e.bookval=t},resetsearchList:function(e,t){e.searchList=t}},actions:{bookgetlist:function(e,t){return(0,a.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,s.getsearchBook)(t);case 2:return n=r.sent,n.data&&e.commit("addType",{data:n.data,type:"book",count:n.count}),r.abrupt("return",n.code);case 5:case"end":return r.stop()}}),r)})))()},homebookgetlist:function(e,t){return(0,a.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,s.getsearchBook)(t);case 2:return n=r.sent,n.data&&e.commit("addHomeType",{data:n.data,type:"book",count:n.count}),r.abrupt("return",n.code);case 5:case"end":return r.stop()}}),r)})))()},getsearchBookContentfun:function(e,t){return(0,a.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,s.getsearchBookContent)(t);case 2:return n=r.sent,console.log(n.data),n.data.pop(),e.commit("setBookVal",{data:n.data.join(),type:"book"}),r.abrupt("return",n.code);case 7:case"end":return r.stop()}}),r)})))()}},getters:{booklist:function(e){return e.searchHomeList?e.searchHomeList:[]},bookchapter:function(e){return e.chapterInfo?e.chapterInfo:null}}},u=l;t.default=u},a6f1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={avatar:{src:"",shape:"circle",size:40,mode:"scaleToFill",text:"",bgColor:"#c0c4cc",color:"#ffffff",fontSize:18,icon:"",mpAvatar:!1,randomBgColor:!1,defaultUrl:"",colorIndex:"",name:""}}},a7dc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cellGroup:{title:"",border:!0,customStyle:{}}}},a7e6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={transition:{show:!1,mode:"fade",duration:"300",timingFunction:"ease-out"}}},a872:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("9523")),a=r("8acd");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e,t,r){var n={};return e.forEach((function(e){(0,a.isUndefined)(r[e])?(0,a.isUndefined)(t[e])||(n[e]=t[e]):n[e]=r[e]})),n};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.method||e.method||"GET",n={baseURL:e.baseURL||"",method:r,url:t.url||"",params:t.params||{},custom:s(s({},e.custom||{}),t.custom||{}),header:(0,a.deepMerge)(e.header||{},t.header||{})},i=["getTask","validateStatus"];if(n=s(s({},n),l(i,e,t)),"DOWNLOAD"===r);else if("UPLOAD"===r){delete n.header["content-type"],delete n.header["Content-Type"];var o=["filePath","name","formData"];o.forEach((function(e){(0,a.isUndefined)(t[e])||(n[e]=t[e])}))}else{var u=["data","timeout","dataType","responseType"];n=s(s({},n),l(u,e,t))}return n}},a936:function(e,t,r){"use strict";(function(e){var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("9523")),a=n(r("740a")),o=n(r("b8ee")),s=n(r("c23d")),l=r("8acd");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e,t){var r={};return e.forEach((function(e){(0,l.isUndefined)(t[e])||(r[e]=t[e])})),r};t.default=function(t){return new Promise((function(r,n){var i,l=(0,a.default)((0,o.default)(t.baseURL,t.url),t.params),u={url:l,header:t.header,complete:function(e){t.fullPath=l,e.config=t;try{"string"===typeof e.data&&(e.data=JSON.parse(e.data))}catch(i){}(0,s.default)(r,n,e)}};if("UPLOAD"===t.method){delete u.header["content-type"],delete u.header["Content-Type"];var f={filePath:t.filePath,name:t.name};i=e.uploadFile(c(c(c({},u),f),d(["formData"],t)))}else if("DOWNLOAD"===t.method)i=e.downloadFile(u);else{i=e.request(c(c({},u),d(["data","method","timeout","dataType","responseType"],t)))}t.getTask&&t.getTask(i,t)}))}}).call(this,r("543d")["default"])},a97a:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.getsearchBook=function(e){return(0,i.default)({url:"/fiction/search/".concat(e.option,"/").concat(e.key,"/").concat(e.from,"/").concat(e.size),method:"GET"})},t.getsearchBookChapter=function(e){return(0,i.default)({url:"/fictionChapter/search/".concat(e.fictionId),method:"GET"})},t.getsearchBookContent=function(e){return(0,i.default)({url:"/fictionContent/search/".concat(e.chapterId),method:"GET"})},t.getsearchComic=function(e){return(0,i.default)({url:"/comic/search/".concat(e.option,"/").concat(e.key,"/").concat(e.from,"/").concat(e.size),method:"GET"})},t.getsearchComicChapter=function(e){return(0,i.default)({url:"/comicChapter/search/".concat(e.cartoonId),method:"GET"})},t.getsearchComicContent=function(e){return(0,i.default)({url:"/comicContent/search/".concat(e.chapterId),method:"GET"})},t.getsearchVideo=function(e){return(0,i.default)({url:"/video/search/".concat(e.option,"/").concat(e.key,"/").concat(e.from,"/").concat(e.size),method:"GET"})},t.getsearchVideoChapter=function(e){return(0,i.default)({url:"/videoChapter/search/".concat(e.videoId),method:"GET"})};var i=n(r("95f8"))},aa43:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={list:{showScrollbar:!1,lowerThreshold:50,upperThreshold:0,scrollTop:0,offsetAccuracy:10,enableFlex:!1,pagingEnabled:!1,scrollable:!0,scrollIntoView:"",scrollWithAnimation:!1,enableBackToTop:!1,height:0,width:0,preLoadScreen:1}}},abf6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={lineProgress:{activeColor:"#19be6b",inactiveColor:"#ececec",percentage:0,showText:!0,height:12}}},b08c:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={noticeBar:{text:function(){return[]},direction:"row",step:!1,icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",speed:80,fontSize:14,duration:2e3,disableTouch:!0,url:"",linkType:"navigateTo"}}},b138:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={slider:{value:0,blockSize:18,min:0,max:100,step:1,activeColor:"#2979ff",inactiveColor:"#c0c4cc",blockColor:"#ffffff",showValue:!1,disabled:!1,blockStyle:function(){}}}},b17c:function(e,t,r){var n=r("4a4b"),i=r("6f8f");function a(t,r,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=a=function(e,t,r){var i=[null];i.push.apply(i,t);var a=Function.bind.apply(e,i),o=new a;return r&&n(o,r.prototype),o},e.exports.__esModule=!0,e.exports["default"]=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},b35d:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{span:{type:[String,Number],default:e.$u.props.col.span},offset:{type:[String,Number],default:e.$u.props.col.offset},justify:{type:String,default:e.$u.props.col.justify},align:{type:String,default:e.$u.props.col.align},textAlign:{type:String,default:e.$u.props.col.textAlign}}};t.default=r}).call(this,r("543d")["default"])},b566:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={indexList:{inactiveColor:"#606266",activeColor:"#5677fc",indexList:function(){return[]},sticky:!0,customNavHeight:0}}},b56e:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("2eee")),a=n(r("c973")),o=n(r("448a")),s=r("a97a"),l={namespaced:!0,state:{searchList:null,searchHomeList:null,chapterInfo:null,ComicVal:null,onloadComicValImg:[],listcount:0},mutations:{addType:function(e,t){var r;t.data.forEach((function(e){e.type=t.type})),e.searchList||(e.searchList=[]),(r=e.searchList).push.apply(r,(0,o.default)(t.data)),e.listcount=t.count},addHomeType:function(e,t){var r;t.data.forEach((function(e){e.type=t.type})),e.searchHomeList=[],(r=e.searchHomeList).push.apply(r,(0,o.default)(t.data))},setComicVal:function(e,t){e.ComicVal=t.data},changeOnloadComicValImg:function(e){e.ComicVal.length&&e.onloadComicValImg.push(e.ComicVal.shift())},resetComicval:function(e,t){e.ComicVal=t,e.onloadComicValImg=[]},resetsearchList:function(e,t){e.searchList=t}},actions:{comicgetlist:function(e,t){return(0,a.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,s.getsearchComic)(t);case 2:return n=r.sent,n.data&&e.commit("addType",{data:n.data,type:"comic",count:n.count}),r.abrupt("return",n.code);case 5:case"end":return r.stop()}}),r)})))()},homecomicgetlist:function(e,t){return(0,a.default)(i.default.mark((function r(){var n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,s.getsearchComic)(t);case 2:return n=r.sent,n.data&&e.commit("addHomeType",{data:n.data,type:"comic",count:n.count}),r.abrupt("return",n.code);case 5:case"end":return r.stop()}}),r)})))()},getsearchComicContentfun:function(e,t){var r=this;return(0,a.default)(i.default.mark((function n(){var a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.getsearchComicContent)(t);case 2:return a=n.sent,a.data&&(console.log(a.data),e.commit("setComicVal",{data:a.data}),e.commit("changeOnloadComicValImg"),console.log(r.state)),n.abrupt("return",a.code);case 5:case"end":return n.stop()}}),n)})))()}},getters:{comiclist:function(e){return e.searchHomeList?e.searchHomeList:[]},comicchapter:function(e){return e.chapterInfo?e.chapterInfo:null},onloadComicValImg:function(e){return e.chapterInfo?e.chapterInfo:null}}},u=l;t.default=u},b599:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={album:{urls:function(){return[]},keyName:"",singleSize:180,multipleSize:70,space:6,singleMode:"scaleToFill",multipleMode:"aspectFill",maxCount:9,previewFullImage:!0,rowCount:3,showMore:!0}}},b639:function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r("1fb5"),i=r("9152"),a=r("e3db");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=l.prototype):(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);l.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=l.prototype):e=f(e,t);return e}(e,t,r,n):"string"===typeof t?function(e,t,r){"string"===typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r);e=s(e,n);var i=e.write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|h(t.length);return e=s(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||function(e){return e!==e}(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(n)return j(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return D(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return L(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=r;a<s;a++)if(u(e,a)===u(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var d=!0,f=0;f<l;f++)if(u(e,a+f)!==u(t,f)){d=!1;break}if(d)return a}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function E(e,t,r,n){return H(j(t,e.length-r),e,r,n)}function T(e,t,r,n){return H(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function k(e,t,r,n){return T(e,t,r,n)}function S(e,t,r,n){return H(G(t),e,r,n)}function A(e,t,r,n){return H(function(e,t){for(var r,n,i,a=[],o=0;o<e.length;++o){if((t-=2)<0)break;r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n)}return a}(t,e.length-r),e,r,n)}function _(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function w(e,t,r){r=Math.min(e.length,r);var n=[],i=t;while(i<r){var a,o,s,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=r)switch(d){case 1:u<128&&(c=u);break;case 2:a=e[i+1],128===(192&a)&&(l=(31&u)<<6|63&a,l>127&&(c=l));break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(l=(15&u)<<12|(63&a)<<6|63&o,l>2047&&(l<55296||l>57343)&&(c=l));break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s,l>65535&&l<1114112&&(c=l))}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;while(n<t)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return u(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?s(e,t):void 0!==r?"string"===typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?w(this,0,e):v.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var a=i-n,o=r-t,s=Math.min(a,o),u=this.slice(n,i),c=e.slice(t,r),d=0;d<s;++d)if(u[d]!==c[d]){a=u[d],o=c[d];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":return T(this,e,t,r);case"latin1":case"binary":return k(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function D(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=U(e[a]);return i}function R(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function x(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,r,n,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function O(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function C(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function M(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(e,t,r,n,a){return a||M(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,a){return a||M(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);var n=this[e],i=1,a=0;while(++a<t&&(i*=256))n+=this[e+a]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);var n=this[e+--t],i=1;while(t>0&&(i*=256))n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);var n=this[e],i=1,a=0;while(++a<t&&(i*=256))n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);var n=t,i=1,a=this[e+--n];while(n>0&&(i*=256))a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;P(this,e,t,r,i,0)}var a=1,o=0;this[t]=255&e;while(++o<r&&(a*=256))this[t+o]=e/a&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;P(this,e,t,r,i,0)}var a=r-1,o=1;this[t+a]=255&e;while(--a>=0&&(o*=256))this[t+a]=e/o&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):C(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;this[t]=255&e;while(++a<r&&(o*=256))e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);P(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;this[t+a]=255&e;while(--a>=0&&(o*=256))e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):C(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return F(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return F(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},l.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=l.isBuffer(e)?e:j(new l(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function G(e){return n.toByteArray(function(e){if(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}(e))}function H(e,t,r,n){for(var i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}}).call(this,r("c8ba"))},b761:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{type:{type:String,default:e.$u.props.text.type},show:{type:Boolean,default:e.$u.props.text.show},text:{type:[String,Number],default:e.$u.props.text.text},prefixIcon:{type:String,default:e.$u.props.text.prefixIcon},suffixIcon:{type:String,default:e.$u.props.text.suffixIcon},mode:{type:String,default:e.$u.props.text.mode},href:{type:String,default:e.$u.props.text.href},format:{type:[String,Function],default:e.$u.props.text.format},call:{type:Boolean,default:e.$u.props.text.call},openType:{type:String,default:e.$u.props.text.openType},bold:{type:Boolean,default:e.$u.props.text.bold},block:{type:Boolean,default:e.$u.props.text.block},lines:{type:[String,Number],default:e.$u.props.text.lines},color:{type:String,default:e.$u.props.text.color},size:{type:[String,Number],default:e.$u.props.text.size},iconStyle:{type:[Object,String],default:e.$u.props.text.iconStyle},decoration:{type:String,default:e.$u.props.text.decoration},margin:{type:[Object,String,Number],default:e.$u.props.text.margin},lineHeight:{type:[String,Number],default:e.$u.props.text.lineHeight},align:{type:String,default:e.$u.props.text.align},wordWrap:{type:String,default:e.$u.props.text.wordWrap}}};t.default=r}).call(this,r("543d")["default"])},b8ab:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{isDot:{type:Boolean,default:e.$u.props.badge.isDot},value:{type:[Number,String],default:e.$u.props.badge.value},show:{type:Boolean,default:e.$u.props.badge.show},max:{type:[Number,String],default:e.$u.props.badge.max},type:{type:String,default:e.$u.props.badge.type},showZero:{type:Boolean,default:e.$u.props.badge.showZero},bgColor:{type:[String,null],default:e.$u.props.badge.bgColor},color:{type:[String,null],default:e.$u.props.badge.color},shape:{type:String,default:e.$u.props.badge.shape},numberType:{type:String,default:e.$u.props.badge.numberType},offset:{type:Array,default:e.$u.props.badge.offset},inverted:{type:Boolean,default:e.$u.props.badge.inverted},absolute:{type:Boolean,default:e.$u.props.badge.absolute}}};t.default=r}).call(this,r("543d")["default"])},b8ee:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&!(0,i.default)(t))return(0,a.default)(e,t);return t};var i=n(r("3cdc")),a=n(r("22a9"))},bc2e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=["qy","env","error","version","lanDebug","cloud","serviceMarket","router","worklet"],i=["lanDebug","router","worklet"],a="undefined"!==typeof globalThis?globalThis:function(){return this}(),o=["w","x"].join(""),s=a[o],l=s.getLaunchOptionsSync?s.getLaunchOptionsSync():null;function u(e){return(!l||1154!==l.scene||!i.includes(e))&&(n.indexOf(e)>-1||"function"===typeof s[e])}a[o]=function(){var e={};for(var t in s)u(t)&&(e[t]=s[t]);return e}();var c=a[o];t.default=c},bc46:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={circleProgress:{percentage:30}}},bdc1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={switch:{loading:!1,disabled:!1,size:25,activeColor:"#2979ff",inactiveColor:"#ffffff",value:!1,activeValue:!0,inactiveValue:!1,asyncChange:!1,space:0}}},be19:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={columnNotice:{text:"",icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",fontSize:14,speed:80,step:!1,duration:1500,disableTouch:!0}}},c135:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},c23d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=r.config.validateStatus,i=r.statusCode;!i||n&&!n(i)?t(r):e(r)}},c240:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},c54b:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tooltip:{text:"",copyText:"",size:14,color:"#606266",bgColor:"transparent",direction:"top",zIndex:10071,showCopy:!0,buttons:function(){return[]},overlay:!0,showToast:!0}}},c5f7:function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports["default"]=e.exports},c6a7:function(e,t,r){"use strict";function n(){this.handlers=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){this.handlers.forEach((function(t){null!==t&&e(t)}))};var i=n;t.default=i},c842:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={fade:{enter:{opacity:0},"enter-to":{opacity:1},leave:{opacity:1},"leave-to":{opacity:0}},"fade-up":{enter:{opacity:0,transform:"translateY(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(100%)"}},"fade-down":{enter:{opacity:0,transform:"translateY(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(-100%)"}},"fade-left":{enter:{opacity:0,transform:"translateX(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(-100%)"}},"fade-right":{enter:{opacity:0,transform:"translateX(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(100%)"}},"slide-up":{enter:{transform:"translateY(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(100%)"}},"slide-down":{enter:{transform:"translateY(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(-100%)"}},"slide-left":{enter:{transform:"translateX(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(-100%)"}},"slide-right":{enter:{transform:"translateX(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(100%)"}},zoom:{enter:{transform:"scale(0.95)"},"enter-to":{transform:"scale(1)"},leave:{transform:"scale(1)"},"leave-to":{transform:"scale(0.95)"}},"fade-zoom":{enter:{opacity:0,transform:"scale(0.95)"},"enter-to":{opacity:1,transform:"scale(1)"},leave:{opacity:1,transform:"scale(1)"},"leave-to":{opacity:0,transform:"scale(0.95)"}}}},c892:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("9523")),a=n(r("11f2")),o=n(r("c988")),s=n(r("b599")),l=n(r("3d87")),u=n(r("a6f1")),c=n(r("ca90")),d=n(r("0878")),f=n(r("0f62")),h=n(r("e7b6")),p=n(r("8368")),v=n(r("e363")),g=n(r("06c8")),m=n(r("a7dc")),y=n(r("9e40")),b=n(r("dad1")),E=n(r("bc46")),T=n(r("d4fb")),k=n(r("d331")),S=n(r("d196")),A=n(r("1520")),_=n(r("4563")),w=n(r("be19")),L=n(r("022a")),I=n(r("615d")),D=n(r("f228")),R=n(r("ebaa")),x=n(r("9ccb")),P=n(r("1484")),O=n(r("9083")),C=n(r("4d44")),M=n(r("fa9e")),F=n(r("3391")),N=n(r("1bbc")),B=n(r("4d68")),U=n(r("a2ea")),j=n(r("b566")),G=n(r("df19")),H=n(r("2d3d")),V=n(r("243f")),K=n(r("abf6")),$=n(r("9e22")),Y=n(r("aa43")),z=n(r("7584")),W=n(r("567a")),Q=n(r("5f99")),q=n(r("8075")),X=n(r("133a")),J=n(r("1673")),Z=n(r("236d")),ee=n(r("b08c")),te=n(r("5d17")),re=n(r("5e6e")),ne=n(r("35ca")),ie=n(r("6b0f")),ae=n(r("3de7")),oe=n(r("1b67")),se=n(r("999d")),le=n(r("d30e")),ue=n(r("281d")),ce=n(r("275b")),de=n(r("ce04")),fe=n(r("97c0")),he=n(r("73e5")),pe=n(r("f68f")),ve=n(r("3aa9")),ge=n(r("3a8f")),me=n(r("1803")),ye=n(r("b138")),be=n(r("4df7")),Ee=n(r("143c")),Te=n(r("a404")),ke=n(r("635a")),Se=n(r("1407")),Ae=n(r("4c77")),_e=n(r("75e4")),we=n(r("2540")),Le=n(r("6feb")),Ie=n(r("bdc1")),De=n(r("980b")),Re=n(r("1f49")),xe=n(r("cc19")),Pe=n(r("ddec")),Oe=n(r("35ff")),Ce=n(r("62c7")),Me=n(r("124a")),Fe=n(r("9f79")),Ne=n(r("c54b")),Be=n(r("a7e6")),Ue=n(r("1fc8"));function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}a.default.color;var He=Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge(Ge({},o.default),s.default),l.default),u.default),c.default),d.default),f.default),h.default),p.default),v.default),g.default),m.default),y.default),b.default),E.default),T.default),k.default),S.default),A.default),_.default),w.default),L.default),I.default),D.default),R.default),x.default),P.default),O.default),C.default),M.default),F.default),N.default),B.default),U.default),j.default),G.default),H.default),V.default),K.default),$.default),Y.default),z.default),W.default),Q.default),q.default),X.default),J.default),Z.default),ee.default),te.default),re.default),ne.default),ie.default),ae.default),oe.default),se.default),le.default),ue.default),ce.default),de.default),fe.default),he.default),pe.default),ve.default),ge.default),me.default),ye.default),be.default),Ee.default),Te.default),ke.default),Se.default),Ae.default),_e.default),we.default),Le.default),Ie.default),De.default),Re.default),xe.default),Pe.default),Oe.default),Ce.default),Me.default),Fe.default),Ne.default),Be.default),Ue.default);t.default=He},c8ba:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},c935:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{title:{type:String,default:e.$u.props.collapseItem.title},value:{type:String,default:e.$u.props.collapseItem.value},label:{type:String,default:e.$u.props.collapseItem.label},disabled:{type:Boolean,default:e.$u.props.collapseItem.disabled},isLink:{type:Boolean,default:e.$u.props.collapseItem.isLink},clickable:{type:Boolean,default:e.$u.props.collapseItem.clickable},border:{type:Boolean,default:e.$u.props.collapseItem.border},align:{type:String,default:e.$u.props.collapseItem.align},name:{type:[String,Number],default:e.$u.props.collapseItem.name},icon:{type:String,default:e.$u.props.collapseItem.icon},duration:{type:Number,default:e.$u.props.collapseItem.duration}}};t.default=r}).call(this,r("543d")["default"])},c973:function(e,t){function r(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void r(u)}s.done?t(l):Promise.resolve(l).then(n,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports["default"]=e.exports},c988:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={actionSheet:{show:!1,title:"",description:"",actions:function(){return[]},index:"",cancelText:"",closeOnClickAction:!0,safeAreaInsetBottom:!0,openType:"",closeOnClickOverlay:!0,round:0}}},ca90:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={avatarGroup:{urls:function(){return[]},maxCount:5,shape:"circle",mode:"scaleToFill",showMore:!0,size:40,keyName:"",gap:.5,extraValue:0}}},cc19:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tabs:{duration:300,list:function(){return[]},lineColor:"#3c9cff",activeStyle:function(){return{color:"#303133"}},inactiveStyle:function(){return{color:"#606266"}},lineWidth:20,lineHeight:3,lineBgSize:"cover",itemStyle:function(){return{height:"44px"}},scrollable:!0,current:0,keyName:"name"}}},ce04:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={readMore:{showHeight:400,toggle:!1,closeText:"展开阅读全文",openText:"收起",color:"#2979ff",fontSize:14,textIndent:"2em",name:""}}},cf72:function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"请输入搜索内容"}')},d0d3:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("2eee")),a=n(r("c973")),o=(n(r("c842")),function(e){return{enter:"u-".concat(e,"-enter u-").concat(e,"-enter-active"),"enter-to":"u-".concat(e,"-enter-to u-").concat(e,"-enter-active"),leave:"u-".concat(e,"-leave u-").concat(e,"-leave-active"),"leave-to":"u-".concat(e,"-leave-to u-").concat(e,"-leave-active")}}),s={methods:{clickHandler:function(){this.$emit("click")},vueEnter:function(){var e=this,t=o(this.mode);this.status="enter",this.$emit("beforeEnter"),this.inited=!0,this.display=!0,this.classes=t.enter,this.$nextTick((0,a.default)(i.default.mark((function r(){return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.$emit("enter"),e.transitionEnded=!1,e.$emit("afterEnter"),e.classes=t["enter-to"];case 4:case"end":return r.stop()}}),r)}))))},vueLeave:function(){var e=this;if(this.display){var t=o(this.mode);this.status="leave",this.$emit("beforeLeave"),this.classes=t.leave,this.$nextTick((function(){e.transitionEnded=!1,e.$emit("leave"),setTimeout(e.onTransitionEnd,e.duration),e.classes=t["leave-to"]}))}},onTransitionEnd:function(){this.transitionEnded||(this.transitionEnded=!0,this.$emit("leave"===this.status?"afterLeave":"afterEnter"),!this.show&&this.display&&(this.display=!1,this.inited=!1))}}};t.default=s},d196:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={col:{span:12,offset:0,justify:"start",align:"stretch",textAlign:"left"}}},d200:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=null;var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!==n&&clearTimeout(n),r){var i=!n;n=setTimeout((function(){n=null}),t),i&&"function"===typeof e&&e()}else n=setTimeout((function(){"function"===typeof e&&e()}),t)};t.default=i},d30e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={radio:{name:"",shape:"",disabled:"",labelDisabled:"",activeColor:"",inactiveColor:"",iconSize:"",labelSize:"",label:"",labelColor:"",size:"",iconColor:"",placement:""}}},d331:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={codeInput:{adjustPosition:!0,maxlength:6,dot:!1,mode:"box",hairline:!1,space:10,value:"",focus:!1,bold:!1,color:"#606266",fontSize:18,size:35,disabledKeyboard:!1,borderColor:"#c9cacc",disabledDot:!0}}},d484:function(e,t,r){"use strict";(function(e){var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(r("7037"));function a(e,t){var r=this;r.version="1.3.7",r.options=e||{},r.isScrollBody=t||!1,r.isDownScrolling=!1,r.isUpScrolling=!1;var n=r.options.down&&r.options.down.callback;r.initDownScroll(),r.initUpScroll(),setTimeout((function(){(r.optDown.use||r.optDown.native)&&r.optDown.auto&&n&&(r.optDown.autoShowLoading?r.triggerDownScroll():r.optDown.callback&&r.optDown.callback(r)),r.isUpAutoLoad||setTimeout((function(){r.optUp.use&&r.optUp.auto&&!r.isUpAutoLoad&&r.triggerUpScroll()}),100)}),30)}a.prototype.extendDownScroll=function(e){a.extend(e,{use:!0,auto:!0,native:!1,autoShowLoading:!1,isLock:!1,offset:80,startTop:100,inOffsetRate:1,outOffsetRate:.2,bottomOffset:20,minAngle:45,textInOffset:"下拉刷新",textOutOffset:"释放更新",textLoading:"加载中 ...",textSuccess:"加载成功",textErr:"加载失败",beforeEndDelay:0,bgColor:"transparent",textColor:"gray",inited:null,inOffset:null,outOffset:null,onMoving:null,beforeLoading:null,showLoading:null,afterLoading:null,beforeEndDownScroll:null,endDownScroll:null,afterEndDownScroll:null,callback:function(e){e.resetUpScroll()}})},a.prototype.extendUpScroll=function(e){a.extend(e,{use:!0,auto:!0,isLock:!1,isBoth:!0,callback:null,page:{num:0,size:10,time:null},noMoreSize:5,offset:150,textLoading:"加载中 ...",textNoMore:"-- END --",bgColor:"transparent",textColor:"gray",inited:null,showLoading:null,showNoMore:null,hideUpScroll:null,errDistance:60,toTop:{src:null,offset:1e3,duration:300,btnClick:null,onShow:null,zIndex:9990,left:null,right:20,bottom:120,safearea:!1,width:72,radius:"50%"},empty:{use:!0,icon:null,tip:"~ 暂无相关数据 ~",btnText:"",btnClick:null,onShow:null,fixed:!1,top:"100rpx",zIndex:99},onScroll:!1})},a.extend=function(e,t){if(!e)return t;for(var r in t)if(null==e[r]){var n=t[r];null!=n&&"object"===(0,i.default)(n)?e[r]=a.extend({},n):e[r]=n}else"object"===(0,i.default)(e[r])&&a.extend(e[r],t[r]);return e},a.prototype.hasColor=function(e){if(!e)return!1;var t=e.toLowerCase();return"#fff"!=t&&"#ffffff"!=t&&"transparent"!=t&&"white"!=t},a.prototype.initDownScroll=function(){var e=this;e.optDown=e.options.down||{},!e.optDown.textColor&&e.hasColor(e.optDown.bgColor)&&(e.optDown.textColor="#fff"),e.extendDownScroll(e.optDown),e.isScrollBody&&e.optDown.native?e.optDown.use=!1:e.optDown.native=!1,e.downHight=0,e.optDown.use&&e.optDown.inited&&setTimeout((function(){e.optDown.inited(e)}),0)},a.prototype.touchstartEvent=function(e){this.optDown.use&&(this.startPoint=this.getPoint(e),this.startTop=this.getScrollTop(),this.startAngle=0,this.lastPoint=this.startPoint,this.maxTouchmoveY=this.getBodyHeight()-this.optDown.bottomOffset,this.inTouchend=!1)},a.prototype.touchmoveEvent=function(e){if(this.optDown.use){var t=this,r=t.getScrollTop(),n=t.getPoint(e),i=n.y-t.startPoint.y;if(i>0&&(t.isScrollBody&&r<=0||!t.isScrollBody&&(r<=0||r<=t.optDown.startTop&&r===t.startTop))&&!t.inTouchend&&!t.isDownScrolling&&!t.optDown.isLock&&(!t.isUpScrolling||t.isUpScrolling&&t.optUp.isBoth)){if(t.startAngle||(t.startAngle=t.getAngle(t.lastPoint,n)),t.startAngle<t.optDown.minAngle)return;if(t.maxTouchmoveY>0&&n.y>=t.maxTouchmoveY)return t.inTouchend=!0,void t.touchendEvent();t.preventDefault(e);var a=n.y-t.lastPoint.y;t.downHight<t.optDown.offset?(1!==t.movetype&&(t.movetype=1,t.isDownEndSuccess=null,t.optDown.inOffset&&t.optDown.inOffset(t),t.isMoveDown=!0),t.downHight+=a*t.optDown.inOffsetRate):(2!==t.movetype&&(t.movetype=2,t.optDown.outOffset&&t.optDown.outOffset(t),t.isMoveDown=!0),t.downHight+=a>0?a*t.optDown.outOffsetRate:a),t.downHight=Math.round(t.downHight);var o=t.downHight/t.optDown.offset;t.optDown.onMoving&&t.optDown.onMoving(t,o,t.downHight)}t.lastPoint=n}},a.prototype.touchendEvent=function(e){if(this.optDown.use)if(this.isMoveDown)this.downHight>=this.optDown.offset?this.triggerDownScroll():(this.downHight=0,this.endDownScrollCall(this)),this.movetype=0,this.isMoveDown=!1;else if(!this.isScrollBody&&this.getScrollTop()===this.startTop){var t=this.getPoint(e).y-this.startPoint.y<0;if(t){var r=this.getAngle(this.getPoint(e),this.startPoint);r>80&&this.triggerUpScroll(!0)}}},a.prototype.getPoint=function(e){return e?e.touches&&e.touches[0]?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches[0]?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.clientX,y:e.clientY}:{x:0,y:0}},a.prototype.getAngle=function(e,t){var r=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y),i=Math.sqrt(r*r+n*n),a=0;return 0!==i&&(a=Math.asin(n/i)/Math.PI*180),a},a.prototype.triggerDownScroll=function(){this.optDown.beforeLoading&&this.optDown.beforeLoading(this)||(this.showDownScroll(),!this.optDown.native&&this.optDown.callback&&this.optDown.callback(this))},a.prototype.showDownScroll=function(){this.isDownScrolling=!0,this.optDown.native?(e.startPullDownRefresh(),this.showDownLoadingCall(0)):(this.downHight=this.optDown.offset,this.showDownLoadingCall(this.downHight))},a.prototype.showDownLoadingCall=function(e){this.optDown.showLoading&&this.optDown.showLoading(this,e),this.optDown.afterLoading&&this.optDown.afterLoading(this,e)},a.prototype.onPullDownRefresh=function(){this.isDownScrolling=!0,this.showDownLoadingCall(0),this.optDown.callback&&this.optDown.callback(this)},a.prototype.endDownScroll=function(){if(this.optDown.native)return this.isDownScrolling=!1,this.endDownScrollCall(this),void e.stopPullDownRefresh();var t=this,r=function(){t.downHight=0,t.isDownScrolling=!1,t.endDownScrollCall(t),t.isScrollBody||(t.setScrollHeight(0),t.scrollTo(0,0))},n=0;t.optDown.beforeEndDownScroll&&(n=t.optDown.beforeEndDownScroll(t),null==t.isDownEndSuccess&&(n=0)),"number"===typeof n&&n>0?setTimeout(r,n):r()},a.prototype.endDownScrollCall=function(){this.optDown.endDownScroll&&this.optDown.endDownScroll(this),this.optDown.afterEndDownScroll&&this.optDown.afterEndDownScroll(this)},a.prototype.lockDownScroll=function(e){null==e&&(e=!0),this.optDown.isLock=e},a.prototype.lockUpScroll=function(e){null==e&&(e=!0),this.optUp.isLock=e},a.prototype.initUpScroll=function(){var e=this;e.optUp=e.options.up||{use:!1},!e.optUp.textColor&&e.hasColor(e.optUp.bgColor)&&(e.optUp.textColor="#fff"),e.extendUpScroll(e.optUp),!1!==e.optUp.use&&(e.optUp.hasNext=!0,e.startNum=e.optUp.page.num+1,e.optUp.inited&&setTimeout((function(){e.optUp.inited(e)}),0))},a.prototype.onReachBottom=function(){this.isScrollBody&&!this.isUpScrolling&&!this.optUp.isLock&&this.optUp.hasNext&&this.triggerUpScroll()},a.prototype.onPageScroll=function(e){this.isScrollBody&&(this.setScrollTop(e.scrollTop),e.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn())},a.prototype.scroll=function(e,t){this.setScrollTop(e.scrollTop),this.setScrollHeight(e.scrollHeight),null==this.preScrollY&&(this.preScrollY=0),this.isScrollUp=e.scrollTop-this.preScrollY>0,this.preScrollY=e.scrollTop,this.isScrollUp&&this.triggerUpScroll(!0),e.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn(),this.optUp.onScroll&&t&&t()},a.prototype.triggerUpScroll=function(e){if(!this.isUpScrolling&&this.optUp.use&&this.optUp.callback){if(!0===e){var t=!1;if(!this.optUp.hasNext||this.optUp.isLock||this.isDownScrolling||this.getScrollBottom()<=this.optUp.offset&&(t=!0),!1===t)return}this.showUpScroll(),this.optUp.page.num++,this.isUpAutoLoad=!0,this.num=this.optUp.page.num,this.size=this.optUp.page.size,this.time=this.optUp.page.time,this.optUp.callback(this)}},a.prototype.showUpScroll=function(){this.isUpScrolling=!0,this.optUp.showLoading&&this.optUp.showLoading(this)},a.prototype.showNoMore=function(){this.optUp.hasNext=!1,this.optUp.showNoMore&&this.optUp.showNoMore(this)},a.prototype.hideUpScroll=function(){this.optUp.hideUpScroll&&this.optUp.hideUpScroll(this)},a.prototype.endUpScroll=function(e){null!=e&&(e?this.showNoMore():this.hideUpScroll()),this.isUpScrolling=!1},a.prototype.resetUpScroll=function(e){if(this.optUp&&this.optUp.use){var t=this.optUp.page;this.prePageNum=t.num,this.prePageTime=t.time,t.num=this.startNum,t.time=null,this.isDownScrolling||!1===e||(null==e?(this.removeEmpty(),this.showUpScroll()):this.showDownScroll()),this.isUpAutoLoad=!0,this.num=t.num,this.size=t.size,this.time=t.time,this.optUp.callback&&this.optUp.callback(this)}},a.prototype.setPageNum=function(e){this.optUp.page.num=e-1},a.prototype.setPageSize=function(e){this.optUp.page.size=e},a.prototype.endByPage=function(e,t,r){var n;this.optUp.use&&null!=t&&(n=this.optUp.page.num<t),this.endSuccess(e,n,r)},a.prototype.endBySize=function(e,t,r){var n;if(this.optUp.use&&null!=t){var i=(this.optUp.page.num-1)*this.optUp.page.size+e;n=i<t}this.endSuccess(e,n,r)},a.prototype.endSuccess=function(e,t,r){var n=this;if(n.isDownScrolling&&(n.isDownEndSuccess=!0,n.endDownScroll()),n.optUp.use){var i;if(null!=e){var a=n.optUp.page.num,o=n.optUp.page.size;if(1===a&&r&&(n.optUp.page.time=r),e<o||!1===t)if(n.optUp.hasNext=!1,0===e&&1===a)i=!1,n.showEmpty();else{var s=(a-1)*o+e;i=!(s<n.optUp.noMoreSize),n.removeEmpty()}else i=!1,n.optUp.hasNext=!0,n.removeEmpty()}n.endUpScroll(i)}},a.prototype.endErr=function(e){if(this.isDownScrolling){this.isDownEndSuccess=!1;var t=this.optUp.page;t&&this.prePageNum&&(t.num=this.prePageNum,t.time=this.prePageTime),this.endDownScroll()}this.isUpScrolling&&(this.optUp.page.num--,this.endUpScroll(!1),this.isScrollBody&&0!==e&&(e||(e=this.optUp.errDistance),this.scrollTo(this.getScrollTop()-e,0)))},a.prototype.showEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!0)},a.prototype.removeEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!1)},a.prototype.showTopBtn=function(){this.topBtnShow||(this.topBtnShow=!0,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!0))},a.prototype.hideTopBtn=function(){this.topBtnShow&&(this.topBtnShow=!1,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!1))},a.prototype.getScrollTop=function(){return this.scrollTop||0},a.prototype.setScrollTop=function(e){this.scrollTop=e},a.prototype.scrollTo=function(e,t){this.myScrollTo&&this.myScrollTo(e,t)},a.prototype.resetScrollTo=function(e){this.myScrollTo=e},a.prototype.getScrollBottom=function(){return this.getScrollHeight()-this.getClientHeight()-this.getScrollTop()},a.prototype.getStep=function(e,t,r,n,i){var a=t-e;if(0!==n&&0!==a){n=n||300,i=i||30;var o=n/i,s=a/o,l=0,u=setInterval((function(){l<o-1?(e+=s,r&&r(e,u),l++):(r&&r(t,u),clearInterval(u))}),i)}else r&&r(t)},a.prototype.getClientHeight=function(e){var t=this.clientHeight||0;return 0===t&&!0!==e&&(t=this.getBodyHeight()),t},a.prototype.setClientHeight=function(e){this.clientHeight=e},a.prototype.getScrollHeight=function(){return this.scrollHeight||0},a.prototype.setScrollHeight=function(e){this.scrollHeight=e},a.prototype.getBodyHeight=function(){return this.bodyHeight||0},a.prototype.setBodyHeight=function(e){this.bodyHeight=e},a.prototype.preventDefault=function(e){e&&e.cancelable&&!e.defaultPrevented&&e.preventDefault()}}).call(this,r("543d")["default"])},d4fb:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={code:{seconds:60,startText:"获取验证码",changeText:"X秒重新获取",endText:"重新获取",keepRunning:!1,uniqueKey:""}}},d5ec:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:{}}},dad1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={checkboxGroup:{name:"",value:function(){return[]},shape:"square",disabled:!1,activeColor:"#2979ff",inactiveColor:"#c8c9cc",size:18,placement:"row",labelSize:14,labelColor:"#303133",labelDisabled:!1,iconColor:"#ffffff",iconSize:12,iconPlacement:"left",borderBottom:!1}}},ddec:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tag:{type:"primary",disabled:!1,size:"medium",shape:"square",text:"",bgColor:"",color:"",borderColor:"",closeColor:"#C6C7CB",name:"",plainFill:!1,plain:!1,closable:!1,show:!0,icon:""}}},df19:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={input:{value:"",type:"text",fixed:!1,disabled:!1,disabledColor:"#f5f7fa",clearable:!1,password:!1,maxlength:-1,placeholder:null,placeholderClass:"input-placeholder",placeholderStyle:"color: #c0c4cc",showWordLimit:!1,confirmType:"done",confirmHold:!1,holdKeyboard:!1,focus:!1,autoBlur:!1,disableDefaultPadding:!1,cursor:-1,cursorSpacing:30,selectionStart:-1,selectionEnd:-1,adjustPosition:!0,inputAlign:"left",fontSize:"15px",color:"#303133",prefixIcon:"",prefixIconStyle:"",suffixIcon:"",suffixIconStyle:"",border:"surround",readonly:!1,shape:"square",formatter:null}}},dfa4:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={computed:{value:function(){var t=this.text,r=this.mode,n=this.format,i=this.href;return"price"===r?(/^\d+(\.\d+)?$/.test(t)||e.$u.error("金额模式下，text参数需要为金额格式"),e.$u.test.func(n)?n(t):e.$u.priceFormat(t,2)):"date"===r?(!e.$u.test.date(t)&&e.$u.error("日期模式下，text参数需要为日期或时间戳格式"),e.$u.test.func(n)?n(t):n?e.$u.timeFormat(t,n):e.$u.timeFormat(t,"yyyy-mm-dd")):"phone"===r?e.$u.test.func(n)?n(t):"encrypt"===n?"".concat(t.substr(0,3),"****").concat(t.substr(7)):t:"name"===r?("string"!==typeof t&&e.$u.error("姓名模式下，text参数需要为字符串格式"),e.$u.test.func(n)?n(t):"encrypt"===n?this.formatName(t):t):"link"===r?(!e.$u.test.url(i)&&e.$u.error("超链接模式下，href参数需要为URL格式"),t):t}},methods:{formatName:function(e){var t="";if(2===e.length)t=e.substr(0,1)+"*";else if(e.length>2){for(var r="",n=0,i=e.length-2;n<i;n++)r+="*";t=e.substr(0,1)+r+e.substr(-1,1)}else t=e;return t}}};t.default=r}).call(this,r("543d")["default"])},e19c:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"uicon-level":"","uicon-column-line":"","uicon-checkbox-mark":"","uicon-folder":"","uicon-movie":"","uicon-star-fill":"","uicon-star":"","uicon-phone-fill":"","uicon-phone":"","uicon-apple-fill":"","uicon-chrome-circle-fill":"","uicon-backspace":"","uicon-attach":"","uicon-cut":"","uicon-empty-car":"","uicon-empty-coupon":"","uicon-empty-address":"","uicon-empty-favor":"","uicon-empty-permission":"","uicon-empty-news":"","uicon-empty-search":"","uicon-github-circle-fill":"","uicon-rmb":"","uicon-person-delete-fill":"","uicon-reload":"","uicon-order":"","uicon-server-man":"","uicon-search":"","uicon-fingerprint":"","uicon-more-dot-fill":"","uicon-scan":"","uicon-share-square":"","uicon-map":"","uicon-map-fill":"","uicon-tags":"","uicon-tags-fill":"","uicon-bookmark-fill":"","uicon-bookmark":"","uicon-eye":"","uicon-eye-fill":"","uicon-mic":"","uicon-mic-off":"","uicon-calendar":"","uicon-calendar-fill":"","uicon-trash":"","uicon-trash-fill":"","uicon-play-left":"","uicon-play-right":"","uicon-minus":"","uicon-plus":"","uicon-info":"","uicon-info-circle":"","uicon-info-circle-fill":"","uicon-question":"","uicon-error":"","uicon-close":"","uicon-checkmark":"","uicon-android-circle-fill":"","uicon-android-fill":"","uicon-ie":"","uicon-IE-circle-fill":"","uicon-google":"","uicon-google-circle-fill":"","uicon-setting-fill":"","uicon-setting":"","uicon-minus-square-fill":"","uicon-plus-square-fill":"","uicon-heart":"","uicon-heart-fill":"","uicon-camera":"","uicon-camera-fill":"","uicon-more-circle":"","uicon-more-circle-fill":"","uicon-chat":"","uicon-chat-fill":"","uicon-bag-fill":"","uicon-bag":"","uicon-error-circle-fill":"","uicon-error-circle":"","uicon-close-circle":"","uicon-close-circle-fill":"","uicon-checkmark-circle":"","uicon-checkmark-circle-fill":"","uicon-question-circle-fill":"","uicon-question-circle":"","uicon-share":"","uicon-share-fill":"","uicon-shopping-cart":"","uicon-shopping-cart-fill":"","uicon-bell":"","uicon-bell-fill":"","uicon-list":"","uicon-list-dot":"","uicon-zhihu":"","uicon-zhihu-circle-fill":"","uicon-zhifubao":"","uicon-zhifubao-circle-fill":"","uicon-weixin-circle-fill":"","uicon-weixin-fill":"","uicon-twitter-circle-fill":"","uicon-twitter":"","uicon-taobao-circle-fill":"","uicon-taobao":"","uicon-weibo-circle-fill":"","uicon-weibo":"","uicon-qq-fill":"","uicon-qq-circle-fill":"","uicon-moments-circel-fill":"","uicon-moments":"","uicon-qzone":"","uicon-qzone-circle-fill":"","uicon-baidu-circle-fill":"","uicon-baidu":"","uicon-facebook-circle-fill":"","uicon-facebook":"","uicon-car":"","uicon-car-fill":"","uicon-warning-fill":"","uicon-warning":"","uicon-clock-fill":"","uicon-clock":"","uicon-edit-pen":"","uicon-edit-pen-fill":"","uicon-email":"","uicon-email-fill":"","uicon-minus-circle":"","uicon-minus-circle-fill":"","uicon-plus-circle":"","uicon-plus-circle-fill":"","uicon-file-text":"","uicon-file-text-fill":"","uicon-pushpin":"","uicon-pushpin-fill":"","uicon-grid":"","uicon-grid-fill":"","uicon-play-circle":"","uicon-play-circle-fill":"","uicon-pause-circle-fill":"","uicon-pause":"","uicon-pause-circle":"","uicon-eye-off":"","uicon-eye-off-outline":"","uicon-gift-fill":"","uicon-gift":"","uicon-rmb-circle-fill":"","uicon-rmb-circle":"","uicon-kefu-ermai":"","uicon-server-fill":"","uicon-coupon-fill":"","uicon-coupon":"","uicon-integral":"","uicon-integral-fill":"","uicon-home-fill":"","uicon-home":"","uicon-hourglass-half-fill":"","uicon-hourglass":"","uicon-account":"","uicon-plus-people-fill":"","uicon-minus-people-fill":"","uicon-account-fill":"","uicon-thumb-down-fill":"","uicon-thumb-down":"","uicon-thumb-up":"","uicon-thumb-up-fill":"","uicon-lock-fill":"","uicon-lock-open":"","uicon-lock-opened-fill":"","uicon-lock":"","uicon-red-packet-fill":"","uicon-photo-fill":"","uicon-photo":"","uicon-volume-off-fill":"","uicon-volume-off":"","uicon-volume-fill":"","uicon-volume":"","uicon-red-packet":"","uicon-download":"","uicon-arrow-up-fill":"","uicon-arrow-down-fill":"","uicon-play-left-fill":"","uicon-play-right-fill":"","uicon-rewind-left-fill":"","uicon-rewind-right-fill":"","uicon-arrow-downward":"","uicon-arrow-leftward":"","uicon-arrow-rightward":"","uicon-arrow-upward":"","uicon-arrow-down":"","uicon-arrow-right":"","uicon-arrow-left":"","uicon-arrow-up":"","uicon-skip-back-left":"","uicon-skip-forward-right":"","uicon-rewind-right":"","uicon-rewind-left":"","uicon-arrow-right-double":"","uicon-arrow-left-double":"","uicon-wifi-off":"","uicon-wifi":"","uicon-empty-data":"","uicon-empty-history":"","uicon-empty-list":"","uicon-empty-page":"","uicon-empty-order":"","uicon-man":"","uicon-woman":"","uicon-man-add":"","uicon-man-add-fill":"","uicon-man-delete":"","uicon-man-delete-fill":"","uicon-zh":"","uicon-en":""}},e363:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={carKeyboard:{random:!1}}},e3db:function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},e50d:function(e,t,r){var n=r("7037")["default"];e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},e5dc:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={down:{offset:80,native:!1},up:{offset:150,toTop:{src:"https://www.mescroll.com/img/mescroll-totop.png",offset:1e3,right:20,bottom:120,width:72},empty:{use:!0,icon:"https://www.mescroll.com/img/mescroll-empty.png"}},i18n:{zh:{down:{textInOffset:"下拉刷新",textOutOffset:"释放更新",textLoading:"加载中 ...",textSuccess:"加载成功",textErr:"加载失败"},up:{textLoading:"加载中 ...",textNoMore:"-- END --",empty:{tip:"~ 空空如也 ~"}}},en:{down:{textInOffset:"drop down refresh",textOutOffset:"release updates",textLoading:"loading ...",textSuccess:"loaded successfully",textErr:"loading failed"},up:{textLoading:"loading ...",textNoMore:"-- END --",empty:{tip:"~ absolutely empty ~"}}}}};t.default=n},e676:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{title:{type:[String,Number],default:e.$u.props.cell.title},label:{type:[String,Number],default:e.$u.props.cell.label},value:{type:[String,Number],default:e.$u.props.cell.value},icon:{type:String,default:e.$u.props.cell.icon},disabled:{type:Boolean,default:e.$u.props.cell.disabled},border:{type:Boolean,default:e.$u.props.cell.border},center:{type:Boolean,default:e.$u.props.cell.center},url:{type:String,default:e.$u.props.cell.url},linkType:{type:String,default:e.$u.props.cell.linkType},clickable:{type:Boolean,default:e.$u.props.cell.clickable},isLink:{type:Boolean,default:e.$u.props.cell.isLink},required:{type:Boolean,default:e.$u.props.cell.required},rightIcon:{type:String,default:e.$u.props.cell.rightIcon},arrowDirection:{type:String,default:e.$u.props.cell.arrowDirection},iconStyle:{type:[Object,String],default:function(){return e.$u.props.cell.iconStyle}},rightIconStyle:{type:[Object,String],default:function(){return e.$u.props.cell.rightIconStyle}},titleStyle:{type:[Object,String],default:function(){return e.$u.props.cell.titleStyle}},size:{type:String,default:e.$u.props.cell.size},stop:{type:Boolean,default:e.$u.props.cell.stop},name:{type:[Number,String],default:e.$u.props.cell.name}}};t.default=r}).call(this,r("543d")["default"])},e6d5:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("11358")),a=i.default;t.default=a},e7b6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={button:{hairline:!1,type:"info",size:"normal",shape:"square",plain:!1,disabled:!1,loading:!1,loadingText:"",loadingMode:"spinner",loadingSize:15,openType:"",formType:"",appParameter:"",hoverStopPropagation:!0,lang:"en",sessionFrom:"",sendMessageTitle:"",sendMessagePath:"",sendMessageImg:"",showMessageCard:!1,dataName:"",throttleTime:0,hoverStartTime:0,hoverStayTime:200,text:"",icon:"",iconColor:"",color:""}}},e99f:function(e,t,r){"use strict";(function(e){var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("9523")),a=n(r("7522")),o=n(r("10b6")),s=n(r("e6d5")),l=n(r("982c")),u=n(r("8a05")),c=n(r("0e3a")),d=n(r("d200")),f=n(r("4315")),h=n(r("6da0")),p=n(r("11f2")),v=n(r("c892")),g=n(r("8577")),m=n(r("73f6")),y=n(r("1772"));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=E(E({route:l.default,date:h.default.timeFormat,colorGradient:u.default.colorGradient,hexToRgb:u.default.hexToRgb,rgbToHex:u.default.rgbToHex,colorToRgba:u.default.colorToRgba,test:c.default,type:["primary","success","error","warning","info"],http:new s.default,config:p.default,zIndex:g.default,debounce:d.default,throttle:f.default,mixin:a.default,mpMixin:o.default,props:v.default},h.default),{},{color:m.default,platform:y.default});e.$u=T;var k={install:function(t){t.filter("timeFormat",(function(t,r){return e.$u.timeFormat(t,r)})),t.filter("date",(function(t,r){return e.$u.timeFormat(t,r)})),t.filter("timeFrom",(function(t,r){return e.$u.timeFrom(t,r)})),t.prototype.$u=T,t.mixin(a.default)}};t.default=k}).call(this,r("543d")["default"])},ea86:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.divide=p,t.enableBoundaryChecking=g,t.minus=h,t.plus=f,t.round=v,t.times=d;var i=n(r("480f")),a=!0;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return+parseFloat(Number(e).toPrecision(t))}function s(e){var t=e.toString().split(/[eE]/),r=(t[0].split(".")[1]||"").length-+(t[1]||0);return r>0?r:0}function l(e){if(-1===e.toString().indexOf("e"))return Number(e.toString().replace(".",""));var t=s(e);return t>0?o(Number(e)*Math.pow(10,t)):Number(e)}function u(e){a&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn("".concat(e," 超出了精度限制，结果可能不正确"))}function c(e,t){var r=(0,i.default)(e),n=r[0],a=r[1],o=r.slice(2),s=t(n,a);return o.forEach((function(e){s=t(s,e)})),s}function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>2)return c(t,d);var n=t[0],i=t[1],a=l(n),o=l(i),f=s(n)+s(i),h=a*o;return u(h),h/Math.pow(10,f)}function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>2)return c(t,f);var n=t[0],i=t[1],a=Math.pow(10,Math.max(s(n),s(i)));return(d(n,a)+d(i,a))/a}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>2)return c(t,h);var n=t[0],i=t[1],a=Math.pow(10,Math.max(s(n),s(i)));return(d(n,a)-d(i,a))/a}function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>2)return c(t,p);var n=t[0],i=t[1],a=l(n),f=l(i);return u(a),u(f),d(a/f,o(Math.pow(10,s(i)-s(n))))}function v(e,t){var r=Math.pow(10,t),n=p(Math.round(Math.abs(d(e,r))),r);return e<0&&0!==n&&(n=d(n,-1)),n}function g(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a=e}var m={times:d,plus:f,minus:h,divide:p,round:v,enableBoundaryChecking:g};t.default=m},ebaa:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={divider:{dashed:!1,hairline:!0,dot:!1,textPosition:"center",text:"",textSize:14,textColor:"#909399",lineColor:"#dcdfe6"}}},ed6d:function(e,t,r){var n=r("4a4b");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},f0c5:function(e,t,r){"use strict";function n(e,t,r,n,i,a,o,s,l,u){var c,d="function"===typeof e?e.options:e;if(l){d.components||(d.components={});var f=Object.prototype.hasOwnProperty;for(var h in l)f.call(l,h)&&!f.call(d.components,h)&&(d.components[h]=l[h])}if(u&&("function"===typeof u.beforeCreate&&(u.beforeCreate=[u.beforeCreate]),(u.beforeCreate||(u.beforeCreate=[])).unshift((function(){this[u.__module]=this})),(d.mixins||(d.mixins=[])).push(u)),t&&(d.render=t,d.staticRenderFns=r,d._compiled=!0),n&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),o?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(d.functional){d._injectStyles=c;var p=d.render;d.render=function(e,t){return c.call(t),p(e,t)}}else{var v=d.beforeCreate;d.beforeCreate=v?[].concat(v,c):[c]}return{exports:e,options:d}}r.d(t,"a",(function(){return n}))},f102:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{type:{type:String,default:e.$u.props.tag.type},disabled:{type:[Boolean,String],default:e.$u.props.tag.disabled},size:{type:String,default:e.$u.props.tag.size},shape:{type:String,default:e.$u.props.tag.shape},text:{type:[String,Number],default:e.$u.props.tag.text},bgColor:{type:String,default:e.$u.props.tag.bgColor},color:{type:String,default:e.$u.props.tag.color},borderColor:{type:String,default:e.$u.props.tag.borderColor},closeColor:{type:String,default:e.$u.props.tag.closeColor},name:{type:[String,Number],default:e.$u.props.tag.name},plainFill:{type:Boolean,default:e.$u.props.tag.plainFill},plain:{type:Boolean,default:e.$u.props.tag.plain},closable:{type:Boolean,default:e.$u.props.tag.closable},show:{type:Boolean,default:e.$u.props.tag.show},icon:{type:String,default:e.$u.props.tag.icon}}};t.default=r}).call(this,r("543d")["default"])},f228:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={datetimePicker:{show:!1,showToolbar:!0,value:"",title:"",mode:"datetime",maxDate:new Date((new Date).getFullYear()+10,0,1).getTime(),minDate:new Date((new Date).getFullYear()-10,0,1).getTime(),minHour:0,maxHour:23,minMinute:0,maxMinute:59,filter:null,formatter:null,loading:!1,itemHeight:44,cancelText:"取消",confirmText:"确认",cancelColor:"#909193",confirmColor:"#3c9cff",visibleItemCount:5,closeOnClickOverlay:!1,defaultIndex:function(){return[]}}};t.default=n},f457:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{safeAreaInsetTop:{type:Boolean,default:e.$u.props.navbar.safeAreaInsetTop},placeholder:{type:Boolean,default:e.$u.props.navbar.placeholder},fixed:{type:Boolean,default:e.$u.props.navbar.fixed},border:{type:Boolean,default:e.$u.props.navbar.border},leftIcon:{type:String,default:e.$u.props.navbar.leftIcon},leftText:{type:String,default:e.$u.props.navbar.leftText},rightText:{type:String,default:e.$u.props.navbar.rightText},rightIcon:{type:String,default:e.$u.props.navbar.rightIcon},title:{type:[String,Number],default:e.$u.props.navbar.title},bgColor:{type:String,default:e.$u.props.navbar.bgColor},titleWidth:{type:[String,Number],default:e.$u.props.navbar.titleWidth},height:{type:[String,Number],default:e.$u.props.navbar.height},leftIconSize:{type:[String,Number],default:e.$u.props.navbar.leftIconSize},leftIconColor:{type:String,default:e.$u.props.navbar.leftIconColor},autoBack:{type:Boolean,default:e.$u.props.navbar.autoBack},titleStyle:{type:[String,Object],default:e.$u.props.navbar.titleStyle}}};t.default=r}).call(this,r("543d")["default"])},f667:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{duration:{type:Number,default:e.$u.props.tabs.duration},list:{type:Array,default:e.$u.props.tabs.list},lineColor:{type:String,default:e.$u.props.tabs.lineColor},activeStyle:{type:[String,Object],default:e.$u.props.tabs.activeStyle},inactiveStyle:{type:[String,Object],default:e.$u.props.tabs.inactiveStyle},lineWidth:{type:[String,Number],default:e.$u.props.tabs.lineWidth},lineHeight:{type:[String,Number],default:e.$u.props.tabs.lineHeight},lineBgSize:{type:String,default:e.$u.props.tabs.lineBgSize},itemStyle:{type:[String,Object],default:e.$u.props.tabs.itemStyle},scrollable:{type:Boolean,default:e.$u.props.tabs.scrollable},current:{type:[Number,String],default:e.$u.props.tabs.current},keyName:{type:String,default:e.$u.props.tabs.keyName}}};t.default=r}).call(this,r("543d")["default"])},f68f:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={scrollList:{indicatorWidth:50,indicatorBarWidth:20,indicator:!0,indicatorColor:"#f2f2f2",indicatorActiveColor:"#3c9cff",indicatorStyle:""}}},f6a6:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{src:{type:String,default:e.$u.props.image.src},mode:{type:String,default:e.$u.props.image.mode},width:{type:[String,Number],default:e.$u.props.image.width},height:{type:[String,Number],default:e.$u.props.image.height},shape:{type:String,default:e.$u.props.image.shape},radius:{type:[String,Number],default:e.$u.props.image.radius},lazyLoad:{type:Boolean,default:e.$u.props.image.lazyLoad},showMenuByLongpress:{type:Boolean,default:e.$u.props.image.showMenuByLongpress},loadingIcon:{type:String,default:e.$u.props.image.loadingIcon},errorIcon:{type:String,default:e.$u.props.image.errorIcon},showLoading:{type:Boolean,default:e.$u.props.image.showLoading},showError:{type:Boolean,default:e.$u.props.image.showError},fade:{type:Boolean,default:e.$u.props.image.fade},webp:{type:Boolean,default:e.$u.props.image.webp},duration:{type:[String,Number],default:e.$u.props.image.duration},bgColor:{type:String,default:e.$u.props.image.bgColor}}};t.default=r}).call(this,r("543d")["default"])},fa9e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={grid:{col:3,border:!1,align:"left"}}},fc3f:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{color:{type:String,default:e.$u.props.link.color},fontSize:{type:[String,Number],default:e.$u.props.link.fontSize},underLine:{type:Boolean,default:e.$u.props.link.underLine},href:{type:String,default:e.$u.props.link.href},mpTips:{type:String,default:e.$u.props.link.mpTips},lineColor:{type:String,default:e.$u.props.link.lineColor},text:{type:String,default:e.$u.props.link.text}}};t.default=r}).call(this,r("543d")["default"])},fc6a:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{anchor:{type:[String,Number],default:e.$u.props.listItem.anchor}}};t.default=r}).call(this,r("543d")["default"])}}]);